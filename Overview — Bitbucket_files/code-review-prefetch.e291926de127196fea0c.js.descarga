(window.webpackJsonp=window.webpackJsonp||[]).push([[63,18],{"++4t":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return o});var r=n("q1tI");function o(e){var t=e.label,n=void 0===t?"":t;return r.createElement("div",{"aria-label":n,dangerouslySetInnerHTML:{__html:'<svg width="40" height="40" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient x1="-26.046%" y1="100%" x2="62.626%" y2="0%" id="fallback-a"><stop stop-color="#B3BAC5" offset="0%"/><stop stop-color="#A5ADBA" offset="100%"/></linearGradient></defs><g fill="none" fill-rule="evenodd"><path fill="#FFF" d="M0 0h40v40H0z"/><path fill="#DFE1E6" d="M20 16h12v12H20z"/><path fill="url(#fallback-a)" d="M8 16h12v12H8z"/><path d="M20 16c-4 .5-6.029 2.5-6.086 6-.057 3.5-2.028 5.5-5.914 6h12V16z" fill="#A5ADBA"/><path fill="#B3BAC5" d="M17.5 13h5v3h-5z"/><path fill="#A5ADBA" d="M10 13h5v3h-5z"/><path fill="#DFE1E6" d="M25 13h5v3h-5z"/></g></svg>'}})}},"++pP":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("uSMm"),o=n("byeC"),i=n("b/sn");function a(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function s(e,t,n){var o=e.selection.$cursor;if(!o||(n?!n.endOfTextblock("backward",e):o.parentOffset>0))return!1;var a=u(o);if(!a){var s=o.blockRange(),l=s&&r.liftTarget(s);return null!=l&&(t&&t(e.tr.lift(s,l).scrollIntoView()),!0)}var d=a.nodeBefore;if(!d.type.spec.isolating&&w(e,a,t))return!0;if(0==o.parent.content.size&&(c(d,"end")||i.NodeSelection.isSelectable(d))){if(t){var p=e.tr.deleteRange(o.before(),o.after());p.setSelection(c(d,"end")?i.Selection.findFrom(p.doc.resolve(p.mapping.map(a.pos,-1)),-1):i.NodeSelection.create(p.doc,a.pos-d.nodeSize)),t(p.scrollIntoView())}return!0}return!(!d.isAtom||a.depth!=o.depth-1)&&(t&&t(e.tr.delete(a.pos-d.nodeSize,a.pos).scrollIntoView()),!0)}function c(e,t){for(;e;e="start"==t?e.firstChild:e.lastChild)if(e.isTextblock)return!0;return!1}function l(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("backward",e):r.parentOffset>0))return!1;var o=u(r),a=o&&o.nodeBefore;return!(!a||!i.NodeSelection.isSelectable(a))&&(t&&t(e.tr.setSelection(i.NodeSelection.create(e.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)}function u(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function d(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size))return!1;var o=f(r);if(!o)return!1;var a=o.nodeAfter;if(w(e,o,t))return!0;if(0==r.parent.content.size&&(c(a,"start")||i.NodeSelection.isSelectable(a))){if(t){var s=e.tr.deleteRange(r.before(),r.after());s.setSelection(c(a,"start")?i.Selection.findFrom(s.doc.resolve(s.mapping.map(o.pos)),1):i.NodeSelection.create(s.doc,s.mapping.map(o.pos))),t(s.scrollIntoView())}return!0}return!(!a.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos,o.pos+a.nodeSize).scrollIntoView()),!0)}function p(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size))return!1;var o=f(r),a=o&&o.nodeAfter;return!(!a||!i.NodeSelection.isSelectable(a))&&(t&&t(e.tr.setSelection(i.NodeSelection.create(e.doc,o.pos)).scrollIntoView()),!0)}function f(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function h(e,t){var n=e.selection,r=n.$head,o=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(o))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)}function m(e,t){var n=e.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var a=r.node(-1),s=r.indexAfter(-1),c=a.contentMatchAt(s).defaultType;if(!a.canReplaceWith(s,s,c))return!1;if(t){var l=r.after(),u=e.tr.replaceWith(l,l,c.createAndFill());u.setSelection(i.Selection.near(u.doc.resolve(l),1)),t(u.scrollIntoView())}return!0}function g(e,t){var n=e.selection,r=n.$from,o=n.$to;if(r.parent.inlineContent||o.parent.inlineContent)return!1;var a=r.parent.contentMatchAt(o.indexAfter()).defaultType;if(!a||!a.isTextblock)return!1;if(t){var s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,c=e.tr.insert(s,a.createAndFill());c.setSelection(i.TextSelection.create(c.doc,s+1)),t(c.scrollIntoView())}return!0}function v(e,t){var n=e.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var o=n.before();if(r.canSplit(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}var i=n.blockRange(),a=i&&r.liftTarget(i);return null!=a&&(t&&t(e.tr.lift(i,a).scrollIntoView()),!0)}function b(e,t){var n=e.selection,a=n.$from,s=n.$to;if(e.selection instanceof i.NodeSelection&&e.selection.node.isBlock)return!(!a.parentOffset||!r.canSplit(e.doc,a.pos))&&(t&&t(e.tr.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(t){var c=s.parentOffset==s.parent.content.size,l=e.tr;e.selection instanceof i.TextSelection&&l.deleteSelection();var u=0==a.depth?null:a.node(-1).contentMatchAt(a.indexAfter(-1)).defaultType,d=c&&u?[{type:u}]:null,p=r.canSplit(l.doc,l.mapping.map(a.pos),1,d);d||p||!r.canSplit(l.doc,l.mapping.map(a.pos),1,u&&[{type:u}])||(d=[{type:u}],p=!0),p&&(l.split(l.mapping.map(a.pos),1,d),c||a.parentOffset||a.parent.type==u||!a.node(-1).canReplace(a.index(-1),a.indexAfter(-1),o.Fragment.from(u.create(),a.parent))||l.setNodeMarkup(l.mapping.map(a.before()),u)),t(l.scrollIntoView())}return!0}function y(e,t){return t&&t(e.tr.setSelection(new i.AllSelection(e.doc))),!0}function w(e,t,n){var a,s,c=t.nodeBefore,l=t.nodeAfter;if(c.type.spec.isolating||l.type.spec.isolating)return!1;if(function(e,t,n){var o=t.nodeBefore,i=t.nodeAfter,a=t.index();return!(!(o&&i&&o.type.compatibleContent(i.type))||(!o.content.size&&t.parent.canReplace(a-1,a)?(n&&n(e.tr.delete(t.pos-o.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(a,a+1)||!i.isTextblock&&!r.canJoin(e.doc,t.pos)||(n&&n(e.tr.clearIncompatible(t.pos,o.type,o.contentMatchAt(o.childCount)).join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;if(t.parent.canReplace(t.index(),t.index()+1)&&(a=(s=c.contentMatchAt(c.childCount)).findWrapping(l.type))&&s.matchType(a[0]||l.type).validEnd){if(n){for(var u=t.pos+l.nodeSize,d=o.Fragment.empty,p=a.length-1;p>=0;p--)d=o.Fragment.from(a[p].create(null,d));d=o.Fragment.from(c.copy(d));var f=e.tr.step(new r.ReplaceAroundStep(t.pos-1,u,t.pos,u,new o.Slice(d,1,0),a.length,!0)),h=u+2*a.length;r.canJoin(f.doc,h)&&f.join(h),n(f.scrollIntoView())}return!0}var m=i.Selection.findFrom(t,1),g=m&&m.$from.blockRange(m.$to),v=g&&r.liftTarget(g);return null!=v&&v>=t.depth&&(n&&n(e.tr.lift(g,v).scrollIntoView()),!0)}function O(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t,n,r){for(var o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}var E=O(a,s,l),x=O(a,d,p),k={Enter:O(h,g,v,b),"Mod-Enter":m,Backspace:E,"Mod-Backspace":E,Delete:x,"Mod-Delete":x,"Mod-a":y},C={"Ctrl-h":k.Backspace,"Alt-Backspace":k["Mod-Backspace"],"Ctrl-d":k.Delete,"Ctrl-Alt-Backspace":k["Mod-Delete"],"Alt-Delete":k["Mod-Delete"],"Alt-d":k["Mod-Delete"]};for(var S in k)C[S]=k[S];var j=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?C:k;t.deleteSelection=a,t.joinBackward=s,t.selectNodeBackward=l,t.joinForward=d,t.selectNodeForward=p,t.joinUp=function(e,t){var n,o=e.selection,a=o instanceof i.NodeSelection;if(a){if(o.node.isTextblock||!r.canJoin(e.doc,o.from))return!1;n=o.from}else if(null==(n=r.joinPoint(e.doc,o.from,-1)))return!1;if(t){var s=e.tr.join(n);a&&s.setSelection(i.NodeSelection.create(s.doc,n-e.doc.resolve(n).nodeBefore.nodeSize)),t(s.scrollIntoView())}return!0},t.joinDown=function(e,t){var n,o=e.selection;if(o instanceof i.NodeSelection){if(o.node.isTextblock||!r.canJoin(e.doc,o.to))return!1;n=o.to}else if(null==(n=r.joinPoint(e.doc,o.to,1)))return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0},t.lift=function(e,t){var n=e.selection,o=n.$from,i=n.$to,a=o.blockRange(i),s=a&&r.liftTarget(a);return null!=s&&(t&&t(e.tr.lift(a,s).scrollIntoView()),!0)},t.newlineInCode=h,t.exitCode=m,t.createParagraphNear=g,t.liftEmptyBlock=v,t.splitBlock=b,t.splitBlockKeepMarks=function(e,t){return b(e,t&&function(n){var r=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();r&&n.ensureMarks(r),t(n)})},t.selectParentNode=function(e,t){var n,r=e.selection,o=r.$from,a=r.to,s=o.sharedDepth(a);return 0!=s&&(n=o.before(s),t&&t(e.tr.setSelection(i.NodeSelection.create(e.doc,n))),!0)},t.selectAll=y,t.wrapIn=function(e,t){return function(n,o){var i=n.selection,a=i.$from,s=i.$to,c=a.blockRange(s),l=c&&r.findWrapping(c,e,t);return!!l&&(o&&o(n.tr.wrap(c,l).scrollIntoView()),!0)}},t.setBlockType=function(e,t){return function(n,r){var o=n.selection,i=o.from,a=o.to,s=!1;return n.doc.nodesBetween(i,a,function(r,o){if(s)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)s=!0;else{var i=n.doc.resolve(o),a=i.index();s=i.parent.canReplaceWith(a,a+1,e)}}),!!s&&(r&&r(n.tr.setBlockType(i,a,e,t).scrollIntoView()),!0)}},t.toggleMark=function(e,t){return function(n,r){var o=n.selection,i=o.empty,a=o.$cursor,s=o.ranges;if(i&&!a||!function(e,t,n){for(var r=function(r){var o=t[r],i=o.$from,a=o.$to,s=0==i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,a.pos,function(e){if(s)return!1;s=e.inlineContent&&e.type.allowsMarkType(n)}),s)return{v:!0}},o=0;o<t.length;o++){var i=r(o);if(i)return i.v}return!1}(n.doc,s,e))return!1;if(r)if(a)e.isInSet(n.storedMarks||a.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{for(var c=!1,l=n.tr,u=0;!c&&u<s.length;u++){var d=s[u],p=d.$from,f=d.$to;c=n.doc.rangeHasMark(p.pos,f.pos,e)}for(var h=0;h<s.length;h++){var m=s[h],g=m.$from,v=m.$to;c?l.removeMark(g.pos,v.pos,e):l.addMark(g.pos,v.pos,e.create(t))}r(l.scrollIntoView())}return!0}},t.autoJoin=function(e,t){if(Array.isArray(t)){var n=t;t=function(e){return n.indexOf(e.type.name)>-1}}return function(n,o){return e(n,o&&function(e,t){return function(n){if(!n.isGeneric)return e(n);for(var o=[],i=0;i<n.mapping.maps.length;i++){for(var a=n.mapping.maps[i],s=0;s<o.length;s++)o[s]=a.map(o[s]);a.forEach(function(e,t,n,r){return o.push(n,r)})}for(var c=[],l=0;l<o.length;l+=2)for(var u=o[l],d=o[l+1],p=n.doc.resolve(u),f=p.sharedDepth(d),h=p.node(f),m=p.indexAfter(f),g=p.after(f+1);g<=d;++m){var v=h.maybeChild(m);if(!v)break;if(m&&-1==c.indexOf(g)){var b=h.child(m-1);b.type==v.type&&t(b,v)&&c.push(g)}g+=v.nodeSize}c.sort(function(e,t){return e-t});for(var y=c.length-1;y>=0;y--)r.canJoin(n.doc,c[y])&&n.join(c[y]);e(n)}}(o,t))}},t.chainCommands=O,t.pcBaseKeymap=k,t.macBaseKeymap=C,t.baseKeymap=j},"+5la":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return i});var r=function(e,t){return e.mediaNodes.reduce(function(e,n){return e||(n.node.attrs.id===t?n:e)},null)},o=function(e,t,n){return n?r(e,t):e.mediaGroupNodes[t]},i=function(e,t){return"mobile"===e.editorAppearance&&"boolean"==typeof e.mobileUploadComplete[t]?e.mobileUploadComplete[t]:void 0}},"+9JK":function(e,t,n){"use strict";var r=n("mrSG"),o=n("q1tI"),i=function(e){function t(t,n){var r=e.call(this,t)||this;return r.isUnmounted=!1,r.loaded=function(e){return!!e.asyncLoadedComponent&&!!e.loadedEmojiProvider},r.state=n,r.loadEmojiProvider(r.props.emojiProvider),r}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.state.asyncLoadedComponent||this.asyncLoadComponent()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.loadEmojiProvider(e.emojiProvider)},t.prototype.componentWillUnmount=function(){this.isUnmounted=!0},t.prototype.loadEmojiProvider=function(e){var t=this;e.then(function(e){t.isUnmounted||t.setState({loadedEmojiProvider:e})}).catch(function(){t.isUnmounted||t.setState({loadedEmojiProvider:void 0})})},t.prototype.setAsyncState=function(e){this.isUnmounted||this.setState({asyncLoadedComponent:e})},t.prototype.renderLoading=function(){return null},t.prototype.render=function(){if(this.loaded(this.state)){var e=this.state,t=e.loadedEmojiProvider,n=e.asyncLoadedComponent;return this.renderLoaded(t,n)}return this.renderLoading()},t}(o.Component);t.a=i},"+Nu7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("v+ym"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><path d="M12.938 4.967c-.518-.978-1.36-.974-1.876 0L3.938 18.425c-.518.978-.045 1.771 1.057 1.771h14.01c1.102 0 1.573-.797 1.057-1.771L12.938 4.967z" fill="currentColor"/><path d="M12 15a1 1 0 0 1-1-1V9a1 1 0 0 1 2 0v5a1 1 0 0 1-1 1m0 3a1 1 0 0 1 0-2 1 1 0 0 1 0 2" fill="inherit"/></g></svg>'},e))};s.displayName="WarningIcon";var c=s;t.default=c},"+dNt":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return["admin"].includes(e)}},"+dwX":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return l});var r=n("b/sn"),o=n("k98C"),i=n("YjUZ"),a=function(e){return function(t,n){var a,s=t.schema;a=e?Date.UTC(e.year,e.month-1,e.day).toString():Object(o.f)();var c=t.tr,l=i.b.getState(t).showDatePickerAt;if(!l){var u=s.nodes.date.createChecked({timestamp:a});return n(c.replaceSelectionWith(u).setSelection(r.NodeSelection.create(c.doc,t.selection.$from.pos)).scrollIntoView()),!0}return!!t.doc.nodeAt(l)&&(n(c.setNodeMarkup(l,s.nodes.date,{timestamp:a}).setSelection(r.Selection.near(c.doc.resolve(l+2))).setMeta(i.b,{showDatePickerAt:null}).scrollIntoView()),!0)}},s=function(e){return function(t,n){return n(t.tr.setMeta(i.b,{showDatePickerAt:e})),!0}},c=function(){return function(e,t){var n=i.b.getState(e).showDatePickerAt;return!!n&&(t&&t(e.tr.setMeta(i.b,{showDatePickerAt:null}).setSelection(r.Selection.near(e.tr.doc.resolve(n+2)))),!1)}},l=function(){return function(e,t){var n=e.selection.$from,o=e.doc.nodeAt(n.pos);if(o&&o.type.name===e.schema.nodes.date.name){var a=n.pos;t&&t(e.tr.setMeta(i.b,{showDatePickerAt:a}).setSelection(r.NodeSelection.create(e.doc,a)))}return!1}}},"/IjO":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=n("b/sn"),a=n("cD+i"),s=n("byeC"),c=n("uSMm"),l=n("VuzU");if("undefined"!=typeof WeakMap){var u=new WeakMap;r=function(e){return u.get(e)},o=function(e,t){return u.set(e,t),t}}else{var d=[],p=0;r=function(e){for(var t=0;t<d.length;t+=2)if(d[t]==e)return d[t+1]},o=function(e,t){return 10==p&&(p=0),d[p++]=e,d[p++]=t}}var f=function(e,t,n,r){this.left=e,this.top=t,this.right=n,this.bottom=r},h=function(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r};function m(e){if(e.colwidth)return e.colwidth.slice();for(var t=[],n=0;n<e.colspan;n++)t.push(0);return t}h.prototype.findCell=function(e){for(var t=0;t<this.map.length;t++){var n=this.map[t];if(n==e){for(var r=t%this.width,o=t/this.width|0,i=r+1,a=o+1,s=1;i<this.width&&this.map[t+s]==n;s++)i++;for(var c=1;a<this.height&&this.map[t+this.width*c]==n;c++)a++;return new f(r,o,i,a)}}throw new RangeError("No cell with offset "+e+" found")},h.prototype.colCount=function(e){for(var t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError("No cell with offset "+e+" found")},h.prototype.nextCell=function(e,t,n){var r=this.findCell(e),o=r.left,i=r.right,a=r.top,s=r.bottom;return"horiz"==t?(n<0?0==o:i==this.width)?null:this.map[a*this.width+(n<0?o-1:i)]:(n<0?0==a:s==this.height)?null:this.map[o+this.width*(n<0?a-1:s)]},h.prototype.rectBetween=function(e,t){var n=this.findCell(e),r=n.left,o=n.right,i=n.top,a=n.bottom,s=this.findCell(t),c=s.left,l=s.right,u=s.top,d=s.bottom;return new f(Math.min(r,c),Math.min(i,u),Math.max(o,l),Math.max(a,d))},h.prototype.cellsInRect=function(e){for(var t=[],n={},r=e.top;r<e.bottom;r++)for(var o=e.left;o<e.right;o++){var i=r*this.width+o,a=this.map[i];n[a]||(n[a]=!0,o==e.left&&o&&this.map[i-1]==a||r==e.top&&r&&this.map[i-this.width]==a||t.push(a))}return t},h.prototype.positionAt=function(e,t,n){for(var r=0,o=0;;r++){var i=o+n.child(r).nodeSize;if(r==e){for(var a=t+e*this.width,s=(e+1)*this.width;a<s&&this.map[a]<o;)a++;return a==s?i-1:this.map[a]}o=i}},h.get=function(e){return r(e)||o(e,function(e){if("table"!=e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);for(var t=function(e){for(var t=-1,n=!1,r=0;r<e.childCount;r++){var o=e.child(r),i=0;if(n)for(var a=0;a<r;a++)for(var s=e.child(a),c=0;c<s.childCount;c++){var l=s.child(c);a+l.attrs.rowspan>r&&(i+=l.attrs.colspan)}for(var u=0;u<o.childCount;u++){var d=o.child(u);i+=d.attrs.colspan,d.attrs.rowspan>1&&(n=!0)}-1==t?t=i:t!=i&&(t=Math.max(t,i))}return t}(e),n=e.childCount,r=[],o=0,i=null,a=[],s=0,c=t*n;s<c;s++)r[s]=0;for(var l=0,u=0;l<n;l++){var d=e.child(l);u++;for(var p=0;;p++){for(;o<r.length&&0!=r[o];)o++;if(p==d.childCount)break;for(var f=d.child(p),g=f.attrs,v=g.colspan,b=g.rowspan,y=g.colwidth,w=0;w<b;w++){if(w+l>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:u,n:b-w});break}for(var O=o+w*t,E=0;E<v;E++){0==r[O+E]?r[O+E]=u:(i||(i=[])).push({type:"collision",row:l,pos:u,n:v-E});var x=y&&y[E];if(x){var k=(O+E)%t*2,C=a[k];null==C||C!=x&&1==a[k+1]?(a[k]=x,a[k+1]=1):C==x&&a[k+1]++}}}o+=v,u+=f.nodeSize}for(var S=(l+1)*t,j=0;o<S;)0==r[o++]&&j++;j&&(i||(i=[])).push({type:"missing",row:l,n:j}),u++}for(var T=new h(t,n,r,i),M=!1,_=0;!M&&_<a.length;_+=2)null!=a[_]&&a[_+1]<n&&(M=!0);M&&function(e,t,n){e.problems||(e.problems=[]);for(var r=0,o={};r<e.map.length;r++){var i=e.map[r];if(!o[i]){o[i]=!0;for(var a=n.nodeAt(i),s=null,c=0;c<a.attrs.colspan;c++){var l=(r+c)%e.width,u=t[2*l];null==u||a.attrs.colwidth&&a.attrs.colwidth[c]==u||((s||(s=m(a.attrs)))[c]=u)}s&&e.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:s})}}}(T,a,e);return T}(e))};var g=new i.PluginKey("selectingCells");function v(e){for(var t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function b(e){for(var t=e.selection.$head,n=t.depth;n>0;n--)if("row"==t.node(n).type.spec.tableRole)return!0;return!1}function y(e){var t=e.selection;return t.$anchorCell?t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell:t.node&&"cell"==t.node.type.spec.tableRole?t.$anchor:v(t.$head)||function(e){for(var t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){var r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n)}for(var o=e.nodeBefore,i=e.pos;o;o=o.lastChild,i--){var a=o.type.spec.tableRole;if("cell"==a||"header_cell"==a)return e.doc.resolve(i-o.nodeSize)}}(t.$head)}function w(e){return"row"==e.parent.type.spec.tableRole&&e.nodeAfter}function O(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function E(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function x(e,t,n){var r=e.start(-1),o=h.get(e.node(-1)).nextCell(e.pos-r,t,n);return null==o?null:e.node(0).resolve(r+o)}function k(e,t,n){var r={};for(var o in e)r[o]=e[o];return r[t]=n,r}function C(e,t,n){void 0===n&&(n=1);var r=k(e,"colspan",e.colspan-n);return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(function(e){return e>0})||(r.colwidth=null)),r}function S(e,t,n){void 0===n&&(n=1);var r=k(e,"colspan",e.colspan+n);if(r.colwidth){r.colwidth=r.colwidth.slice();for(var o=0;o<n;o++)r.colwidth.splice(t,0,0)}return r}var j=function(e){function t(t,n){void 0===n&&(n=t);var r=t.node(-1),o=h.get(r),a=t.start(-1),s=o.rectBetween(t.pos-a,n.pos-a),c=t.node(0),l=o.cellsInRect(s).filter(function(e){return e!=n.pos-a});l.unshift(n.pos-a);var u=l.map(function(e){var t=r.nodeAt(e),n=e+a+1;return new i.SelectionRange(c.resolve(n),c.resolve(n+t.content.size))});e.call(this,u[0].$from,u[0].$to,u),this.$anchorCell=t,this.$headCell=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(e,n){var r=e.resolve(n.map(this.$anchorCell.pos)),o=e.resolve(n.map(this.$headCell.pos));if(w(r)&&w(o)&&E(r,o)){var a=this.$anchorCell.node(-1)!=r.node(-1);return a&&this.isRowSelection()?t.rowSelection(r,o):a&&this.isColSelection()?t.colSelection(r,o):new t(r,o)}return i.TextSelection.between(r,o)},t.prototype.content=function(){for(var e=this.$anchorCell.node(-1),t=h.get(e),n=this.$anchorCell.start(-1),r=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},i=[],a=r.top;a<r.bottom;a++){for(var c=[],l=a*t.width+r.left,u=r.left;u<r.right;u++,l++){var d=t.map[l];if(!o[d]){o[d]=!0;var p=t.findCell(d),f=e.nodeAt(d),m=r.left-p.left,g=p.right-r.right;if(m>0||g>0){var v=f.attrs;m>0&&(v=C(v,0,m)),g>0&&(v=C(v,v.colspan-g,g)),f=p.left<r.left?f.type.createAndFill(v):f.type.create(v,f.content)}if(p.top<r.top||p.bottom>r.bottom){var b=k(f.attrs,"rowspan",Math.min(p.bottom,r.bottom)-Math.max(p.top,r.top));f=p.top<r.top?f.type.createAndFill(b):f.type.create(b,f.content)}c.push(f)}}i.push(e.child(a).copy(s.Fragment.from(c)))}var y=this.isColSelection()&&this.isRowSelection()?e:i;return new s.Slice(s.Fragment.from(y),1,1)},t.prototype.replace=function(t,n){void 0===n&&(n=s.Slice.empty);for(var r=t.steps.length,o=this.ranges,i=0;i<o.length;i++){var a=o[i],c=a.$from,l=a.$to,u=t.mapping.slice(r);t.replace(u.map(c.pos),u.map(l.pos),i?s.Slice.empty:n)}var d=e.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);d&&t.setSelection(d)},t.prototype.replaceWith=function(e,t){this.replace(e,new s.Slice(s.Fragment.from(t),0,0))},t.prototype.forEachCell=function(e){for(var t=this.$anchorCell.node(-1),n=h.get(t),r=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r)),i=0;i<o.length;i++)e(t.nodeAt(o[i]),r+o[i])},t.prototype.isColSelection=function(){var e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;var n=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount},t.colSelection=function(e,n){void 0===n&&(n=e);var r=h.get(e.node(-1)),o=e.start(-1),i=r.findCell(e.pos-o),a=r.findCell(n.pos-o),s=e.node(0);return i.top<=a.top?(i.top>0&&(e=s.resolve(o+r.map[i.left])),a.bottom<r.height&&(n=s.resolve(o+r.map[r.width*(r.height-1)+a.right-1]))):(a.top>0&&(n=s.resolve(o+r.map[a.left])),i.bottom<r.height&&(e=s.resolve(o+r.map[r.width*(r.height-1)+i.right-1]))),new t(e,n)},t.prototype.isRowSelection=function(){var e=h.get(this.$anchorCell.node(-1)),t=this.$anchorCell.start(-1),n=e.colCount(this.$anchorCell.pos-t),r=e.colCount(this.$headCell.pos-t);if(Math.min(n,r)>0)return!1;var o=n+this.$anchorCell.nodeAfter.attrs.colspan,i=r+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,i)==e.width},t.prototype.eq=function(e){return e instanceof t&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos},t.rowSelection=function(e,n){void 0===n&&(n=e);var r=h.get(e.node(-1)),o=e.start(-1),i=r.findCell(e.pos-o),a=r.findCell(n.pos-o),s=e.node(0);return i.left<=a.left?(i.left>0&&(e=s.resolve(o+r.map[i.top*r.width])),a.right<r.width&&(n=s.resolve(o+r.map[r.width*(a.top+1)-1]))):(a.left>0&&(n=s.resolve(o+r.map[a.top*r.width])),i.right<r.width&&(e=s.resolve(o+r.map[r.width*(i.top+1)-1]))),new t(e,n)},t.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},t.fromJSON=function(e,n){return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,n,r){return void 0===r&&(r=n),new t(e.resolve(n),e.resolve(r))},t.prototype.getBookmark=function(){return new T(this.$anchorCell.pos,this.$headCell.pos)},t}(i.Selection);j.prototype.visible=!1,i.Selection.jsonID("cell",j);var T=function(e,t){this.anchor=e,this.head=t};function M(e){if(!(e.selection instanceof j))return null;var t=[];return e.selection.forEachCell(function(e,n){t.push(a.Decoration.node(n,n+e.nodeSize,{class:"selectedCell"}))}),a.DecorationSet.create(e.doc,t)}function _(e,t){var n=e.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map(function(e){return Number(e)}):null,o=Number(e.getAttribute("colspan")||1),i={colspan:o,rowspan:Number(e.getAttribute("rowspan")||1),colwidth:r&&r.length==o?r:null};for(var a in t){var s=t[a].getFromDOM,c=s&&s(e);null!=c&&(i[a]=c)}return i}function I(e,t){var n={};for(var r in 1!=e.attrs.colspan&&(n.colspan=e.attrs.colspan),1!=e.attrs.rowspan&&(n.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(n["data-colwidth"]=e.attrs.colwidth.join(",")),t){var o=t[r].setDOMAttr;o&&o(e.attrs[r],n)}return n}function P(e){var t=e.cached.tableNodeTypes;if(!t)for(var n in t=e.cached.tableNodeTypes={},e.nodes){var r=e.nodes[n],o=r.spec.tableRole;o&&(t[o]=r)}return t}function A(e){if(!e.size)return null;for(var t=e.content,n=e.openStart,r=e.openEnd;1==t.childCount&&(n>0&&r>0||"table"==t.firstChild.type.spec.tableRole);)n--,r--,t=t.firstChild.content;var o=t.firstChild,i=o.type.spec.tableRole,a=o.type.schema,c=[];if("row"==i)for(var l=0;l<t.childCount;l++){var u=t.child(l).content,d=l?0:Math.max(0,n-1),p=l<t.childCount-1?0:Math.max(0,r-1);(d||p)&&(u=N(P(a).row,new s.Slice(u,d,p)).content),c.push(u)}else{if("cell"!=i&&"header_cell"!=i)return null;c.push(n||r?N(P(a).row,new s.Slice(t,n,r)).content:t)}return function(e,t){for(var n=[],r=0;r<t.length;r++)for(var o=t[r],i=o.childCount-1;i>=0;i--)for(var a=o.child(i).attrs,c=a.rowspan,l=a.colspan,u=r;u<r+c;u++)n[u]=(n[u]||0)+l;for(var d=0,p=0;p<n.length;p++)d=Math.max(d,n[p]);for(var f=0;f<n.length;f++)if(f>=t.length&&t.push(s.Fragment.empty),n[f]<d){for(var h=P(e).cell.createAndFill(),m=[],g=n[f];g<d;g++)m.push(h);t[f]=t[f].append(s.Fragment.from(m))}return{height:t.length,width:d,rows:t}}(a,c)}function N(e,t){var n=e.createAndFill();return new c.Transform(n).replace(0,n.content.size,t).doc}function R(e,t,n){var r=e.width,o=e.height,i=e.rows;if(r!=t){for(var a=[],c=[],l=0;l<i.length;l++){for(var u=i[l],d=[],p=a[l]||0,f=0;p<t;f++){var h=u.child(f%u.childCount);p+h.attrs.colspan>t&&(h=h.type.create(C(h.attrs,h.attrs.colspan,p+h.attrs.colspan-t),h.content)),d.push(h),p+=h.attrs.colspan;for(var m=1;m<h.attrs.rowspan;m++)a[l+m]=(a[l+m]||0)+h.attrs.colspan}c.push(s.Fragment.from(d))}i=c,r=t}if(o!=n){for(var g=[],v=0,b=0;v<n;v++,b++){for(var y=[],w=i[b%o],O=0;O<w.childCount;O++){var E=w.child(O);v+E.attrs.rowspan>n&&(E=E.type.create(k(E.attrs,"rowspan",n-E.attrs.rowspan),E.content)),y.push(E)}g.push(s.Fragment.from(y))}i=g,o=n}return{width:r,height:o,rows:i}}function D(e,t,n,r,o,i,a,s){if(0==a||a==t.height)return!1;for(var c=!1,l=o;l<i;l++){var u=a*t.width+l,d=t.map[u];if(t.map[u-t.width]==d){c=!0;var p=n.nodeAt(d),f=t.findCell(d),h=f.top,m=f.left;e.setNodeMarkup(e.mapping.slice(s).map(d+r),null,k(p.attrs,"rowspan",a-h)),e.insert(e.mapping.slice(s).map(t.positionAt(a,m,n)),p.type.createAndFill(k(p.attrs,"rowspan",h+p.attrs.rowspan-a))),l+=p.attrs.colspan-1}}return c}function L(e,t,n,r,o,i,a,s){if(0==a||a==t.width)return!1;for(var c=!1,l=o;l<i;l++){var u=l*t.width+a,d=t.map[u];if(t.map[u-1]==d){c=!0;var p=n.nodeAt(d),f=t.colCount(d),h=e.mapping.slice(s).map(d+r);e.setNodeMarkup(h,null,C(p.attrs,a-f,p.attrs.colspan-(a-f))),e.insert(h+p.nodeSize,p.type.createAndFill(C(p.attrs,0,a-f))),l+=p.attrs.rowspan-1}}return c}function z(e,t,n,r,o){var i=n?e.doc.nodeAt(n-1):e.doc,a=h.get(i),c=r.top,l=r.left,u=l+o.width,d=c+o.height,p=e.tr,f=0;function m(){i=n?p.doc.nodeAt(n-1):p.doc,a=h.get(i),f=p.mapping.maps.length}(function(e,t,n,r,o,i,a){var c,l,u=P(e.doc.type.schema);if(o>t.width)for(var d=0,p=0;d<t.height;d++){var f=n.child(d);p+=f.nodeSize;var h=[],m=void 0;m=null==f.lastChild||f.lastChild.type==u.cell?c||(c=u.cell.createAndFill()):l||(l=u.header_cell.createAndFill());for(var g=t.width;g<o;g++)h.push(m);e.insert(e.mapping.slice(a).map(p-1+r),h)}if(i>t.height){for(var v=[],b=0,y=(t.height-1)*t.width;b<Math.max(t.width,o);b++){var w=!(b>=t.width)&&n.nodeAt(t.map[y+b]).type==u.header_cell;v.push(w?l||(l=u.header_cell.createAndFill()):c||(c=u.cell.createAndFill()))}for(var O=u.row.create(null,s.Fragment.from(v)),E=[],x=t.height;x<i;x++)E.push(O);e.insert(e.mapping.slice(a).map(r+n.nodeSize-2),E)}return!(!c&&!l)})(p,a,i,n,u,d,f)&&m(),D(p,a,i,n,l,u,c,f)&&m(),D(p,a,i,n,l,u,d,f)&&m(),L(p,a,i,n,c,d,l,f)&&m(),L(p,a,i,n,c,d,u,f)&&m();for(var g=c;g<d;g++){var v=a.positionAt(g,l,i),b=a.positionAt(g,u,i);p.replace(p.mapping.slice(f).map(v+n),p.mapping.slice(f).map(b+n),new s.Slice(o.rows[g-c],0,0))}m(),p.setSelection(new j(p.doc.resolve(n+a.positionAt(c,l,i)),p.doc.resolve(n+a.positionAt(d-1,u-1,i)))),t(p)}T.prototype.map=function(e){return new T(e.map(this.anchor),e.map(this.head))},T.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&E(t,n)?new j(t,n):i.Selection.near(n,1)};var B=l.keydownHandler({ArrowLeft:q("horiz",-1),ArrowRight:q("horiz",1),ArrowUp:q("vert",-1),ArrowDown:q("vert",1),"Shift-ArrowLeft":W("horiz",-1),"Shift-ArrowRight":W("horiz",1),"Shift-ArrowUp":W("vert",-1),"Shift-ArrowDown":W("vert",1),Backspace:U,"Mod-Backspace":U,Delete:U,"Mod-Delete":U});function F(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function q(e,t){return function(n,r,o){var a=n.selection;if(a instanceof j)return F(n,r,i.Selection.near(a.$headCell,t));if("horiz"!=e&&!a.empty)return!1;var s=K(o,e,t);if(null==s)return!1;if("horiz"==e)return F(n,r,i.Selection.near(n.doc.resolve(a.head+t),t));var c,l=n.doc.resolve(s),u=x(l,e,t);return c=u?i.Selection.near(u,1):t<0?i.Selection.near(n.doc.resolve(l.before(-1)),-1):i.Selection.near(n.doc.resolve(l.after(-1)),1),F(n,r,c)}}function W(e,t){return function(n,r,o){var i=n.selection;if(!(i instanceof j)){var a=K(o,e,t);if(null==a)return!1;i=new j(n.doc.resolve(a))}var s=x(i.$headCell,e,t);return!!s&&F(n,r,new j(i.$anchorCell,s))}}function U(e,t){var n=e.selection;if(!(n instanceof j))return!1;if(t){var r=e.tr,o=P(e.schema).cell.createAndFill().content;n.forEachCell(function(e,t){e.content.eq(o)||r.replace(r.mapping.map(t+1),r.mapping.map(t+e.nodeSize-1),new s.Slice(o,0,0))}),r.docChanged&&t(r)}return!0}function H(e,t){var n=v(e.state.doc.resolve(t));return!!n&&(e.dispatch(e.state.tr.setSelection(new j(n))),!0)}function V(e,t,n){if(!b(e.state))return!1;var r=A(n),o=e.state.selection;if(o instanceof j){r||(r={width:1,height:1,rows:[s.Fragment.from(N(P(e.state.schema).cell,n))]});var i=o.$anchorCell.node(-1),a=o.$anchorCell.start(-1),c=h.get(i).rectBetween(o.$anchorCell.pos-a,o.$headCell.pos-a);return r=R(r,c.right-c.left,c.bottom-c.top),z(e.state,e.dispatch,a,c,r),!0}if(r){var l=y(e.state),u=l.start(-1);return z(e.state,e.dispatch,u,h.get(l.node(-1)).findCell(l.pos-u),r),!0}return!1}function G(e,t){if(!t.ctrlKey&&!t.metaKey){var n,r=$(e,t.target);if(t.shiftKey&&e.state.selection instanceof j)o(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&null!=(n=v(e.state.selection.$anchor))&&J(e,t).pos!=n.pos)o(n,t),t.preventDefault();else if(!r)return;e.root.addEventListener("mouseup",i),e.root.addEventListener("dragstart",i),e.root.addEventListener("mousemove",a)}function o(t,n){var r=J(e,n),o=null==g.getState(e.state);if(!r||!E(t,r)){if(!o)return;r=t}var i=new j(t,r);if(o||!e.state.selection.eq(i)){var a=e.state.tr.setSelection(i);o&&a.setMeta(g,t.pos),e.dispatch(a)}}function i(){e.root.removeEventListener("mouseup",i),e.root.removeEventListener("dragstart",i),e.root.removeEventListener("mousemove",a),null!=g.getState(e.state)&&e.dispatch(e.state.tr.setMeta(g,-1))}function a(n){var a,s=g.getState(e.state);if(null!=s)a=e.state.doc.resolve(s);else if($(e,n.target)!=r&&!(a=J(e,t)))return i();a&&o(a,n)}}function K(e,t,n){if(!(e.state.selection instanceof i.TextSelection))return null;for(var r=e.state.selection.$head,o=r.depth-1;o>=0;o--){var a=r.node(o);if((n<0?r.index(o):r.indexAfter(o))!=(n<0?0:a.childCount))return null;if("cell"==a.type.spec.tableRole||"header_cell"==a.type.spec.tableRole){var s=r.before(o),c="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(c)?s:null}}return null}function $(e,t){for(;t&&t!=e.dom;t=t.parentNode)if("TD"==t.nodeName||"TH"==t.nodeName)return t}function J(e,t){var n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?v(e.state.doc.resolve(n.pos)):null}function Y(e,t){var n,r=function(t,r){"table"==t.type.spec.tableRole&&(n=function(e,t,n,r){var o=h.get(t);if(!o.problems)return r;r||(r=e.tr);for(var i,a,s=[],c=0;c<o.height;c++)s.push(0);for(var l=0;l<o.problems.length;l++){var u=o.problems[l];if("collision"==u.type){for(var d=t.nodeAt(u.pos),p=0;p<d.attrs.rowspan;p++)s[u.row+p]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,C(d.attrs,d.attrs.colspan-u.n,u.n))}else if("missing"==u.type)s[u.row]+=u.n;else if("overlong_rowspan"==u.type){var f=t.nodeAt(u.pos);r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,k(f.attrs,"rowspan",f.attrs.rowspan-u.n))}else if("colwidth mismatch"==u.type){var m=t.nodeAt(u.pos);r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,k(m.attrs,"colwidth",u.colwidth))}}for(var g=0;g<s.length;g++)s[g]&&(null==i&&(i=g),a=g);for(var v=0,b=n+1;v<o.height;v++){var y=t.child(v),w=b+y.nodeSize,O=s[v];if(O>0){var E="cell";y.firstChild&&(E=y.firstChild.type.spec.tableRole);for(var x=[],S=0;S<O;S++)x.push(P(e.schema)[E].createAndFill());var j=0!=v&&i!=v-1||a!=v?w-1:b+1;r.insert(r.mapping.map(j),x)}b=w}return r}(e,t,r,n))};return t?t.doc!=e.doc&&function e(t,n,r,o){var i=t.childCount,a=n.childCount;e:for(var s=0,c=0;s<a;s++){for(var l=n.child(s),u=c,d=Math.min(i,s+3);u<d;u++)if(t.child(u)==l){c=u+1,r+=l.nodeSize;continue e}o(l,r),c<i&&t.child(c).sameMarkup(l)?e(t.child(c),l,r+1,o):l.nodesBetween(0,l.content.size,o,r+1),r+=l.nodeSize}}(t.doc,e.doc,0,r):e.doc.descendants(r),n}function Q(e){var t,n=e.selection,r=y(e),o=r.node(-1),i=r.start(-1),a=h.get(o);return(t=n instanceof j?a.rectBetween(n.$anchorCell.pos-i,n.$headCell.pos-i):a.findCell(r.pos-i)).tableStart=i,t.map=a,t.table=o,t}function X(e,t,n){var r=t.map,o=t.tableStart,i=t.table,a=n>0?-1:0;(function(e,t,n){for(var r=P(t.type.schema).header_cell,o=0;o<e.height;o++)if(t.nodeAt(e.map[n+o*e.width]).type!=r)return!1;return!0})(r,i,n+a)&&(a=0==n||n==r.width?null:0);for(var s=0;s<r.height;s++){var c=s*r.width+n;if(n>0&&n<r.width&&r.map[c-1]==r.map[c]){var l=r.map[c],u=i.nodeAt(l);e.setNodeMarkup(e.mapping.map(o+l),null,S(u.attrs,n-r.colCount(l))),s+=u.attrs.rowspan-1}else{var d=null==a?P(i.type.schema).cell:i.nodeAt(r.map[c+a]).type,p=r.positionAt(s,n,i);e.insert(e.mapping.map(o+p),d.createAndFill())}}return e}function Z(e,t,n){for(var r=t.map,o=t.table,i=t.tableStart,a=e.mapping.maps.length,s=0;s<r.height;){var c=s*r.width+n,l=r.map[c],u=o.nodeAt(l);if(n>0&&r.map[c-1]==l||n<r.width-1&&r.map[c+1]==l)e.setNodeMarkup(e.mapping.slice(a).map(i+l),null,C(u.attrs,n-r.colCount(l)));else{var d=e.mapping.slice(a).map(i+l);e.delete(d,d+u.nodeSize)}s+=u.attrs.rowspan}}function ee(e,t,n){for(var r=t.map,o=t.tableStart,i=t.table,a=o,s=0;s<n;s++)a+=i.child(s).nodeSize;var c=[],l=n>0?-1:0;(function(e,t,n){for(var r=P(t.type.schema).header_cell,o=0;o<e.width;o++)if(t.nodeAt(e.map[o+n*e.width]).type!=r)return!1;return!0})(r,i,n+l)&&(l=0==n||n==r.height?null:0);for(var u=0,d=r.width*n;u<r.width;u++,d++)if(n>0&&n<r.height&&r.map[d]==r.map[d-r.width]){var p=r.map[d],f=i.nodeAt(p).attrs;e.setNodeMarkup(o+p,null,k(f,"rowspan",f.rowspan+1)),u+=f.colspan-1}else{var h=null==l?P(i.type.schema).cell:i.nodeAt(r.map[d+l*r.width]).type;c.push(h.createAndFill())}return e.insert(a,P(i.type.schema).row.create(null,c)),e}function te(e,t,n){for(var r=t.map,o=t.table,i=t.tableStart,a=0,s=0;s<n;s++)a+=o.child(s).nodeSize;var c=a+o.child(n).nodeSize,l=e.mapping.maps.length;e.delete(a+i,c+i);for(var u=0,d=n*r.width;u<r.width;u++,d++){var p=r.map[d];if(n>0&&p==r.map[d-r.width]){var f=o.nodeAt(p).attrs;e.setNodeMarkup(e.mapping.slice(l).map(p+i),null,k(f,"rowspan",f.rowspan-1)),u+=f.colspan-1}else if(n<r.width&&p==r.map[d+r.width]){var h=o.nodeAt(p),m=h.type.create(k(h.attrs,"rowspan",h.attrs.rowspan-1),h.content),g=r.positionAt(n+1,u,o);e.insert(e.mapping.slice(l).map(i+g),m),u+=h.attrs.colspan-1}}}function ne(e){var t=e.content;return 1==t.childCount&&t.firstChild.isTextblock&&0==t.firstChild.childCount}function re(e,t,n){for(var r=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1}),o=0;o<r.length;o++){var i=t.table.nodeAt(r[o]);if(i&&i.type!==n.header_cell)return!1}return!0}function oe(e,t){return(t=t||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(e){return function(t,n){if(!b(t))return!1;if(n){for(var r=P(t.schema),o=Q(t),i=t.tr,a=o.map.cellsInRect("column"==e?new f(o.left,0,o.right,o.map.height):"row"==e?new f(0,o.top,o.map.width,o.bottom):o),s=a.map(function(e){return o.table.nodeAt(e)}),c=0;c<a.length;c++)s[c].type==r.header_cell&&i.setNodeMarkup(o.tableStart+a[c],r.cell,s[c].attrs);if(0==i.steps.length)for(var l=0;l<a.length;l++)i.setNodeMarkup(o.tableStart+a[l],r.header_cell,s[l].attrs);n(i)}return!0}}(e):function(t,n){if(!b(t))return!1;if(n){var r=P(t.schema),o=Q(t),i=t.tr,a=re("row",o,r),s=re("column",o,r),c=("column"===e?a:"row"===e&&s)?1:0,l="column"==e?new f(0,c,1,o.map.height):"row"==e?new f(c,0,o.map.width,1):o,u="column"==e?s?r.cell:r.header_cell:"row"==e?a?r.cell:r.header_cell:r.cell;o.map.cellsInRect(l).forEach(function(e){var t=e+o.tableStart,n=i.doc.nodeAt(t);n&&i.setNodeMarkup(t,u,n.attrs)}),n(i)}return!0}}var ie=oe("row",{useDeprecatedLogic:!0}),ae=oe("column",{useDeprecatedLogic:!0}),se=oe("cell",{useDeprecatedLogic:!0});var ce=function(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),le(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};function le(e,t,n,r,o,i){for(var a=0,s=!0,c=t.firstChild,l=e.firstChild,u=0,d=0;u<l.childCount;u++)for(var p=l.child(u).attrs,f=p.colspan,h=p.colwidth,m=0;m<f;m++,d++){var g=o==d?i:h&&h[m],v=g?g+"px":"";a+=g||r,g||(s=!1),c?(c.style.width!=v&&(c.style.width=v),c=c.nextSibling):t.appendChild(document.createElement("col")).style.width=v}for(;c;){var b=c.nextSibling;c.parentNode.removeChild(c),c=b}s?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}ce.prototype.update=function(e){return e.type==this.node.type&&(this.node=e,le(e,this.colgroup,this.table,this.cellMinWidth),!0)},ce.prototype.ignoreMutation=function(e){return"attributes"==e.type&&(e.target==this.table||this.colgroup.contains(e.target))};var ue=new i.PluginKey("tableColumnResizing");var de=function(e,t){this.activeHandle=e,this.dragging=t};function pe(e,t,n){var r=e.posAtCoords({left:t.clientX,top:t.clientY}).pos,o=v(e.state.doc.resolve(r));if(!o)return-1;if("right"==n)return o.pos;var i=h.get(o.node(-1)),a=o.start(-1),s=i.map.indexOf(o.pos-a);return s%i.width==0?-1:a+i.map[s-1]}function fe(e,t,n){var r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function he(e,t){e.dispatch(e.state.tr.setMeta(ue,{setHandle:t}))}function me(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}de.prototype.apply=function(e){var t=this,n=e.getMeta(ue);if(n&&null!=n.setHandle)return new de(n.setHandle,null);if(n&&void 0!==n.setDragging)return new de(t.activeHandle,n.setDragging);if(t.activeHandle>-1&&e.docChanged){var r=e.mapping.map(t.activeHandle,-1);w(e.doc.resolve(r))||(r=null),t=new de(r,t.dragging)}return t},t.tableEditing=function(e){void 0===e&&(e={});var t=e.allowTableNodeSelection;return void 0===t&&(t=!1),new i.Plugin({key:g,state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(g);if(null!=n)return-1==n?null:n;if(null==t||!e.docChanged)return t;var r=e.mapping.mapResult(t),o=r.deleted,i=r.pos;return o?null:i}},props:{decorations:M,handleDOMEvents:{mousedown:G},createSelectionBetween:function(e){if(null!=g.getState(e.state))return e.state.selection},handleTripleClick:H,handleKeyDown:B,handlePaste:V},appendTransaction:function(e,n,r){return function(e,t,n){var r,o,a=(t||e).selection,s=(t||e).doc;if(a instanceof i.NodeSelection&&(o=a.node.type.spec.tableRole)){if("cell"==o||"header_cell"==o)r=j.create(s,a.from);else if("row"==o){var c=s.resolve(a.from+1);r=j.rowSelection(c,c)}else if(!n){var l=h.get(a.node),u=a.from+1,d=u+l.map[l.width*l.height-1];r=j.create(s,u+1,d)}}else a instanceof i.TextSelection&&function(e){var t=e.$from,n=e.$to;if(t.pos==n.pos||t.pos<t.pos-6)return!1;for(var r=t.pos,o=n.pos,i=t.depth;i>=0&&!(t.after(i+1)<t.end(i));i--,r++);for(var a=n.depth;a>=0&&!(n.before(a+1)>n.start(a));a--,o--);return r==o&&/row|table/.test(t.node(i).type.spec.tableRole)}(a)?r=i.TextSelection.create(s,a.from):a instanceof i.TextSelection&&function(e){for(var t,n,r=e.$from,o=e.$to,i=r.depth;i>0;i--){var a=r.node(i);if("cell"===a.type.spec.tableRole||"header_cell"===a.type.spec.tableRole){t=a;break}}for(var s=o.depth;s>0;s--){var c=o.node(s);if("cell"===c.type.spec.tableRole||"header_cell"===c.type.spec.tableRole){n=c;break}}return t!==n&&0===o.parentOffset}(a)&&(r=i.TextSelection.create(s,a.$from.start(),a.$from.end()));return r&&(t||(t=e.tr)).setSelection(r),t}(r,Y(r,n),t)}})},t.fixTables=Y,t.handlePaste=V,t.cellAround=v,t.isInTable=b,t.selectionCell=y,t.moveCellForward=O,t.inSameTable=E,t.findCell=function(e){return h.get(e.node(-1)).findCell(e.pos-e.start(-1))},t.colCount=function(e){return h.get(e.node(-1)).colCount(e.pos-e.start(-1))},t.nextCell=x,t.tableNodes=function(e){var t=e.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(var r in t)n[r]={default:t[r].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:e.tableGroup,parseDOM:[{tag:"table"}],toDOM:function(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},table_cell:{content:e.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:function(e){return _(e,t)}}],toDOM:function(e){return["td",I(e,t),0]}},table_header:{content:e.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:function(e){return _(e,t)}}],toDOM:function(e){return["th",I(e,t),0]}}}},t.CellSelection=j,t.TableMap=h,t.columnResizing=function(e){void 0===e&&(e={});var t=e.handleWidth;void 0===t&&(t=5);var n=e.cellMinWidth;void 0===n&&(n=25);var r=e.View;void 0===r&&(r=ce);var o=e.lastColumnResizable;return void 0===o&&(o=!0),new i.Plugin({key:ue,state:{init:function(e,t){return this.spec.props.nodeViews[P(t.schema).table.name]=function(e,t){return new r(e,n,t)},new de(-1,!1)},apply:function(e,t){return t.apply(e)}},props:{attributes:function(e){return ue.getState(e).activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function(e,n){!function(e,t,n,r,o){var i=ue.getState(e.state);if(!i.dragging){var a=function(e){for(;e&&"TD"!=e.nodeName&&"TH"!=e.nodeName;)e=e.classList.contains("ProseMirror")?null:e.parentNode;return e}(t.target),s=-1;if(a){var c=a.getBoundingClientRect(),l=c.left,u=c.right;t.clientX-l<=n?s=pe(e,t,"left"):u-t.clientX<=n&&(s=pe(e,t,"right"))}if(s!=i.activeHandle){if(!o&&-1!==s){var d=e.state.doc.resolve(s),p=d.node(-1),f=h.get(p),m=d.start(-1),g=f.colCount(d.pos-m)+d.nodeAfter.attrs.colspan-1;if(g==f.width-1)return}he(e,s)}}}(e,n,t,0,o)},mouseleave:function(e){!function(e){var t=ue.getState(e.state);t.activeHandle>-1&&!t.dragging&&he(e,-1)}(e)},mousedown:function(e,t){!function(e,t,n){var r=ue.getState(e.state);if(-1==r.activeHandle||r.dragging)return!1;var o=e.state.doc.nodeAt(r.activeHandle),i=function(e,t,n){var r=n.colspan,o=n.colwidth,i=o&&o[o.length-1];if(i)return i;var a=e.domAtPos(t),s=a.node.childNodes[a.offset].offsetWidth,c=r;if(o)for(var l=0;l<r;l++)o[l]&&(s-=o[l],c--);return s/c}(e,r.activeHandle,o.attrs);function a(t){window.removeEventListener("mouseup",a),window.removeEventListener("mousemove",s);var r=ue.getState(e.state);r.dragging&&(function(e,t,n){for(var r=e.state.doc.resolve(t),o=r.node(-1),i=h.get(o),a=r.start(-1),s=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,c=e.state.tr,l=0;l<i.height;l++){var u=l*i.width+s;if(!l||i.map[u]!=i.map[u-i.width]){var d=i.map[u],p=o.nodeAt(d),f=p.attrs,m=1==f.colspan?0:s-i.colCount(d);if(!f.colwidth||f.colwidth[m]!=n){var g=f.colwidth?f.colwidth.slice():me(f.colspan);g[m]=n,c.setNodeMarkup(a+d,null,k(f,"colwidth",g))}}}c.docChanged&&e.dispatch(c)}(e,r.activeHandle,fe(r.dragging,t,n)),e.dispatch(e.state.tr.setMeta(ue,{setDragging:null})))}function s(t){if(!t.which)return a(t);var r=ue.getState(e.state),o=fe(r.dragging,t,n);!function(e,t,n,r){for(var o=e.state.doc.resolve(t),i=o.node(-1),a=o.start(-1),s=h.get(i).colCount(o.pos-a)+o.nodeAfter.attrs.colspan-1,c=e.domAtPos(o.start(-1)).node;"TABLE"!=c.nodeName;)c=c.parentNode;le(i,c.firstChild,c,r,s,n)}(e,r.activeHandle,o,n)}e.dispatch(e.state.tr.setMeta(ue,{setDragging:{startX:t.clientX,startWidth:i}})),window.addEventListener("mouseup",a),window.addEventListener("mousemove",s),t.preventDefault()}(e,t,n)}},decorations:function(e){var t=ue.getState(e);if(t.activeHandle>-1)return function(e,t){for(var n=[],r=e.doc.resolve(t),o=r.node(-1),i=h.get(o),s=r.start(-1),c=i.colCount(r.pos-s)+r.nodeAfter.attrs.colspan,l=0;l<i.height;l++){var u=c+l*i.width-1;if(!(c!=i.width&&i.map[u]==i.map[u+1]||0!=l&&i.map[u-1]==i.map[u-1-i.width])){var d=i.map[u],p=s+d+o.nodeAt(d).nodeSize-1,f=document.createElement("div");f.className="column-resize-handle",n.push(a.Decoration.widget(p,f))}}return a.DecorationSet.create(e.doc,n)}(e,t.activeHandle)},nodeViews:{}}})},t.columnResizingPluginKey=ue,t.updateColumnsOnResize=le,t.__pastedCells=A,t.__insertCells=z,t.__clipCells=R,t.addColumn=X,t.addColumnBefore=function(e,t){if(!b(e))return!1;if(t){var n=Q(e);t(X(e.tr,n,n.left))}return!0},t.addColumnAfter=function(e,t){if(!b(e))return!1;if(t){var n=Q(e);t(X(e.tr,n,n.right))}return!0},t.removeColumn=Z,t.deleteColumn=function(e,t){if(!b(e))return!1;if(t){var n=Q(e),r=e.tr;if(0==n.left&&n.right==n.map.width)return!1;for(var o=n.right-1;Z(r,n,o),o!=n.left;o--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=h.get(n.table);t(r)}return!0},t.addRow=ee,t.addRowBefore=function(e,t){if(!b(e))return!1;if(t){var n=Q(e);t(ee(e.tr,n,n.top))}return!0},t.addRowAfter=function(e,t){if(!b(e))return!1;if(t){var n=Q(e);t(ee(e.tr,n,n.bottom))}return!0},t.removeRow=te,t.deleteRow=function(e,t){if(!b(e))return!1;if(t){var n=Q(e),r=e.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(var o=n.bottom-1;te(r,n,o),o!=n.top;o--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=h.get(n.table);t(r)}return!0},t.mergeCells=function(e,t){var n=e.selection;if(!(n instanceof j)||n.$anchorCell.pos==n.$headCell.pos)return!1;var r=Q(e),o=r.map;if(function(e,t){for(var n=e.width,r=e.height,o=e.map,i=t.top*n+t.left,a=i,s=(t.bottom-1)*n+t.left,c=i+(t.right-t.left-1),l=t.top;l<t.bottom;l++){if(t.left>0&&o[a]==o[a-1]||t.right<n&&o[c]==o[c+1])return!0;a+=n,c+=n}for(var u=t.left;u<t.right;u++){if(t.top>0&&o[i]==o[i-n]||t.bottom<r&&o[s]==o[s+n])return!0;i++,s++}return!1}(o,r))return!1;if(t){for(var i,a,c=e.tr,l={},u=s.Fragment.empty,d=r.top;d<r.bottom;d++)for(var p=r.left;p<r.right;p++){var f=o.map[d*o.width+p],h=r.table.nodeAt(f);if(!l[f])if(l[f]=!0,null==i)i=f,a=h;else{ne(h)||(u=u.append(h.content));var m=c.mapping.map(f+r.tableStart);c.delete(m,m+h.nodeSize)}}if(c.setNodeMarkup(i+r.tableStart,null,k(S(a.attrs,a.attrs.colspan,r.right-r.left-a.attrs.colspan),"rowspan",r.bottom-r.top)),u.size){var g=i+1+a.content.size,v=ne(a)?i+1:g;c.replaceWith(v+r.tableStart,g+r.tableStart,u)}c.setSelection(new j(c.doc.resolve(i+r.tableStart))),t(c)}return!0},t.splitCell=function(e,t){var n,r,o=e.selection;if(o instanceof j){if(o.$anchorCell.pos!=o.$headCell.pos)return!1;n=o.$anchorCell.nodeAfter,r=o.$anchorCell.pos}else{if(!(n=function(e){for(var t=e.depth-1;t>0;t--){var n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}(o.$from)))return!1;r=v(o.$from).pos}if(1==n.attrs.colspan&&1==n.attrs.rowspan)return!1;if(t){var i=n.attrs,a=[],s=i.colwidth;i.rowspan>1&&(i=k(i,"rowspan",1)),i.colspan>1&&(i=k(i,"colspan",1));for(var c=Q(e),l=e.tr,u=0;u<c.right-c.left;u++)a.push(s?k(i,"colwidth",s&&s[u]?[s[u]]:null):i);for(var d,p=P(e.schema)[n.type.spec.tableRole],f=0;f<c.bottom;f++)if(f>=c.top){var h=c.map.positionAt(f,c.left,c.table);f==c.top&&(h+=n.nodeSize);for(var m=c.left,g=0;m<c.right;m++,g++)m==c.left&&f==c.top||l.insert(d=l.mapping.map(h+c.tableStart,1),p.createAndFill(a[g]))}l.setNodeMarkup(r,null,a[0]),o instanceof j&&l.setSelection(new j(l.doc.resolve(o.$anchorCell.pos),d&&l.doc.resolve(d))),t(l)}return!0},t.setCellAttr=function(e,t){return function(n,r){if(!b(n))return!1;var o=y(n);if(o.nodeAfter.attrs[e]===t)return!1;if(r){var i=n.tr;n.selection instanceof j?n.selection.forEachCell(function(n,r){n.attrs[e]!==t&&i.setNodeMarkup(r,null,k(n.attrs,e,t))}):i.setNodeMarkup(o.pos,null,k(o.nodeAfter.attrs,e,t)),r(i)}return!0}},t.toggleHeader=oe,t.toggleHeaderRow=ie,t.toggleHeaderColumn=ae,t.toggleHeaderCell=se,t.goToNextCell=function(e){return function(t,n){if(!b(t))return!1;var r=function(e,t){if(t<0){var n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(var r=e.index(-1)-1,o=e.before();r>=0;r--){var i=e.node(-1).child(r);if(i.childCount)return o-1-i.lastChild.nodeSize;o-=i.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;for(var a=e.node(-1),s=e.indexAfter(-1),c=e.after();s<a.childCount;s++){var l=a.child(s);if(l.childCount)return c+1;c+=l.nodeSize}}}(y(t),e);if(null!=r){if(n){var o=t.doc.resolve(r);n(t.tr.setSelection(i.TextSelection.between(o,O(o))).scrollIntoView())}return!0}}},t.deleteTable=function(e,t){for(var n=e.selection.$anchor,r=n.depth;r>0;r--)if("table"==n.node(r).type.spec.tableRole)return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}},"/NNv":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("txyx"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M7.356 10.942a.497.497 0 0 0-.713 0l-.7.701a.501.501 0 0 0-.003.71l3.706 3.707a.501.501 0 0 0 .705.003l7.712-7.712a.493.493 0 0 0-.006-.708l-.7-.7a.504.504 0 0 0-.714 0l-6.286 6.286a.506.506 0 0 1-.713 0l-2.288-2.287z" fill="currentColor"/></svg>'},e))};s.displayName="EditorDoneIcon";var c=s;t.default=c},"/ZN0":function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI4IiBmaWxsPSIjRjRGNUY3IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4KPC9zdmc+Cg=="},"/u5F":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("pkjM"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M11.793 5.793a.999.999 0 0 0 0 1.414L15.586 11H6a1 1 0 0 0 0 2h9.586l-3.793 3.793a.999.999 0 0 0 0 1.414c.39.39 1.024.39 1.415 0l5.499-5.5a.997.997 0 0 0 .293-.679v-.057a.996.996 0 0 0-.293-.678l-5.499-5.5a1 1 0 0 0-1.415 0z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="ArrowRightIcon";var c=s;t.default=c},"/u8g":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sizes=void 0;t.sizes={small:"16px",medium:"24px",large:"32px",xlarge:"48px"}},"0pSk":function(e,t,n){"use strict";n.d(t,"e",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l});var r=n("/IjO"),o=n("ggOI"),i=function(e,t){for(var n in e)if(e[n]!==t[n])return!1;return!0},a=function(e,t){var n=e.schema.marks.code,r=t>=0&&e.doc.nodeAt(t);return!!r&&!!r.marks.filter(function(e){return e.type===n}).length},s=function(e,t){var n=e.selection,r=n.from,o=n.to;if(n.empty)return!!t.isInSet(e.tr.storedMarks||e.selection.$from.marks());var i=!1;return e.doc.nodesBetween(r,o,function(e){i=i||t.isInSet(e.marks)}),i},c=function(e,t){var n=e.selection,o=n.$from,i=n.from,a=n.to;if(n.empty)return!!t.isInSet(e.storedMarks||o.marks());var s=!1;return e.selection instanceof r.CellSelection?e.selection.forEachCell(function(n,r){var o=r,i=r+n.nodeSize;s||(s=e.doc.rangeHasMark(o,i,t))}):s=e.doc.rangeHasMark(i,a,t),s},l=function(e){return function(e){return o.a.filter(function(t){if(e.schema.marks[t]){var n=e.selection,r=n.$from,o=n.empty,i=e.schema.marks;return o?!!i[t].isInSet(e.storedMarks||r.marks()):c(e,i[t])}return!1}).length>0}(e)||function(e){var t=e.selection,n=t.from,r=t.to,i=!1;return e.doc.nodesBetween(n,r,function(e){return-1===o.b.indexOf(e.type.name)||(i=!0,!1)}),i}(e)}},"11LQ":function(e,t,n){"use strict";function r(e,t,n){void 0===n&&(n={});var r=n.mapping,o=n.onDocChanged,i=n.onSelectionChanged;return{createPluginState:function(n,a){return{init:function(){return a},apply:function(a,s){var c=r?r(a,s):s,l=c,u=a.getMeta(e);return u&&(l=t(c,u)),o&&a.docChanged?l=o(a,l):i&&a.selectionSet&&(l=i(a,l)),l!==c&&n(e,l),l}}},createCommand:function(t,n){return function(r,o){if(o){var i=n?n(r.tr,r):r.tr,a="function"==typeof t?t(r):t;if(!i||!a)return!1;o(i.setMeta(e,a))}return!0}},getPluginState:function(t){return e.getState(t)}}}n.d(t,"a",function(){return r})},"16uF":function(e,t){},"1gqn":function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},"22vd":function(e,t,n){"use strict";t.identity=function(e){return e}},"2RCx":function(e,t,n){"use strict";var r=n("pVnL"),o=n.n(r),i=n("lwsE"),a=n.n(i),s=n("W8MJ"),c=n.n(s),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),p=n.n(d),f=n("PJYZ"),h=n.n(f),m=n("7W2i"),g=n.n(m),v=n("lSNA"),b=n.n(v),y=n("q1tI"),w=n.n(y),O=n("r/0h"),E=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(o))),b()(h()(n),"input",void 0),b()(h()(n),"state",{value:n.props.value}),b()(h()(n),"handleOnChange",function(e){n.setState({value:e.target.value}),n.props.onChange&&n.props.onChange(e)}),b()(h()(n),"focus",function(){n.input.focus()}),n}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this;return w.a.createElement(O.a,o()({},this.props,{value:this.state.value,onChange:this.handleOnChange,ref:function(t){e.input=t}}))}}]),t}(y.Component);b()(E,"defaultProps",{onChange:function(){},enableResize:!1});t.a=E},"2V2O":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M4 5h16c1.105 0 2 1.045 2 2.333v9.334C22 17.955 21.105 19 20 19H4c-1.105 0-2-1.045-2-2.333V7.333C2 6.045 2.895 5 4 5zm3.465 9.887h1.278L6.786 9.251H5.399l-1.957 5.636h1.183l.434-1.343h1.98l.426 1.343zM6.02 10.423h.07l.7 2.21H5.313l.707-2.21zm6.215 4.464c1.203 0 1.95-.625 1.95-1.613 0-.726-.544-1.289-1.29-1.344v-.07a1.219 1.219 0 0 0 1.02-1.203c0-.871-.653-1.406-1.747-1.406H9.704v5.636h2.53zm-1.352-4.734h.985c.562 0 .886.27.886.719 0 .453-.347.715-.984.715h-.887v-1.434zm0 3.832v-1.601h1.024c.695 0 1.074.273 1.074.789 0 .527-.367.812-1.047.812h-1.05zm6.762 1.047c1.36 0 2.352-.84 2.45-2.059h-1.15c-.112.621-.62 1.02-1.296 1.02-.89 0-1.441-.738-1.441-1.926 0-1.187.55-1.922 1.437-1.922.672 0 1.184.426 1.297 1.074h1.148c-.086-1.226-1.109-2.113-2.445-2.113-1.637 0-2.645 1.13-2.645 2.961 0 1.836 1.012 2.965 2.645 2.965z" fill="currentColor"/></svg>'},e))};s.displayName="StatusIcon";var c=s;t.default=c},"2Zmx":function(e,t,n){"use strict";var r=n("mrSG"),o=n("6LIB"),i=n("bCCX"),a={INIT:"@@redux/INIT"};function s(e,t,n){var r;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var c=e,l=t,u=[],d=u,p=!1;function f(){d===u&&(d=u.slice())}function h(){return l}function m(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return f(),d.push(e),function(){if(t){t=!1,f();var n=d.indexOf(e);d.splice(n,1)}}}function g(e){if(!Object(o.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,l=c(l,e)}finally{p=!1}for(var t=u=d,n=0;n<t.length;n++){(0,t[n])()}return e}return g({type:a.INIT}),(r={dispatch:g,subscribe:m,getState:h,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,g({type:a.INIT})}})[i.a]=function(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[i.a]=function(){return this},e},r}function c(e,t){return function(){return t(e.apply(void 0,arguments))}}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function u(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,o){var i,a=e(n,r,o),s=a.dispatch,c={getState:a.getState,dispatch:function(e){return s(e)}};return i=t.map(function(e){return e(c)}),s=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}.apply(void 0,i)(a.dispatch),l({},a,{dispatch:s})}}}function d(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}var p=d();p.withExtraArgument=d;var f,h,m,g=p,v=function(e,t,n){if(void 0===n&&(n=0),!e||!e.comments||!t||e.conversationId===t)return n;var r=e.comments.find(function(e){return e.commentId===t});return r?"number"==typeof r.nestedDepth?r.nestedDepth+1:v(e,r.parentId,n+1):n},b=function(e,t){return(e||[]).map(function(e){return t.localId&&e.localId===t.localId||e.commentId===t.commentId?r.__assign({},e,{oldDocument:e.oldDocument||e.document},t):e})},y=function(e,t){return e.map(function(e){if(e.conversationId===t.conversationId){var n=b(e.comments,t);return r.__assign({},e,{comments:n})}return e})},w=function(e,t){return e.map(function(e){if(e.conversationId===t.conversationId){var n=e.comments,o=void 0===n?[]:n;return t.localId&&o.some(function(e){return t.localId===e.localId})?r.__assign({},e,{comments:b(o,t)}):(t.nestedDepth=v(e,t.parentId),r.__assign({},e,{comments:r.__spread(o,[t])}))}return e})},O=(h={conversations:[]},(f={}).fetchConversationsRequest=function(e){return r.__assign({},e)},f.fetchConversationsSuccess=function(e,t){var n=t.payload.map(function(e){return e.comments?(e.comments=e.comments.map(function(t){return r.__assign({},t,{nestedDepth:v(e,t.parentId)})}),e):r.__assign({},e)}),o=r.__spread(n);return r.__assign({},e,{conversations:o})},f.addCommentRequest=function(e,t){var n=t.payload,o=w(e.conversations,r.__assign({},n,{isPlaceholder:!0,state:"SAVING"}));return r.__assign({},e,{conversations:o})},f.addCommentSuccess=function(e,t){var n,o=t.payload;return n=w(e.conversations,r.__assign({},o,{state:void 0,oldDocument:void 0,isPlaceholder:!1})),r.__assign({},e,{conversations:n})},f.addCommentError=function(e,t){var n=t.payload,o=y(e.conversations,r.__assign({},n,{state:"ERROR"}));return r.__assign({},e,{conversations:o})},f.updateCommentRequest=function(e,t){var n=t.payload,o=y(e.conversations,r.__assign({},n,{state:"SAVING"}));return r.__assign({},e,{conversations:o})},f.updateCommentSuccess=function(e,t){var n=t.payload,o=y(e.conversations,r.__assign({},n,{state:void 0,oldDocument:void 0}));return r.__assign({},e,{conversations:o})},f.updateCommentError=function(e,t){var n=t.payload,o=y(e.conversations,r.__assign({},n,{state:"ERROR"}));return r.__assign({},e,{conversations:o})},f.deleteCommentRequest=function(e,t){var n=t.payload,o=y(e.conversations,r.__assign({},n,{state:"SAVING"}));return r.__assign({},e,{conversations:o})},f.deleteCommentSuccess=function(e,t){var n=t.payload,o=y(e.conversations,r.__assign({},n,{state:void 0,deleted:!0,oldDocument:void 0}));return r.__assign({},e,{conversations:o})},f.deleteCommentError=function(e,t){var n=t.payload,o=y(e.conversations,r.__assign({},n,{state:"ERROR"}));return r.__assign({},e,{conversations:o})},f.revertComment=function(e,t){var n,o=t.payload,i=function(e,t){var n=t.commentId,o=t.conversationId;if(!o||!n)return null;var i=r.__read(e.reduce(function(e,t){return t.conversationId===o&&t.comments?t.comments.reduce(function(e,t){return t.commentId!==n?e:r.__spread(e,[t])},e):e},[]),1)[0];return void 0===i?null:i}(e.conversations,o);return i?(n=i.isPlaceholder?function(e,t){return e.reduce(function(e,n){if(n.conversationId===t.conversationId){var o=function(e,t){return(e||[]).filter(function(e){return t.localId&&e.localId!==t.localId||e.commentId!==t.commentId})}(n.comments,t);return 0===o.length?e:r.__spread(e,[r.__assign({},n,{comments:o})])}return r.__spread(e,[n])},[])}(e.conversations,r.__assign({},o)):y(e.conversations,r.__assign({},o,{state:void 0,document:i.oldDocument,deleted:!1,oldDocument:void 0})),r.__assign({},e,{conversations:n})):e},f.highlightComment=function(e,t){var n=t.payload.commentId.toString();return r.__assign({},e,{highlighted:n})},f.updateUserSuccess=function(e,t){return r.__assign({},e,{user:t.payload.user})},f.createConversationRequest=function(e,t){var n=t.payload,o=r.__read(n.comments,1)[0],i=r.__spread(e.conversations,[r.__assign({},n,{comments:[r.__assign({},o,{state:"SAVING",isPlaceholder:!0})]})]);return r.__assign({},e,{conversations:i})},f.createConversationSuccess=function(e,t){var n=t.payload,o=function(e,t){return e.map(function(e){return e.localId===t.localId?t:e})}(e.conversations,n);return r.__assign({},e,{conversations:o})},f.createConversationError=function(e,t){var n=t.payload,o=r.__read(n.comments,1)[0],i=n.error,a=y(e.conversations,r.__assign({},o,{state:"ERROR",error:i}));return r.__assign({},e,{conversations:a})},m=f,function(e,t){return void 0===e&&(e=h),m[t.type]?m[t.type](e,t):e});var E=!1,x={setStatic:function(e){E=e},generate:function(){return E||"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}},k=function(e){function t(t,n){var r=e.call(this,n)||this;switch(r.status=t,t){case 400:case 403:case 404:r.canRetry=!1;break;default:r.canRetry=!0}return r}return r.__extends(t,e),t}(Error),C=function(){if(location&&location.hash){var e=location.hash.indexOf("comment-");return-1!==e?location.hash.substr(e+"comment-".length):void 0}},S=function(e){function t(t){var n=e.call(this)||this;return n.config=t,t.user&&n.updateUser(t.user),n}return r.__extends(t,e),t.prototype.makeRequest=function(e,t){return void 0===t&&(t={}),r.__awaiter(this,void 0,void 0,function(){var n,o,i;return r.__generator(this,function(a){switch(a.label){case 0:return n=this.config.url,o=r.__assign({credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}},t),[4,fetch(""+n+e,o)];case 1:if(!(i=a.sent()).ok)throw new k(i.status,i.statusText);return 204===i.status?[2,{}]:[4,i.json()];case 2:return[2,a.sent()]}})})},t.prototype.getConversations=function(e,t){return r.__awaiter(this,void 0,void 0,function(){var n,o,i;return r.__generator(this,function(r){switch(r.label){case 0:return(n=this.dispatch)({type:"fetchConversationsRequest"}),o=t?"&containerId="+t:"",[4,this.makeRequest("/conversation?objectId="+e+o+"&expand=comments.document.adf",{method:"GET"})];case 1:return i=r.sent().values,n({type:"fetchConversationsSuccess",payload:i}),[2,i]}})})},t.prototype.create=function(e,t,n,o,i){return r.__awaiter(this,void 0,void 0,function(){var a,s,c,l,u;return r.__generator(this,function(d){switch(d.label){case 0:a=this.dispatch,s=!n||0===Object.keys(n).length,(c=this.createConversation(e,t,n,o,i,s))&&a({type:"createConversationRequest",payload:r.__assign({},c)}),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.makeRequest("/conversation?expand=comments.document.adf",{method:"POST",body:JSON.stringify({objectId:o,containerId:i,meta:n,comment:{document:{adf:t}},isMain:s})})];case 2:return l=d.sent(),[3,4];case 3:return u=d.sent(),l=r.__assign({},c,{error:u}),a({type:"createConversationError",payload:l}),[2,l];case 4:return a({type:"createConversationSuccess",payload:r.__assign({},l,{localId:e})}),[2,r.__assign({},l,{localId:e})]}})})},t.prototype.addComment=function(e,t,n,o){return r.__awaiter(this,void 0,void 0,function(){var i,a,s,c,l;return r.__generator(this,function(u){switch(u.label){case 0:i=this.dispatch,a=o?{conversationId:e,localId:o}:this.createComment(e,t,n),i({type:"addCommentRequest",payload:a}),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.makeRequest("/conversation/"+e+"/comment?expand=document.adf",{method:"POST",body:JSON.stringify({parentId:t,document:{adf:n}})})];case 2:return s=u.sent(),[3,4];case 3:return c=u.sent(),i({type:"addCommentError",payload:l={conversationId:e,parentId:t,document:n,error:c}}),[2,l];case 4:return i({type:"addCommentSuccess",payload:r.__assign({},s,{localId:a.localId})}),[2,r.__assign({},s,{localId:a.localId})]}})})},t.prototype.updateComment=function(e,t,n){return r.__awaiter(this,void 0,void 0,function(){var o,i,a,s,c;return r.__generator(this,function(l){switch(l.label){case 0:o=this.dispatch,(i=this.getComment(e,t))&&o({type:"updateCommentRequest",payload:r.__assign({},i,{document:{adf:n}})}),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.makeRequest("/conversation/"+e+"/comment/"+t+"?expand=document.adf",{method:"PUT",body:JSON.stringify({id:t,document:{adf:n}})})];case 2:return a=l.sent(),[3,4];case 3:return s=l.sent(),o({type:"updateCommentError",payload:c={conversationId:e,commentId:t,document:n,error:s}}),[2,c];case 4:return o({type:"updateCommentSuccess",payload:a}),[2,a]}})})},t.prototype.deleteComment=function(e,t){return r.__awaiter(this,void 0,void 0,function(){var n,o,i,a;return r.__generator(this,function(r){switch(r.label){case 0:(n=this.dispatch)({type:"deleteCommentRequest",payload:{commentId:t,conversationId:e}}),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.makeRequest("/conversation/"+e+"/comment/"+t,{method:"DELETE"})];case 2:return r.sent(),[3,4];case 3:return o=r.sent(),n({type:"deleteCommentError",payload:i={conversationId:e,commentId:t,error:o}}),[2,i];case 4:return n({type:"deleteCommentSuccess",payload:a={conversationId:e,commentId:t,deleted:!0}}),[2,a]}})})},t.prototype.revertComment=function(e,t){return r.__awaiter(this,void 0,void 0,function(){var n;return r.__generator(this,function(r){return(0,this.dispatch)({type:"revertComment",payload:n={conversationId:e,commentId:t}}),[2,n]})})},t.prototype.updateUser=function(e){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(t){return(0,this.dispatch)({type:"updateUserSuccess",payload:{user:e}}),[2,e]})})},t.prototype.createConversation=function(e,t,n,r,o,i){return{localId:e,objectId:r,meta:n,conversationId:e,comments:[this.createComment(e,e,t)],containerId:o,isMain:i}},t.prototype.createComment=function(e,t,n,r){return void 0===r&&(r=x.generate()),{createdBy:this.store.getState().user||{id:"unknown"},createdAt:Date.now(),commentId:x.generate(),document:{adf:n},conversationId:e,parentId:t,comments:[],localId:r}},t.prototype.getComment=function(e,t){var n=this.store.getState();if(n){var o=r.__read(n.conversations.filter(function(t){return t.conversationId===e}),1)[0];if(o){var i=r.__read((o.comments||[]).filter(function(e){return e.commentId===t}),1)[0];return r.__assign({},i)}}},t}(function(){function e(){var e=this;this.dispatch=function(t){e.store.dispatch(t)};var t={conversations:[],highlighted:C()};this._store=function(e){return s(O,e,u(g))}(t)}return Object.defineProperty(e.prototype,"store",{get:function(){return this._store},enumerable:!0,configurable:!0}),e.prototype.getConversations=function(e,t){return Promise.reject("Not implemented")},e.prototype.subscribe=function(e){var t=this;return this.store.subscribe(function(){var n=t.store.getState();e(n)})},e.prototype.create=function(e,t,n,r,o){return Promise.reject("Not implemented")},e.prototype.addComment=function(e,t,n,o){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(e){return[2,Promise.reject("Not implemented")]})})},e.prototype.updateComment=function(e,t,n){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(e){return[2,Promise.reject("Not implemented")]})})},e.prototype.deleteComment=function(e,t){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(e){return[2,Promise.reject("Not implemented")]})})},e.prototype.revertComment=function(e,t){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(e){return[2,Promise.reject("Not implemented")]})})},e.prototype.updateUser=function(e){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(e){return[2,Promise.reject("Not implemented")]})})},e.prototype.saveDraft=function(e,t,n,r,o,i,a){},e}()),j=n("q1tI"),T=n.n(j),M=n("dI71"),_=n("17x9"),I=n.n(_),P=I.a.shape({trySubscribe:I.a.func.isRequired,tryUnsubscribe:I.a.func.isRequired,notifyNestedSubs:I.a.func.isRequired,isSubscribed:I.a.func.isRequired}),A=I.a.shape({subscribe:I.a.func.isRequired,dispatch:I.a.func.isRequired,getState:I.a.func.isRequired});var N=function(e){var t;void 0===e&&(e="store");var n=e+"Subscription",r=function(t){Object(M.a)(o,t);var r=o.prototype;function o(n,r){var o;return(o=t.call(this,n,r)||this)[e]=n.store,o}return r.getChildContext=function(){var t;return(t={})[e]=this[e],t[n]=null,t},r.render=function(){return j.Children.only(this.props.children)},o}(j.Component);return r.propTypes={store:A.isRequired,children:I.a.element.isRequired},r.childContextTypes=((t={})[e]=A.isRequired,t[n]=P,t),r}(),R=n("JX7q"),D=n("wx14"),L=n("zLVn"),z=n("2mql"),B=n.n(z),F=n("QLaP"),q=n.n(F),W=n("TOwV"),U=null,H={notify:function(){}};var V=function(){function e(e,t,n){this.store=e,this.parentSub=t,this.onStateChange=n,this.unsubscribe=null,this.listeners=H}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){var e,t;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(e=[],t=[],{clear:function(){t=U,e=U},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==U&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}))},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=H)},e}(),G=0,K={};function $(){}function J(e,t){var n,r;void 0===t&&(t={});var o=t,i=o.getDisplayName,a=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,s=o.methodName,c=void 0===s?"connectAdvanced":s,l=o.renderCountProp,u=void 0===l?void 0:l,d=o.shouldHandleStateChanges,p=void 0===d||d,f=o.storeKey,h=void 0===f?"store":f,m=o.withRef,g=void 0!==m&&m,v=Object(L.a)(o,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),b=h+"Subscription",y=G++,w=((n={})[h]=A,n[b]=P,n),O=((r={})[b]=P,r);return function(t){q()(Object(W.isValidElementType)(t),"You must pass a component to the function returned by "+c+". Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",r=a(n),o=Object(D.a)({},v,{getDisplayName:a,methodName:c,renderCountProp:u,shouldHandleStateChanges:p,storeKey:h,withRef:g,displayName:r,wrappedComponentName:n,WrappedComponent:t}),i=function(n){function i(e,t){var o;return(o=n.call(this,e,t)||this).version=y,o.state={},o.renderCount=0,o.store=e[h]||t[h],o.propsMode=Boolean(e[h]),o.setWrappedInstance=o.setWrappedInstance.bind(Object(R.a)(Object(R.a)(o))),q()(o.store,'Could not find "'+h+'" in either the context or props of "'+r+'". Either wrap the root component in a <Provider>, or explicitly pass "'+h+'" as a prop to "'+r+'".'),o.initSelector(),o.initSubscription(),o}Object(M.a)(i,n);var a=i.prototype;return a.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[b]=t||this.context[b],e},a.componentDidMount=function(){p&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},a.componentWillReceiveProps=function(e){this.selector.run(e)},a.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},a.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=$,this.store=null,this.selector.run=$,this.selector.shouldComponentUpdate=!1},a.getWrappedInstance=function(){return q()(g,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+c+"() call."),this.wrappedInstance},a.setWrappedInstance=function(e){this.wrappedInstance=e},a.initSelector=function(){var t=e(this.store.dispatch,o);this.selector=function(e,t){var n={run:function(r){try{var o=e(t.getState(),r);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}(t,this.store),this.selector.run(this.props)},a.initSubscription=function(){if(p){var e=(this.propsMode?this.props:this.context)[b];this.subscription=new V(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},a.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(K)):this.notifyNestedSubs()},a.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},a.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},a.addExtraProps=function(e){if(!(g||u||this.propsMode&&this.subscription))return e;var t=Object(D.a)({},e);return g&&(t.ref=this.setWrappedInstance),u&&(t[u]=this.renderCount++),this.propsMode&&this.subscription&&(t[b]=this.subscription),t},a.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(j.createElement)(t,this.addExtraProps(e.props))},i}(j.Component);return i.WrappedComponent=t,i.displayName=r,i.childContextTypes=O,i.contextTypes=w,i.propTypes=w,B()(i,t)}}var Y=Object.prototype.hasOwnProperty;function Q(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function X(e,t){if(Q(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Y.call(t,n[o])||!Q(e[n[o]],t[n[o]]))return!1;return!0}function Z(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function ee(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function te(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=ee(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=ee(o),o=r(t,n)),o},r}}var ne=[function(e){return"function"==typeof e?te(e):void 0},function(e){return e?void 0:Z(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?Z(function(t){return function(e,t){if("function"==typeof e)return c(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},o=0;o<n.length;o++){var i=n[o],a=e[i];"function"==typeof a&&(r[i]=c(a,t))}return r}(e,t)}):void 0}];var re=[function(e){return"function"==typeof e?te(e):void 0},function(e){return e?void 0:Z(function(){return{}})}];function oe(e,t,n){return Object(D.a)({},n,e,t)}var ie=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(t,n,s){var c=e(t,n,s);return a?o&&i(c,r)||(r=c):(a=!0,r=c),r}}}(e):void 0},function(e){return e?void 0:function(){return oe}}];function ae(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function se(e,t,n,r,o){var i,a,s,c,l,u=o.areStatesEqual,d=o.areOwnPropsEqual,p=o.areStatePropsEqual,f=!1;function h(o,f){var h,m,g=!d(f,a),v=!u(o,i);return i=o,a=f,g&&v?(s=e(i,a),t.dependsOnOwnProps&&(c=t(r,a)),l=n(s,c,a)):g?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(c=t(r,a)),l=n(s,c,a)):v?(h=e(i,a),m=!p(h,s),s=h,m&&(l=n(s,c,a)),l):l}return function(o,u){return f?h(o,u):(s=e(i=o,a=u),c=t(r,a),l=n(s,c,a),f=!0,l)}}function ce(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=Object(L.a)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,i),s=r(e,i),c=o(e,i);return(i.pure?se:ae)(a,s,c,e,i)}function le(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function ue(e,t){return e===t}var de,pe,fe,he,me,ge,ve,be,ye,we,Oe,Ee,xe=(fe=(pe=void 0===de?{}:de).connectHOC,he=void 0===fe?J:fe,me=pe.mapStateToPropsFactories,ge=void 0===me?re:me,ve=pe.mapDispatchToPropsFactories,be=void 0===ve?ne:ve,ye=pe.mergePropsFactories,we=void 0===ye?ie:ye,Oe=pe.selectorFactory,Ee=void 0===Oe?ce:Oe,function(e,t,n,r){void 0===r&&(r={});var o=r,i=o.pure,a=void 0===i||i,s=o.areStatesEqual,c=void 0===s?ue:s,l=o.areOwnPropsEqual,u=void 0===l?X:l,d=o.areStatePropsEqual,p=void 0===d?X:d,f=o.areMergedPropsEqual,h=void 0===f?X:f,m=Object(L.a)(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),g=le(e,ge,"mapStateToProps"),v=le(t,be,"mapDispatchToProps"),b=le(n,we,"mergeProps");return he(Ee,Object(D.a)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:g,initMapDispatchToProps:v,initMergeProps:b,pure:a,areStatesEqual:c,areOwnPropsEqual:u,areStatePropsEqual:p,areMergedPropsEqual:h},m))}),ke=function(e,t){return e.conversations.filter(function(e){return e.conversationId===t||e.localId===t})[0]},Ce=function(e,t,n){var r=ke(e,t);return r?n?(r.comments||[]).filter(function(e){return e.parentId===n}):(r.comments||[]).filter(function(e){return!e.parentId&&e.conversationId===r.conversationId||e.parentId&&e.parentId===r.conversationId}).sort(function(e,t){return e.createdAt===t.createdAt?0:e.createdAt<t.createdAt?-1:1}):[]},Se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this.props;return(0,e.renderComment)(r.__rest(e,["renderComment"]))},t}(j.Component),je=xe(function(e,t){var n=Ce(e,t.conversationId,t.comment.commentId),o=function(e){return e.highlighted}(e)===t.comment.commentId.toString();return r.__assign({},t,{comments:n,isHighlighted:o})})(Se),Te=n("QETz"),Me=n("lwsE"),_e=n.n(Me),Ie=n("W8MJ"),Pe=n.n(Ie),Ae=n("a1gu"),Ne=n.n(Ae),Re=n("Nsbk"),De=n.n(Re),Le=n("7W2i"),ze=n.n(Le),Be=function(e){return function(t){return function(n){var r=n(t);return r.clone().fire(e),r}}},Fe=n("pVnL"),qe=n.n(Fe),We=n("MVZn"),Ue=n.n(We),He=n("QILm"),Ve=n.n(He),Ge=n("RIqP"),Ke=n.n(Ge),$e=n("PJYZ"),Je=n.n($e),Ye=n("lSNA"),Qe=n.n(Ye),Xe={getAtlaskitAnalyticsContext:I.a.func},Ze=function(e){function t(){var e,n;_e()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=Ne()(this,(e=De()(t)).call.apply(e,[this].concat(o))),Qe()(Je()(n),"getChildContext",function(){return{getAtlaskitAnalyticsContext:n.getAnalyticsContext}}),Qe()(Je()(n),"getAnalyticsContext",function(){var e=n.props.data,t=n.context.getAtlaskitAnalyticsContext,r="function"==typeof t&&t()||[];return[].concat(Ke()(r),[e])}),n}return ze()(t,e),Pe()(t,[{key:"render",value:function(){return j.Children.only(this.props.children)}}]),t}(j.Component);function et(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=T.a.forwardRef(function(n,r){var o=n.analyticsContext,i=void 0===o?{}:o,a=Ve()(n,["analyticsContext"]),s=Ue()({},e,i);return T.a.createElement(Ze,{data:s},T.a.createElement(t,qe()({},a,{ref:r})))});return n.displayName="WithAnalyticsContext(".concat(t.displayName||t.name,")"),n}}Qe()(Ze,"contextTypes",Xe),Qe()(Ze,"childContextTypes",Xe);var tt=n("cDf5"),nt=n.n(tt),rt=n("iWIM"),ot=n.n(rt),it=function(){function e(t){var n=this;_e()(this,e),Qe()(this,"payload",void 0),Qe()(this,"clone",function(){return new e({payload:JSON.parse(JSON.stringify(n.payload))})}),this.payload=t.payload}return Pe()(e,[{key:"update",value:function(e){return"function"==typeof e?this.payload=e(this.payload):"object"===nt()(e)&&(this.payload=Ue()({},this.payload,e)),this}}]),e}(),at=console.warn,st=function(e){function t(e){var n;return _e()(this,t),n=Ne()(this,De()(t).call(this,e)),Qe()(Je()(n),"context",void 0),Qe()(Je()(n),"handlers",void 0),Qe()(Je()(n),"hasFired",void 0),Qe()(Je()(n),"clone",function(){return n.hasFired?(at("Cannot clone an event after it's been fired."),null):new t({context:Ke()(n.context),handlers:Ke()(n.handlers),payload:JSON.parse(JSON.stringify(n.payload))})}),Qe()(Je()(n),"fire",function(e){n.hasFired?at("Cannot fire an event twice."):(n.handlers.forEach(function(t){t(Je()(n),e)}),n.hasFired=!0)}),n.context=e.context||[],n.handlers=e.handlers||[],n.hasFired=!1,n}return ze()(t,e),Pe()(t,[{key:"update",value:function(e){return this.hasFired?(at("Cannot update an event after it's been fired."),this):ot()(De()(t.prototype),"update",this).call(this,e)}}]),t}(it),ct=function(e){function t(e){var n;return _e()(this,t),n=Ne()(this,De()(t).call(this,e)),Qe()(Je()(n),"originalEventProps",{}),Qe()(Je()(n),"patchedEventProps",{}),Qe()(Je()(n),"updatePatchedEventProps",function(e){var t=Object.keys(n.props.createEventMap).filter(function(t){return n.originalEventProps[t]!==e[t]});return t.length>0&&(n.patchedEventProps=Ue()({},n.patchedEventProps,n.mapCreateEventsToProps(t,e)),t.forEach(function(t){n.originalEventProps[t]=e[t]})),n.patchedEventProps}),Qe()(Je()(n),"mapCreateEventsToProps",function(e,t){return e.reduce(function(e,r){var o=n.props.createEventMap[r],i=t[r];if(!["object","function"].includes(nt()(o)))return e;return Ue()({},e,Qe()({},r,function(){var e="function"==typeof o?o(n.createAnalyticsEvent,t):n.createAnalyticsEvent(o);if(i){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];i.apply(void 0,a.concat([e]))}}))},{})}),Qe()(Je()(n),"createAnalyticsEvent",function(e){var t=n.context,r=t.getAtlaskitAnalyticsEventHandlers,o=t.getAtlaskitAnalyticsContext,i="function"==typeof o&&o()||[],a="function"==typeof r&&r()||[];return new st({context:i,handlers:a,payload:e})}),Object.keys(n.props.createEventMap).forEach(function(t){n.originalEventProps[t]=e.wrappedComponentProps[t]}),n.patchedEventProps=n.mapCreateEventsToProps(Object.keys(n.props.createEventMap),e.wrappedComponentProps),n}return ze()(t,e),Pe()(t,[{key:"render",value:function(){var e=this.updatePatchedEventProps(this.props.wrappedComponentProps);return this.props.children({createAnalyticsEvent:this.createAnalyticsEvent,patchedEventProps:e})}}]),t}(j.Component);function lt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=T.a.forwardRef(function(n,r){return T.a.createElement(ct,{createEventMap:e,wrappedComponentProps:n},function(e){var o=e.createAnalyticsEvent,i=e.patchedEventProps;return T.a.createElement(t,qe()({},n,i,{createAnalyticsEvent:o,ref:r}))})});return n.displayName="WithAnalyticsEvents(".concat(t.displayName||t.name,")"),n}}Qe()(ct,"contextTypes",{getAtlaskitAnalyticsEventHandlers:I.a.func,getAtlaskitAnalyticsContext:I.a.func}),Qe()(ct,"defaultProps",{createEventMap:{}});var ut=n("grSP"),dt=n("7WLx"),pt=function(e){function t(){return _e()(this,t),Ne()(this,De()(t).apply(this,arguments))}return ze()(t,e),Pe()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.onClick,r=e.onFocus,o=e.onMouseOver;return T.a.createElement("span",{onClick:n,onFocus:r,onMouseOver:o},T.a.createElement(ut.a,{appearance:"subtle-link",spacing:"none",type:"button"},t))}}]),t}(j.Component),ft=Be("atlaskit"),ht=et({componentName:"commentAction",packageName:dt.a,packageVersion:dt.b})(lt({onClick:ft({action:"clicked",actionSubject:"commentAction",attributes:{componentName:"commentAction",packageName:dt.a,packageVersion:dt.b}})})(pt)),mt=n("vOnD"),gt=n("b0Qh"),vt={text:gt.colors.N500},bt=function(e){var t=e.hasAuthor;return Object(mt.css)(["\n  &:not(:hover):not(:active) {\n    color: ",";\n  }\n  font-weight: ",";\n"],vt.text,t?500:"inherit")},yt=mt.default.a.withConfig({displayName:"FieldStyles__Anchor",componentId:"sc-173n8o8-0"})(["\n  ",";\n"],function(e){return bt(e)}),wt=mt.default.span.withConfig({displayName:"FieldStyles__Span",componentId:"sc-173n8o8-1"})(["\n  ",";\n"],function(e){return bt(e)}),Ot=function(e){function t(){return _e()(this,t),Ne()(this,De()(t).apply(this,arguments))}return ze()(t,e),Pe()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.hasAuthor,r=e.href,o=e.onClick,i=e.onFocus,a=e.onMouseOver;return r?T.a.createElement(yt,{href:r,hasAuthor:n,onClick:o,onFocus:i,onMouseOver:a},t):T.a.createElement(wt,{hasAuthor:n,onClick:o,onFocus:i,onMouseOver:a},t)}}]),t}(j.Component),Et=function(e){function t(){return _e()(this,t),Ne()(this,De()(t).apply(this,arguments))}return ze()(t,e),Pe()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.href,r=e.onClick,o=e.onFocus,i=e.onMouseOver;return T.a.createElement(Ot,{hasAuthor:!0,href:n,onClick:r,onFocus:o,onMouseOver:i},t)}}]),t}(j.Component),xt=Be("atlaskit"),kt=et({componentName:"commentAuthor",packageName:dt.a,packageVersion:dt.b})(lt({onClick:xt({action:"clicked",actionSubject:"commentAuthor",attributes:{componentName:"commentAuthor",packageName:dt.a,packageVersion:dt.b}})})(Et)),Ct=n("gxo2"),St=3.5*Object(Ct.l)(),jt=2*Object(Ct.l)(),Tt={Highlight:{background:gt.colors.N20A}},Mt=mt.default.div.withConfig({displayName:"LayoutStyles__AvatarSectionDiv",componentId:"sc-14140bv-0"})(["\n  /* -ms- properties are necessary until MS supports the latest version of the grid spec */\n  /* stylelint-disable value-no-vendor-prefix */\n  -ms-grid-row: 1;\n  -ms-grid-column: 1;\n  /* stylelint-enable */\n  grid-area: avatar-area;\n  /* Unfortunately it's still easier to use a margin here until MS supports grid-gap */\n  margin-right: ","px;\n\n  [dir='rtl'] & {\n    margin-left: ","px;\n    margin-right: 0;\n  }\n"],Object(Ct.l)(),Object(Ct.l)()),_t=mt.default.div.withConfig({displayName:"LayoutStyles__Container",componentId:"sc-14140bv-1"})(["\n  /* stylelint-disable value-no-vendor-prefix, declaration-block-no-duplicate-properties */\n  display: -ms-grid;\n  display: grid;\n  -ms-grid-columns: auto 1fr;\n  /* stylelint-enable */\n  grid-template:\n    'avatar-area comment-area'\n    '. nested-comments-area'\n    / auto 1fr;\n  padding-top: ","px;\n  position: relative;\n\n  /* We need both selectors as there is not a common wrapper component around\n  comments. We also provide isFirst as an escape hatch. */\n  &:first-child,\n  &:first-of-type {\n    padding-top: 0;\n  }\n"],St),It=mt.default.div.withConfig({displayName:"LayoutStyles__ContentSectionDiv",componentId:"sc-14140bv-2"})(["\n  -ms-grid-row: 1;\n  -ms-grid-column: 2;\n  grid-area: comment-area;\n  margin-top: ","px;\n  /* Required for word-wrap: break-word to work in a grid */\n  min-width: 0;\n  word-wrap: break-word;\n"],.25*Object(Ct.l)()),Pt=mt.default.div.withConfig({displayName:"LayoutStyles__Highlight",componentId:"sc-14140bv-3"})(["\n  background: ",";\n  -ms-grid-row: 1;\n  -ms-grid-column: 1;\n  -ms-grid-column-span: 2;\n  grid-area: 1 / 1 / 2 / 3;\n  height: 100%;\n  padding: ","px ","px ","px;\n  transform: translate(-","px, -","px);\n  width: 100%;\n\n  [dir='rtl'] & {\n    transform: translate(","px, -","px);\n  }\n  pointer-events: none;\n"],Tt.Highlight.background,Object(Ct.l)(),Object(Ct.l)(),Object(Ct.l)()/2,Object(Ct.l)(),Object(Ct.l)(),Object(Ct.l)(),Object(Ct.l)()),At=mt.default.div.withConfig({displayName:"LayoutStyles__NestedCommentsDiv",componentId:"sc-14140bv-4"})(["\n  -ms-grid-row: 2;\n  -ms-grid-column: 2;\n  grid-area: nested-comments-area;\n  margin-top: ","px;\n"],St),Nt=function(e){function t(){return _e()(this,t),Ne()(this,De()(t).apply(this,arguments))}return ze()(t,e),Pe()(t,[{key:"renderAvatar",value:function(){var e=this.props.avatar;return e?T.a.createElement(Mt,null,e):null}},{key:"renderNestedComments",value:function(){var e=this.props.children;return e?T.a.createElement(At,null,e):null}},{key:"render",value:function(){var e=this.props,t=e.content,n=e.highlighted,r=e.id;return T.a.createElement(_t,{id:r},this.renderAvatar(),T.a.createElement(It,null,t),this.renderNestedComments(),n&&T.a.createElement(Pt,null))}}]),t}(j.Component),Rt=n("FbrI"),Dt=n("clh5"),Lt=n.n(Dt),zt={Restricted:{text:gt.colors.N100A}},Bt=mt.default.span.withConfig({displayName:"HeaderStyles__BulletSpacer",componentId:"sc-1x5yo10-0"})(["\n  padding-right: ","px;\n"],Object(Ct.l)()/2),Ft=mt.default.div.withConfig({displayName:"HeaderStyles__Restricted",componentId:"sc-1x5yo10-1"})(["\n  color: ",";\n  display: flex;\n"],zt.Restricted.text),qt=mt.default.span.withConfig({displayName:"HeaderStyles__RestrictedIconWrapper",componentId:"sc-1x5yo10-2"})(["\n  margin-right: ","px;\n"],Object(Ct.l)()/2);qt.displayName="RestrictedIconWrapper";var Wt=mt.default.div.withConfig({displayName:"HeaderStyles__TopItem",componentId:"sc-1x5yo10-3"})(["\n  display: inline-block;\n  margin-left: ","px;\n\n  [dir='rtl'] & {\n    margin-left: 0;\n    margin-right: ","px;\n  }\n\n  &:first-child {\n    margin-left: 0;\n\n    [dir='rtl'] & {\n      margin-right: 0;\n    }\n  }\n"],Object(Ct.l)(),Object(Ct.l)()),Ut=mt.default.div.withConfig({displayName:"HeaderStyles__TopItemsContainer",componentId:"sc-1x5yo10-4"})(["\n  display: flex;\n"]),Ht=function(e){var t=e.author,n=e.edited,r=e.isError,o=e.isSaving,i=e.restrictedTo,a=e.savingText,s=e.time,c=e.type,l=i?T.a.createElement(Ft,null,T.a.createElement(Bt,null,""),T.a.createElement(qt,null,T.a.createElement(Lt.a,{size:"small"}))," ",i):null,u=[t||null,c?T.a.createElement(Rt.a,null,c):null,!s||o||r?null:s,n||null,o?a:null,l].filter(function(e){return!!e}).map(function(e,t){return T.a.createElement(Wt,{key:t},e)});return u.length?T.a.createElement(Ut,null,u):null},Vt=n("P/+n"),Gt=n.n(Vt),Kt={text:{default:gt.colors.N500,error:gt.colors.Y500}},$t=mt.default.div.withConfig({displayName:"FooterStyles__ActionsItem",componentId:"sc-7f01gi-0"})(["\n  display: flex;\n\n  & + &::before {\n    color: ",";\n    content: '';\n    display: inline-block;\n    text-align: center;\n    vertical-align: middle;\n    width: ","px;\n  }\n"],Kt.text.default,jt),Jt=mt.default.span.withConfig({displayName:"FooterStyles__ErrorIcon",componentId:"sc-7f01gi-1"})(["\n  color: ",";\n  padding-right: ","px;\n"],Kt.text.error,Object(Ct.l)()),Yt=mt.default.div.withConfig({displayName:"FooterStyles__ActionsContainer",componentId:"sc-7f01gi-2"})(["\n  align-items: center;\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: ","px;\n"],.75*Object(Ct.l)()),Qt=function(e){return e.map(function(e,t){return T.a.createElement($t,{key:t},e)})},Xt=function(e){var t=e.actions,n=e.errorActions,r=e.errorIconLabel,o=e.isError;if(e.isSaving||!t&&!n)return null;var i=o?n&&Qt(n):t&&Qt(t);return T.a.createElement(Yt,null,o?T.a.createElement(Jt,null,T.a.createElement(Gt.a,{label:r})):null,i)},Zt={text:{default:gt.colors.N800,disabled:gt.colors.N100A}},en=mt.default.div.withConfig({displayName:"CommentStyles__Content",componentId:"lr96k6-0"})(["\n  color: ",";\n  margin-top: ","px;\n"],function(e){return e.isDisabled?Zt.text.disabled:Zt.text.default},Object(Ct.l)()/2),tn=function(e){function t(){return _e()(this,t),Ne()(this,De()(t).apply(this,arguments))}return ze()(t,e),Pe()(t,[{key:"render",value:function(){var e=this.props,t=e.actions,n=e.author,r=e.avatar,o=e.children,i=e.content,a=e.edited,s=e.errorActions,c=e.errorIconLabel,l=e.highlighted,u=e.isError,d=e.isSaving,p=e.restrictedTo,f=e.savingText,h=e.time,m=e.type,g=e.id,v={author:n,edited:a,isError:u,isSaving:d,restrictedTo:p,savingText:f,time:h,type:m},b={actions:t,errorActions:s,errorIconLabel:c,isError:u,isSaving:d},y=T.a.createElement("div",null,T.a.createElement(Ht,v),T.a.createElement(en,{isDisabled:d||u},i),T.a.createElement(Xt,b));return T.a.createElement(Nt,{id:g,avatar:r,content:y,highlighted:l},o)}}]),t}(j.Component);Qe()(tn,"defaultProps",{actions:[],restrictedTo:"",highlighted:!1,isSaving:!1,savingText:"Sending...",isError:!1,errorActions:[],errorIconLabel:""});var nn=function(e){function t(){return _e()(this,t),Ne()(this,De()(t).apply(this,arguments))}return ze()(t,e),Pe()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.href,r=e.onClick,o=e.onFocus,i=e.onMouseOver;return T.a.createElement(Ot,{href:n,onClick:r,onFocus:o,onMouseOver:i},t)}}]),t}(j.Component),rn=Be("atlaskit"),on=et({componentName:"commentTime",packageName:dt.a,packageVersion:dt.b})(lt({onClick:rn({action:"clicked",actionSubject:"commentTime",attributes:{componentName:"commentTime",packageName:dt.a,packageVersion:dt.b}})})(nn)),an=n("6m61"),sn=n("0iNy"),cn=(function(){function e(e,t){var n=this;this.requestService=function(e,t){return sn.b.requestService(n.serviceConfig,r.__assign({},t,{path:e}))},this.serviceConfig={url:e},this.sessionToken=t}e.prototype.getHeaders=function(e){void 0===e&&(e=!0);var t={Accept:"application/json"};return e&&(t["Content-Type"]="application/json"),this.sessionToken&&(t.Authorization=this.sessionToken),t},e.prototype.getReactions=function(e,t){return 0===t.length?Promise.resolve({}):this.requestService("reactions/view",{requestInit:{method:"POST",headers:this.getHeaders(),body:JSON.stringify({containerAri:e,aris:t})}})},e.prototype.getDetailedReaction=function(e,t,n){var r=e+"|"+t+"|"+n,o=this.getHeaders(!1);return this.requestService("reactions",{queryParams:{reactionId:r},requestInit:{headers:o,method:"GET",credentials:"include"}})},e.prototype.addReaction=function(e,t,n){return this.requestService("reactions",{requestInit:{method:"POST",headers:this.getHeaders(),body:JSON.stringify({emojiId:n,ari:t,containerAri:e}),credentials:"include"}}).then(function(e){return e.reactions})},e.prototype.deleteReaction=function(e,t,n){return this.requestService("reactions",{queryParams:{ari:t,emojiId:n,containerAri:e},requestInit:{method:"DELETE",headers:this.getHeaders(),credentials:"include"}}).then(function(e){return e.reactions})}}(),function(){function e(t){var n=this;_e()(this,e),Qe()(this,"payload",void 0),Qe()(this,"clone",function(){return new e({payload:JSON.parse(JSON.stringify(n.payload))})}),this.payload=t.payload}return Pe()(e,[{key:"update",value:function(e){return"function"==typeof e?this.payload=e(this.payload):"object"===nt()(e)&&(this.payload=Ue()({},this.payload,e)),this}}]),e}()),ln=console.warn,un=function(e){function t(e){var n;return _e()(this,t),n=Ne()(this,De()(t).call(this,e)),Qe()(Je()(n),"context",void 0),Qe()(Je()(n),"handlers",void 0),Qe()(Je()(n),"hasFired",void 0),Qe()(Je()(n),"clone",function(){return n.hasFired?(ln("Cannot clone an event after it's been fired."),null):new t({context:Ke()(n.context),handlers:Ke()(n.handlers),payload:JSON.parse(JSON.stringify(n.payload))})}),Qe()(Je()(n),"fire",function(e){n.hasFired?ln("Cannot fire an event twice."):(n.handlers.forEach(function(t){t(Je()(n),e)}),n.hasFired=!0)}),n.context=e.context||[],n.handlers=e.handlers||[],n.hasFired=!1,n}return ze()(t,e),Pe()(t,[{key:"update",value:function(e){return this.hasFired?(ln("Cannot update an event after it's been fired."),this):ot()(De()(t.prototype),"update",this).call(this,e)}}]),t}(cn),dn=function(e){function t(e){var n;return _e()(this,t),n=Ne()(this,De()(t).call(this,e)),Qe()(Je()(n),"originalEventProps",{}),Qe()(Je()(n),"patchedEventProps",{}),Qe()(Je()(n),"updatePatchedEventProps",function(e){var t=Object.keys(n.props.createEventMap).filter(function(t){return n.originalEventProps[t]!==e[t]});return t.length>0&&(n.patchedEventProps=Ue()({},n.patchedEventProps,n.mapCreateEventsToProps(t,e)),t.forEach(function(t){n.originalEventProps[t]=e[t]})),n.patchedEventProps}),Qe()(Je()(n),"mapCreateEventsToProps",function(e,t){return e.reduce(function(e,r){var o=n.props.createEventMap[r],i=t[r];if(!["object","function"].includes(nt()(o)))return e;return Ue()({},e,Qe()({},r,function(){var e="function"==typeof o?o(n.createAnalyticsEvent,t):n.createAnalyticsEvent(o);if(i){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];i.apply(void 0,a.concat([e]))}}))},{})}),Qe()(Je()(n),"createAnalyticsEvent",function(e){var t=n.context,r=t.getAtlaskitAnalyticsEventHandlers,o=t.getAtlaskitAnalyticsContext,i="function"==typeof o&&o()||[],a="function"==typeof r&&r()||[];return new un({context:i,handlers:a,payload:e})}),Object.keys(n.props.createEventMap).forEach(function(t){n.originalEventProps[t]=e.wrappedComponentProps[t]}),n.patchedEventProps=n.mapCreateEventsToProps(Object.keys(n.props.createEventMap),e.wrappedComponentProps),n}return ze()(t,e),Pe()(t,[{key:"render",value:function(){var e=this.updatePatchedEventProps(this.props.wrappedComponentProps);return this.props.children({createAnalyticsEvent:this.createAnalyticsEvent,patchedEventProps:e})}}]),t}(j.Component);function pn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=T.a.forwardRef(function(n,r){return T.a.createElement(dn,{createEventMap:e,wrappedComponentProps:n},function(e){var o=e.createAnalyticsEvent,i=e.patchedEventProps;return T.a.createElement(t,qe()({},n,i,{createAnalyticsEvent:o,ref:r}))})});return n.displayName="WithAnalyticsEvents(".concat(t.displayName||t.name,")"),n}}Qe()(dn,"contextTypes",{getAtlaskitAnalyticsEventHandlers:I.a.func,getAtlaskitAnalyticsContext:I.a.func}),Qe()(dn,"defaultProps",{createEventMap:{}});var fn,hn,mn=n("IeDz"),gn=n("TSYQ"),vn=n.n(gn),bn=n("GP6N"),yn=n("7V13"),wn=n("aIcx"),On=(fn="fabric-elements",function(e){return function(t){var n=t(e);return n.clone().fire(fn),n}}),En=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];e&&On(t.apply(void 0,r.__spread(n)))(e)},xn=function(e,t,n,o){return function(i){return{action:e,actionSubject:t,eventType:n,actionSubjectId:o,attributes:r.__assign({},i,{packageName:wn.a,packageVersion:wn.b})}}},kn=function(e){return e?Date.now()-e:void 0},Cn=function(e){return e?e.reacted?"existingReacted":"existingNotReacted":"new"},Sn=function(e){return xn("rendered","reactionView",yn.b)({duration:kn(e)})},jn=function(e){return xn("clicked","reactionPickerButton",yn.e)({reactionEmojiCount:e})},Tn=function(e){return xn("cancelled","reactionPicker",yn.e)({duration:kn(e)})},Mn=function(e){return xn("clicked","reactionPicker",yn.e,"more")({duration:kn(e)})},_n=function(e,t,n,r){return xn("clicked","reactionPicker",yn.e,"emoji")({duration:kn(r),source:e,previousState:Cn(n),emojiId:t})},In=function(e){return xn("hovered","existingReaction",yn.e)({duration:kn(e)})},Pn=function(e,t){return xn("clicked","existingReaction",yn.e)({added:e,emojiId:t})},An=n("1w3K"),Nn=Object(bn.b)({fontSize:"12px",lineHeight:"24px",color:gt.colors.N90,overflow:"hidden",height:24,transition:"width 300ms ease-in-out"}),Rn=Object(bn.b)({color:gt.colors.B400,fontWeight:600}),Dn=Object(bn.b)({display:"flex",flexDirection:"column"}),Ln=function(e,t){return Object(bn.a)({"0%":{transform:"translateY("+e+"%)"},"100%":{transform:"translateY("+t+"%)"}})+" 300ms ease-in-out"},zn=function(e,t){return Object(bn.b)({animation:Ln(e,t)})},Bn=zn(0,-50),Fn=zn(-50,0),qn=function(e){function t(t){var n=e.call(this,t)||this;return n.getLabel=function(e){var t=n.props.overLimitLabel;return n.hasReachedLimit(e)?t||"":e.toString()},n.hasReachedLimit=function(e){return n.props.limit&&e>=n.props.limit},n.renderPrevious=function(){var e,t=n.state.previous;if(void 0!==t){var r=vn()(((e={})[Rn]=t.highlight,e));return j.createElement("div",{key:t.value,className:r},n.getLabel(t.value))}return null},n.clearPrevious=function(){n.setState({previous:void 0})},n.state={previous:void 0},n}return r.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.props,n=t.value,r=t.highlight;void 0===n||n===e.value||this.hasReachedLimit(n)&&this.hasReachedLimit(e.value)||this.setState({previous:{value:n,highlight:r}})},t.prototype.render=function(){var e,t=this.props,n=t.value,r=t.highlight,o=t.className,i=this.state.previous,a=this.getLabel(n),s=void 0!==i&&i.value<n,c=void 0!==i&&i.value>n,l=s?Bn:c?Fn:void 0,u=vn()(Nn,o),d=vn()(((e={})[Rn]=r,e));return j.createElement("div",{className:u,style:{width:10*a.length}},j.createElement(An.CSSTransition,{classNames:{enter:l},timeout:300,in:s||c,onEntered:this.clearPrevious},j.createElement("div",{className:Dn},s?this.renderPrevious():null,j.createElement("div",{className:d,key:n},a),c?this.renderPrevious():null)))},t.defaultProps={highlight:!1,limit:100,overLimitLabel:"99+",className:void 0},t}(j.PureComponent),Wn=Object(bn.b)({width:"100%",height:"100%"}),Un=Object(bn.a)({"0%":{backgroundColor:"transparent"},"20%":{backgroundColor:gt.colors.B75},"75%":{backgroundColor:gt.colors.B75},"100%":{backgroundColor:"transparent"}}),Hn=Object(bn.b)({animation:Un+" 700ms ease-in-out"}),Vn=function(e){var t;return j.createElement("div",{className:vn()(Wn,e.className,(t={},t[Hn]=e.flash,t))},e.children)},Gn=n("eq3s"),Kn=Object(bn.b)({maxWidth:"150px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",$nest:{ul:{listStyle:"none",margin:0,padding:0,textAlign:"left"},li:{overflow:"hidden",textOverflow:"ellipsis",marginTop:0}}}),$n=Object(bn.b)({textTransform:"capitalize",marginBottom:5}),Jn=Object(bn.b)({marginTop:5}),Yn=function(e){var t=e.emojiName,n=e.children,r=e.reaction.users,o=r&&r.length>0?j.createElement("div",{className:Kn},t?j.createElement("span",{className:$n},t):null,j.createElement("ul",null,r.slice(0,5).map(function(e,t){return j.createElement("li",{key:t},e.displayName)})),r.length>5?j.createElement("span",{className:Jn},"+",r.length-5,"..."):null):void 0;return j.createElement(Gn.a,{content:o,position:"bottom"},j.Children.only(n))},Qn=function(e){return!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)},Xn=Object(Ct.f)()+"px",Zn=gt.colors.N30A,er=gt.colors.N400,tr=Object(bn.b)({transformOrigin:"center center 0",margin:"0 4px"}),nr=Object(bn.b)({outline:"none",display:"flex",flexDirection:"row",minWidth:"36px",height:"24px",lineHeight:"24px",background:"transparent",border:"0",borderRadius:Xn,color:er,cursor:"pointer",padding:0,margin:0,transition:"200ms ease-in-out",$nest:{"&:hover":{background:Zn}}}),rr=Object(bn.b)({display:"flex",flexDirection:"row",borderRadius:Xn}),or=Object(bn.b)({padding:"0 4px 0 0"}),ir=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.handleMouseDown=function(e){if(e.preventDefault(),n.props.onClick&&Qn(e)){var t=n.props,r=t.reaction,o=t.createAnalyticsEvent,i=r.reacted,a=r.emojiId;En(o,Pn,!i,a),n.props.onClick(n.props.reaction.emojiId,e)}},n.handleMouseOver=function(e){e.preventDefault();var t=n.props,r=t.onMouseOver,o=t.reaction;o.users&&o.users.length||(n.hoverStart=Date.now()),r&&r(n.props.reaction,e)},n.state={},n}return r.__extends(t,e),t.prototype.componentDidUpdate=function(e){!e.reaction.users&&this.props.reaction.users&&En(this.props.createAnalyticsEvent,In,this.hoverStart)},t.prototype.componentDidMount=function(){var e=this;this.mounted=!0,this.props.emojiProvider.then(function(t){return t.findByEmojiId({shortName:"",id:e.props.reaction.emojiId})}).then(function(t){t&&e.mounted&&e.setState({emojiName:t.name})})},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props,t=e.emojiProvider,n=e.reaction,r=e.className,o=e.flash,i=this.state.emojiName,a=vn()(nr,r),s={id:n.emojiId,shortName:""};return j.createElement(Yn,{emojiName:i,reaction:n},j.createElement("button",{className:a,onMouseUp:this.handleMouseDown,onMouseOver:this.handleMouseOver},j.createElement(Vn,{flash:o,className:rr},j.createElement("div",{className:tr},j.createElement(mn.a,{emojiProvider:t,emojiId:s,fitToHeight:16})),j.createElement(qn,{className:or,value:n.count,highlight:n.reacted}))))},t.defaultProps={flash:!1,className:void 0,onMouseOver:void 0,flashOnMount:!1},t.displayName="Reaction",t}(j.PureComponent),ar=pn()(ir),sr=n("F5zz"),cr=n("K7Mr"),lr=n("i8i4"),ur=Object(bn.b)({outline:"none",display:"flex",backgroundColor:"transparent",border:0,borderRadius:"5px",cursor:"pointer",margin:"0",padding:"10px 8px",$nest:{"&:hover > span":{transition:"transform cubic-bezier(0.23, 1, 0.32, 1) 200ms",transform:"scale(1.33)"}}}),dr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleMouseDown=function(e){e.preventDefault(),t.props.onClick&&Qn(e)&&t.props.onClick(t.props.emojiId,void 0,e)},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.emojiId,n=e.emojiProvider;return j.createElement("button",{onMouseUp:this.handleMouseDown,className:ur},j.createElement(mn.a,{emojiProvider:n,emojiId:t}))},t}(j.PureComponent),pr=n("Id4n"),fr=n.n(pr),hr=n("JRPe"),mr=Object(hr.e)({loadingReactions:{id:"fabric.reactions.loading",defaultMessage:"Loading...",description:"Message while reactions are being loaded"},moreEmoji:{id:"fabric.reactions.more.emoji",defaultMessage:"More emoji",description:'Tooltip of the "show more" button in the quick reaction selector. The full emoji selector is displayed when the user clicks on it.'},unexpectedError:{id:"fabric.reactions.error.unexpected",defaultMessage:"Something went wrong",description:"Unexpected error message"}}),gr=Object(bn.b)({display:"flex"}),vr=Object(bn.b)({opacity:0,outline:"none",backgroundColor:"transparent",border:0,borderRadius:Object(Ct.f)()+"px",cursor:"pointer",margin:"4px 4px 4px 0",padding:"4px",width:"38px",verticalAlign:"top",$nest:{"&:hover":{backgroundColor:gt.colors.N30A}}}),br=Object(bn.b)({backgroundColor:gt.colors.N30A,margin:"8px 8px 8px 4px",width:"1px",height:"60%",display:"inline-block"}),yr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.onClick,o=e.className;return j.createElement("div",{className:vn()(gr,o.container),style:t.container},j.createElement("div",{className:br}),j.createElement(hr.a,r.__assign({},mr.moreEmoji),function(e){return j.createElement(Gn.a,{content:e},j.createElement("button",{className:vn()(vr,o.button),style:t.button,onMouseDown:n},j.createElement(fr.a,{label:"More"})))}))},t.defaultProps={className:{},style:{}},t}(j.PureComponent),wr=Object(bn.b)({boxSizing:"border-box",display:"flex",padding:0}),Or=Object(bn.b)({display:"inline-block",opacity:0,$nest:{"&.selected":{transition:"transform 200ms ease-in-out  ",transform:"translateY(-48px) scale(2.667)"}}}),Er=Object(bn.a)({"0%":{opacity:1,transform:"scale(0.5)"},"75%":{transform:"scale(1.25)"},"100%":{opacity:1,transform:"scale(1)"}}),xr=Object(bn.b)({animation:Er+" 150ms ease-in-out forwards"}),kr=function(e){return{animationDelay:50*e+"ms"}},Cr=[{id:"1f44d",shortName:":thumbsup:"},{id:"1f44e",shortName:":thumbsdown:"},{id:"1f525",shortName:":fire:"},{id:"1f60d",shortName:":heart_eyes:"},{id:"1f602",shortName:":joy:"},{id:"1f622",shortName:":cry:"}],Sr=(new Map(Cr.map(function(e){return[e.shortName,e]})),function(e){function t(t){var n=e.call(this,t)||this;return n.onEmojiSelected=function(e,t,r){n.timeouts.push(window.setTimeout(function(){return n.props.onSelection(e,t,r)},250)),n.setState({selection:e})},n.renderEmoji=function(e,t){var r=n.props.emojiProvider,o=e.id||e.shortName,i=vn()(Or,xr,{selected:e===n.state.selection}),a=kr(t);return j.createElement("div",{key:o,className:i,style:a},j.createElement(Gn.a,{content:e.shortName},j.createElement(dr,{emojiId:e,emojiProvider:r,onClick:n.onEmojiSelected})))},n.renderShowMore=function(){return j.createElement(yr,{key:"more",className:{button:xr},style:{button:kr(Cr.length)},onClick:n.props.onMoreClick})},n.timeouts=[],n.state={selection:void 0},n}return r.__extends(t,e),t.prototype.componentWillUnmount=function(){this.timeouts.forEach(clearTimeout)},t.prototype.render=function(){var e=this.props.showMore;return j.createElement("div",{className:wr},Cr.map(this.renderEmoji),e?this.renderShowMore():null)},t}(j.PureComponent)),jr=n("m0Bm"),Tr=n.n(jr),Mr=Object(bn.b)({width:"32px",height:"32px",display:"flex",justifyContent:"center",alignItems:"center",lineHeight:"16px",$nest:{"&.miniMode":{width:"24px",height:"24px"}}}),_r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleMouseDown=function(){t.props.onClick&&t.props.onClick()},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.miniMode,n=e.disabled,r=vn()(Mr,{miniMode:t});return j.createElement(ut.a,{className:r,appearance:"subtle",onClick:this.handleMouseDown,isDisabled:n,spacing:"none"},j.createElement(Tr.a,{size:"small",label:"Add reaction"}))},t.defaultProps={disabled:!1},t}(j.PureComponent),Ir=Object(Ct.f)()+"px",Pr=gt.colors.N0,Ar=gt.colors.N50A,Nr=gt.colors.N60A,Rr=Object(bn.b)({verticalAlign:"middle",$nest:{"&.miniMode":{display:"inline-block",marginRight:"4px"}}}),Dr=Object(bn.b)({display:"flex"}),Lr=Object(bn.b)({background:Pr,borderRadius:Ir,boxShadow:"0 4px 8px -2px "+Ar+", 0 0 1px "+Nr,$nest:{"&> div":{boxShadow:void 0}}}),zr=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClickOutside=function(e){if(n.state.isOpen){var t=lr.findDOMNode(n);(!t||e.target instanceof Node&&!t.contains(e.target))&&(n.props.onCancel&&n.props.onCancel(),n.close())}},n.showFullPicker=function(e){e.preventDefault();var t=n.props.onMore;t&&t(),n.setState({isOpen:!0,showFullPicker:!0})},n.onEmojiSelected=function(e){var t=n.props.onSelection;e.id&&(t(e.id,n.state.showFullPicker?"emojiPicker":"quickSelector"),n.close(e.id))},n.onTriggerClick=function(){n.props.onOpen&&n.props.onOpen(),n.setState({isOpen:!n.state.isOpen,showFullPicker:!1})},n.state={isOpen:!1,showFullPicker:!1},n}return r.__extends(t,e),t.prototype.componentDidMount=function(){document.addEventListener("click",this.handleClickOutside)},t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.handleClickOutside)},t.prototype.close=function(e){this.setState({isOpen:!1,showFullPicker:!1})},t.prototype.renderSelector=function(){var e=this.props,t=e.emojiProvider,n=e.allowAllEmojis;return j.createElement("div",{className:Dr},j.createElement(Sr,{emojiProvider:t,onSelection:this.onEmojiSelected,showMore:n,onMoreClick:this.showFullPicker}))},t.prototype.renderEmojiPicker=function(){return j.createElement(sr.a,{emojiProvider:this.props.emojiProvider,onSelection:this.onEmojiSelected})},t.prototype.renderContent=function(){return this.state.showFullPicker?this.renderEmojiPicker():this.renderSelector()},t.prototype.renderPopup=function(){return this.state.isOpen?j.createElement("div",{className:Lr},this.renderContent()):null},t.prototype.renderTrigger=function(e){var t=this.props.miniMode;return j.createElement(cr.a,{content:e,position:"bottom left",autoFlip:["top","bottom"],boundariesElement:"scrollParent"},j.createElement(_r,{onClick:this.onTriggerClick,miniMode:t,disabled:this.props.disabled}))},t.prototype.render=function(){var e=this.state.isOpen,t=this.props.miniMode,n=vn()(Rr,{isOpen:e,miniMode:t},this.props.className);return j.createElement("div",{className:n},this.renderTrigger(this.renderPopup()))},t.defaultProps={disabled:!1},t}(j.PureComponent);!function(e){e.ready="READY",e.loading="LOADING",e.error="ERROR",e.notLoaded="NOT_LOADED"}(hn||(hn={}));var Br=Object(bn.b)({display:"inline-block",margin:"2px 4px 0 4px"}),Fr=Object(bn.b)({display:"flex",flexWrap:"wrap",position:"relative",alignItems:"center",borderRadius:"15px",marginTop:"-2px",$nest:{"& > :first-child":{marginLeft:0}}}),qr=function(e){function t(t){var n=e.call(this,t)||this;return n.componentDidUpdate=function(){n.props.status===hn.ready&&n.renderTime&&(En(n.props.createAnalyticsEvent,Sn,n.renderTime),n.renderTime=void 0)},n.isDisabled=function(){return n.props.status!==hn.ready},n.getTooltip=function(){var e=n.props,t=e.status,o=e.errorMessage;switch(t){case hn.error:return o||j.createElement(hr.a,r.__assign({},mr.unexpectedError));case hn.loading:case hn.notLoaded:return j.createElement(hr.a,r.__assign({},mr.loadingReactions));default:return}},n.handleReactionMouseOver=function(e){n.props.onReactionHover&&n.props.onReactionHover(e.emojiId)},n.handlePickerOpen=function(){n.openTime=Date.now(),En(n.props.createAnalyticsEvent,jn,n.props.reactions.length)},n.handleOnCancel=function(){En(n.props.createAnalyticsEvent,Tn,n.openTime),n.openTime=void 0},n.handleOnMore=function(){En(n.props.createAnalyticsEvent,Mn,n.openTime)},n.handleOnSelection=function(e,t){En(n.props.createAnalyticsEvent,_n,t,e,n.props.reactions.find(function(t){return t.emojiId===e}),n.openTime),n.openTime=void 0,n.props.onSelection&&n.props.onSelection(e)},n.renderReaction=function(e){return j.createElement(ar,{key:e.emojiId,className:Br,reaction:e,emojiProvider:n.props.emojiProvider,onClick:n.props.onReactionClick,onMouseOver:n.handleReactionMouseOver,flash:n.props.flash[e.emojiId]})},t.status!==hn.ready&&(n.renderTime=Date.now()),n}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.props.status===hn.notLoaded&&this.props.loadReaction()},t.prototype.renderPicker=function(){var e=this.props,t=e.emojiProvider,n=e.boundariesElement,r=e.allowAllEmojis;return j.createElement(Gn.a,{content:this.getTooltip()},j.createElement(zr,{className:Br,emojiProvider:t,miniMode:!0,boundariesElement:n,allowAllEmojis:r,disabled:this.isDisabled(),onSelection:this.handleOnSelection,onOpen:this.handlePickerOpen,onCancel:this.handleOnCancel,onMore:this.handleOnMore}))},t.prototype.render=function(){return j.createElement("div",{className:Fr},this.props.reactions.map(this.renderReaction),this.renderPicker())},t.defaultProps={flash:{},reactions:[]},t.displayName="Reactions",t}(j.PureComponent),Wr=pn()(qr),Ur=function(e){function t(t){var n=e.call(this,t)||this;return n.getPropsFromActions=function(e){var t=n.props.actionsMapper;return t&&(n.previousActions&&n.propsFromActions&&n.previousActions===e||(n.propsFromActions=t(e))),n.previousActions=e,n.propsFromActions},n.getPropsFromState=function(e){var t=n.props.stateMapper;if(t)return t(e)},n.handleOnChange=function(){n.forceUpdate()},n.state={},n}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;Promise.resolve(this.props.store).then(function(t){e.setState({store:t}),t.onChange(e.handleOnChange)})},t.prototype.componentWillUnmount=function(){this.state.store&&this.state.store.removeOnChangeListener(this.handleOnChange)},t.prototype.render=function(){return this.state.store?this.props.children(Object.assign({},this.getPropsFromState(this.state.store.getState()),this.getPropsFromActions(this.state.store))):null},t}(j.PureComponent),Hr=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderChild=function(e){return j.createElement(zr,r.__assign({},t.props,e))},t.actionsMapper=function(e){return{onSelection:function(n){e.addReaction(t.props.containerAri,t.props.ari,n)}}},t}r.__extends(t,e),t.prototype.render=function(){return j.createElement(Ur,{store:this.props.store,actionsMapper:this.actionsMapper},this.renderChild)}}(j.PureComponent),n("HQ3m")),Vr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderChild=function(e){var n=t.props,o=n.containerAri,i=n.ari;return j.createElement(Hr.e,{data:{containerAri:o,ari:i}},j.createElement(Wr,r.__assign({key:t.props.containerAri+"|"+t.props.ari},t.props,e)))},t.stateMapper=function(e){var n=t.props,r=n.containerAri,o=n.ari,i=e.reactions[r+"|"+o];if(!i)return{status:hn.notLoaded};switch(i.status){case hn.ready:return{reactions:i.reactions,status:i.status,flash:e.flash[r+"|"+o]};default:return{status:hn.loading}}},t.actionsMapper=function(e){return{loadReaction:function(){e.getReactions(t.props.containerAri,t.props.ari)},onReactionClick:function(n){e.toggleReaction(t.props.containerAri,t.props.ari,n)},onReactionHover:function(n){e.getDetailedReaction(t.props.containerAri,t.props.ari,n)},onSelection:function(n){e.addReaction(t.props.containerAri,t.props.ari,n)}}},t}return r.__extends(t,e),t.prototype.render=function(){return j.createElement(Ur,{store:this.props.store,actionsMapper:this.actionsMapper,stateMapper:this.stateMapper},this.renderChild)},t}(j.PureComponent);var Gr,Kr,$r,Jr=function(e,t){return e.count>t.count?-1:e.count<t.count?1:(n=e.emojiId,r=t.emojiId,n.localeCompare(r));var n,r},Yr=function(e){return{status:hn.ready,reactions:e.filter(function(e){return e.count>0})}},Qr=function(e){return r.__assign({},e,{count:e.count+1,reacted:!0})},Xr=function(e){return r.__assign({},e,{count:e.count-1,reacted:!1})},Zr=function(e){return e&&e.length?function(e){var t=e.reduce(function(e,t,n){return e[t.emojiId]=n,e},{}),n=function(n){var r=n.emojiId;return void 0===t[r]?e.length:t[r]};return function(e,t){return n(e)-n(t)}}(e):Jr},eo=function(e,t){return e.concat(t)},to=(function(){function e(e,t){void 0===t&&(t={reactions:{},flash:{}});var n,o,i=this;this.callbacks=[],this.setState=function(e){i.state=r.__assign({},i.state,e),i.triggerOnChange()},this.triggerOnChange=(n=function(){return i.callbacks.forEach(function(e){return e(i.state)})},o=[],function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];0===o.length&&(window.setTimeout(function(){n(o),o=[]}),o=[]),o.push(e)}),this.setReactions=function(e,t,n){var o;i.setState({reactions:r.__assign({},i.state.reactions,(o={},o[e+"|"+t]=n,o))})},this.handleDetailedReactionResponse=function(e){var t=e.containerAri,n=e.ari,o=e.emojiId;i.withReaction(function(t){return r.__assign({},t,{users:e.users})})(t,n,o)},this.flash=function(e){i.setFlash(e.containerAri,e.ari,e.emojiId,!0),window.setTimeout(function(){return i.setFlash(e.containerAri,e.ari,e.emojiId,!1)},700)},this.optmisticUpdate=function(e,t,n){return function(o){i.withReadyReaction(e,t)(function(i){var a=!1,s=i.reactions.map(function(e){if(e.emojiId===n){a=!0;var t=o(e);if(t)return r.__assign({},t,{optimisticallyUpdated:!0})}return e});if(!a){var c=o({containerAri:e,ari:t,emojiId:n,count:0,reacted:!1});c&&s.push(r.__assign({},c,{optimisticallyUpdated:!0}))}return Yr(s)})}},this.doAddReaction=function(e){var t=e.containerAri,n=e.ari,r=e.emojiId;i.optmisticUpdate(t,n,r)(Qr),i.flash(e),i.client.addReaction(t,n,r)},this.doRemoveReaction=function(e){var t=e.containerAri,n=e.ari,r=e.emojiId;i.optmisticUpdate(t,n,r)(Xr),i.client.deleteReaction(t,n,r)},this.getReactions=function(e){var t={};return function(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];t[n]||(window.setTimeout(function(){e(n,t[n]),delete t[n]}),t[n]=[]),t[n].push(r)}}(function(e,t){i.client.getReactions(e,t.reduce(eo)).then(function(t){Object.keys(t).map(function(n){var r=i.getReactionsState(e,n),o=r&&r.status===hn.ready?r.reactions:void 0;i.setReactions(e,n,Yr(t[n].sort(Zr(o))))})})}),this.toggleReaction=this.withReaction(this.doRemoveReaction,this.doAddReaction),this.addReaction=this.withReaction(this.flash,this.doAddReaction),this.getDetailedReaction=function(e,t,n){i.client.getDetailedReaction(e,t,n).then(i.handleDetailedReactionResponse)},this.getState=function(){return i.state},this.onChange=function(e){i.callbacks.push(e)},this.removeOnChangeListener=function(e){i.callbacks=i.callbacks.filter(function(t){return t!==e})},this.client=e,this.state=t}e.prototype.getReactionsState=function(e,t){return this.state.reactions[e+"|"+t]},e.prototype.setFlash=function(e,t,n,o){var i,a;this.setState({flash:r.__assign({},this.state.flash,(i={},i[e+"|"+t]=r.__assign({},this.state.flash[e+"|"+t],(a={},a[n]=o,a)),i))})},e.prototype.withReadyReaction=function(e,t){var n=this;return function(r){var o=n.getReactionsState(e,t);if(o.status===hn.ready){var i=r(o);i&&n.setReactions(e,t,i)}}},e.prototype.withReaction=function(e,t){var n=this;return function(r,o,i){n.withReadyReaction(r,o)(function(n){var a=n.reactions.find(function(e){return function(t){return t.emojiId===e}}(i))||{containerAri:r,ari:o,emojiId:i,count:0,reacted:!1},s=(a.reacted||!t?e:t)(a);if(s&&!(s instanceof Function))return Yr(n.reactions.map(function(e,t){return function(n){return n.emojiId===e?t instanceof Function?t(n):t:n}}(i,s)))})}}}(),n("xc5p")),no=n("YlT8"),ro=n.n(no),oo="editor";function io(e,t){e.update(r.__assign({},t,{eventType:t.eventType||$r.UI,attributes:r.__assign({},e.attributes,t.attributes)})),e.fire(oo)}!function(e){e.created="created",e.updated="updated",e.deleted="deleted"}(Gr||(Gr={})),function(e){e.createCommentButton="createCommentButton",e.createCommentInput="createCommentInput",e.editButton="editButton",e.cancelFailedRequestButton="cancelFailedRequestButton",e.retryFailedRequestButton="retryFailedRequestButton",e.deleteButton="deleteButton",e.saveButton="saveButton",e.cancelButton="cancelButton",e.replyButton="replyButton"}(Kr||(Kr={})),function(e){e.UI="ui",e.TRACK="track"}($r||($r={}));var ao,so,co,lo,uo,po,fo=n("9/5/"),ho=n.n(fo),mo=n("+WM3"),go=n("zOsC"),vo=n("aa7c"),bo=n("dvq/"),yo=n("AaNc"),wo=n("Ewgb"),Oo=n("YyZK"),Eo=mt.default.span(ao||(ao=r.__makeTemplateObject(["\n  display: flex;\n  height: 24px;\n  line-height: 24px;\n  min-width: 70px;\n"],["\n  display: flex;\n  height: 24px;\n  line-height: 24px;\n  min-width: 70px;\n"]))),xo=mt.default.span(so||(so=r.__makeTemplateObject(["\n  display: flex;\n  margin-right: ","px;\n"],["\n  display: flex;\n  margin-right: ","px;\n"])),function(e){var t=e.width;return t&&"large"!==t?Object(Ct.l)():0}),ko=mt.default.div(co||(co=r.__makeTemplateObject(["\n  background: #fff;\n  border-radius: ","px;\n  box-shadow: 0 4px 8px -2px ",", 0 0 1px ",";\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  overflow: auto;\n  max-height: none;\n  height: 410px;\n  width: 280px;\n"],["\n  background: #fff;\n  border-radius: ","px;\n  box-shadow: 0 4px 8px -2px ",", 0 0 1px ",";\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  overflow: auto;\n  max-height: none;\n  height: 410px;\n  width: 280px;\n"])),Object(Ct.f)(),gt.colors.N60A,gt.colors.N60A),Co=mt.default.div(lo||(lo=r.__makeTemplateObject(["\n  font-size: 14px;\n  word-spacing: 4px;\n  line-height: 22px;\n  color: ",";\n  margin-top: 30px;\n  padding: 20px;\n  & > div {\n    width: 240px;\n  }\n  & > div:first-of-type {\n    margin-bottom: 12px;\n  }\n  & > div:nth-of-type(2) {\n    margin-bottom: 20px;\n  }\n"],["\n  font-size: 14px;\n  word-spacing: 4px;\n  line-height: 22px;\n  color: ",";\n  margin-top: 30px;\n  padding: 20px;\n  & > div {\n    width: 240px;\n  }\n  & > div:first-of-type {\n    margin-bottom: 12px;\n  }\n  & > div:nth-of-type(2) {\n    margin-bottom: 20px;\n  }\n"])),gt.colors.N400),So=mt.default.div(uo||(uo=r.__makeTemplateObject(["\n  background-color: ",";\n  height: 100px;\n  width: 100%;\n  display: inline-block;\n"],["\n  background-color: ",";\n  height: 100px;\n  width: 100%;\n  display: inline-block;\n"])),gt.colors.P400),jo=mt.default.img(po||(po=r.__makeTemplateObject(["\n  width: 100px;\n  display: block;\n  margin: 25px auto 0 auto;\n"],["\n  width: 100px;\n  display: block;\n  margin: 25px auto 0 auto;\n"]))),To=n("96nE"),Mo=n("hkcA"),_o=function(){function e(){this.listeners={}}return e.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.off=function(e,t){this.listeners[e]&&(this.listeners[e]=this.listeners[e].filter(function(e){return e!==t}))},e.prototype.emit=function(e,t){this.listeners[e]&&this.listeners[e].forEach(function(e){return e(t)})},e.prototype.destroy=function(){this.listeners={}},e}();function Io(e){return function(t,n){if(!t)throw new Error("event name is required!");var r="string"==typeof t?t:t.key;e.emit(r,n)}}var Po=Object(Oo.a)(go.a),Ao="https://product-fabric.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/-w0bwo4/b/14/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=98644b9c",No=function(e){var t,n,r,o,i;return-1!==(o=e.indexOf("OPR/"))?(t="Opera",n=e.substring(o+4)):-1!==(o=e.indexOf("Opera"))?(t="Opera",n=-1!==(o=e.indexOf("Version"))?e.substring(o+8):e.substring(o+6)):-1!==(o=e.indexOf("MSIE"))?(t="Microsoft Internet Explorer",n=e.substring(o+5)):-1!==(o=e.indexOf("Chrome"))?(t="Chrome",n=e.substring(o+7)):-1!==(o=e.indexOf("Safari"))?(t="Safari",n=-1!==(o=e.indexOf("Version"))?e.substring(o+8):e.substring(o+7)):-1!==(o=e.indexOf("Firefox"))?(t="Firefox",n=e.substring(o+8)):(r=e.lastIndexOf(" ")+1)<(o=e.lastIndexOf("/"))?(t=e.substring(r,o),n=e.substring(o+1),t.toLowerCase()===t.toUpperCase()&&(t=navigator.appName)):(t=navigator.appName,n=""+parseFloat(navigator.appVersion)),-1!==(i=n.indexOf(";"))&&(n=n.substring(0,i)),-1!==(i=n.indexOf(" "))&&(n=n.substring(0,i)),t+" "+n},Ro=function(e,t){var n,r="",o="",i=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var a in i){var s=i[a];if(s.r.test(e)){r=s.s;break}}switch(/Windows/.test(r)&&(o=(n=/Windows (.*)/.exec(r))&&n[1],r="Windows"),r){case"Mac OS X":o=(n=/Mac OS X (10[\.\_\d]+)/.exec(e))&&n[1];break;case"Android":o=(n=/Android ([\.\_\d]+)/.exec(e))&&n[1];break;case"iOS":o=(n=/OS (\d+)_(\d+)_?(\d+)?/.exec(t))&&n[1]+"."+n[2]+"."+(n[3]||0)}return r+" "+o},Do=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={jiraIssueCollectorScriptLoading:!1,showOptOutOption:!1},t.handleRef=function(e){e&&t.setState({target:lr.findDOMNode(e||null)})},t.collectFeedback=function(){"bitbucket"===t.props.product?t.setState({showOptOutOption:!0}):t.openFeedbackPopup()},t.toggleShowOptOutOption=function(){t.setState({showOptOutOption:!t.state.showOptOutOption})},t.openFeedbackPopup=Object(bo.a)("atlassian.editor.feedback.button",function(){if(Io(t.context.editorActions.eventDispatcher)(To.a,{payload:{action:Mo.a.CLICKED,actionSubject:Mo.b.BUTTON,actionSubjectId:Mo.c.BUTTON_FEEDBACK,eventType:Mo.d.UI}}),"function"==typeof t.showJiraCollectorDialogCallback)return t.showJiraCollectorDialogCallback(),!1;t.setState({jiraIssueCollectorScriptLoading:!0,showOptOutOption:!1});var e=t.props.product||"n/a";return window.ATL_JQ_PAGE_PROPS={triggerFunction:function(e){t.setState({jiraIssueCollectorScriptLoading:!1}),"function"==typeof e&&(t.showJiraCollectorDialogCallback=e,window.setTimeout(e,0))},fieldValues:{description:"Please describe the problem you're having or feature you'd like to see:\n\n\n",customfield_11711:r.__spread([e],t.props.labels||[]),customfield_11712:"version: "+t.props.packageName+"@"+t.props.packageVersion+" ("+wo.b+")\n          Browser: "+No(navigator.userAgent)+"\n          OS: "+Ro(navigator.userAgent,navigator.appVersion)},environment:{"Editor Package":t.props.packageName,"Editor Version":t.props.packageVersion,"Editor Core Version":wo.b},priority:"1",components:"15306"},t.loadJiraIssueCollectorScript(),!0}),t.loadJiraIssueCollectorScript=function(){t.hasJquery()&&window.jQuery.ajax({url:Ao,type:"get",cache:!0,dataType:"script"})},t.openLearnMorePage=function(){window.open("https://confluence.atlassian.com/x/NU1VO","_blank"),t.toggleShowOptOutOption()},t.hasJquery=function(){return void 0!==window.jQuery},t}return r.__extends(t,e),t.prototype.handleSpinnerComplete=function(){},t.prototype.render=function(){var e=this.props,t=e.popupsMountPoint,n=e.popupsBoundariesElement,r=e.popupsScrollableElement,o=this.state.jiraIssueCollectorScriptLoading?j.createElement(mo.a,{isCompleting:!1,onComplete:this.handleSpinnerComplete}):void 0;return this.hasJquery()?j.createElement(xo,null,j.createElement(yo.a,{ref:this.handleRef,iconBefore:o,onClick:this.collectFeedback,selected:!1,spacing:"compact"},j.createElement(Eo,null,"Feedback")),this.state.showOptOutOption&&j.createElement(Po,{target:this.state.target,mountTo:t,boundariesElement:n,scrollableElement:r,fitHeight:388,fitWidth:280,handleClickOutside:this.toggleShowOptOutOption,handleEscapeKeydown:this.toggleShowOptOutOption},j.createElement(ko,null,j.createElement(So,null,j.createElement(jo,{src:"https://confluence.atlassian.com/download/attachments/945114421/editorillustration@2x.png?api=v2"})),j.createElement(Co,null,j.createElement("div",null,"We are rolling out a new editing experience across Atlassian products. Help us improve by providing feedback."),j.createElement("div",null,'You can opt-out for now by turning off the "Atlassian Editor" feature on the Labs page in Bitbucket settings.'),j.createElement(vo.a,null,j.createElement(ut.a,{appearance:"primary",onClick:this.openFeedbackPopup},"Give feedback"),j.createElement(ut.a,{appearance:"default",onClick:this.openLearnMorePage},"Learn more")))))):null},t.contextTypes={editorActions:_.object.isRequired},t}(j.PureComponent),Lo=n("Jr4s"),zo=n.n(Lo),Bo=n("T8pV"),Fo=n("7UM5"),qo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.openHelp=function(){var e=t.context.editorActions;Io(e.eventDispatcher)(To.a,{payload:{action:Mo.a.CLICKED,actionSubject:Mo.b.BUTTON,actionSubjectId:Mo.c.BUTTON_HELP,attributes:{inputMethod:Mo.e.TOOLBAR},eventType:Mo.d.UI}}),Fo.a.trackEvent("atlassian.editor.help.button");var n=e._privateGetEditorView();n&&Object(Bo.c)(n.state.tr,n.dispatch)},t}return r.__extends(t,e),t.prototype.render=function(){return this.props.render(this.openHelp)},t.contextTypes={editorActions:_.object.isRequired},t}(j.Component),Wo=function(){return j.createElement(qo,{render:function(e){return j.createElement(yo.a,{onClick:e,title:"Open help dialog",titlePosition:"left",iconBefore:j.createElement(zo.a,{label:"Open help dialog"})})}})},Uo=n("KbTZ"),Ho=n("Wogn"),Vo=n("L6CB"),Go=n("liZE"),Ko=n("5oxn"),$o=n("vkjo"),Jo=n("Dn/2"),Yo=n("pMm4"),Qo=n("Ag6W"),Xo=n.n(Qo),Zo=n("OrOc"),ei=n("b/sn"),ti=n("cD+i"),ni=n("uSMm"),ri=n("Qqzy"),oi=n("O1Kf"),ii=n("FPHD"),ai=n("COqE"),si=n("qa+B"),ci=[gt.colors.R100,gt.colors.R300,gt.colors.R500,gt.colors.Y100,gt.colors.Y300,gt.colors.Y500,gt.colors.G100,gt.colors.G300,gt.colors.G500,gt.colors.T100,gt.colors.T300,gt.colors.T500,gt.colors.B100,gt.colors.B300,gt.colors.B500,gt.colors.P100,gt.colors.P300,gt.colors.P500,gt.colors.N70,gt.colors.N200,gt.colors.N800].map(function(e){return{solid:e,selection:Object(ii.a)(e,.2)}}),li=function(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;var r=Math.abs(t)%ci.length;return{index:r,color:ci[r]}},ui=function(e,t){return t.find().reduce(function(t,n){return n.spec.pointer.sessionId===e?t.concat(n):t},[])};var di=function(e,t,n,r,o){var i=[],a=li(n),s=a.index.toString();if(r){var c="telepointer color-"+s+" telepointer-selection";i.push(ti.Decoration.inline(e,t,{class:c,"data-initial":o},{pointer:{sessionId:n}}))}var l=document.createElement("span");return l.textContent=ai.a,l.className="telepointer color-"+s+" telepointer-selection-badge",l.style.cssText=function(e){var t=e&&e.color||"black";return"border-left: 1px solid "+t+"; border-right: 1px solid "+t+"; margin-right: -2px;"}({color:a.color.solid})+";",l.setAttribute("data-initial",o),i.concat(ti.Decoration.widget(t,l,{pointer:{sessionId:n}}))},pi=function(e,t,n){var r=e.doc,o=e.json,i=e.version;if(r){var a=t.state,s=function(e,t,n,r){var o,i,a=t.schema,s=t.tr;if(r&&r.allowUnsupportedContent?i=!!(o=Object(si.i)(t.schema,e)):(o=(e.content||[]).map(function(e){return a.nodeFromJSON(e)}),i=Array.isArray(o)?!!o.length:!!o),i&&(s.setMeta("addToHistory",!1),s.replaceWith(0,t.doc.nodeSize-2,o),s.setSelection(ei.Selection.atStart(s.doc)),void 0!==typeof n&&r&&r.useNativePlugin)){var c={version:n,unconfirmed:[]};s.setMeta("collab$",c)}return s}(r,a,i,n);s.setMeta("isRemote",!0);var c=a.apply(s);t.updateState(c)}else o&&fi(o,void 0,t)},fi=function(e,t,n,o){if(e&&e.length){var i,a=n.state,s=n.state.schema,c=e.map(function(e){return ni.Step.fromJSON(s,e)});if(o&&o.useNativePlugin&&t?i=Object(oi.receiveTransaction)(a,c,t):(i=a.tr,c.forEach(function(e){return i.step(e)})),i){i.setMeta("addToHistory",!1),i.setMeta("isRemote",!0);var l=a.selection,u=l.from,d=l.to,p=r.__read(e,1)[0];u===p.from&&d===p.to&&i.setSelection(a.selection);var f=a.apply(i);n.updateState(f)}}};function hi(e){return e instanceof ei.AllSelection}function mi(e){return e instanceof ei.NodeSelection}var gi=function(){function e(e){void 0===e&&(e=new Map),this.participants=e}return e.prototype.add=function(t){var n=new Map(this.participants);return t.forEach(function(e){n.set(e.sessionId,e)}),new e(n)},e.prototype.remove=function(t){var n=new Map(this.participants);return t.forEach(function(e){n.delete(e)}),new e(n)},e.prototype.update=function(t,n){var o=new Map(this.participants),i=o.get(t);return i?(o.set(t,r.__assign({},i,{lastActive:n})),new e(o)):this},e.prototype.toArray=function(){return Array.from(this.participants.values())},e.prototype.get=function(e){return this.participants.get(e)},e.prototype.eq=function(e){return this.toArray().map(function(e){return e.sessionId}).sort(function(e,t){return e>t?-1:1}).join("")===e.toArray().map(function(e){return e.sessionId}).sort(function(e,t){return e>t?-1:1}).join("")},e}(),vi=new ei.PluginKey("collabEditPlugin"),bi=function(e){["init","connected","data","presence","telepointer","local-steps","error"].forEach(function(t){e.unsubscribeAll(t)})},yi=Object(ri.a)(function(e,t){e.initialize(function(){return t.state},function(e){return ni.Step.fromJSON(t.state.schema,e)})}),wi=!1,Oi=function(e,t,n,o){var i;return new ei.Plugin({key:vi,state:{init:function(e){return o&&vi.getState(o)||ki.init(e)},apply:function(t,n,r,o){var a=n.apply(t);!0!==t.getMeta("isRemote")&&i&&i.send(t,r,o);var s=n.activeParticipants,c=a.activeParticipants,l=a.sessionId;if(i){var u=!r.selection.eq(o.selection),d=!s.eq(c);if(l&&u&&!t.docChanged||l&&d){var p=function(e){return{type:"textSelection",anchor:e.anchor,head:hi(e)||mi(e)?e.head-1:e.head}}(o.selection);window.setTimeout(i.sendMessage.bind(i),0,{type:"telepointer",selection:p,sessionId:l})}}return e(vi,{activeParticipants:c,sessionId:l}),a}},props:{decorations:function(e){return this.getState(e).decorations}},filterTransaction:function(e){return!(!wi&&e.docChanged)},view:function(e){var o=this;return t.subscribe("collabEditProvider",function(t,a){return r.__awaiter(o,void 0,void 0,function(){return r.__generator(this,function(t){switch(t.label){case 0:return a?[4,a]:[3,2];case 1:return i=t.sent(),wi&&bi(i),i.on("init",function(t){wi=!0,pi(t,e,n)}).on("connected",function(t){return function(e,t){var n=t.state.tr;t.dispatch(n.setMeta("sessionId",e))}(t,e)}).on("data",function(t){return function(e,t,n){var r=e.json,o=e.newState,i=e.userIds;r?fi(r,void 0===i?[]:i,t,n):o&&t.updateState(o)}(t,e,n)}).on("presence",function(t){return function(e,t){var n=t.state.tr;t.dispatch(n.setMeta("presence",e))}(t,e)}).on("telepointer",function(t){return function(e,t){var n=t.state.tr;t.dispatch(n.setMeta("telepointer",e))}(t,e)}).on("local-steps",function(t){var n=t.steps,r=e.state,o=r.tr;n.forEach(function(e){return o.step(e)});var i=r.apply(o);e.updateState(i)}).on("error",function(){}),yi(i,e),[3,3];case 2:i=null,wi=!1,t.label=3;case 3:return[2]}})})}),{destroy:function(){t.unsubscribeAll("collabEditProvider"),i&&bi(i),i=null,wi=!1}}}})},Ei=function(e){return e instanceof ni.ReplaceStep},xi=function(e,t){var n=e.doc.resolve(t),r=ei.Selection.findFrom(n,-1,!0),o=ei.Selection.findFrom(n,1,!0);return r?r.from:o?o.from:t},ki=function(){function e(e,t,n){this.decorationSet=e,this.participants=t,this.sid=n}return Object.defineProperty(e.prototype,"decorations",{get:function(){return this.decorationSet},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeParticipants",{get:function(){return this.participants},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sessionId",{get:function(){return this.sid},enumerable:!0,configurable:!0}),e.prototype.getInitial=function(e){var t=this.participants.get(e);return t?t.name.substring(0,1).toUpperCase():"X"},e.prototype.apply=function(t){var n=this,r=this.decorationSet,o=this.participants,i=this.sid,a=t.getMeta("presence"),s=t.getMeta("telepointer"),c=t.getMeta("sessionId");c&&(i=c.sid);var l=[],u=[];if(a){var d=a.joined,p=void 0===d?[]:d,f=a.left,h=void 0===f?[]:f;o=(o=o.remove(h.map(function(e){return e.sessionId}))).add(p),h.forEach(function(e){var t=ui(e.sessionId,r);t&&(u=u.concat(t))})}if(s){var m=s.sessionId;if(o.get(m)&&m!==i){var g=ui(s.sessionId,r);g&&(u=u.concat(g));var v=s.selection,b=v.anchor,y=v.head,w=b<y?b:y,O=b>=y?b:y,E=O-w>0,x=1,k=1;try{x=xi(t,E?Math.max(w-1,0):w),k=E?xi(t,O):x}catch(e){}l=l.concat(di(x,k,m,E,this.getInitial(m)))}}if(t.docChanged){try{r=r.map(t.mapping,t.doc,{onRemove:function(e){if(e.pointer&&e.pointer.sessionId){var r=t.steps.filter(Ei)[0];if(r){var o=e.pointer.sessionId,i=r,a=i.slice.content.size,s=i.from,c=xi(t,a?Math.min(s+a,t.doc.nodeSize-3):Math.max(s,1));l=l.concat(di(c,c,o,!1,n.getInitial(o)))}}}})}catch(e){}t.steps.filter(Ei).forEach(function(e){var t=e,n=t.from,o=t.to;r.find(n,o).forEach(function(e){e.from!==e.to&&u.push(e)})})}var C=t.selection;return r.find().forEach(function(e){e.type.toDOM&&(e.from===C.from&&e.to===C.to?(e.type.toDOM.classList.add("telepointer-dim"),e.type.side=-1):(e.type.toDOM.classList.remove("telepointer-dim"),e.type.side=0))}),u.length&&(r=r.remove(u)),l.length&&(r=r.add(t.doc,l)),new e(r,o,i)},e.init=function(t){var n=t.doc;return new e(ti.DecorationSet.create(n,[]),new gi)},e}(),Ci=n("c/4u"),Si=mt.default.div(Ii||(Ii=r.__makeTemplateObject(["\n  margin-right: ","px;\n  display: flex;\n  align-items: center;\n  div:last-child button.invite-to-edit {\n    border-radius: 50%;\n    height: 32px;\n    width: 32px;\n    padding: 2px;\n  }\n"],["\n  margin-right: ","px;\n  display: flex;\n  align-items: center;\n  div:last-child button.invite-to-edit {\n    border-radius: 50%;\n    height: 32px;\n    width: 32px;\n    padding: 2px;\n  }\n"])),Object(Ct.l)()),ji=mt.default.div(Pi||(Pi=r.__makeTemplateObject(["\n  background: ",";\n  border-radius: 50%;\n  min-width: ","px;\n  margin-left: -","px;\n"],["\n  background: ",";\n  border-radius: 50%;\n  min-width: ","px;\n  margin-left: -","px;\n"])),gt.colors.N20,4*Object(Ct.l)(),Object(Ct.l)()/2),Ti=Object(mt.keyframes)(Ai||(Ai=r.__makeTemplateObject(["\n0% {\n  transform: scale(0);\n}\n\n50% {\n  transform: scale(1.1);\n}\n\n100% {\n  transform: scale(1);\n}\n"],["\n0% {\n  transform: scale(0);\n}\n\n50% {\n  transform: scale(1.1);\n}\n\n100% {\n  transform: scale(1);\n}\n"]))),Mi=mt.default.div(Ni||(Ni=r.__makeTemplateObject(["\n  position: relative;\n  align-self: center;\n\n  ","\n\n  &::before {\n    content: '","';\n    display: block;\n    position: absolute;\n    right: -1px;\n    bottom: -1px;\n    width: 13px;\n    height: 13px;\n    z-index: ",";\n    border-radius: 3px;\n    background: ",";\n    color: #fff;\n    font-size: 9px;\n    line-height: 0;\n    padding-top: 7px;\n    text-align: center;\n    box-shadow: 0 0 1px #fff;\n    box-sizing: border-box;\n\n    ","\n  }\n"],["\n  position: relative;\n  align-self: center;\n\n  ","\n\n  &::before {\n    content: '","';\n    display: block;\n    position: absolute;\n    right: -1px;\n    bottom: -1px;\n    width: 13px;\n    height: 13px;\n    z-index: ",";\n    border-radius: 3px;\n    background: ",";\n    color: #fff;\n    font-size: 9px;\n    line-height: 0;\n    padding-top: 7px;\n    text-align: center;\n    box-shadow: 0 0 1px #fff;\n    box-sizing: border-box;\n\n    ","\n  }\n"])),function(e){if(e.shouldAnimate)return"\n    & > div {\n      animation: "+Ti+" 500ms 1;\n      animation-fill-mode: both;\n    }\n  "},function(e){return e.avatar},Ko.r,function(e){return e.badgeColor},function(e){if(e.shouldAnimate)return"\n    animation: "+Ti+" 250ms 1;\n    animation-fill-mode: both;\n    animation-delay: 400ms;\n  "});function _i(e){var t=li(e.sessionId).color.solid,n=e.name.substr(0,1).toUpperCase(),o=(e.children,e.theme,r.__rest(e,["children","theme"]));return j.createElement(Mi,{badgeColor:t,avatar:n,shouldAnimate:e.isInteractive},j.createElement(Te.a,r.__assign({},o)))}var Ii,Pi,Ai,Ni,Ri,Di,Li=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onAvatarClick=function(){},t.renderInviteToEditButton=function(){var e=t.props,n=e.inviteToEditComponent,r=e.inviteToEditHandler,o=e.isInviteToEditButtonSelected,i=e.intl.formatMessage,a=j.createElement(yo.a,{className:"invite-to-edit",onClick:r,selected:o,title:i(Ci.a.inviteToEditButtonTitle),titlePosition:"bottom",iconBefore:j.createElement(Xo.a,{label:i(Ci.a.inviteToEditButtonTitle)})});return n?j.createElement(ji,null,j.createElement(n,null,a)):r?j.createElement(ji,null,a):null},t.renderAvatars=function(e){if(!e.data)return null;var n=e.data,r=n.sessionId,o=n.activeParticipants.toArray().map(function(e){return{email:e.email,key:e.sessionId,name:e.name,src:e.avatar,sessionId:e.sessionId,size:"medium",component:_i}}).sort(function(e){return e.sessionId===r?-1:1});return o.length?j.createElement(Si,null,j.createElement(Yo.a,{appearance:"stack",size:"medium",data:o,onAvatarClick:t.onAvatarClick}),t.renderInviteToEditButton()):null},t}return r.__extends(t,e),t.prototype.render=function(){return j.createElement(Zo.a,{plugins:{data:vi},render:this.renderAvatars,editorView:this.props.editorView})},t}(j.Component),zi=Object(hr.f)(Li),Bi=mt.default.div(Ri||(Ri=r.__makeTemplateObject(["\n  display: flex;\n"],["\n  display: flex;\n"]))),Fi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.transitionEvent=Object(ai.J)(),t.forceComponentUpdate=function(e){e.propertyName.includes("width")&&t.forceUpdate()},t.removeModeChangeListener=function(e){e&&t.transitionEvent&&e.removeEventListener(t.transitionEvent,t.forceComponentUpdate)},t.addModeChangeListener=function(e){e&&t.transitionEvent&&e.addEventListener(t.transitionEvent,t.forceComponentUpdate)},t}return r.__extends(t,e),t.prototype.shouldComponentUpdate=function(e){var t=this.props,n=t.editorView,r=t.editorActions,o=t.items,i=t.providerFactory,a=t.eventDispatcher,s=t.popupsMountPoint,c=t.popupsBoundariesElement,l=t.popupsScrollableElement,u=t.containerElement,d=t.disabled;return!(e.editorView===n&&e.editorActions===r&&e.items===o&&e.providerFactory===i&&e.eventDispatcher===a&&e.popupsMountPoint===s&&e.popupsBoundariesElement===c&&e.popupsScrollableElement===l&&e.containerElement===u&&e.disabled===d)},t.prototype.componentDidMount=function(){this.addModeChangeListener(this.props.contentArea)},t.prototype.componentWillReceiveProps=function(e){this.props.contentArea!==e.contentArea&&(this.removeModeChangeListener(this.props.contentArea),this.addModeChangeListener(e.contentArea))},t.prototype.componentWillUnmount=function(){this.removeModeChangeListener(this.props.contentArea)},t.prototype.render=function(){var e=this.props,t=e.items,n=e.editorView,r=e.editorActions,o=e.eventDispatcher,i=e.providerFactory,a=e.appearance,s=e.popupsMountPoint,c=e.popupsBoundariesElement,l=e.popupsScrollableElement,u=e.containerElement,d=e.disabled,p=e.dispatchAnalyticsEvent;return t&&n?j.createElement(Bi,null,t.map(function(e,t){var f={key:t},h=e({editorView:n,editorActions:r,eventDispatcher:o,providerFactory:i,dispatchAnalyticsEvent:p,appearance:a,popupsMountPoint:s,popupsBoundariesElement:c,popupsScrollableElement:l,containerElement:u,disabled:d});return h&&j.cloneElement(h,f)})):null},t}(j.Component),qi=n("wjtU"),Wi=n("UHEz"),Ui=mt.default.div(Hi||(Hi=r.__makeTemplateObject(["\n  display: flex;\n"],["\n  display: flex;\n"])));!function(e){e[e.XXL=6]="XXL",e[e.XL=5]="XL",e[e.L=4]="L",e[e.M=3]="M",e[e.S=2]="S",e[e.XXXS=1]="XXXS"}(Di||(Di={}));var Hi,Vi=[{width:650,size:Di.XXL},{width:580,size:Di.XL},{width:500,size:Di.L},{width:450,size:Di.M},{width:370,size:Di.S}],Gi=[{width:610,size:Di.XXL},{width:540,size:Di.XL},{width:460,size:Di.L},{width:450,size:Di.M},{width:370,size:Di.S}],Ki=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.shouldComponentUpdate=function(e){return e.toolbarSize!==this.props.toolbarSize||e.disabled!==this.props.disabled||e.popupsMountPoint===this.props.popupsMountPoint||e.popupsBoundariesElement===this.props.popupsBoundariesElement||e.popupsScrollableElement===this.props.popupsScrollableElement||e.isReducedSpacing!==this.props.isToolbarReducedSpacing},t.prototype.render=function(){var e=this.props,t=e.appearance,n=e.editorView,r=e.editorActions,o=e.eventDispatcher,i=e.providerFactory,a=e.items,s=e.popupsMountPoint,c=e.popupsBoundariesElement,l=e.popupsScrollableElement,u=e.toolbarSize,d=e.disabled,p=e.isToolbarReducedSpacing,f=e.dispatchAnalyticsEvent;return a&&a.length?j.createElement(Ui,null,a.map(function(e,a){var h={key:a},m=e({editorView:n,editorActions:r,eventDispatcher:o,providerFactory:i,appearance:t,popupsMountPoint:s,popupsBoundariesElement:c,popupsScrollableElement:l,disabled:d,toolbarSize:u,isToolbarReducedSpacing:p,containerElement:void 0,dispatchAnalyticsEvent:f});return m&&j.cloneElement(m,h)})):null},t}(j.Component),$i=function(e,t){return(function(e){return Object(Wi.a)(e)?Vi:Gi}(t).find(function(t){var n=t.width;return e>n})||{size:Di.XXXS}).size};function Ji(e){var t=$i(e.width||0,e.appearance);return j.createElement(Ki,r.__assign({},e,{toolbarSize:t,isToolbarReducedSpacing:t<Di.XXL}))}function Yi(e){return j.createElement("div",{style:{width:"100%",minWidth:"254px"}},j.createElement(qi.a,null,function(t){return void 0===t?null:j.createElement(Ji,r.__assign({},e,{width:t}))}))}var Qi,Xi,Zi,ea,ta,na,ra,oa,ia,aa,sa,ca,la,ua,da,pa,fa,ha,ma,ga=n("x4bh"),va=n("Pgp1"),ba=n("iExR"),ya=n("fqLF"),wa=n("TYyE"),Oa=Object(mt.css)(Qi||(Qi=r.__makeTemplateObject(["\n  .inline-node--mobile {\n    display: inline-block !important;\n  }\n"],["\n  .inline-node--mobile {\n    display: inline-block !important;\n  }\n"]))),Ea=n("ujrx"),xa=Object(mt.css)(Xi||(Xi=r.__makeTemplateObject(["\n  .ProseMirror .telepointer {\n    position: relative;\n    transition: opacity 200ms;\n\n    &.telepointer-selection {\n      line-height: 1.2;\n      pointer-events: none;\n      user-select: none;\n    }\n\n    &.telepointer-selection-badge::after {\n      content: attr(data-initial);\n      position: absolute;\n      display: block;\n      top: -14px;\n      font-size: 9px;\n      padding: 2px;\n      color: white;\n      left: -1px;\n      border-radius: 2px 2px 2px 0;\n      line-height: initial;\n    }\n\n    &.telepointer-dim {\n      opacity: 0.2;\n    }\n\n    ",";\n  }\n"],["\n  .ProseMirror .telepointer {\n    position: relative;\n    transition: opacity 200ms;\n\n    &.telepointer-selection {\n      line-height: 1.2;\n      pointer-events: none;\n      user-select: none;\n    }\n\n    &.telepointer-selection-badge::after {\n      content: attr(data-initial);\n      position: absolute;\n      display: block;\n      top: -14px;\n      font-size: 9px;\n      padding: 2px;\n      color: white;\n      left: -1px;\n      border-radius: 2px 2px 2px 0;\n      line-height: initial;\n    }\n\n    &.telepointer-dim {\n      opacity: 0.2;\n    }\n\n    ",";\n  }\n"])),ci.map(function(e,t){return function(e,t){return"\n  &.color-"+t+" {\n    background-color: "+e.selection+";\n    &::after {\n      background-color: "+e.solid+";\n      color: #fff;\n      border-color: "+e.solid+";\n    }\n  }\n"}(e,t)})),ka=".ProseMirror-gapcursor",Ca='[layout="wrap-left"]',Sa='[layout="wrap-right"]',ja="\n  /* =============== GAP CURSOR ================== */\n  .ProseMirror {\n    "+ka+" {\n      display: none;\n      pointer-events: none;\n      position: relative;\n\n      & span {\n        caret-color: transparent;\n        position: absolute;\n        height: 100%;\n        width: 100%;\n        display: block;\n      }\n\n      & span::after {\n        animation: 1.1s "+Object(mt.keyframes)(Zi||(Zi=r.__makeTemplateObject(["\nto {\n  visibility: hidden;\n}\n"],["\nto {\n  visibility: hidden;\n}\n"])))+" steps(2, start) infinite;\n        border-left: 1px solid;\n        content: '';\n        display: block;\n        position: absolute;\n        top: 0;\n        height: 100%;\n      }\n      &.-left span::after {\n        left: -3px;\n      }\n      &.-right span::after {\n        right: -3px;\n      }\n      & span[layout='full-width'],\n      & span[layout='wide'] {\n        margin-left: 50%;\n        transform: translateX(-50%);\n      }\n      &"+Sa+" {\n        float: right;\n      }\n\n      /* fix vertical alighment of gap cursor */\n      &:first-child + ul,\n      &:first-child + span + ul,\n      &:first-child + ol,\n      &:first-child + span + ol,\n      &:first-child + pre,\n      &:first-child + span + pre,\n      &:first-child + blockquote,\n      &:first-child + span + blockquote {\n        margin-top: 0;\n      }\n    }\n    &.ProseMirror-focused "+ka+" {\n      display: block;\n    }\n  }\n\n  /* This hack below is for two images aligned side by side */\n  "+ka+Ca+" + span + "+Ca+",\n  "+ka+Sa+" + span + "+Sa+",\n  "+ka+" + "+Ca+" + "+Sa+",\n  "+ka+" + "+Ca+" + span + "+Sa+",\n  "+ka+" + "+Sa+" + "+Ca+",\n  "+ka+" + "+Sa+" + span + "+Ca+",\n  "+Ca+" + "+ka+" + "+Sa+",\n  "+Ca+" + "+ka+" + span "+Sa+",\n  "+Sa+" + "+ka+" + "+Ca+",\n  "+Sa+" + "+ka+" + span + "+Ca+" {\n    clear: none;\n  }\n\n  "+Ca+" + "+ka+" + "+Sa+" > div,\n  "+Ca+" + "+ka+" + span + "+Sa+" > div,\n  "+Sa+" + "+ka+" + "+Ca+" > div,\n  "+Sa+" + "+ka+" + span + "+Ca+" > div,\n  "+ka+" + "+Sa+" + "+Ca+" > div,\n  "+ka+" + "+Sa+" + span + "+Ca+" > div,\n  "+ka+" + "+Ca+" + "+Sa+" > div,\n  "+ka+" + "+Ca+" + span + "+Sa+" > div {\n    margin-right: 0;\n    margin-left: 0;\n    margin-bottom: 0;\n  }\n\n  "+Ca+" + "+ka+",\n  "+Sa+" + "+ka+" {\n    float: left;\n  }\n\n  "+ka+" + "+Ca+" + span + "+Sa+"::after,\n  "+ka+" + "+Sa+" + span + "+Ca+"::after,\n  "+Ca+" + "+ka+" + "+Sa+"::after,\n  "+Ca+" + "+ka+" + span + "+Sa+"::after,\n  "+Sa+" + "+ka+" + "+Ca+"::after,\n  "+Sa+" + "+ka+" + span + "+Ca+"::after {\n    visibility: hidden;\n    display: block;\n    font-size: 0;\n    content: ' ';\n    clear: both;\n    height: 0;\n  }\n\n  "+Ca+" + "+ka+" + "+Sa+" + *,\n  "+Ca+" + "+ka+" + "+Sa+" + span + *,\n  "+Sa+" + "+ka+" + "+Ca+" + *,\n  "+Sa+" + "+ka+" + "+Ca+" + span + *,\n  "+Ca+" + "+ka+" + span + "+Sa+" + *,\n  "+Sa+" + "+ka+" + span + "+Ca+" + *,\n  "+ka+" + "+Ca+" + span + "+Sa+" + *,\n  "+ka+" + "+Sa+" + span + "+Ca+" + *,\n  "+Ca+" + "+ka+" + "+Sa+" + * > *,\n  "+Ca+" + "+ka+" + "+Sa+" + span + * > *,\n  "+Sa+" + "+ka+" + "+Ca+" + * > *,\n  "+Sa+" + "+ka+" + "+Ca+" + span + * > *,\n  "+Ca+" + "+ka+" + span + "+Sa+" + * > *,\n  "+Sa+" + "+ka+" + span + "+Ca+" + * > *,\n  "+ka+" + "+Ca+" + span + "+Sa+" + * > *,\n  "+ka+" + "+Sa+" + span + "+Ca+" + * > * {\n    margin-top: 0;\n  }\n",Ta=n("SdOD"),Ma=Object(mt.css)(ea||(ea=r.__makeTemplateObject(["\n  .ProseMirror .placeholder-decoration {\n    position: relative;\n    color: ",";\n    pointer-events: none;\n    display: block;\n\n    > span {\n      position: absolute;\n      pointer-events: none;\n    }\n  }\n"],["\n  .ProseMirror .placeholder-decoration {\n    position: relative;\n    color: ",";\n    pointer-events: none;\n    display: block;\n\n    > span {\n      position: absolute;\n      pointer-events: none;\n    }\n  }\n"])),gt.colors.N90),_a=n("YBVB"),Ia=n("qS+/"),Pa=Object(mt.css)(ta||(ta=r.__makeTemplateObject(["\n  .ProseMirror {\n    ",";\n    ",";\n  }\n"],["\n  .ProseMirror {\n    ",";\n    ",";\n  }\n"])),_a.a,Ia.a),Aa=n("JaVE"),Na=(gt.colors.B100,gt.colors.B400,gt.colors.B50,gt.colors.N0,gt.colors.N20,gt.colors.N30,gt.colors.N40),Ra=gt.colors.N100,Da=(gt.colors.N500,gt.colors.N700,gt.colors.N900,Object(Ct.g)()),La=Na,za=Ra,Ba=2,Fa=Object(mt.css)(na||(na=r.__makeTemplateObject(["\n  .ProseMirror .code-block {\n    background: ",";\n    font-family: ",";\n    border: ","px solid transparent;\n    border-radius: ","px;\n    font-size: 14px;\n    line-height: 24px;\n    margin: "," 0 0 0;\n    counter-reset: line;\n    display: flex;\n    min-width: ","px;\n\n    .line-number-gutter {\n      background-color: ",";\n      color: ",";\n      text-align: right;\n      user-select: none;\n      padding: "," 8px;\n      border-radius: ","px;\n      font-size: 12px;\n      line-height: 24px;\n\n      span {\n        display: block;\n\n        &::before {\n          counter-increment: line;\n          content: counter(line);\n          display: inline-block;\n        }\n      }\n    }\n\n    .code-content {\n      color: ",";\n      border-radius: ","px;\n      padding: "," 16px;\n      overflow: auto;\n      display: flex;\n      flex: 1;\n\n      pre {\n        width: 100%;\n      }\n      code {\n        display: inline-block;\n        min-width: 100%;\n        tab-size: 4;\n      }\n    }\n\n    /* We render this as a basic box in IE11 because it can't handle scrolling */\n    &.ie11 {\n      display: block;\n      .line-number-gutter {\n        display: none;\n      }\n      .code-content {\n        display: block;\n        overflow: visible;\n\n        pre {\n          width: auto;\n        }\n        code {\n          display: inline;\n        }\n      }\n    }\n  }\n\n  .ProseMirror li > .code-block {\n    margin: 0;\n  }\n\n  /* Danger when top level node */\n  .ProseMirror .danger.code-block {\n    border: ","px solid ",";\n    .line-number-gutter {\n      background-color: ",";\n      color: ",";\n    }\n\n    .code-content {\n      background-color: ",";\n    }\n  }\n\n  /* Danger when nested node */\n  .ProseMirror .danger .code-block {\n    .line-number-gutter {\n      background-color: rgba(255, 143, 115, 0.5);\n      color: ",";\n    }\n\n    .code-content {\n      background-color: ",";\n      background-color: rgba(255, 189, 173, 0.5);\n    }\n  }\n"],["\n  .ProseMirror .code-block {\n    background: ",";\n    font-family: ",";\n    border: ","px solid transparent;\n    border-radius: ","px;\n    font-size: 14px;\n    line-height: 24px;\n    margin: "," 0 0 0;\n    counter-reset: line;\n    display: flex;\n    min-width: ","px;\n\n    .line-number-gutter {\n      background-color: ",";\n      color: ",";\n      text-align: right;\n      user-select: none;\n      padding: "," 8px;\n      border-radius: ","px;\n      font-size: 12px;\n      line-height: 24px;\n\n      span {\n        display: block;\n\n        &::before {\n          counter-increment: line;\n          content: counter(line);\n          display: inline-block;\n        }\n      }\n    }\n\n    .code-content {\n      color: ",";\n      border-radius: ","px;\n      padding: "," 16px;\n      overflow: auto;\n      display: flex;\n      flex: 1;\n\n      pre {\n        width: 100%;\n      }\n      code {\n        display: inline-block;\n        min-width: 100%;\n        tab-size: 4;\n      }\n    }\n\n    /* We render this as a basic box in IE11 because it can't handle scrolling */\n    &.ie11 {\n      display: block;\n      .line-number-gutter {\n        display: none;\n      }\n      .code-content {\n        display: block;\n        overflow: visible;\n\n        pre {\n          width: auto;\n        }\n        code {\n          display: inline;\n        }\n      }\n    }\n  }\n\n  .ProseMirror li > .code-block {\n    margin: 0;\n  }\n\n  /* Danger when top level node */\n  .ProseMirror .danger.code-block {\n    border: ","px solid ",";\n    .line-number-gutter {\n      background-color: ",";\n      color: ",";\n    }\n\n    .code-content {\n      background-color: ",";\n    }\n  }\n\n  /* Danger when nested node */\n  .ProseMirror .danger .code-block {\n    .line-number-gutter {\n      background-color: rgba(255, 143, 115, 0.5);\n      color: ",";\n    }\n\n    .code-content {\n      background-color: ",";\n      background-color: rgba(255, 189, 173, 0.5);\n    }\n  }\n"])),Object(Aa.a)({light:gt.colors.N20,dark:gt.colors.DN50}),Da,Ko.g,Object(Ct.f)(),Ko.D,Ko.v,Object(Aa.a)({light:"rgba(9, 30, 66, 0.04)",dark:gt.colors.DN40}),gt.colors.N300,"12px",Object(Ct.f)(),Object(Aa.a)({light:gt.colors.N800,dark:gt.colors.DN500}),Object(Ct.f)(),"12px",Ko.g,Ko.e,gt.colors.R75,Ko.h,Ko.d,Ko.h,Ko.d),qa=Object(mt.css)(ra||(ra=r.__makeTemplateObject(["\n  .ProseMirror li {\n    position: relative;\n\n    > p:not(:first-child) {\n      margin: 4px 0 0 0;\n    }\n  }\n\n  /* Make sure li selections wrap around markers */\n  li.ProseMirror-selectednode {\n    outline: none;\n  }\n\n  li.ProseMirror-selectednode::after {\n    content: '';\n    position: absolute;\n    left: -32px;\n    right: -2px;\n    top: -2px;\n    bottom: -2px;\n    border: 2px solid #8cf;\n    pointer-events: none;\n  }\n"],["\n  .ProseMirror li {\n    position: relative;\n\n    > p:not(:first-child) {\n      margin: 4px 0 0 0;\n    }\n  }\n\n  /* Make sure li selections wrap around markers */\n  li.ProseMirror-selectednode {\n    outline: none;\n  }\n\n  li.ProseMirror-selectednode::after {\n    content: '';\n    position: absolute;\n    left: -32px;\n    right: -2px;\n    top: -2px;\n    bottom: -2px;\n    border: 2px solid #8cf;\n    pointer-events: none;\n  }\n"]))),Wa=n("MqYR"),Ua=Object(mt.css)(oa||(oa=r.__makeTemplateObject(["\n  .ProseMirror {\n    ",";\n  }\n"],["\n  .ProseMirror {\n    ",";\n  }\n"])),Wa.a),Ha=n("uSgc"),Va=Object(mt.css)(ia||(ia=r.__makeTemplateObject(["\n  .ProseMirror {\n    "," & [layout='full-width'] .media-single,\n    & [layout='wide'] .media-single {\n      margin-left: 50%;\n      transform: translateX(-50%);\n    }\n\n    & [layout^='wrap-'] + [layout^='wrap-'] {\n      clear: none;\n      & + p,\n      & + div[class^='fabric-editor-align'],\n      & + ul,\n      & + ol,\n      & + h1,\n      & + h2,\n      & + h3,\n      & + h4,\n      & + h5,\n      & + h6 {\n        clear: both !important;\n      }\n      & .media-single {\n        margin-left: 0;\n        margin-right: 0;\n      }\n    }\n  }\n\n  .mediaSingle-resize-handle-right,\n  .mediaSingle-resize-handle-left {\n    display: flex;\n    flex-direction: column;\n\n    /* vertical align */\n    justify-content: center;\n  }\n\n  .mediaSingle-resize-handle-right {\n    align-items: flex-end;\n    padding-right: 12px;\n    margin-right: -12px;\n  }\n\n  .mediaSingle-resize-handle-left {\n    align-items: flex-start;\n    padding-left: 12px;\n    margin-left: -12px;\n  }\n\n  .mediaSingle-resize-handle-right::after,\n  .mediaSingle-resize-handle-left::after {\n    content: ' ';\n    display: flex;\n    width: 3px;\n    height: 64px;\n\n    border-radius: 6px;\n  }\n\n  .media-single:hover .mediaSingle-resize-handle-left::after,\n  .media-single:hover .mediaSingle-resize-handle-right::after {\n    background: ",";\n  }\n\n  .mediaSingle-selected .mediaSingle-resize-handle-right::after,\n  .mediaSingle-selected .mediaSingle-resize-handle-left::after,\n  .media-single .mediaSingle-resize-handle-right:hover::after,\n  .media-single .mediaSingle-resize-handle-left:hover::after,\n  .media-single.is-resizing .mediaSingle-resize-handle-right::after,\n  .media-single.is-resizing .mediaSingle-resize-handle-left::after {\n    background: ",";\n  }\n\n  .__resizable_base__ {\n    left: unset !important;\n    width: auto !important;\n    height: auto !important;\n  }\n\n  /* Danger when top level node for smart cards / inline links */\n  .danger > div > div > .media-card-frame,\n  .danger > span > a {\n    background-color: ",";\n    box-shadow: 0px 0px 0px ","px\n      ",";\n    transition: background-color 0s;\n    transition: box-shadow 0s;\n  }\n\n  /* Danger when nested node or common */\n  .danger {\n    /* Media single */\n    .media-single div div div::after {\n      border: ","px solid ",";\n    }\n\n    .mediaSingle-selected .mediaSingle-resize-handle-right::after,\n    .mediaSingle-selected .mediaSingle-resize-handle-left::after {\n      background: ",";\n    }\n\n    /* Smart cards */\n    div div .media-card-frame,\n    .inlineCardView-content-wrap > span > a {\n      background-color: rgb(255, 189, 173, 0.5); /* R75 with 50% opactiy */\n      transition: background-color 0s;\n    }\n\n    div div .media-card-frame::after {\n      box-shadow: none;\n    }\n  }\n"],["\n  .ProseMirror {\n    "," & [layout='full-width'] .media-single,\n    & [layout='wide'] .media-single {\n      margin-left: 50%;\n      transform: translateX(-50%);\n    }\n\n    & [layout^='wrap-'] + [layout^='wrap-'] {\n      clear: none;\n      & + p,\n      & + div[class^='fabric-editor-align'],\n      & + ul,\n      & + ol,\n      & + h1,\n      & + h2,\n      & + h3,\n      & + h4,\n      & + h5,\n      & + h6 {\n        clear: both !important;\n      }\n      & .media-single {\n        margin-left: 0;\n        margin-right: 0;\n      }\n    }\n  }\n\n  .mediaSingle-resize-handle-right,\n  .mediaSingle-resize-handle-left {\n    display: flex;\n    flex-direction: column;\n\n    /* vertical align */\n    justify-content: center;\n  }\n\n  .mediaSingle-resize-handle-right {\n    align-items: flex-end;\n    padding-right: 12px;\n    margin-right: -12px;\n  }\n\n  .mediaSingle-resize-handle-left {\n    align-items: flex-start;\n    padding-left: 12px;\n    margin-left: -12px;\n  }\n\n  .mediaSingle-resize-handle-right::after,\n  .mediaSingle-resize-handle-left::after {\n    content: ' ';\n    display: flex;\n    width: 3px;\n    height: 64px;\n\n    border-radius: 6px;\n  }\n\n  .media-single:hover .mediaSingle-resize-handle-left::after,\n  .media-single:hover .mediaSingle-resize-handle-right::after {\n    background: ",";\n  }\n\n  .mediaSingle-selected .mediaSingle-resize-handle-right::after,\n  .mediaSingle-selected .mediaSingle-resize-handle-left::after,\n  .media-single .mediaSingle-resize-handle-right:hover::after,\n  .media-single .mediaSingle-resize-handle-left:hover::after,\n  .media-single.is-resizing .mediaSingle-resize-handle-right::after,\n  .media-single.is-resizing .mediaSingle-resize-handle-left::after {\n    background: ",";\n  }\n\n  .__resizable_base__ {\n    left: unset !important;\n    width: auto !important;\n    height: auto !important;\n  }\n\n  /* Danger when top level node for smart cards / inline links */\n  .danger > div > div > .media-card-frame,\n  .danger > span > a {\n    background-color: ",";\n    box-shadow: 0px 0px 0px ","px\n      ",";\n    transition: background-color 0s;\n    transition: box-shadow 0s;\n  }\n\n  /* Danger when nested node or common */\n  .danger {\n    /* Media single */\n    .media-single div div div::after {\n      border: ","px solid ",";\n    }\n\n    .mediaSingle-selected .mediaSingle-resize-handle-right::after,\n    .mediaSingle-selected .mediaSingle-resize-handle-left::after {\n      background: ",";\n    }\n\n    /* Smart cards */\n    div div .media-card-frame,\n    .inlineCardView-content-wrap > span > a {\n      background-color: rgb(255, 189, 173, 0.5); /* R75 with 50% opactiy */\n      transition: background-color 0s;\n    }\n\n    div div .media-card-frame::after {\n      box-shadow: none;\n    }\n  }\n"])),Ha.a,gt.colors.N60,gt.colors.B200,Ko.d,Ko.f,Ko.e,Ko.f,Ko.e,Ko.e),Ga=n("WbR0"),Ka=n("MGaF"),$a=Object(mt.css)(aa||(aa=r.__makeTemplateObject(["\n  .ProseMirror {\n    ",";\n  }\n"],["\n  .ProseMirror {\n    ",";\n  }\n"])),Ka.b),Ja=Object(mt.css)(sa||(sa=r.__makeTemplateObject(["\n  .ProseMirror {\n    .ProseMirror-fake-text-cursor {\n      display: inline;\n      pointer-events: none;\n      position: relative;\n      height: 15px;\n    }\n\n    .ProseMirror-fake-text-cursor::after {\n      content: '';\n      display: inline;\n      top: 0;\n      position: absolute;\n      height: 100%;\n      border-right: 1px solid rgba(0, 0, 0, 0.4);\n    }\n\n    .ProseMirror-fake-text-selection {\n      display: inline;\n      pointer-events: none;\n      position: relative;\n      background-color: ",";\n    }\n  }\n"],["\n  .ProseMirror {\n    .ProseMirror-fake-text-cursor {\n      display: inline;\n      pointer-events: none;\n      position: relative;\n      height: 15px;\n    }\n\n    .ProseMirror-fake-text-cursor::after {\n      content: '';\n      display: inline;\n      top: 0;\n      position: absolute;\n      height: 100%;\n      border-right: 1px solid rgba(0, 0, 0, 0.4);\n    }\n\n    .ProseMirror-fake-text-selection {\n      display: inline;\n      pointer-events: none;\n      position: relative;\n      background-color: ",";\n    }\n  }\n"])),gt.colors.B75),Ya=Object(mt.css)(ca||(ca=r.__makeTemplateObject(["\n  .ProseMirror-selectednode .ak-mention {\n    background: ",";\n  }\n"],["\n  .ProseMirror-selectednode .ak-mention {\n    background: ",";\n  }\n"])),za),Qa=n("O7OB"),Xa=Object(mt.css)(la||(la=r.__makeTemplateObject(["\n  ","\n"],["\n  ","\n"])),Qa.a),Za=Object(mt.css)(ua||(ua=r.__makeTemplateObject(["\n  .ProseMirror span[data-placeholder] {\n    color: ",";\n  }\n"],["\n  .ProseMirror span[data-placeholder] {\n    color: ",";\n  }\n"])),gt.colors.N300),es=Object(mt.css)(da||(da=r.__makeTemplateObject(["\n  .ProseMirror .taskItemView-content-wrap,\n  .ProseMirror .decisionItemView-content-wrap {\n    font-size: ","px;\n    min-width: ","px;\n  }\n"],["\n  .ProseMirror .taskItemView-content-wrap,\n  .ProseMirror .decisionItemView-content-wrap {\n    font-size: ","px;\n    min-width: ","px;\n  }\n"])),Object(Ct.j)(),Ko.v),ts=Object(mt.css)(pa||(pa=r.__makeTemplateObject(["\n  .gridParent {\n    width: calc(100% + ","px);\n    margin-left: -","px;\n    margin-right: -","px;\n    transform: scale(1);\n    z-index: ",";\n  }\n\n  .gridContainer {\n    position: fixed;\n    height: 100vh;\n    width: 100%;\n    pointer-events: none;\n  }\n\n  .gridLine {\n    border-left: 1px solid ",";\n    display: inline-block;\n    box-sizing: border-box;\n    height: 100%;\n    margin-left: -1px;\n\n    transition: border-color 0.15s linear;\n    z-index: 0;\n  }\n\n  .gridContainer.hidden .gridLine {\n    border-left: 1px solid transparent;\n  }\n\n  .highlight {\n    border-left: 1px solid ",";\n  }\n"],["\n  .gridParent {\n    width: calc(100% + ","px);\n    margin-left: -","px;\n    margin-right: -","px;\n    transform: scale(1);\n    z-index: ",";\n  }\n\n  .gridContainer {\n    position: fixed;\n    height: 100vh;\n    width: 100%;\n    pointer-events: none;\n  }\n\n  .gridLine {\n    border-left: 1px solid ",";\n    display: inline-block;\n    box-sizing: border-box;\n    height: 100%;\n    margin-left: -1px;\n\n    transition: border-color 0.15s linear;\n    z-index: 0;\n  }\n\n  .gridContainer.hidden .gridLine {\n    border-left: 1px solid transparent;\n  }\n\n  .highlight {\n    border-left: 1px solid ",";\n  }\n"])),24,12,12,Ko.n,gt.colors.N30A,gt.colors.B200),ns=Object(mt.css)(fa||(fa=r.__makeTemplateObject(["\n  a.blockLink {\n    display: block;\n  }\n"],["\n  a.blockLink {\n    display: block;\n  }\n"]))),rs=Object(mt.css)(ha||(ha=r.__makeTemplateObject(["\n  .ProseMirror {\n    ","\n  }\n"],["\n  .ProseMirror {\n    ","\n  }\n"])),ns),os=mt.default.div(ma||(ma=r.__makeTemplateObject(["\n  /* Hack for ie11 that is being used in code block.\n   * https://bitbucket.org/atlassian/atlaskit/src/ad09f6361109ece1aab316c8cbd8116ffb7963ef/packages/editor-core/src/schema/nodes/code-block.ts?fileviewer=file-view-default#code-block.ts-110\n   */\n  & .ie11 {\n    overflow: visible;\n    word-wrap: break-word;\n  }\n\n  .ProseMirror {\n    outline: none;\n    font-size: ","px;\n\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n  }\n\n  .ProseMirror-hideselection *::selection {\n    background: transparent;\n  }\n\n  .ProseMirror-hideselection *::-moz-selection {\n    background: transparent;\n  }\n\n  .ProseMirror-selectednode {\n    outline: none;\n  }\n\n  .ProseMirror-selectednode:empty {\n    outline: 2px solid #8cf;\n  }\n\n  .inlineCardView-content-wrap {\n    max-width: calc(100% - 20px);\n    vertical-align: top;\n    word-break: break-all;\n  }\n\n  .inlineCardView-content-wrap .card {\n    padding-left: 2px;\n    padding-right: 2px;\n  }\n\n  .blockCardView-content-wrap {\n    display: inline-block;\n  }\n\n  /* fix cursor alignment */\n  .ProseMirror .emoji-common-node {\n    display: inline;\n    vertical-align: baseline;\n\n    img {\n      display: inline-block;\n      vertical-align: middle;\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ",";\n  ",";\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n\n  /** Global selector for extensions, as .danger tag is assigned to root level node which is unaccessible from triggered child node **/\n  /* Danger when nested node */\n  .danger .extension-container {\n    background: rgb(255, 189, 173, 0.5); /* R75 with 50% opactiy */\n    transition: opacity 0s;\n  }\n\n  /* Danger when top level node */\n  .danger > span > .extension-container {\n    background: ",";\n    .extension-overlay {\n      box-shadow: inset 0px 0px 0px ","px "," !important;\n      opacity: 1;\n      transition: opacity 0s;\n    }\n  }\n\n  .panelView-content-wrap {\n    box-sizing: border-box;\n  }\n\n  .mediaGroupView-content-wrap ul {\n    padding: 0;\n  }\n\n  /** Needed to override any cleared floats, e.g. image wrapping */\n  div.fabric-editor-block-mark[class^='fabric-editor-align'] {\n    clear: none !important;\n  }\n\n  .fabric-editor-align-end {\n    text-align: right;\n  }\n\n  .fabric-editor-align-start {\n    text-align: left;\n  }\n\n  .fabric-editor-align-center {\n    text-align: center;\n  }\n\n  .hyperlink-floating-toolbar {\n    padding: 0;\n  }\n\n  /* Link icon in the Atlaskit package \n     is bigger than the others\n  */\n  .hyperlink-open-link {\n    svg {\n      max-width: 18px;\n    }\n    &[href] {\n      padding: 0 4px;\n    }\n  }\n\n"],["\n  /* Hack for ie11 that is being used in code block.\n   * https://bitbucket.org/atlassian/atlaskit/src/ad09f6361109ece1aab316c8cbd8116ffb7963ef/packages/editor-core/src/schema/nodes/code-block.ts?fileviewer=file-view-default#code-block.ts-110\n   */\n  & .ie11 {\n    overflow: visible;\n    word-wrap: break-word;\n  }\n\n  .ProseMirror {\n    outline: none;\n    font-size: ","px;\n\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n  }\n\n  .ProseMirror-hideselection *::selection {\n    background: transparent;\n  }\n\n  .ProseMirror-hideselection *::-moz-selection {\n    background: transparent;\n  }\n\n  .ProseMirror-selectednode {\n    outline: none;\n  }\n\n  .ProseMirror-selectednode:empty {\n    outline: 2px solid #8cf;\n  }\n\n  .inlineCardView-content-wrap {\n    max-width: calc(100% - 20px);\n    vertical-align: top;\n    word-break: break-all;\n  }\n\n  .inlineCardView-content-wrap .card {\n    padding-left: 2px;\n    padding-right: 2px;\n  }\n\n  .blockCardView-content-wrap {\n    display: inline-block;\n  }\n\n  /* fix cursor alignment */\n  .ProseMirror .emoji-common-node {\n    display: inline;\n    vertical-align: baseline;\n\n    img {\n      display: inline-block;\n      vertical-align: middle;\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ",";\n  ",";\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n\n  /** Global selector for extensions, as .danger tag is assigned to root level node which is unaccessible from triggered child node **/\n  /* Danger when nested node */\n  .danger .extension-container {\n    background: rgb(255, 189, 173, 0.5); /* R75 with 50% opactiy */\n    transition: opacity 0s;\n  }\n\n  /* Danger when top level node */\n  .danger > span > .extension-container {\n    background: ",";\n    .extension-overlay {\n      box-shadow: inset 0px 0px 0px ","px "," !important;\n      opacity: 1;\n      transition: opacity 0s;\n    }\n  }\n\n  .panelView-content-wrap {\n    box-sizing: border-box;\n  }\n\n  .mediaGroupView-content-wrap ul {\n    padding: 0;\n  }\n\n  /** Needed to override any cleared floats, e.g. image wrapping */\n  div.fabric-editor-block-mark[class^='fabric-editor-align'] {\n    clear: none !important;\n  }\n\n  .fabric-editor-align-end {\n    text-align: right;\n  }\n\n  .fabric-editor-align-start {\n    text-align: left;\n  }\n\n  .fabric-editor-align-center {\n    text-align: center;\n  }\n\n  .hyperlink-floating-toolbar {\n    padding: 0;\n  }\n\n  /* Link icon in the Atlaskit package \n     is bigger than the others\n  */\n  .hyperlink-open-link {\n    svg {\n      max-width: 18px;\n    }\n    &[href] {\n      padding: 0 4px;\n    }\n  }\n\n"])),Ko.F,ga.a,va.a,ba.a,ya.a,wa.a,Oa,Pa,Xa,Za,Ma,Fa,qa,Ua,Va,Ga.c,xa,ja,Ta.i,$a,Ja,Ya,es,ts,rs,Ea.a,Ko.d,Ko.f,Ko.e),is=n("Cb2O"),as=n("5Df5"),ss=mt.default.div(cs||(cs=r.__makeTemplateObject(["\n  flex-grow: 1;\n  height: 100%;\n"],["\n  flex-grow: 1;\n  height: 100%;\n"])));ss.displayName="ClickWrapper";var cs,ls=function(e){for(;e;){if(e.classList&&e.classList.contains("ak-editor-content-area"))return!0;e=e.parentNode}return!1},us=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){var n=t.props.editorView,r=e.currentTarget.querySelector(".ak-editor-content-area"),o=n.hasFocus(),i=e.target,a="INPUT"===i.nodeName,s=!!Object(ai.j)(i,"[data-editor-popup]"),c="TEXTAREA"===i.nodeName;if((!r||!ls(i.parentNode)||!1===o)&&!a&&!c&&!s&&n){var l=n.dispatch,u=n.dom,d=!!(e.clientY>u.getBoundingClientRect().bottom)&&Object(is.d)()(n.state,l),p=Object(as.c)(e,u,n.posAtCoords.bind(n),o)(n.state,l);(d||p)&&(n.focus(),e.stopPropagation())}},t}return r.__extends(t,e),t.prototype.render=function(){return j.createElement(ss,{onClick:this.handleClick},this.props.children)},t}(j.Component),ds=n("GsWa"),ps=n("x9Zv"),fs=n("YehR"),hs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.debounce=null,t.broadcastWidth=function(e){var n=t.props.editorView;return n&&t.width!==e&&(t.debounce&&clearTimeout(t.debounce),t.debounce=window.setTimeout(function(){var r=t.props.contentArea?t.props.contentArea.querySelector(".ProseMirror"):void 0,o=n.state.tr.setMeta(fs.b,{width:e,lineLength:r?r.clientWidth:void 0});n.dispatch(o),t.width=e,t.debounce=null},10)),null},t}return r.__extends(t,e),t.prototype.render=function(){var e=this;return j.createElement(Ho.b,null,function(t){var n=t.width;return e.broadcastWidth(n)})},t}(j.Component),ms=2*Ko.o,gs=mt.default.div(Os||(Os=r.__makeTemplateObject(["\n  min-width: 340px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n"],["\n  min-width: 340px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n"])));gs.displayName="FullPageEditorWrapper";var vs=Object(mt.default)(os)(Es||(Es=r.__makeTemplateObject(["\n  flex-grow: 1;\n  overflow-y: scroll;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  scroll-behavior: smooth;\n  ",";\n"],["\n  flex-grow: 1;\n  overflow-y: scroll;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  scroll-behavior: smooth;\n  ",";\n"])),ps.k);vs.displayName="ScrollContainer";var bs=mt.default.div(xs||(xs=r.__makeTemplateObject(["\n  line-height: 24px;\n  height: 100%;\n  width: 100%;\n  padding-top: 50px;\n  flex-direction: column;\n  flex-grow: 1;\n  padding-bottom: 55px;\n  max-width: ","px;\n  transition: margin-left ",", max-width ",";\n  margin-left: ",";\n\n  ","\n\n  & .ProseMirror {\n    flex-grow: 1;\n    box-sizing: border-box;\n  }\n\n  & .ProseMirror {\n    & > * {\n      /* pre-emptively clear all direct descendant content, just in case any are adjacent floated content */\n      clear: both;\n    }\n    > p,\n    > ul,\n    > ol:not(","):not(","),\n    > h1,\n    > h2,\n    > h3,\n    > h4,\n    > h5,\n    > h6 {\n      /* deliberately allow wrapping of text based nodes, just in case any are adjacent floated content */\n      clear: none;\n    }\n\n    > p:last-child {\n      margin-bottom: 24px;\n    }\n  }\n\n  ",";\n\n  .fabric-editor--full-width-mode {\n    /* Full Width Mode styles for ignoring breakout sizes */\n    .fabric-editor-breakout-mark,\n    .extension-container,\n    .pm-table-container {\n      width: 100% !important;\n    }\n\n    /* Prevent horizontal scroll on page in full width mode */\n    .pm-table-container,\n    .code-block,\n    .extension-container {\n      max-width: ",";\n    }\n  }\n"],["\n  line-height: 24px;\n  height: 100%;\n  width: 100%;\n  padding-top: 50px;\n  flex-direction: column;\n  flex-grow: 1;\n  padding-bottom: 55px;\n  max-width: ","px;\n  transition: margin-left ",", max-width ",";\n  margin-left: ",";\n\n  ","\n\n  & .ProseMirror {\n    flex-grow: 1;\n    box-sizing: border-box;\n  }\n\n  & .ProseMirror {\n    & > * {\n      /* pre-emptively clear all direct descendant content, just in case any are adjacent floated content */\n      clear: both;\n    }\n    > p,\n    > ul,\n    > ol:not(","):not(","),\n    > h1,\n    > h2,\n    > h3,\n    > h4,\n    > h5,\n    > h6 {\n      /* deliberately allow wrapping of text based nodes, just in case any are adjacent floated content */\n      clear: none;\n    }\n\n    > p:last-child {\n      margin-bottom: 24px;\n    }\n  }\n\n  ",";\n\n  .fabric-editor--full-width-mode {\n    /* Full Width Mode styles for ignoring breakout sizes */\n    .fabric-editor-breakout-mark,\n    .extension-container,\n    .pm-table-container {\n      width: 100% !important;\n    }\n\n    /* Prevent horizontal scroll on page in full width mode */\n    .pm-table-container,\n    .code-block,\n    .extension-container {\n      max-width: ",";\n    }\n  }\n"])),function(e){var t=e.theme;return(e.fullWidthMode?Ko.m:t.layoutMaxWidth)+ms},"0.5s cubic-bezier(.15,1,.3,1)","0.5s cubic-bezier(.15,1,.3,1)",function(e){var t=e.theme;return e.fullWidthMode?0:"calc(50% - "+(t.layoutMaxWidth+ms)/2+"px)"},function(e){return"\n    @media (max-width: "+(e.theme.layoutMaxWidth+ms)+"px) {\n      margin-left: auto;\n    }\n  "},$o.b,Jo.b,Ta.f,function(e){var t=e.containerWidth;return t?t-ms+"px":"inherit"});bs.displayName="ContentArea";var ys=mt.default.div(ks||(ks=r.__makeTemplateObject(["\n  position: relative;\n  align-items: center;\n  box-shadow: ",";\n  transition: box-shadow 200ms;\n  z-index: ",";\n  display: flex;\n  height: 80px;\n  flex-shrink: 0;\n\n  & object {\n    height: 0 !important;\n  }\n"],["\n  position: relative;\n  align-items: center;\n  box-shadow: ",";\n  transition: box-shadow 200ms;\n  z-index: ",";\n  display: flex;\n  height: 80px;\n  flex-shrink: 0;\n\n  & object {\n    height: 0 !important;\n  }\n"])),function(e){return e.showKeyline?"0 "+Ba+"px 0 0 "+gt.colors.N30:"none"},Ko.p);ys.displayName="MainToolbar";var ws=mt.default.div(Cs||(Cs=r.__makeTemplateObject(["\n  display: flex;\n  justify-content: flex-end;\n  flex-grow: 1;\n"],["\n  display: flex;\n  justify-content: flex-end;\n  flex-grow: 1;\n"])));ws.displayName="MainToolbar",mt.default.div(Ss||(Ss=r.__makeTemplateObject(["\n  box-sizing: border-box;\n  justify-content: flex-end;\n  align-items: center;\n  flex-shrink: 0;\n  display: flex;\n  padding: 24px 0;\n"],["\n  box-sizing: border-box;\n  justify-content: flex-end;\n  align-items: center;\n  flex-shrink: 0;\n  display: flex;\n  padding: 24px 0;\n"]))).displayName="SecondaryToolbar";var Os,Es,xs,ks,Cs,Ss,js=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showKeyline:!1},t.appearance="full-page",t.stopPropagation=function(e){return e.stopPropagation()},t.scrollContainerRef=function(e){var n=t.scrollContainer;n&&n.removeEventListener("scroll",t.scheduleUpdateToolbarKeyline),t.scrollContainer=e||void 0,t.scrollContainer&&(t.scrollContainer.addEventListener("scroll",t.scheduleUpdateToolbarKeyline,!1),t.updateToolbarKeyline(),t.updateContainerWidth())},t.updateToolbarKeyline=function(){if(!t.scrollContainer)return!1;var e=t.scrollContainer.scrollTop>Ba;return e!==t.state.showKeyline&&t.setState({showKeyline:e}),!1},t.scheduleUpdateToolbarKeyline=Object(ds.a)(t.updateToolbarKeyline),t.updateContainerWidth=function(){t.setState({containerWidth:t.scrollContainer.clientWidth})},t.scheduleUpdateContainerWidth=Object(ds.a)(t.updateContainerWidth),t.handleResize=function(){t.scheduledKeylineUpdate=t.scheduleUpdateToolbarKeyline(),t.scheduledWidthUpdate=t.scheduleUpdateContainerWidth()},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.handleResize,!1)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize),this.scheduledKeylineUpdate&&cancelAnimationFrame(this.scheduledKeylineUpdate),this.scheduledWidthUpdate&&cancelAnimationFrame(this.scheduledWidthUpdate)},t.prototype.render=function(){var e=this,t=this.props,n=t.appearance,r=t.editorDOMElement,o=t.editorView,i=t.editorActions,a=t.eventDispatcher,s=t.providerFactory,c=t.primaryToolbarComponents,l=t.contentComponents,u=t.customPrimaryToolbarComponents,d=t.customContentComponents,p=t.popupsMountPoint,f=t.popupsBoundariesElement,h=t.popupsScrollableElement,m=t.disabled,g=t.collabEdit,v=t.dispatchAnalyticsEvent,b=this.state,y=b.showKeyline,w=b.containerWidth;return j.createElement(gs,{className:"akEditor"},j.createElement(ys,{showKeyline:y},j.createElement(Yi,{editorView:o,editorActions:i,eventDispatcher:a,providerFactory:s,appearance:this.appearance,items:c,popupsMountPoint:p,popupsBoundariesElement:f,popupsScrollableElement:h,disabled:!!m,dispatchAnalyticsEvent:v}),j.createElement(ws,null,j.createElement(zi,{editorView:o,eventDispatcher:a,inviteToEditComponent:g&&g.inviteToEditComponent,inviteToEditHandler:g&&g.inviteToEditHandler,isInviteToEditButtonSelected:g&&g.isInviteToEditButtonSelected}),u)),j.createElement(vs,{innerRef:this.scrollContainerRef,className:"fabric-editor-popup-scroll-parent"},j.createElement(us,{editorView:o},j.createElement(bs,{fullWidthMode:"full-width"===n,innerRef:function(t){e.contentArea=t},containerWidth:w},j.createElement("div",{style:{padding:"0 "+Ko.o+"px"},className:["ak-editor-content-area","full-width"===this.props.appearance?"fabric-editor--full-width-mode":""].join(" ")},d,j.createElement(Fi,{editorView:o,editorActions:i,eventDispatcher:a,providerFactory:s,appearance:this.props.appearance||this.appearance,items:l,contentArea:this.contentArea,popupsMountPoint:p,popupsBoundariesElement:f,popupsScrollableElement:h,disabled:!!m,containerElement:this.scrollContainer,dispatchAnalyticsEvent:v}),r)))),j.createElement(hs,{editorView:o,contentArea:this.scrollContainer}))},t.displayName="FullPageEditor",t}(j.Component),Ts=new ei.PluginKey("maxContentSizePlugin");var Ms,_s,Is,Ps={pmPlugins:function(){return[{name:"maxContentSize",plugin:function(e){return function(e,t){if(t){var n=!1;return new ei.Plugin({filterTransaction:function(r){var o=r.doc&&r.doc.nodeSize>t;return(o||o!==n)&&e(Ts,{maxContentSizeReached:o}),n=o,!o}})}}(e.dispatch,e.props.maxContentSize)}}]}},As=Object(mt.keyframes)(Ms||(Ms=r.__makeTemplateObject(["\n  50% {\n    background-color: ",";\n  }\n"],["\n  50% {\n    background-color: ",";\n  }\n"])),gt.colors.R100),Ns=Object(mt.keyframes)(_s||(_s=r.__makeTemplateObject(["\n  0% {\n    background-color: ",";\n  }\n  50% {\n    background-color: auto;\n  }\n  100% {\n    background-color: ",";\n  }\n"],["\n  0% {\n    background-color: ",";\n  }\n  50% {\n    background-color: auto;\n  }\n  100% {\n    background-color: ",";\n  }\n"])),gt.colors.R100,gt.colors.R100),Rs=mt.default.div(Is||(Is=r.__makeTemplateObject(["\n  &.-flash > div {\n    animation: 0.25s ease-in-out ",";\n  }\n\n  & > div {\n    animation: ",";\n  }\n"],["\n  &.-flash > div {\n    animation: 0.25s ease-in-out ",";\n  }\n\n  & > div {\n    animation: ",";\n  }\n"])),Ns,function(e){return e.animate?".25s ease-in-out "+As:"none"}),Ds=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.toggle=!1,t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.animate,n=e.children;return this.toggle=t&&!this.toggle,j.createElement(Rs,{className:this.toggle?"-flash":"",animate:t},n)},t}(j.Component),Ls=mt.default.div(Bs||(Bs=r.__makeTemplateObject(["\n  line-height: 20px;\n  height: auto;\n  min-height: 30px;\n  "," overflow-x: hidden;\n  overflow-y: auto;\n  "," max-width: inherit;\n  box-sizing: border-box;\n  word-wrap: break-word;\n\n  div > .ProseMirror {\n    outline: none;\n    white-space: pre-wrap;\n    padding: 0;\n    margin: 0;\n  }\n"],["\n  line-height: 20px;\n  height: auto;\n  min-height: 30px;\n  "," overflow-x: hidden;\n  overflow-y: auto;\n  "," max-width: inherit;\n  box-sizing: border-box;\n  word-wrap: break-word;\n\n  div > .ProseMirror {\n    outline: none;\n    white-space: pre-wrap;\n    padding: 0;\n    margin: 0;\n  }\n"])),function(e){return e.maxHeight?"max-height: "+e.maxHeight+"px;":""},ps.k);Ls.displayName="ChromelessEditor";var zs=Object(mt.default)(os)(Fs||(Fs=r.__makeTemplateObject([""],[""])));zs.displayName="ContentArea";var Bs,Fs,qs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.appearance="chromeless",t.renderChrome=function(e){var n=e.maxContentSize,r=t.props,o=r.editorDOMElement,i=r.editorView,a=r.editorActions,s=r.eventDispatcher,c=r.providerFactory,l=r.contentComponents,u=r.customContentComponents,d=r.maxHeight,p=r.popupsMountPoint,f=r.popupsBoundariesElement,h=r.popupsScrollableElement,m=r.disabled,g=r.dispatchAnalyticsEvent,v=n&&n.maxContentSizeReached;return j.createElement(Ds,{animate:v},j.createElement(Ls,{maxHeight:d,innerRef:function(e){return t.containerElement=e}},j.createElement(zs,null,u,j.createElement(Fi,{editorView:i,editorActions:a,eventDispatcher:s,providerFactory:c,appearance:t.appearance,items:l,popupsMountPoint:p,popupsBoundariesElement:f,popupsScrollableElement:h,containerElement:t.containerElement,disabled:!!m,dispatchAnalyticsEvent:g}),o)))},t}return r.__extends(t,e),t.prototype.render=function(){return j.createElement(Zo.a,{plugins:{maxContentSize:Ts},render:this.renderChrome})},t.displayName="ChromelessEditorAppearance",t}(j.Component),Ws=n("kG6L"),Us=mt.default.div($s||($s=r.__makeTemplateObject(["\n  display: flex;\n  flex-direction: column;\n\n  .less-margin .ProseMirror {\n    margin: 12px ","px ","px;\n  }\n\n  min-width: 272px;\n  /* Border + Toolbar + Footer + (Paragraph + ((Parahraph + Margin) * (DefaultLines - 1)) */\n  /* calc(2px + 40px + 24px + ( 20px + (32px * 2))) */\n  min-height: 150px;\n  height: auto;\n  "," background-color: white;\n  border: 1px solid ",";\n  box-sizing: border-box;\n  border-radius: ","px;\n\n  max-width: inherit;\n  word-wrap: break-word;\n"],["\n  display: flex;\n  flex-direction: column;\n\n  .less-margin .ProseMirror {\n    margin: 12px ","px ","px;\n  }\n\n  min-width: 272px;\n  /* Border + Toolbar + Footer + (Paragraph + ((Parahraph + Margin) * (DefaultLines - 1)) */\n  /* calc(2px + 40px + 24px + ( 20px + (32px * 2))) */\n  min-height: 150px;\n  height: auto;\n  "," background-color: white;\n  border: 1px solid ",";\n  box-sizing: border-box;\n  border-radius: ","px;\n\n  max-width: inherit;\n  word-wrap: break-word;\n"])),8,8,function(e){return e.maxHeight?"max-height: "+e.maxHeight+"px;":""},gt.colors.N40,Object(Ct.f)());Us.displayName="CommentEditor";var Hs=mt.default.div(Js||(Js=r.__makeTemplateObject(["\n  position: relative;\n  align-items: center;\n  padding: ","px ","px 0;\n  display: flex;\n  height: auto;\n\n  padding-left: ","px;\n\n  & > div > *:first-child {\n    margin-left: 0;\n  }\n\n  .block-type-btn {\n    padding-left: 0;\n  }\n"],["\n  position: relative;\n  align-items: center;\n  padding: ","px ","px 0;\n  display: flex;\n  height: auto;\n\n  padding-left: ","px;\n\n  & > div > *:first-child {\n    margin-left: 0;\n  }\n\n  .block-type-btn {\n    padding-left: 0;\n  }\n"])),Object(Ct.l)(),Object(Ct.l)(),16);Hs.displayName="MainToolbar";var Vs=mt.default.div(Ys||(Ys=r.__makeTemplateObject(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  flex-grow: 1;\n  padding-right: ","px;\n  > div {\n    display: flex;\n    flex-shrink: 0;\n  }\n"],["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  flex-grow: 1;\n  padding-right: ","px;\n  > div {\n    display: flex;\n    flex-shrink: 0;\n  }\n"])),16);Vs.displayName="MainToolbar";var Gs=Object(mt.default)(os)(Qs||(Qs=r.__makeTemplateObject(["\n  flex-grow: 1;\n  overflow-x: hidden;\n  overflow-y: auto;\n  line-height: 24px;\n\n  /** Hack for Bitbucket to ensure entire editorView gets drop event; see ED-3294 **/\n  /** Hack for tables controlls. Otherwise marging collapse and controlls are misplaced. **/\n  .ProseMirror {\n    margin: 12px ","px ","px;\n  }\n\n  .gridParent {\n    margin-left: ","px;\n    margin-right: ","px;\n    width: calc(100% + ","px);\n  }\n\n  padding: ","px;\n\n  ",";\n"],["\n  flex-grow: 1;\n  overflow-x: hidden;\n  overflow-y: auto;\n  line-height: 24px;\n\n  /** Hack for Bitbucket to ensure entire editorView gets drop event; see ED-3294 **/\n  /** Hack for tables controlls. Otherwise marging collapse and controlls are misplaced. **/\n  .ProseMirror {\n    margin: 12px ","px ","px;\n  }\n\n  .gridParent {\n    margin-left: ","px;\n    margin-right: ","px;\n    width: calc(100% + ","px);\n  }\n\n  padding: ","px;\n\n  ",";\n"])),14,14,2,2,2,16,Ta.c);Gs.displayName="ContentArea";var Ks=mt.default.div(Xs||(Xs=r.__makeTemplateObject(["\n  box-sizing: border-box;\n  justify-content: flex-end;\n  align-items: center;\n  display: flex;\n  padding: 12px 1px;\n"],["\n  box-sizing: border-box;\n  justify-content: flex-end;\n  align-items: center;\n  display: flex;\n  padding: 12px 1px;\n"])));Ks.displayName="SecondaryToolbar";var $s,Js,Ys,Qs,Xs,Zs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.appearance="comment",t.handleSave=function(){t.props.editorView&&t.props.onSave&&t.props.onSave(t.props.editorView)},t.handleCancel=function(){t.props.editorView&&t.props.onCancel&&t.props.onCancel(t.props.editorView)},t.renderChrome=function(e){var n=e.maxContentSize,r=e.mediaState,o=t.props,i=o.editorDOMElement,a=o.editorView,s=o.editorActions,c=o.eventDispatcher,l=o.providerFactory,u=o.contentComponents,d=o.customContentComponents,p=o.customPrimaryToolbarComponents,f=o.primaryToolbarComponents,h=o.customSecondaryToolbarComponents,m=o.popupsMountPoint,g=o.popupsBoundariesElement,v=o.popupsScrollableElement,b=o.maxHeight,y=o.onSave,w=o.onCancel,O=o.disabled,E=o.dispatchAnalyticsEvent,x=n&&n.maxContentSizeReached;return j.createElement(Ds,{animate:x},j.createElement(Us,{maxHeight:b,className:"akEditor"},j.createElement(Hs,null,j.createElement(Yi,{editorView:a,editorActions:s,eventDispatcher:c,providerFactory:l,appearance:t.appearance,items:f,popupsMountPoint:m,popupsBoundariesElement:g,popupsScrollableElement:v,disabled:!!O,dispatchAnalyticsEvent:E}),j.createElement(Vs,null,p)),j.createElement(us,{editorView:a},j.createElement(Ho.b,null,function(e){var n=e.width;return j.createElement(Gs,{innerRef:function(e){return t.containerElement=e},className:vn()("ak-editor-content-area",{"less-margin":n<Ko.q})},d,j.createElement(Fi,{editorView:a,editorActions:s,eventDispatcher:c,dispatchAnalyticsEvent:E,providerFactory:l,appearance:t.appearance,items:u,popupsMountPoint:m,popupsBoundariesElement:g,popupsScrollableElement:v,containerElement:t.containerElement,disabled:!!O}),i)})),j.createElement(hs,{editorView:a,contentArea:t.containerElement})),j.createElement(Ks,null,j.createElement(vo.a,null,!!y&&j.createElement(ut.a,{appearance:"primary",onClick:t.handleSave,isDisabled:O||r&&!r.allUploadsFinished},"Save"),!!w&&j.createElement(ut.a,{appearance:"subtle",onClick:t.handleCancel,isDisabled:O},"Cancel")),j.createElement("span",{style:{flexGrow:1}}),h))},t}return r.__extends(t,e),t.prototype.render=function(){return j.createElement(Zo.a,{plugins:{maxContentSize:Ts,mediaState:Ws.b},render:this.renderChrome})},t.displayName="CommentEditorAppearance",t}(j.Component),ec=n("EcEN"),tc=n.n(ec),nc=n("byeC"),rc=n("6p50"),oc=n("UkFC"),ic=n("osD9"),ac=n.n(ic),sc=n("FwBs");var cc,lc,uc,dc,pc,fc,hc,mc,gc=n("35mH"),vc=mt.default.div(cc||(cc=r.__makeTemplateObject(["\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  overflow: hidden;\n  padding: 6px 14px;\n  text-overflow: ellipsis;\n  vertical-align: middle;\n"],["\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  overflow: hidden;\n  padding: 6px 14px;\n  text-overflow: ellipsis;\n  vertical-align: middle;\n"]))),bc=mt.default.span(lc||(lc=r.__makeTemplateObject(["\n  position: relative;\n  flex: initial;\n  opacity: ",";\n"],["\n  position: relative;\n  flex: initial;\n  opacity: ",";\n"])),function(e){return e.restricted?"0.5":"inherit"}),yc=mt.default.div(uc||(uc=r.__makeTemplateObject(["\n  flex: 1;\n  min-width: 0;\n  margin-left: 14px;\n  opacity: ",";\n"],["\n  flex: 1;\n  min-width: 0;\n  margin-left: 14px;\n  opacity: ",";\n"])),function(e){return e.restricted?"0.5":"inherit"}),wc=mt.default.span(dc||(dc=r.__makeTemplateObject(["\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  color: ",";\n"],["\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  color: ",";\n"])),gt.colors.N900),Oc=mt.default.div(pc||(pc=r.__makeTemplateObject(["\n  display: flex;\n  flex-direction: column;\n  text-align: right;\n  opacity: ",";\n\n  & {\n    /* Lozenge */\n    & > span {\n      margin-bottom: 2px;\n    }\n  }\n"],["\n  display: flex;\n  flex-direction: column;\n  text-align: right;\n  opacity: ",";\n\n  & {\n    /* Lozenge */\n    & > span {\n      margin-bottom: 2px;\n    }\n  }\n"])),function(e){return e.restricted?"0.5":"inherit"}),Ec=mt.default.div(fc||(fc=r.__makeTemplateObject(["\n  margin-left: 20px;\n  flex: none;\n  color: ",";\n  font-size: 12px;\n"],["\n  margin-left: 20px;\n  flex: none;\n  color: ",";\n  font-size: 12px;\n"])),gt.colors.N100),xc=mt.default.div(hc||(hc=r.__makeTemplateObject(["\n  background-color: ",";\n  display: block;\n  overflow: hidden;\n  list-style-type: none;\n  height: 48px;\n  line-height: 1.2;\n  cursor: pointer;\n"],["\n  background-color: ",";\n  display: block;\n  overflow: hidden;\n  list-style-type: none;\n  height: 48px;\n  line-height: 1.2;\n  cursor: pointer;\n"])),function(e){return e.selected?gt.colors.N30:"transparent"}),kc=mt.default.div(mc||(mc=r.__makeTemplateObject(["\n  padding-left: 5px;\n  color: ",";\n"],["\n  padding-left: 5px;\n  color: ",";\n"])),gt.colors.N500);function Cc(e,t,n,r){if(!t)return null;var o=[],i=r||"",a=0;if(n){for(var s=0;s<n.length;s++){var c=n[s],l=c.start,u=c.end;l>a&&o.push({value:t.substring(a,l),matches:!1}),o.push({value:t.substring(l,u+1),matches:!0}),a=u+1}a<t.length&&o.push({value:t.substring(a,t.length),matches:!1})}else o.push({value:t,matches:!1});return j.createElement(e,null,i,o.map(function(e,t){return e.matches?j.createElement("b",{key:t},e.value):e.value}))}var Sc,jc=mt.default.span(Sc||(Sc=r.__makeTemplateObject(["\n  color: ",";\n  font-size: 12px;\n\n  margin-top: 2px;\n\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"],["\n  color: ",";\n  font-size: 12px;\n\n  margin-top: 2px;\n\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"])),gt.colors.N100),Tc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this.props.mention,t=e.highlight,n=e.name,r=e.nickname,o=t&&t.nickname;return n===r?null:Cc(jc,r,o,"@")},t}(j.PureComponent),Mc=n("mrRf"),_c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderByline=function(e,n){return n?e>50?t.getBylineComponent(j.createElement(hr.a,r.__assign({},Mc.a.plus50MembersWithYou))):t.getBylineComponent(j.createElement(hr.a,r.__assign({},Mc.a.memberCountWithYou,{values:{count:e}}))):e>50?t.getBylineComponent(j.createElement(hr.a,r.__assign({},Mc.a.plus50MembersWithoutYou))):t.getBylineComponent(j.createElement(hr.a,r.__assign({},Mc.a.memberCountWithoutYou,{values:{count:e}})))},t.getBylineComponent=function(e){return j.createElement(jc,null,e)},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props.mention.context;if(null==e)return null;var t=e.includesYou,n=e.memberCount;return this.renderByline(n,t)},t}(j.PureComponent),Ic=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){switch(this.props.mention.userType){case oc.c[oc.c.TEAM]:return j.createElement(_c,{mention:this.props.mention});default:return j.createElement(Tc,{mention:this.props.mention})}},t}(j.PureComponent);var Pc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMentionSelected=function(e){(function(e){return!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)})(e)&&t.props.onSelection&&(e.preventDefault(),t.props.onSelection(t.props.mention,e))},t.onMentionMenuItemMouseMove=function(e){t.props.onMouseMove&&t.props.onMouseMove(t.props.mention,e)},t.onMentionMenuItemMouseEnter=function(e){t.props.onMouseEnter&&t.props.onMouseEnter(t.props.mention,e)},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.mention,n=e.selected,r=t.id,o=t.highlight,i=t.avatarUrl,a=t.presence,s=t.name,c=t.mentionName,l=t.lozenge,u=t.accessLevel,d=a||{},p=d.status,f=d.time,h=Object(oc.f)(u),m=o&&o.name,g=n?gt.colors.N30:void 0;return j.createElement(xc,{selected:n,onMouseDown:this.onMentionSelected,onMouseMove:this.onMentionMenuItemMouseMove,onMouseEnter:this.onMentionMenuItemMouseEnter,"data-mention-id":r,"data-mention-name":c},j.createElement(vc,null,j.createElement(bc,{restricted:h},j.createElement(Te.a,{src:i,size:"medium",presence:p,borderColor:g})),j.createElement(yc,{restricted:h},Cc(wc,s,m),j.createElement(Ic,{mention:t})),j.createElement(Oc,{restricted:h},function(e){return e?j.createElement(Rt.a,null,e):null}(l),function(e){return e?j.createElement(Ec,null,e):null}(f)),h?j.createElement(gc.a,{name:s},j.createElement(kc,null,j.createElement(sc.a,null,function(e){return j.createElement(ac.a,{label:e})}))):null))},t}(j.PureComponent),Ac=n("wmsK");function Nc(e){var t=e.doc,n=e.schema.marks.typeAheadQuery,r=e.selection;return function(e,t,n,r){var o={start:-1,end:-1};return t.nodesBetween(n,r,function(t,n){-1===o.start&&e.isInSet(t.marks)&&(o={start:n,end:n+Math.max(t.textContent.length,1)})}),o}(n,t,r.from-1,r.to)}var Rc=function(){return function(e,t){var n=Nc(e);if(null===n)return!1;var r=n.start,o=n.end,i=e.schema.marks.typeAheadQuery;if(-1===r)return!1;Fo.a.trackEvent("atlassian.editor.typeahead.dismiss");var a=Bc.getState(e).typeAheadHandler;return a&&a.dismiss&&a.dismiss(e),t&&t(e.tr.removeMark(r,o,i).removeStoredMark(i)),!0}},Dc=function(e){return function(t,n){return n&&n(t.tr.setMeta(Bc,{action:Fc.ITEMS_LIST_UPDATED,items:e})),!0}};function Lc(e,t,n,r){var o=!1;return t.nodesBetween(n,r,function(t){!o&&e.isInSet(t.marks)&&(o=!0)}),o}var zc=function(e){return function(t,n){var r=Nc(t),o=Lc(t.schema.marks.typeAheadQuery,t.doc,t.selection.from,t.selection.to);return null!==r&&!1!==o&&(n&&n(t.tr.setMeta(Bc,{action:Fc.SET_QUERY,params:{query:e}})),!0)}},Bc=new ei.PluginKey("typeAheadPlugin"),Fc={SELECT_PREV:"SELECT_PREV",SELECT_NEXT:"SELECT_NEXT",SELECT_CURRENT:"SELECT_CURRENT",SET_CURRENT_INDEX:"SET_CURRENT_INDEX",SET_QUERY:"SET_QUERY",ITEMS_LIST_UPDATED:"ITEMS_LIST_UPDATED"};function qc(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!0),{isAllowed:t,active:!1,prevActiveState:e,query:null,trigger:null,typeAheadHandler:null,currentIndex:0,items:[],itemsLoader:null,queryMarkPos:null,queryStarted:0,upKeyCount:0,downKeyCount:0}}function Wc(e,t,n){return new ei.Plugin({key:Bc,state:{init:function(){return qc()},apply:function(o,i,a,s){var c=o.getMeta(Bc)||{},l=c.action,u=c.params;switch(l){case Fc.SET_CURRENT_INDEX:return function(e){var t=e.dispatch,n=e.pluginState,o=e.params;if(!o)return n;var i=r.__assign({},n,{currentIndex:o.currentIndex||0===o.currentIndex?o.currentIndex:n.currentIndex});return t(Bc,i),i}({dispatch:e,pluginState:i,tr:o,params:u});case Fc.SELECT_PREV:return function(e){var t=e.dispatch,n=e.pluginState,o=n.currentIndex-1,i=r.__assign({},n,{currentIndex:o<0?n.items.length-1:o,upKeyCount:++n.upKeyCount});return t(Bc,i),i}({dispatch:e,pluginState:i,tr:o});case Fc.SELECT_NEXT:return function(e){var t=e.dispatch,n=e.pluginState,o=n.currentIndex+1,i=r.__assign({},n,{currentIndex:o>n.items.length-1?0:o,downKeyCount:++n.downKeyCount});return t(Bc,i),i}({dispatch:e,pluginState:i,tr:o});case Fc.ITEMS_LIST_UPDATED:return function(e){var t=e.dispatch,n=e.pluginState,o=e.tr.getMeta(Bc).items,i=r.__assign({},n,{items:o,itemsLoader:null,currentIndex:n.currentIndex>o.length?0:n.currentIndex});return t(Bc,i),i}({dispatch:e,pluginState:i,tr:o});case Fc.SELECT_CURRENT:var d=o.selection,p=d.from,f=d.to,h=s.schema.marks.typeAheadQuery;return o.doc.rangeHasMark(p-1,f,h)?Uc({dispatch:e,reactContext:t,typeAhead:n,state:s,pluginState:i,tr:o}):function(e){var t=e.dispatch,n=qc(!1);return t(Bc,n),n}({dispatch:e,pluginState:i,tr:o});case Fc.SET_QUERY:return function(e){var t=e.dispatch,n=e.pluginState,o=e.params;if(!o)return n;var i=r.__assign({},n,{query:"string"==typeof o.query?o.query:null});return t(Bc,i),i}({dispatch:e,pluginState:i,tr:o,params:u});default:return Uc({dispatch:e,reactContext:t,typeAhead:n,state:s,pluginState:i,tr:o})}}},view:function(){return{update:function(e){var t=Bc.getState(e.state);if(t){var n=e.state,r=e.dispatch,o=n.doc,i=n.selection,a=i.from,s=i.to,c=n.schema.marks.typeAheadQuery;!t.active||t.query||t.trigger?t.active&&0===(t.query||"").indexOf(" ")?Rc()(n,r):t.active||!t.prevActiveState||o.rangeHasMark(a-1,s,c)?t.active&&t.itemsLoader&&t.itemsLoader.promise.then(function(t){return Dc(t)(e.state,r)}):Rc()(n,r):Rc()(n,r)}}}},props:{handleDOMEvents:{input:function(e,t){var r=e,o=r.state,i=r.dispatch,a=r.inDOMChange,s=o.selection,c=o.schema;return s instanceof ei.TextSelection&&s.$cursor&&c.marks.typeAheadQuery.isInSet(s.$cursor.marks())?(zc(t.data)(o,i),!1):(-1!==n.map(function(e){return e.trigger}).indexOf(t.data)&&"insertCompositionText"===t.inputType&&a&&a.composing&&a.finish(!0),!1)}}}})}function Uc(e){var t=e.dispatch,n=e.reactContext,o=e.typeAhead,i=e.pluginState,a=e.state,s=e.tr,c=a.schema.marks.typeAheadQuery,l=a.doc,u=a.selection,d=Lc(c,l,u.from-1,u.to),p=Object(ai.x)(c,a);if(!p&&!d){var f=qc(i.active,p);return t(Bc,f),f}var h=u.$from.nodeBefore;if(!d||!h||!i){var m=qc(!!i&&i.active);return i&&!i.active&&i.isAllowed||t(Bc,m),m}var g=c.isInSet(h.marks||[]);if(!g||!g.attrs.trigger)return i;var v=h.textContent||"",b=g.attrs.trigger.replace(/([^\x00-\xFF]|[\s\n])+/g,"");if(!v.includes(b)){var y=r.__assign({},qc(!0),{active:!0});return t(Bc,y),y}var w,O,E=v.replace(/^([^\x00-\xFF]|[\s\n])+/g,"").replace(b,""),x=o.find(function(e){return e.trigger===b}),k=[],C=null;try{var S=n().intl;k=x.getItems(E,a,S,{prevActive:i.prevActiveState,queryChanged:E!==i.query},s,t),i.itemsLoader&&i.itemsLoader.cancel(),k.then&&(w=k,O=!1,C={promise:new Promise(function(e,t){w.then(function(t){return!O&&e(t)}).catch(function(e){return!O&&t(e)})}),cancel:function(){O=!0}},k=i.items)}catch(e){}var j=Nc(a),T={isAllowed:p,query:E,trigger:b,typeAheadHandler:x,active:!0,prevActiveState:i.active,items:k,itemsLoader:C,currentIndex:i.currentIndex,queryMarkPos:null!==j?j.start:null,queryStarted:Date.now(),upKeyCount:0,downKeyCount:0};return t(Bc,T),T}var Hc=n("TLA3"),Vc=n("cMMb"),Gc=n.n(Vc),Kc=n("3DEu"),$c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleInsertMention=Object(bo.a)("atlassian.fabric.mention.picker.trigger.button",function(){return!!t.props.editorView&&(Object(Kc.a)(Mo.e.TOOLBAR)(t.props.editorView.state,t.props.editorView.dispatch),!0)}),t}return r.__extends(t,e),t.prototype.render=function(){return j.createElement(yo.a,{spacing:"none",onClick:this.handleInsertMention,disabled:this.props.isDisabled,title:"Mention @",iconBefore:j.createElement(Gc.a,{label:"Mention"})})},t}(j.PureComponent),Jc=n("5aVi"),Yc=function(e){function t(t){var n=e.call(this,t)||this;return n.renderWithProvider=function(e){var t=n.props,o=t.accessLevel,i=t.eventHandlers,a=t.id,s=t.text,c=e.mentionProvider,l={};return["onClick","onMouseEnter","onMouseLeave"].forEach(function(e){l[e]=i&&i[e]||function(){}}),j.createElement(Jc.a,r.__assign({id:a,text:s,accessLevel:o,mentionProvider:c},l))},n.providerFactory=t.providers||new Uo.a,n}return r.__extends(t,e),t.prototype.componentWillUnmount=function(){this.props.providers||this.providerFactory.destroy()},t.prototype.render=function(){return j.createElement(an.a,{providers:["mentionProvider","profilecardProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})},t}(j.PureComponent),Qc=n("eV/v"),Xc=n("BTqz"),Zc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.createDomRef=function(){return"mobile"===this.reactComponentProps.editorAppearance?Object(Xc.a)():e.prototype.createDomRef.call(this)},t.prototype.render=function(e){var t=e.providerFactory,n=e.editorAppearance,r=this.node.attrs,o=r.id,i=r.text,a=r.accessLevel,s=i;return i&&"mobile"===n&&(s=" "+s+" "),j.createElement(Xc.b,{appearance:n},j.createElement(Yc,{id:o,text:s,accessLevel:a,providers:t}),"mobile"!==n&&ai.a)},t}(Qc.b);function el(e,t,n){return function(r,o,i){return new Zc(r,o,i,e,{providerFactory:t,editorAppearance:n}).init()}}var tl=function(e){return"TEAM"===e},nl=function(e){return e&&!isNaN(e.teamMentionDuration)},rl=function(e,t,n,o,i){return void 0===i&&(i={}),{action:t,actionSubject:e,eventType:n,attributes:r.__assign({packageName:wo.a,packageVersion:wo.b,componentName:"mention",sessionId:o},i)}},ol={queryLength:0,spaceInQuery:!1},il=function(e){return e?{queryLength:e.length,spaceInQuery:-1!==e.indexOf(" ")}:ol},al=function(e,t){if(e){var n=e.findIndex(function(e){return e.id===t.id});return-1===n?void 0:n}},sl=function(e){return"selected"===e},cl=function(e,t,n,r){var o=il(n),i=o.queryLength,a=o.spaceInQuery;return{action:"rendered",actionSubject:t?"mentionTypeahead":"teamMentionTypeahead",eventType:yn.b,attributes:{packageName:wo.a,packageVersion:wo.b,componentName:"mention",duration:e,userIds:t,teams:r,queryLength:i,spaceInQuery:a}}},ll=n("w9Yk"),ul=n("vAMc"),dl=function(e){var t=tc()(),n=function(n){e&&(n.attributes&&!n.attributes.sessionId&&(n.attributes.sessionId=t),e(n).fire(rc.a))};return{nodes:function(){return[{name:"mention",node:Ac.a}]},pmPlugins:function(){return[{name:"mention",plugin:function(e){var t=e.providerFactory,o=e.dispatch,i=e.portalProviderAPI,a=e.props;return function(e,t,n,o,i){var a;return new ei.Plugin({key:gl,state:{init:function(){return{}},apply:function(t,n){var o=t.getMeta(gl)||{action:null,params:null},i=o.action,a=o.params,s=n;switch(i){case pl.SET_PROVIDER:return s=r.__assign({},n,{mentionProvider:a.provider}),e(gl,s),s;case pl.SET_RESULTS:return s=r.__assign({},n,{mentions:a.results}),e(gl,s),s;case pl.SET_CONTEXT:return s=r.__assign({},n,{contextIdentifierProvider:a.context}),e(gl,s),s}return s}},props:{nodeViews:{mention:el(n,t,i)}},view:function(e){var n=function(t,n){switch(t){case"mentionProvider":if(!n)return fl(void 0)(e.state,e.dispatch);n.then(function(t){a&&a.unsubscribe("mentionPlugin"),a=t,fl(t)(e.state,e.dispatch),t.subscribe("mentionPlugin",function(t,n,r){hl(t)(e.state,e.dispatch);var i=0,a=null,s=null;nl(r)?(i=r&&r.teamMentionDuration,a=null,s=t.map(function(e){return tl(e.userType)?{teamId:e.id,includesYou:e.context.includesYou,memberCount:e.context.memberCount}:null}).filter(function(e){return!!e})):(i=r&&r.duration,s=null,a=t.map(function(e){return tl(e.userType)?e.id:null}).filter(function(e){return!!e}));var c=cl(i,a,n||"",s);o(c)})}).catch(function(){return fl(void 0)(e.state,e.dispatch)});break;case"contextIdentifierProvider":if(!n)return ml(void 0)(e.state,e.dispatch);n.then(function(t){ml(t)(e.state,e.dispatch)})}};return t.subscribe("mentionProvider",n),t.subscribe("contextIdentifierProvider",n),{destroy:function(){t&&(t.unsubscribe("mentionProvider",n),t.unsubscribe("contextIdentifierProvider",n)),a&&a.unsubscribe("mentionPlugin")}}}})}(o,t,i,n,a.appearance)}}]},secondaryToolbarComponent:function(e){var t=e.editorView,n=e.disabled;return j.createElement(Zo.a,{editorView:t,plugins:{typeAheadState:Bc,mentionState:gl},render:function(e){var r=e.typeAheadState,o=void 0===r?qc():r,i=e.mentionState;return(void 0===i?{}:i).mentionProvider?j.createElement($c,{editorView:t,isDisabled:n||!o.isAllowed}):null}})},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{title:t(Hc.b.mention),description:t(Hc.b.mentionDescription),priority:400,keyshortcut:"@",icon:function(){return j.createElement(ul.l,{label:t(Hc.b.mention)})},action:function(e,t){var n=t.schema.mark("typeAheadQuery",{trigger:"@"}),r=e(t.schema.text("@",[n]));return Object(ll.a)(r,{action:Mo.a.INVOKED,actionSubject:Mo.b.TYPEAHEAD,actionSubjectId:Mo.c.TYPEAHEAD_MENTION,attributes:{inputMethod:Mo.e.QUICK_INSERT},eventType:Mo.d.UI})}}]},typeAhead:{trigger:"@",customRegex:"\\(?(@)",getItems:function(e,n,o,i,a,s){var c=i.prevActive,l=i.queryChanged;!c&&l&&(Fo.a.trackEvent("atlassian.fabric.mention.picker.trigger.shortcut"),a.getMeta(To.b)||s(To.a,{payload:{action:Mo.a.INVOKED,actionSubject:Mo.b.TYPEAHEAD,actionSubjectId:Mo.c.TYPEAHEAD_MENTION,attributes:{inputMethod:Mo.e.KEYBOARD},eventType:Mo.d.UI}}));var u=vl(n),d=!c&&l?[]:u.mentions||[],p=r.__assign({},u.contextIdentifierProvider,{sessionId:t});return l&&u.mentionProvider&&u.mentionProvider.filter(e||"",p),d.map(function(e){return{title:e.id,render:function(t){var n=t.isSelected,r=t.onClick,o=t.onHover;return j.createElement(Pc,{mention:e,selected:n,onMouseEnter:o,onSelection:r})},mention:e}})},selectItem:function(e,o,i,a){var s=a.mode,c=e.schema,l=vl(e),u=l.mentionProvider,d=o.mention,p=d.id,f=d.name,h=d.nickname,m=d.accessLevel,g=d.userType,v=h||f,b=Bc.getState(e),y=r.__assign({},l.contextIdentifierProvider,{sessionId:t});u&&u.recordMentionSelection(o.mention,y);var w=b.queryStarted?Date.now()-b.queryStarted:0;return Fo.a.trackEvent("atlassian.fabric.mention.picker.insert",r.__assign({mode:s,isSpecial:Object(oc.g)(o.mention)||!1,accessLevel:m||"",mentionee:p,duration:w,queryLength:(b.query||"").length},l.contextIdentifierProvider)),n(function(e,t,n,r,o,i,a,s){var c=il(s),l=c.queryLength,u=c.spaceInQuery;return rl("mentionTypeahead",sl(o)?"clicked":"pressed",yn.e,r,{duration:e,position:al(a,i),keyboardKey:sl(o)?void 0:o,queryLength:l,spaceInQuery:u,isSpecial:Object(oc.g)(i),accessLevel:i.accessLevel||"",userType:i.userType,userId:i.id,upKeyCount:t,downKeyCount:n,memberCount:tl(i.userType)&&i.context?i.context.memberCount:null,includesYou:tl(i.userType)&&i.context?i.context.includesYou:null})}(w,b.upKeyCount,b.downKeyCount,t,s,o.mention,l.mentions,b.query||"")),t=tc()(),u&&tl(g)?i(function(e,t){var n=e.nodes,r=e.marks,o=t.name,i=t.id,a=t.accessLevel,s=t.context,c=window.location.origin+"/people/team/"+i,l=e.text("("),u=e.text(")"),d=e.text(" "),p=[e.text(o,[r.link.create({href:c})]),d,l],f=s&&s.members?s.members:[];return f.forEach(function(e,t){var r="@"+e.name,o=n.mention.createChecked({text:r,id:e.id,accessLevel:a,userType:"DEFAULT"});p.push(o),t!==f.length-1&&p.push(d)}),p.push(u),nc.Fragment.fromArray(p)}(c,o.mention)):i(c.nodes.mention.createChecked({text:"@"+v,id:p,accessLevel:m,userType:"DEFAULT"===g?null:g}))},dismiss:function(e){var r=Bc.getState(e),o=r.queryStarted?Date.now()-r.queryStarted:0;n(function(e,t,n,r,o){var i=il(o),a=i.queryLength,s=i.spaceInQuery;return rl("mentionTypeahead","cancelled",yn.e,r,{duration:e,downKeyCount:n,upKeyCount:t,queryLength:a,spaceInQuery:s})}(o,r.upKeyCount,r.downKeyCount,t,r.query||"")),t=tc()()}}}}},pl={SET_PROVIDER:"SET_PROVIDER",SET_RESULTS:"SET_RESULTS",SET_CONTEXT:"SET_CONTEXT"},fl=function(e){return function(t,n){return n&&n(t.tr.setMeta(gl,{action:pl.SET_PROVIDER,params:{provider:e}})),!0}},hl=function(e){return function(t,n){return n&&n(t.tr.setMeta(gl,{action:pl.SET_RESULTS,params:{results:e}})),!0}},ml=function(e){return function(t,n){return n&&n(t.tr.setMeta(gl,{action:pl.SET_CONTEXT,params:{context:e}})),!0}},gl=new ei.PluginKey("mentionPlugin");function vl(e){return gl.getState(e)}var bl=mt.default.div(wl||(wl=r.__makeTemplateObject(["\n  height: 100%;\n  min-height: 30px;\n  width: 100%;\n  max-width: inherit;\n  box-sizing: border-box;\n  word-wrap: break-word;\n\n  div > .ProseMirror {\n    outline: none;\n    white-space: pre-wrap;\n    padding: 0;\n    margin: 0;\n  }\n"],["\n  height: 100%;\n  min-height: 30px;\n  width: 100%;\n  max-width: inherit;\n  box-sizing: border-box;\n  word-wrap: break-word;\n\n  div > .ProseMirror {\n    outline: none;\n    white-space: pre-wrap;\n    padding: 0;\n    margin: 0;\n  }\n"])));bl.displayName="MobileEditor";var yl=Object(mt.default)(os)(Ol||(Ol=r.__makeTemplateObject(["\n  height: 100%;\n\n  .ProseMirror {\n    /** Make it full page minus the padding */\n    min-height: calc(100vh - 40px);\n  }\n"],["\n  height: 100%;\n\n  .ProseMirror {\n    /** Make it full page minus the padding */\n    min-height: calc(100vh - 40px);\n  }\n"])));yl.displayName="ContentArea";var wl,Ol,El=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.appearance="mobile",t.handleRef=function(e){t.containerElement=e,t.props.onUiReady&&t.props.onUiReady(e)},t.renderMobile=function(e){var n=e.maxContentSize,r=t.props,o=r.editorView,i=r.eventDispatcher,a=r.providerFactory,s=r.customContentComponents,c=r.maxHeight,l=r.disabled,u=r.editorDOMElement,d=r.dispatchAnalyticsEvent,p=n&&n.maxContentSizeReached;return j.createElement(Ds,{animate:p},j.createElement(bl,{isMaxContentSizeReached:p,maxHeight:c},j.createElement(yl,{innerRef:t.handleRef},s,j.createElement(Fi,{editorView:o,eventDispatcher:i,providerFactory:a,appearance:t.appearance,containerElement:t.containerElement,disabled:!!l,dispatchAnalyticsEvent:d}),u)))},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.eventDispatcher,n=e.editorView;return j.createElement(Zo.a,{editorView:n,eventDispatcher:t,plugins:{maxContentSize:Ts,mentions:gl},render:this.renderMobile})},t.displayName="MobileEditor",t}(j.Component);var xl=n("CXN3"),kl=n("na7B");function Cl(e){var t=r.__assign({},e);return delete t.marks,t}function Sl(e){return Object(kl.a)(e,{text:function(e){return e&&Array.isArray(e.marks)?r.__assign({},e,{marks:e.marks.filter(function(e){return-1===["emojiQuery","typeAheadQuery"].indexOf(e.type)})}):e},status:function(e){return!(!e.attrs||!e.attrs.text)&&Cl(e)},emoji:Cl,mention:Cl,date:Cl,hardBreak:Cl,inlineCard:Cl})}var jl=n("mG1W"),Tl=function(){function e(){this.listeners=[]}return e.from=function(t,n,r){var o=new e;return o._privateRegisterEditor(t,n,r),o},e.prototype._privateGetEditorView=function(){return this.editorView},e.prototype._privateGetEventDispatcher=function(){return this.eventDispatcher},e.prototype._privateRegisterEditor=function(e,t,n){if(this.contentTransformer=n,this.eventDispatcher=t,!this.editorView&&e)this.editorView=e,this.listeners.forEach(function(n){return n(e,t)});else if(this.editorView!==e)throw new Error("Editor has already been registered! It's not allowed to re-register editor with the new Editor instance.")},e.prototype._privateUnregisterEditor=function(){this.editorView=void 0,this.contentTransformer=void 0,this.eventDispatcher=void 0},e.prototype._privateSubscribe=function(e){this.editorView&&this.eventDispatcher&&e(this.editorView,this.eventDispatcher),this.listeners.push(e)},e.prototype._privateUnsubscribe=function(e){this.listeners=this.listeners.filter(function(t){return t!==e})},e.prototype.focus=function(){return!(!this.editorView||this.editorView.hasFocus())&&(this.editorView.focus(),this.editorView.dispatch(this.editorView.state.tr.scrollIntoView()),!0)},e.prototype.blur=function(){return!(!this.editorView||!this.editorView.hasFocus())&&(this.editorView.dom.blur(),!0)},e.prototype.clear=function(){if(!this.editorView)return!1;var e=this.editorView,t=e.state,n=e.state.tr.setSelection(ei.TextSelection.create(t.doc,0,t.doc.nodeSize-2)).deleteSelection();return e.dispatch(n),!0},e.prototype.getValue=function(){return r.__awaiter(this,void 0,void 0,function(){var e;return r.__generator(this,function(t){switch(t.label){case 0:return[4,Object(xl.a)(this.editorView)];case 1:return(e=t.sent())?this.contentTransformer?[2,this.contentTransformer.encode(e)]:[2,Object(ai.k)(Sl,ai.I)(e)]:[2]}})})},e.prototype.replaceDocument=function(e,t){if(void 0===t&&(t=!0),!this.editorView||null==e)return!1;var n=this.editorView.state,r=n.schema,o=this.contentTransformer?this.contentTransformer.parse(e).toJSON():e,i=Object(si.i)(r,o);if(!i)return!1;var a=n.tr.replaceWith(0,n.doc.nodeSize-2,i.content);return t&&(a=a.scrollIntoView()),this.editorView.dispatch(a),!0},e.prototype.replaceSelection=function(e){if(!this.editorView)return!1;var t=this.editorView.state;if(!e){var n=t.tr.deleteSelection().scrollIntoView();return this.editorView.dispatch(n),!0}var r=t.schema,o=Object(si.i)(r,e);return!!o&&(this.editorView.dispatch(Object(jl.safeInsert)(o)(t.tr).scrollIntoView()),!0)},e.prototype.appendText=function(e){if(!this.editorView||!e)return!1;var t=this.editorView.state,n=t.doc.lastChild;if(n&&n.type!==t.schema.nodes.paragraph)return!1;var r=t.tr.insertText(e).scrollIntoView();return this.editorView.dispatch(r),!0},e}(),Ml=n("WLpT"),_l=n("PE//"),Il=n("N7ur"),Pl={pmPlugins:function(){return[{name:"paste",plugin:function(e){var t=e.schema,n=e.props;return Object(Il.a)(t,n.UNSAFE_cards)}}]}},Al=n("++pP"),Nl=n("Mhoe"),Rl=n("VuzU"),Dl=n("a/Ws"),Ll=n("mP+C"),zl=n("Gf2q"),Bl=n("L8cg"),Fl=new ei.PluginKey("focusStatePlugin"),ql=n("w3vy"),Wl=function(e){function t(t){var n=e.call(this,t)||this;return n.renderWithProvider=function(e){var t=n.props,r=t.allowTextFallback,o=t.shortName,i=t.id,a=t.fallback,s=t.fitToHeight;return r&&!e.emojiProvider?j.createElement("span",null,a||o):j.createElement(ps.c,null,j.createElement(mn.a,{emojiId:{id:i,fallback:a,shortName:o},emojiProvider:e.emojiProvider,showTooltip:!0,fitToHeight:s}))},n.providerFactory=t.providers||new Uo.a,n}return r.__extends(t,e),t.prototype.componentWillUnmount=function(){this.props.providers||this.providerFactory.destroy()},t.prototype.render=function(){return j.createElement(an.a,{providers:["emojiProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})},t}(j.PureComponent),Ul=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.createDomRef=function(){return"mobile"===this.reactComponentProps.editorAppearance?Object(Xc.a)():e.prototype.createDomRef.call(this)},t.prototype.render=function(e){var t=e.providerFactory,n=e.editorAppearance,r=this.node.attrs,o=r.shortName,i=r.id,a=r.text;return j.createElement(Xc.b,{appearance:n},j.createElement(Wl,{providers:t,id:i,shortName:o,fallback:a}),"mobile"!==n&&ai.a)},t}(Qc.b);function Hl(e,t,n){return function(r,o,i){return new Ul(r,o,i,e,{providerFactory:t,editorAppearance:n}).init()}}var Vl=new ei.PluginKey("emojiPlugin"),Gl=function(){function e(e){var t=this;this.enabled=!0,this.focused=!1,this.queryActive=!1,this.onSelectPrevious=function(){return!1},this.onSelectNext=function(){return!1},this.onSelectCurrent=function(e){return!1},this.onSpaceSelectCurrent=function(e,t,n){},this.onSpaceTyped=function(){},this.onDismiss=function(){},this.changeHandlers=[],this.queryResult=[],this.insertEmoji=function(e){var n=t.view,o=n.state,i=o.schema.nodes.emoji;if(i&&e){var a=t.findEmojiQueryMark(),s=a.start,c=a.end,l=i.create(r.__assign({},e,{text:e.fallback||e.shortName})),u=o.schema.text(" ");if(ai.r){var d=document.getSelection();d&&d.empty()}n.dispatch(o.tr.replaceWith(s,c,[l,u])),n.focus(),t.queryActive=!1,t.query=void 0}else t.dismiss()},this.handleProvider=function(e,n){if(n)switch(e){case"emojiProvider":n.then(function(e){t.emojiProvider=e,t.emojiProvider&&t.emojiProvider.subscribe(t.onProviderChange)}).catch(function(){t.emojiProvider&&t.emojiProvider.unsubscribe(t.onProviderChange),t.emojiProvider=void 0})}},this.trySelectCurrentWithSpace=function(e){var n=t.getEmojisCount();if(1===n){var r=t.query;return t.insertEmoji(t.queryResult[0]),t.onSpaceSelectCurrent(t.queryResult[0],e,r),!0}return(0===n||t.isEmptyQuery())&&t.dismiss(),t.onSpaceTyped(),!1},this.getEmojisCount=function(){return t.queryResult&&t.queryResult.length||0},this.isEmptyQuery=function(){return!t.query||":"===t.query},this.onSearchResult=function(e){t.queryResult=e.emojis},this.onProviderChange={result:this.onSearchResult},this.changeHandlers=[],e.subscribe("emojiProvider",this.handleProvider)}return e.prototype.subscribe=function(e){this.changeHandlers.push(e),e(this)},e.prototype.unsubscribe=function(e){this.changeHandlers=this.changeHandlers.filter(function(t){return t!==e})},e.prototype.notifySubscribers=function(){var e=this;this.changeHandlers.forEach(function(t){return t(e)})},e.prototype.update=function(e){if(this.emojiProvider){var t=e.schema.marks.emojiQuery,n=e.doc,r=e.selection,o=r.from,i=r.to,a=!1,s=this.isEnabled();if(s!==this.enabled&&(this.enabled=s,a=!0),n.rangeHasMark(o-1,i,t)){this.queryActive||(a=!0,this.queryActive=!0);var c=r.$from.nodeBefore,l=c&&c.textContent||"";this.query!==l&&(a=!0,this.query=l)}else if(this.queryActive)return a=!0,void this.dismiss();if(this.queryActive){var u=this.view.dom.querySelector("span[data-emoji-query]");u!==this.anchorElement&&(a=!0,this.anchorElement=u)}a&&this.notifySubscribers()}},e.prototype.dismiss=function(){this.queryActive=!1,this.query=void 0;var e=this.view,t=e.state;if(t){var n=t.schema,r=t.tr,o=n.mark("emojiQuery");e.dispatch(r.removeMark(0,t.doc.nodeSize-2,o).removeStoredMark(o))}return this.notifySubscribers(),this.onDismiss(),!0},e.prototype.isEnabled=function(){var e=this.view.state.schema.marks.emojiQuery;return Object(ai.x)(e,this.view.state)},e.prototype.findEmojiQueryMark=function(){for(var e=this.view.state,t=e.doc,n=e.schema,r=e.selection,o=r.to,i=r.from,a=n.marks.emojiQuery,s=i,c=t.nodeAt(s);s>0&&(!c||!a.isInSet(c.marks));)s--,c=t.nodeAt(s);var l=s;if(c&&a.isInSet(c.marks)){var u=t.resolve(s);l=(s=u.start(u.depth+1)-1)+c.nodeSize}return 0===s&&0===l&&(s=i,l=o),{start:s,end:l}},e.prototype.updateEditorFocused=function(e){this.focused=e,this.notifySubscribers()},e.prototype.setView=function(e){this.view=e},e}();var Kl=new ei.PluginKey("newlinePreserveMarksPlugin"),$l=function(e){return!!e.selection.$to.parent.marks.find(function(t){return t.type===e.schema.marks.alignment})},Jl=function(e){return!Bc.getState(e).active&&!Vl.getState(e).queryActive},Yl=function(e,t){return t&&t(e.tr.split(e.tr.mapping.map(e.selection.$from.pos),1)),!0},Ql=function(){return new ei.Plugin({key:Kl,props:{handleKeyDown:Object(Rl.keydownHandler)({Enter:Object(ql.a)([si.g,$l,Jl],Yl)})}})},Xl=new ei.PluginKey("inlineCursorTargetPlugin"),Zl=["mention","emoji"],eu=function(e){return e&&-1!==Zl.indexOf(e.type.name)},tu=function(){return new ei.Plugin({key:Xl,state:{init:function(){return{positions:[]}},apply:function(e){var t=e.selection.$from,n=[],r=function(e,t){if(eu(e.nodeAfter))return e.pos+1;var n=e.parentOffset,r=e.parent,o=t.doc.nodeSize-2;if(n===r.content.size&&e.pos+1<o-2){var i=t.doc.resolve(e.pos+1).nodeAfter;if(i&&eu(i.firstChild))return e.pos+2}}(t,e),o=function(e,t){if(eu(e.nodeBefore))return e.pos-1;if(0!==e.pos&&0===e.parentOffset){var n=t.doc.resolve(e.pos-1).nodeBefore;if(n&&eu(n.firstChild))return e.pos-2}}(t,e);return void 0!==r&&n.push(r),void 0!==o&&n.push(o),{positions:n}}},props:{decorations:function(e){var t=e.doc,n=Xl.getState(e).positions;if(n&&n.length){var r=n.map(function(e){var t=document.createElement("span");return t.appendChild(document.createTextNode(ai.a)),ti.Decoration.widget(e,t,{raw:!0,side:-1})});return ti.DecorationSet.create(t,r)}return null}}})},nu=n("G7hI"),ru=n("CnBM"),ou=n.n(ru),iu=ou()({loader:function(){return n.e(239).then(n.bind(null,"GQty")).then(function(e){return e.default})},loading:function(){return null}}),au=n("kghT"),su=function(e,t){var n=t.find(function(t){return!!Object(jl.findSelectedNodeOfType)(t.nodeType)(e)});if(n)return n;var r={};t.forEach(function(e){Array.isArray(e.nodeType)?e.nodeType.forEach(function(t){r[t.name]=e}):r[e.nodeType.name]=e});for(var o=e.$from,i=o.depth;i>0;i--){var a=o.node(i),s=r[a.type.name];if(s)return s}},cu=function(e){return Object(jl.findDomRefAtPos)(e.state.selection.from,e.domAtPos.bind(e))},lu={name:"floatingToolbar",pmPlugins:function(e){return void 0===e&&(e=[]),[{name:"floatingToolbar",plugin:function(t){var n=t.dispatch,o=t.reactContext,i=t.providerFactory;return function(e){var t=e.floatingToolbarHandlers,n=e.dispatch,o=e.reactContext,i=e.providerFactory;return new ei.Plugin({key:uu,state:{init:function(){iu.preload()},apply:function(e,a,s,c){var l=o().intl,u=t.map(function(e){return e(c,l,i)}).map(function(e){return function(e){if(!e)return e;var t=r.__assign({},e);Array.isArray(e.nodeType)&&(t.nodeType=e.nodeType.filter(function(e){return!!e}));return t}(e)}).filter(Boolean),d=u&&su(c.selection,u);return n(uu,d),d}}})}({dispatch:n,floatingToolbarHandlers:e,reactContext:o,providerFactory:i})}}]},contentComponent:function(e){var t=e.popupsMountPoint,n=e.popupsBoundariesElement,r=e.popupsScrollableElement,o=e.editorView,i=e.providerFactory,a=e.dispatchAnalyticsEvent;return j.createElement(Zo.a,{plugins:{floatingToolbarConfig:uu,editorDisabledPlugin:au.b},render:function(e){var s=e.editorDisabledPlugin,c=e.floatingToolbarConfig;if(c){var l=c.title,u=c.getDomRef,d=void 0===u?cu:u,p=c.items,f=c.align,h=void 0===f?"center":f,m=c.className,g=void 0===m?"":m,v=c.height,b=c.width,y=c.offset,w=void 0===y?[0,12]:y,O=d(o);if(O&&!(s||{}).editorDisabled)return j.createElement(go.a,{ariaLabel:l,offset:w,target:O,alignY:"bottom",fitHeight:v,fitWidth:b,alignX:h,stick:!0,mountTo:t,boundariesElement:n,scrollableElement:r},j.createElement(iu,{items:p,dispatchCommand:function(e){return e&&e(o.state,o.dispatch)},editorView:o,className:g,focusEditor:function(){return o.focus()},providerFactory:i,popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:r,dispatchAnalyticsEvent:a}))}return null}})}},uu=new ei.PluginKey("floatingToolbarPluginKey");var du,pu=new ei.PluginKey("decorationPlugin");!function(e){e[e.DECORATION_ADD=0]="DECORATION_ADD",e[e.DECORATION_REMOVE=1]="DECORATION_REMOVE"}(du||(du={}));var fu=function(e,t){return void 0===t&&(t="danger"),function(n,r){var o,i,a=uu.getState(n);if(!a)return!1;if(n.selection instanceof ei.NodeSelection){if(o=n.selection.node,(Array.isArray(a.nodeType)?a.nodeType:[a.nodeType]).indexOf(o.type)<0)return!1;i=n.selection.from}else{var s=Object(jl.findParentNodeOfType)(a.nodeType)(n.selection);if(!s)return!1;i=s.pos,o=s.node}return!!o&&(r&&r(n.tr.setMeta(pu,{action:e?du.DECORATION_ADD:du.DECORATION_REMOVE,data:ti.Decoration.node(i,i+o.nodeSize,{class:t},{key:"decorationNode"})}).setMeta("addToHistory",!1)),!0)}},hu=120;var mu=function(){var e=function(){var e=document.createElement("div");e.style.paddingBottom=hu+"px";var t=!1,n=null;return{addGutter:function(r){r&&(n=r,r.appendChild(e),t=!0)},removeGutter:function(){n&&t&&(t=!1,n.removeChild(e))},isMounted:function(){return t}}}();return new ei.Plugin({view:function(t){var n;return{update:function(){if(t.state.selection.empty){var r=t.dom,o=r.offsetParent;if(o){var i=o.scrollTop,a=o.offsetHeight,s=o.getBoundingClientRect().top;if(!(r.getBoundingClientRect().height+hu>=a))return void e.removeGutter();var c=n,l=function(){var e=window.getSelection();if(e&&e.rangeCount>0){var t=e.getRangeAt(0);if(t){var n=t.getClientRects();if(n&&n.length>0)return n[0].top;var r=t.startContainer;if(r&&r.getBoundingClientRect)return r.getBoundingClientRect().top}}}();if(!l)return;if(n=l+i,!c||!n)return;if(c>=n)return;var u=l-s;if(!(a<=u+hu&&a>u))return;e.isMounted()||e.addGutter(r.parentElement),o.scrollTop=i+hu-a+u}}}}}})},gu=function(e){return{pmPlugins:function(){var t=[{name:"filterStepsPlugin",plugin:function(){return new ei.Plugin({filterTransaction:function(e){return!function(e){return(e.steps||[]).some(function(e){return e.from>e.to})}(e)||(console.warn("The transaction was blocked because it contains invalid steps",e.steps),Object(Bl.a)({events:[{name:"atlaskit.fabric.editor.invalidstep",product:"atlaskit",properties:{message:"Blocked transaction with invalid steps"},serverTime:(new Date).getTime(),server:"local",user:"-"}]}),!1)}})}},{name:"inlineCursorTargetPlugin",plugin:function(){return"mobile"!==e?tu():void 0}},{name:"focusHandlerPlugin",plugin:function(e){return function(e){return new ei.Plugin({key:Fl,state:{init:function(){return!0},apply:function(t,n){var r=t.getMeta(Fl);return"boolean"==typeof r&&r!==n?(e(Fl,r),r):n}},props:{handleDOMEvents:{click:function(e){return Fl.getState(e.state)||e.dispatch(e.state.tr.setMeta(Fl,e.hasFocus())),!1},focus:function(e){return Fl.getState(e.state)||e.dispatch(e.state.tr.setMeta(Fl,!0)),!1},blur:function(e){return Fl.getState(e.state)&&e.dispatch(e.state.tr.setMeta(Fl,!1)),!1}}}})}(e.dispatch)}},{name:"newlinePreserveMarksPlugin",plugin:Ql},{name:"reactNodeView",plugin:function(){return nu.a}},{name:"decorationPlugin",plugin:function(){return new ei.Plugin({key:pu,state:{init:function(){return{decoration:void 0}},apply:function(e,t){t.decoration&&e.mapping.mapResult(t.decoration.from).deleted&&(t={decoration:void 0});var n=e.getMeta(pu);if(!n)return t;switch(n.action){case du.DECORATION_ADD:return{decoration:n.data};case du.DECORATION_REMOVE:return{decoration:void 0};default:return t}}},props:{decorations:function(e){var t=e.doc,n=pu.getState(e).decoration;return n?ti.DecorationSet.create(t,[n]):null}}})}},{name:"history",plugin:function(){return Object(Nl.history)()}},{name:"codeBlockIndent",plugin:function(){return Object(Rl.keymap)(r.__assign({},Al.baseKeymap,{"Mod-[":function(){return!0},"Mod-]":function(){return!0}}))}}];return Object(Wi.a)(e)&&t.push({name:"scrollGutterPlugin",plugin:function(){return mu()}}),t},nodes:function(){return[{name:"doc",node:Dl.a},{name:"paragraph",node:Ll.a},{name:"text",node:zl.a}]}}},vu=n("2M5u"),bu=n("6sAf"),yu=n("5QZs"),wu=n("uvLB"),Ou=function(e,t){switch(e){case wu.k:return!!t.schema.nodes.paragraph;case wu.e:case wu.f:case wu.g:case wu.h:case wu.i:case wu.j:return!!t.schema.nodes.heading;case wu.a:return!!t.schema.nodes.blockquote;case wu.b:return!!t.schema.nodes.codeBlock;case wu.m:return!!t.schema.nodes.panel}},Eu=function(e,t){if(!t.selection)return wu.k;var n,r=t.selection,o=r.$from,i=r.$to;return t.doc.nodesBetween(o.pos,i.pos,function(r){var o=e.filter(function(e){return e===function(e,t){if(e.type===t.nodes.heading){var n=wu.c[e.attrs.level];if(n)return n}else if(e.type===t.nodes.paragraph)return wu.k;return wu.l}(r,t.schema)});o.length>0&&(n?n!==wu.l&&n!==o[0]&&(n=wu.l):n=o[0])}),n||wu.l},xu=new ei.PluginKey("blockTypePlugin"),ku=n("cqjR"),Cu=n("hksT");function Su(e,t){return function(n,r,o,i){var a=t(n,r,o,i);return a&&Fo.a.trackEvent(e),a}}var ju=n("YZnK");function Tu(e,t){return function(n,r){var o=n.schema.nodes;if(e===wu.k.name&&o.paragraph)return function(e){return Object(ll.d)({action:Mo.a.FORMATTED,actionSubject:Mo.b.TEXT,eventType:Mo.d.TRACK,actionSubjectId:Mo.c.FORMAT_HEADING,attributes:{inputMethod:e,newHeadingLevel:0}})(function(e,t){var n=e.tr,r=e.selection,o=r.$from,i=r.$to,a=e.schema;t&&t(n.setBlockType(o.pos,i.pos,a.nodes.paragraph));return!0})}(t)(n,r);var i=wu.d[e];return!!(i&&o.heading&&i.level)&&_u(i.level,t)(n,r)}}function Mu(e){return function(t,n){var r=t.tr,o=t.selection,i=o.$from,a=o.$to,s=t.schema;return n&&n(r.setBlockType(i.pos,a.pos,s.nodes.heading,{level:e})),!0}}var _u=function(e,t){return Object(ll.d)({action:Mo.a.FORMATTED,actionSubject:Mo.b.TEXT,eventType:Mo.d.TRACK,actionSubjectId:Mo.c.FORMAT_HEADING,attributes:{inputMethod:t,newHeadingLevel:e}})(Mu(e))};function Iu(e){return function(t,n){var r=t.schema.nodes;switch(e){case wu.a.name:if(r.paragraph&&r.blockquote)return Au(r.blockquote)(t,n);break;case wu.b.name:if(r.codeBlock)return function(e,t){var n=e.tr,r=e.selection.$to,o=e.schema.nodes.codeBlock,i=e.doc.nodeAt(r.pos+1),a=i&&i.isText?0:1;return n.replaceRangeWith(r.pos+a,r.pos+a,o.createAndFill()),n.setSelection(ei.Selection.near(n.doc.resolve(e.selection.to+a))),t&&t(n),!0}(t,n);break;case wu.m.name:if(r.panel&&r.paragraph)return Au(r.panel)(t,n)}return!1}}var Pu=function(e,t){switch(e){case wu.a.name:return Object(ll.d)({action:Mo.a.FORMATTED,actionSubject:Mo.b.TEXT,eventType:Mo.d.TRACK,actionSubjectId:Mo.c.FORMAT_BLOCK_QUOTE,attributes:{inputMethod:t}})(Iu(e));case wu.b.name:case wu.m.name:default:return Iu(e)}};function Au(e){return function(t,n){var r=t.tr,o=t.selection,i=o.$from,a=o.$to,s=t.schema.nodes.paragraph,c=t.schema.marks,l=c.alignment,u=c.indentation;r=Object(ju.c)(t,[l,u])||r;var d=i.blockRange(a),p=d&&Object(ni.findWrapping)(d,e);return d&&p?r.wrap(d,p).scrollIntoView():(r.replaceRangeWith(a.pos+1,a.pos+1,e.createAndFill({},s.create())),r.setSelection(ei.Selection.near(r.doc.resolve(t.selection.to+1)))),n&&n(r),!0}}var Nu=function(e,t){var n=e.selection.$cursor;if(n&&!n.nodeBefore&&!n.nodeAfter&&1===n.pos){var r=e.tr,o=e.schema.nodes.paragraph,i=n.parent;return r.setNodeMarkup(0,o,i.attrs,[]),t&&t(r),!0}return!1},Ru=function(e,t){return"atlassian.editor.format."+e+"."+t},Du=Object(Al.chainCommands)(ku.undoInputRule,Nl.undo);var Lu=n("I2Uo"),zu=n("s7yy");var Bu=function(e,t,n,r,o,i){var a=e.schema.nodes,s=a.hardBreak,c=a.codeBlock,l=a.listItem,u=e.doc.resolve(r);if(u.nodeAfter.type!==s)return null;if(u.depth>1&&(t!==c||!Object(jl.hasParentNodeOfType)(l)(e.selection)))return null;Fo.a.trackEvent("atlassian.editor.format."+n+".autoformatting");var d=e.tr.delete(r,o).split(r),p=d.doc.nodeAt(r+1),f=!1;d.doc.nodesBetween(r,r+p.nodeSize,function(e,t){f||e.type!==s||(f=!0,d=d.split(t+1).delete(t,t+1))}),f&&(p=d.doc.nodeAt(r+1));var h,m,g=e.schema.nodes,v=g.blockquote,b=g.paragraph;t===v?(m=3,h=[b.create({},p.content)]):(m=2,h=p.content);var y=t.create(i,h);return d=d.setSelection(new ei.NodeSelection(d.doc.resolve(r+1))).replaceSelectionWith(y).setSelection(new ei.TextSelection(d.doc.resolve(r+m)))},Fu=6;function qu(e){return{level:e[1].length}}function Wu(e){var t,n,r=Object(Lu.b)((t=e.nodes.heading,n=Fu,Object(ku.textblockTypeInputRule)(new RegExp("^(#{1,"+n+"})\\s$"),t,qu)),!0),o=Object(Lu.a)(new RegExp(Lu.c+"(#{1,6})\\s$"),function(t,n,r,o){var i=n[1].length;return Bu(t,e.nodes.heading,"heading"+i,r,o,{level:i})},!0),i=r.handler;r.handler=function(e,t,n,r){return Fo.a.trackEvent("atlassian.editor.format.heading"+t[1].length+".autoformatting"),i(e,t,n,r)};var a=Object(ll.c)(function(e,t){return{action:Mo.a.FORMATTED,actionSubject:Mo.b.TEXT,eventType:Mo.d.TRACK,actionSubjectId:Mo.c.FORMAT_HEADING,attributes:{inputMethod:Mo.e.FORMATTING,newHeadingLevel:qu(t).level}}});return[a(r),a(o)]}function Uu(e){var t,n=Object(Lu.b)((t=e.nodes.blockquote,Object(ku.wrappingInputRule)(/^\s*>\s$/,t)),!0);n.handler=Su("atlassian.editor.format.blockquote.autoformatting",n.handler);var r=Object(Lu.a)(new RegExp(Lu.c+"\\s*>\\s$"),function(t,n,r,o){return Bu(t,e.nodes.blockquote,"blockquote",r,o)},!0),o=Object(ll.c)(function(){return{action:Mo.a.FORMATTED,actionSubject:Mo.b.TEXT,eventType:Mo.d.TRACK,actionSubjectId:Mo.c.FORMAT_BLOCK_QUOTE,attributes:{inputMethod:Mo.e.FORMATTING}}});return[o(n),o(r)]}function Hu(e){var t={action:Mo.a.INSERTED,actionSubject:Mo.b.DOCUMENT,actionSubjectId:Mo.c.CODE_BLOCK,attributes:{inputMethod:Mo.e.FORMATTING},eventType:Mo.d.TRACK};return[Object(Lu.a)(/((^`{3,})|(\s`{3,}))(\S*)$/,function(e,n,r,o){var i={};n[4]&&(i.language=n[4]);var a=" "===n[0][0]?r+1:r;if(function(e){if(!e.selection)return!1;var t=e.selection.$from,n=t.parent;if(!n.isTextblock||n.type===e.schema.nodes.codeBlock)return!1;var r=t.depth-1,o=t.node(r),i=t.index(r);return o.canReplaceWith(i,i+1,e.schema.nodes.codeBlock)}(e)){Fo.a.trackEvent("atlassian.editor.format.codeblock.autoformatting");var s=function(e,t){if(!e.selection.empty)return e.tr;var n=e.schema.nodes.codeBlock,r=e.selection.$from,o=r.before(),i=r.end(),a=Object(zu.e)(e.doc.slice(r.pos,i),function(t){return t.type===e.schema.nodes.hardBreak?e.schema.text("\n"):t.isText?t.mark([]):t.isInline?t.attrs.text?e.schema.text(t.attrs.text):null:t.content.childCount?t.content:null}),s=e.tr.replaceRange(r.pos,i,a);return r.parentOffset>=3?s.split(r.pos,void 0,[{type:n,attrs:t}]):s.setNodeMarkup(o,n,t,[])}(e,i).delete(a,o).scrollIntoView();return Object(ll.a)(s,t)}var c=e.tr;c=c.delete(a,o);var l=e.schema.nodes.codeBlock.createChecked();return Object(jl.safeInsert)(l)(c)},!0),Object(Lu.a)(new RegExp("(("+Lu.c+"`{3,})|(\\s`{3,}))(\\S*)$"),function(n,r,o,i){var a={};r[4]&&(a.language=r[4]);var s=Bu(n,e.nodes.codeBlock,"codeblock",o,i,a);return s&&(s=Object(ll.a)(s,t)),s},!0)]}var Vu,Gu=function(e){var t=[];if(e.nodes.heading&&t.push.apply(t,r.__spread(Wu(e))),e.nodes.blockquote&&t.push.apply(t,r.__spread(Uu(e))),e.nodes.codeBlock&&t.push.apply(t,r.__spread(Hu(e))),0!==t.length)return Object(ku.inputRules)({rules:t})},Ku=n("74nx"),$u=n.n(Ku),Ju=n("rIe8"),Yu=n.n(Ju),Qu=n("RuAs"),Xu=mt.default.div(Vu||(Vu=r.__makeTemplateObject(["\n  ",";\n"],["\n  ",";\n"])),function(e){return e.selected?e.tagName+" { color: white }":""}),Zu=Object(hr.e)({textStyles:{id:"fabric.editor.textStyles",defaultMessage:"Text styles",description:"Menu provides access to various heading styles or normal text"}}),ed=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={active:!1},t.onOpenChange=function(e){t.setState({active:e.isOpen})},t.handleTriggerClick=function(){t.onOpenChange({isOpen:!t.state.active})},t.createItems=function(){var e=t.props.intl.formatMessage,n=t.props.pluginState,r=n.currentBlockType;return[{items:n.availableBlockTypes.reduce(function(t,n,o){var i=r===n,a=n.tagName||"p";return t.push({content:j.createElement(Xu,{tagName:a,selected:i},Object(j.createElement)(a,{},e(n.title))),value:n,key:n+"-"+o,isActive:i}),t},[])}]},t.handleSelectBlockType=function(e){var n=e.item.value;t.props.setBlockType(n.name),t.setState({active:!1}),Fo.a.trackEvent("atlassian.editor.format."+n.name+".button")},t}return r.__extends(t,e),t.prototype.render=function(){var e=this,t=this.state.active,n=this.props,o=n.popupsMountPoint,i=n.popupsBoundariesElement,a=n.popupsScrollableElement,s=n.isSmall,c=n.isReducedSpacing,l=n.pluginState,u=l.currentBlockType,d=l.blockTypesDisabled,p=l.availableBlockTypes,f=n.intl.formatMessage;if(!p.some(function(e){return"heading"===e.nodeName}))return null;var h=p.filter(function(e){return e.name===u.name}).map(function(e){return e.title}),m=r.__spread([wu.k],p).reduce(function(e,t){var n=f(t.title);return n.length>=e.length?n:e},""),g=function(n){var o=f(Zu.textStyles);return j.createElement(yo.a,{spacing:c?"none":"default",selected:t,className:"block-type-btn",disabled:n,onClick:e.handleTriggerClick,title:o,"aria-label":"Font style",iconAfter:j.createElement(ps.i,{isSmall:s},s&&j.createElement(Yu.a,{label:o}),j.createElement(ps.d,null,j.createElement($u.a,{label:o})))},!s&&j.createElement(ps.a,null,j.createElement(hr.a,r.__assign({},h[0]||wu.k.title)),j.createElement("div",{style:{overflow:"hidden",height:0}},m)))};if(!this.props.isDisabled&&!d){var v=this.createItems();return j.createElement(ps.e,null,j.createElement(Qu.a,{items:v,onOpenChange:this.onOpenChange,onItemActivated:this.handleSelectBlockType,isOpen:t,mountTo:o,boundariesElement:i,scrollableElement:a,zIndex:Ko.p,fitHeight:360,fitWidth:106},g(!1)),j.createElement(ps.f,null))}return j.createElement(ps.i,null,g(!0),j.createElement(ps.f,null))},t}(j.PureComponent),td=Object(hr.f)(ed),nd={nodes:function(e){var t=e.allowBlockType,n=[{name:"heading",node:vu.a},{name:"blockquote",node:bu.a},{name:"hardBreak",node:yu.a}];if(t){var r=t.exclude?t.exclude:[];return n.filter(function(e){return-1===r.indexOf(e.name)})}return n},pmPlugins:function(){return[{name:"blockType",plugin:function(e){var t=e.props;return function(e,t){return new ei.Plugin({appendTransaction:function(e,n,r){if("comment"===t){var o=r.doc.resolve(r.doc.content.size-1).node(1),i=r.schema.nodes.paragraph;if(o&&o.isBlock&&o.type!==i)return r.tr.insert(r.doc.content.size,r.schema.nodes.paragraph.create())}},state:{init:function(e,t){var n=wu.n.filter(function(e){return Ou(e,t)}),r=wu.o.filter(function(e){return Ou(e,t)});return{currentBlockType:Eu(n,t),blockTypesDisabled:Object(ai.b)(t),availableBlockTypes:n,availableWrapperBlockTypes:r}},apply:function(t,n,o,i){var a=r.__assign({},n,{currentBlockType:Eu(n.availableBlockTypes,i),blockTypesDisabled:Object(ai.b)(i)});return a.currentBlockType===n.currentBlockType&&a.blockTypesDisabled===n.blockTypesDisabled||e(xu,a),a}},key:xu})}(e.dispatch,t.appearance)}},{name:"blockTypeInputRule",plugin:function(e){var t=e.schema;return Gu(t)}},{name:"blockTypeKeyMap",plugin:function(e){return function(e){var t={};return Cu.h(Cu.s.common,Su("atlassian.editor.newline.keyboard",is.f),t),Cu.h(Cu.x.common,Su("atlassian.editor.moveup.keyboard",is.b),t),Cu.h(Cu.u.common,Su("atlassian.editor.movedown.keyboard",is.c),t),Cu.h(Cu.m(Cu.E),Su("atlassian.editor.redo.keyboard",Nl.redo),t),Cu.h(Cu.T.common,Su("atlassian.editor.undo.keyboard",Du),t),Cu.h(Cu.m(Cu.F),is.h(),t),Cu.h(Cu.g.common,Nu,t),[wu.k,wu.e,wu.f,wu.g,wu.h,wu.i,wu.j,wu.a].forEach(function(n){if(e.nodes[n.nodeName]){var r=Cu.o(n.title.defaultMessage);if(r){var o=Ru(n.name,Mo.e.KEYBOARD);Cu.h(r,Su(o,Pu(n.name,Mo.e.KEYBOARD)),t)}}}),Object(Rl.keymap)(t)}(e.schema)}}]},primaryToolbarComponent:function(e){var t=e.editorView,n=e.popupsMountPoint,r=e.popupsBoundariesElement,o=e.popupsScrollableElement,i=e.toolbarSize,a=e.disabled,s=e.isToolbarReducedSpacing,c=e.eventDispatcher,l=i<Di.XL,u=function(e){return Tu(e,Mo.e.TOOLBAR)(t.state,t.dispatch)};return j.createElement(Zo.a,{editorView:t,eventDispatcher:c,plugins:{pluginState:xu},render:function(e){var t=e.pluginState;return j.createElement(td,{isSmall:l,isDisabled:a,isReducedSpacing:s,setBlockType:u,pluginState:t,popupsMountPoint:n,popupsBoundariesElement:r,popupsScrollableElement:o})}})},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{title:t(wu.p.blockquote),description:t(wu.p.blockquoteDescription),priority:1300,keyshortcut:Object(Cu.S)(Cu.J),icon:function(){return j.createElement(ul.r,{label:t(wu.p.blockquote)})},action:function(e,t){var n=e(t.schema.nodes.blockquote.createChecked({},t.schema.nodes.paragraph.createChecked()));return Object(ll.a)(n,{action:Mo.a.FORMATTED,actionSubject:Mo.b.TEXT,eventType:Mo.d.TRACK,actionSubjectId:Mo.c.FORMAT_BLOCK_QUOTE,attributes:{inputMethod:Mo.e.QUICK_INSERT}})}}]}}},rd=new ei.PluginKey("placeholderPlugin");function od(e){if(e)return new ei.Plugin({key:rd,state:{init:function(e,t){return Object(si.d)(t.doc)},apply:function(e,t,n,r){var o=e.getMeta(rd);if(o){if(o.removePlaceholder)return!1;if(o.applyPlaceholderIfEmpty)return Object(si.d)(r.doc)}return e.docChanged?Object(si.d)(r.doc):t}},props:{decorations:function(t){if(rd.getState(t))return function(e,t){var n=document.createElement("span");n.className="placeholder-decoration";var r=document.createElement("span");return r.textContent=t,n.appendChild(r),ti.DecorationSet.create(e,[ti.Decoration.widget(1,n,{side:-1})])}(t.doc,e)},handleDOMEvents:{compositionstart:function(e){return rd.getState(e.state)&&e.dispatch(e.state.tr.setMeta(rd,{removePlaceholder:!0})),!1},compositionend:function(e){return rd.getState(e.state)||e.dispatch(e.state.tr.setMeta(rd,{applyPlaceholderIfEmpty:!0})),!1}}}})}var id={pmPlugins:function(){return[{name:"placeholder",plugin:function(e){return od(e.props.placeholder)}}]}},ad=new ei.PluginKey("clearMarksOnChangeToEmptyDocumentPlugin");function sd(){return new ei.Plugin({key:ad,appendTransaction:function(e,t,n){if(!Object(si.d)(t.doc)&&Object(si.d)(n.doc))return n.tr.setStoredMarks([])}})}var cd={pmPlugins:function(){return[{name:"clearMarksOnChange",plugin:sd}]}},ld=n("fNG7"),ud=n("l8Zf"),dd=n("UtC1");function pd(e){if(e.marks.link){var t,n=(t=new ud.a,Object(Lu.a)(t,function(e,t,n,o){var i=e.schema;if(e.doc.rangeHasMark(n,o,i.marks.link))return null;var a=r.__read(t,1)[0],s=Object(ud.e)(a.url),c=i.mark("link",{href:s});Fo.a.trackEvent("atlassian.editor.format.hyperlink.autoformatting");var l={action:Mo.a.INSERTED,actionSubject:Mo.b.DOCUMENT,actionSubjectId:Mo.c.LINK,attributes:{inputMethod:Mo.e.AUTO_DETECT},eventType:Mo.d.TRACK},u=Object(dd.a)([{url:a.url,pos:n-(a.input.length-a.lastIndex),appearance:"inline",compareLinkText:!0,source:Mo.e.AUTO_DETECT}])(e.tr.addMark(n-(a.input.length-a.lastIndex),o-(a.input.length-a.lastIndex),c).insertText(" "));return Object(ll.a)(u,l)})),o=Object(Lu.a)(/(^|[^!])\[(.*?)\]\((\S+)\)$/,function(e,t,n,o){var i=e.schema,a=r.__read(t,4),s=a[1],c=a[2],l=a[3],u=Object(ud.e)(l),d=i.mark("link",{href:u});Fo.a.trackEvent("atlassian.editor.format.hyperlink.autoformatting");var p={action:Mo.a.INSERTED,actionSubject:Mo.b.DOCUMENT,actionSubjectId:Mo.c.LINK,attributes:{inputMethod:Mo.e.FORMATTING},eventType:Mo.d.TRACK},f=e.tr.replaceWith(n+s.length,o,i.text(c,[d]));return Object(ll.a)(f,p)});return Object(ku.inputRules)({rules:[n,o]})}}var fd=n("DpjF"),hd=n("Hxsl");function md(){var e={};return Cu.h(Cu.d.common,Su("atlassian.editor.format.hyperlink.keyboard",Object(hd.g)(Mo.e.SHORTCUT)),e),Cu.h(Cu.k.common,Id,e),Cu.h(Cu.s.common,Id,e),Cu.h(Cu.l.common,function(e,t,n){return!!fd.e.getState(e).activeLinkMark&&(Object(hd.b)()(e,t),n&&n.focus(),!1)},e),Object(Rl.keymap)(e)}var gd,vd,bd,yd,wd,Od,Ed,xd,kd,Cd,Sd,jd,Td,Md,_d,Id=function(e,t){var n=e.selection.$from.nodeBefore;if(!n||!n.isText)return!1;var r=n.text.split(" "),o=r[r.length-1],i=Object(ud.b)(o);if(i){var a=i.raw,s=e.selection.$from.pos-a.length,c=e.selection.$from.pos;if(e.doc.rangeHasMark(s,c,e.schema.marks.link))return!1;var l=i.url,u=e.schema.mark("link",{href:l}),d=Object(dd.a)([{url:l,pos:s,appearance:"inline",compareLinkText:!0,source:Mo.e.AUTO_DETECT}])(e.tr.addMark(s,c,u));Fo.a.trackEvent("atlassian.editor.format.hyperlink.autoformatting"),t&&t(d)}return!1},Pd=function(e,t){return ti.Decoration.inline(e,t,{class:"ProseMirror-fake-text-selection"})},Ad=function(e){var t=fd.e.getState(e);if(t&&t.activeLinkMark&&t.activeLinkMark.type===fd.a.INSERT_LINK_TOOLBAR)return t.activeLinkMark},Nd=new ei.Plugin({state:{init:function(){return ti.DecorationSet.empty},apply:function(e,t,n,r){var o,i,a=Ad(n),s=Ad(r);if(a&&s){var c=s.from,l=s.to,u=e.mapping.map(a.from),d=e.mapping.map(a.to);if(u===c&&d===l)return t.map(e.mapping,e.doc)}if(s){c=s.from,l=s.to;return ti.DecorationSet.create(e.doc,[c===l?(o=c,i=document.createElement("div"),i.className="ProseMirror-fake-text-cursor",ti.Decoration.widget(o,i)):Pd(c,l)])}return ti.DecorationSet.empty}},props:{decorations:function(e){return Nd.getState(e)}}}),Rd=Nd,Dd=n("L/lg"),Ld=mt.default.li(gd||(gd=r.__makeTemplateObject(["\n  background-color: ",";\n  padding: 5px 8px;\n  cursor: pointer;\n  display: flex;\n"],["\n  background-color: ",";\n  padding: 5px 8px;\n  cursor: pointer;\n  display: flex;\n"])),function(e){return e.selected?gt.colors.N20:"transparent"}),zd=mt.default.span(vd||(vd=r.__makeTemplateObject(["\n  overflow: hidden;\n"],["\n  overflow: hidden;\n"]))),Bd=mt.default.div(bd||(bd=r.__makeTemplateObject(["\n  color: ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"],["\n  color: ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"])),gt.colors.N800),Fd=mt.default.div(yd||(yd=r.__makeTemplateObject(["\n  color: ",";\n  font-size: 12px;\n"],["\n  color: ",";\n  font-size: 12px;\n"])),gt.colors.N100),qd=mt.default.span(wd||(wd=r.__makeTemplateObject(["\n  min-width: 16px;\n  margin-top: 3px;\n  margin-right: 8px;\n"],["\n  min-width: 16px;\n  margin-top: 3px;\n  margin-right: 8px;\n"]))),Wd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSelect=function(e){e.preventDefault();var n=t.props,r=n.item;(0,n.onSelect)(r.url,r.name)},t.handleMouseMove=function(){var e=t.props;(0,e.onMouseMove)(e.item.objectId)},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.item,n=e.selected;return j.createElement(Ld,{selected:n,onMouseMove:this.handleMouseMove,onMouseDown:this.handleSelect},j.createElement(qd,null,j.createElement("img",{src:t.iconUrl})),j.createElement(zd,null,j.createElement(Bd,null,t.name),j.createElement(Fd,null,t.container)))},t}(j.PureComponent),Ud=mt.default.div(Od||(Od=r.__makeTemplateObject(["\n  padding-top: 10px;\n"],["\n  padding-top: 10px;\n"]))),Hd=mt.default.div(Ed||(Ed=r.__makeTemplateObject(["\n  padding-top: 0;\n"],["\n  padding-top: 0;\n"]))),Vd=mt.default.div(xd||(xd=r.__makeTemplateObject(["\n  text-align: center;\n  min-height: 80px;\n  margin-top: 30px;\n"],["\n  text-align: center;\n  min-height: 80px;\n  margin-top: 30px;\n"]))),Gd=mt.default.ul(kd||(kd=r.__makeTemplateObject(["\n  padding: 0;\n  list-style: none;\n"],["\n  padding: 0;\n  list-style: none;\n"]))),Kd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.onSelect,n=e.onMouseMove,r=e.items,o=e.selectedIndex;return e.isLoading?j.createElement(Ud,null,j.createElement(Vd,null,j.createElement(mo.a,{invertColor:!0,size:"medium"}))):r&&0!==r.length?j.createElement(Hd,null,j.createElement(Gd,null,r.map(function(e,r){return j.createElement(Wd,{item:e,selected:o===r,onMouseMove:n,onSelect:t,key:e.objectId})}))):null},t}(j.PureComponent),$d=n("5eIF"),Jd=n.n($d),Yd=n("akz4"),Qd=n.n(Yd),Xd=n("Pve+"),Zd=n.n(Xd),ep=mt.default.div(Sd||(Sd=r.__makeTemplateObject(["\n  width: 420px;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n  padding: 0;\n\n  ",";\n  line-height: 2;\n"],["\n  width: 420px;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n  padding: 0;\n\n  ",";\n  line-height: 2;\n"])),function(e){var t=e.provider;return Object(mt.css)(Cd||(Cd=r.__makeTemplateObject(["\n      width: ","px;\n    "],["\n      width: ","px;\n    "])),t?"420x":"360")}),tp="\n  display: flex;\n  line-height: 0;\n  padding: 5px 0;\n  align-items: center;\n\n  svg {\n    max-width: 18px;\n  }\n",np=mt.default.span(jd||(jd=r.__makeTemplateObject(["\n  cursor: pointer;\n  padding-right: 8px;\n  color: ",";\n"],["\n  cursor: pointer;\n  padding-right: 8px;\n  color: ",";\n"])),gt.colors.N80),rp=mt.default.div(Td||(Td=r.__makeTemplateObject(["\n  ","\n  border-top: 1px solid ","\n"],["\n  ","\n  border-top: 1px solid ","\n"])),tp,gt.colors.N30),op=mt.default.div(Md||(Md=r.__makeTemplateObject(["\n  ","\n"],["\n  ","\n"])),tp),ip=mt.default.span(_d||(_d=r.__makeTemplateObject(["\n  padding: 10px;\n  color: ",";\n  padding: 4px 8px;\n  width: 18px;\n"],["\n  padding: 10px;\n  color: ",";\n  padding: 4px 8px;\n  width: 18px;\n"])),gt.colors.N80),ap=Object(hr.e)({placeholder:{id:"fabric.editor.hyperlinkToolbarPlaceholder",defaultMessage:"Paste link or search recently viewed",description:"Paste link or search recently viewed"},linkPlaceholder:{id:"fabric.editor.linkPlaceholder",defaultMessage:"Paste link",description:"Create a new link by pasting a URL."},linkAddress:{id:"fabric.editor.linkAddress",defaultMessage:"Link address",description:"Insert the address of the link"},displayText:{id:"fabric.editor.displayText",defaultMessage:"Text to display",description:"Text to display"},clearText:{id:"fabric.editor.clearLinkText",defaultMessage:"Clear text",description:"Clears text on the link toolbar"},clearLink:{id:"fabric.editor.clearLink",defaultMessage:"Clear link",description:"Clears link in the link toolbar"}}),sp=function(e){function t(t){var n=e.call(this,t)||this;return n.isTabPressed=!1,n.urlInputContainer=null,n.displayTextInputContainer=null,n.updateInput=function(e){return r.__awaiter(n,void 0,void 0,function(){var t,n,o,i,a,s;return r.__generator(this,function(r){switch(r.label){case 0:return this.setState({text:e}),this.state.provider?0!==e.length?[3,2]:(t=this.setState,n={},o=lp,[4,this.state.provider.getRecentItems()]):[3,4];case 1:return t.apply(this,[(n.items=o.apply(void 0,[r.sent()]),n.selectedIndex=-1,n)]),[3,4];case 2:return i=this.setState,a={},s=lp,[4,this.state.provider.searchRecent(e)];case 3:i.apply(this,[(a.items=s.apply(void 0,[r.sent()]),a.selectedIndex=0,a)]),r.label=4;case 4:return[2]}})})},n.clearUrl=function(e,t){var r;n.setState(((r={})[e]="",r)),t&&t.focus()},n.handleSelected=function(e,t){n.setState({displayText:t},function(){n.props.onSubmit&&(n.props.onSubmit(e,n.state.displayText||t,Mo.e.TYPEAHEAD),n.trackAutoCompleteAnalyticsEvent("atlassian.editor.format.hyperlink.autocomplete.click",Mo.e.TYPEAHEAD))})},n.handleMouseMove=function(e){var t=n.state.items;if(t){var r=cp(t,function(t){return t.objectId===e});n.setState({selectedIndex:r})}},n.handleSubmit=function(){var e=n.state,t=e.items,r=e.text,o=e.selectedIndex;if(t&&t.length>0&&o>-1){var i=t[o];n.props.onSubmit&&(n.props.onSubmit(i.url,n.state.displayText||i.name,Mo.e.TYPEAHEAD),n.trackAutoCompleteAnalyticsEvent("atlassian.editor.format.hyperlink.autocomplete.keyboard",Mo.e.TYPEAHEAD))}else r&&r.length>0&&n.props.onSubmit&&(n.props.onSubmit(r,n.state.displayText||r,Mo.e.MANUAL),n.trackAutoCompleteAnalyticsEvent("atlassian.editor.format.hyperlink.autocomplete.notselected",Mo.e.MANUAL))},n.handleKeyDown=function(e){var t=n.state,r=t.items,o=t.selectedIndex;n.isTabPressed=9===e.keyCode,r&&r.length&&(40===e.keyCode?(e.preventDefault(),n.setState({selectedIndex:(o+1)%r.length})):38===e.keyCode&&(e.preventDefault(),n.setState({selectedIndex:o>0?o-1:r.length-1})))},n.handleTextKeyDown=function(e){n.setState({displayText:e})},n.handleBlur=function(e){var t=Object(ud.e)(n.state.text);n.props.onBlur&&n.props.onBlur(e,t,n.state.displayText||n.state.text,n.isTabPressed)},n.state={selectedIndex:-1,isLoading:!1,text:t.displayUrl||"",displayText:t.displayText||"",items:[]},n.urlBlur=n.handleBlur.bind(n,"url"),n.textBlur=n.handleBlur.bind(n,"text"),n}return r.__extends(t,e),t.prototype.resolveProvider=function(){return r.__awaiter(this,void 0,void 0,function(){var e;return r.__generator(this,function(t){switch(t.label){case 0:return[4,this.props.provider];case 1:return e=t.sent(),this.setState({provider:e}),[2,e]}})})},t.prototype.componentDidMount=function(){return r.__awaiter(this,void 0,void 0,function(){var e;return r.__generator(this,function(t){switch(t.label){case 0:return this.props.provider?[4,this.resolveProvider()]:[3,2];case 1:e=t.sent(),this.loadRecentItems(e),t.label=2;case 2:return[2]}})})},t.prototype.loadRecentItems=function(e){return r.__awaiter(this,void 0,void 0,function(){var t,n,o;return r.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,,3,4]),this.state.text?[3,2]:(t=this.setState,n={isLoading:!0},o=lp,[4,e.getRecentItems()]);case 1:t.apply(this,[(n.items=o.apply(void 0,[r.sent()]),n)]),r.label=2;case 2:return[3,4];case 3:return this.setState({isLoading:!1}),[7];case 4:return[2]}})})},t.prototype.render=function(){var e=this,t=this.state,n=t.items,r=t.isLoading,o=t.selectedIndex,i=t.text,a=t.displayText,s=this.props,c=s.intl.formatMessage,l=s.provider,u=c(l?ap.placeholder:ap.linkPlaceholder),d=c(ap.linkAddress),p=c(ap.clearLink),f=c(ap.displayText);return j.createElement("div",{className:"recent-list"},j.createElement(ep,{provider:!!l},j.createElement(op,null,j.createElement(ip,null,j.createElement(Gn.a,{content:d},j.createElement(Qd.a,{label:d}))),j.createElement(Dd.a,{ref:function(t){return e.urlInputContainer=t},placeholder:u,onSubmit:this.handleSubmit,onChange:this.updateInput,autoFocus:!0,onCancel:this.urlBlur,onBlur:this.urlBlur,defaultValue:i,onKeyDown:this.handleKeyDown}),i&&j.createElement(Gn.a,{content:p},j.createElement(np,{onClick:this.clearUrl.bind(null,"text",this.urlInputContainer)},j.createElement(Zd.a,{label:p})))),j.createElement(Kd,{items:n,isLoading:r,selectedIndex:o,onSelect:this.handleSelected,onMouseMove:this.handleMouseMove}),j.createElement(rp,null,j.createElement(ip,null,j.createElement(Gn.a,{content:f},j.createElement(Jd.a,{label:f}))),j.createElement(Dd.a,{ref:function(t){return e.displayTextInputContainer=t},placeholder:f,onChange:this.handleTextKeyDown,onCancel:this.textBlur,onBlur:this.textBlur,defaultValue:a,onSubmit:this.handleSubmit}),a&&j.createElement(Gn.a,{content:c(ap.clearText)},j.createElement(np,{onClick:this.clearUrl.bind(null,"displayText",this.displayTextInputContainer)},j.createElement(Zd.a,{label:c(ap.clearText)}))))))},t.prototype.trackAutoCompleteAnalyticsEvent=function(e,t){var n=this.state.text?this.state.text.length:0;Fo.a.trackEvent(e,{numChars:n});var r={action:Mo.a.INSERTED,actionSubject:Mo.b.DOCUMENT,actionSubjectId:Mo.c.LINK,attributes:{inputMethod:t},eventType:Mo.d.TRACK};this.props.dispatchAnalyticsEvent&&this.props.dispatchAnalyticsEvent(r)},t}(j.PureComponent),cp=function(e,t){var n=-1;return e.some(function(e,r){return!!t(e)&&(n=r,!0)}),n},lp=function(e){return e.slice(0,5)},up=Object(hr.f)(sp),dp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.onSubmit,n=e.onBlur,r=e.displayText,o=e.displayUrl,i=e.dispatchAnalyticsEvent,a=e.providerFactory;return j.createElement(an.a,{providers:["activityProvider"],providerFactory:a,renderNode:function(e){var a=e.activityProvider;return j.createElement(up,{provider:a,onSubmit:t,onBlur:n,dispatchAnalyticsEvent:i,displayText:r||"",displayUrl:o})}})},t}(j.PureComponent),pp=n("Lq2z"),fp=n.n(pp),hp=n("KN8i"),mp=n.n(hp),gp=Object(hr.e)({openLink:{id:"fabric.editor.openLink",defaultMessage:"Open link in a new tab",description:"Opens the link in a new tab"},unlink:{id:"fabric.editor.unlink",defaultMessage:"Unlink",description:"Removes the hyperlink but keeps your text."},editLink:{id:"fabric.editor.editLink",defaultMessage:"Edit link",description:"Edit the link, update display text"}});function vp(e){return void 0!==e.pos}var bp=function(e,t){return function(n,r,o,i){switch(n){case"url":return r?Object(hd.e)(r,vp(e)?e.pos:e.from,void 0,i)(t.state,t.dispatch):(vp(e)&&e.node&&!r&&Object(hd.d)(e.pos)(t.state,t.dispatch),Object(hd.b)()(t.state,t.dispatch));case"text":return o&&r?Object(hd.f)(o,e.pos)(t.state,t.dispatch):Object(hd.b)()(t.state,t.dispatch);default:return Object(hd.b)()(t.state,t.dispatch)}}},yp={marks:function(){return[{name:"link",mark:ld.a}]},pmPlugins:function(){return[{name:"hyperlink",plugin:function(e){var t=e.dispatch;return Object(fd.d)(t)}},{name:"fakeCursorToolbarPlugin",plugin:function(){return Rd}},{name:"hyperlinkInputRule",plugin:function(e){return pd(e.schema)}},{name:"hyperlinkKeymap",plugin:function(){return md()}}]},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{title:t(Hc.b.link),description:t(Hc.b.linkDescription),keywords:["url","link","hyperlink"],priority:1200,keyshortcut:Object(Cu.S)(Cu.d),icon:function(){return j.createElement(ul.i,{label:t(Hc.b.link)})},action:function(e,t){var n=t.selection.from,r=t.selection.$from.nodeBefore;if(!r)return!1;var o=t.tr.setMeta(fd.e,{type:fd.b.SHOW_INSERT_TOOLBAR}).delete(n-r.nodeSize,n);return Object(ll.a)(o,{action:Mo.a.INVOKED,actionSubject:Mo.b.TYPEAHEAD,actionSubjectId:Mo.c.TYPEAHEAD_LINK,attributes:{inputMethod:Mo.e.QUICK_INSERT},eventType:Mo.d.UI})}}]},floatingToolbar:function(e,t,n){var o=t.formatMessage,i=fd.e.getState(e);if(i&&i.activeLinkMark){var a=i.activeLinkMark,s={title:"Hyperlink floating controls",nodeType:[e.schema.nodes.text,e.schema.nodes.paragraph,e.schema.nodes.heading,e.schema.nodes.taskItem,e.schema.nodes.decisionItem].filter(function(e){return!!e}),align:"left",className:a.type.match("INSERT|EDIT_INSERTED")?"hyperlink-floating-toolbar":""};switch(a.type){case"EDIT":var c=a.pos,l=(h=a.node.marks.filter(function(t){return t.type===e.schema.marks.link}))[0]&&h[0].attrs.href,u=o(gp.openLink),d=o(gp.unlink),p=o(gp.editLink);return r.__assign({},s,{height:32,width:250,items:[{type:"button",onClick:Object(hd.a)(),selected:!1,title:p,showTitle:!0},{type:"separator"},{type:"button",target:"_blank",href:l,onClick:function(){return!0},selected:!1,title:u,icon:mp.a,className:"hyperlink-open-link"},{type:"separator"},{type:"button",onClick:Object(hd.d)(c),selected:!1,title:d,icon:fp.a}]});case"EDIT_INSERTED":case"INSERT":var f;if(vp(a)&&a.node){var h=a.node.marks.filter(function(t){return t.type===e.schema.marks.link});f=h[0]&&h[0].attrs.href}return r.__assign({},s,{height:360,width:420,items:[{type:"custom",render:function(e,t){return e?j.createElement(dp,{key:t,displayUrl:f,displayText:vp(a)?a.node&&a.node.text:i.activeText,providerFactory:n,onSubmit:function(t,n){vp(a)?Object(hd.h)(t,n,a.pos)(e.state,e.dispatch):Object(hd.c)(a.from,a.to,t,n)(e.state,e.dispatch),e.focus()},onBlur:bp(a,e)}):null}}]})}}}}},wp=n("y8Mx"),Op=n("zABg"),Ep=n("7jvs"),xp=n("YC4A"),kp=n("C7g3"),Cp=n("Kld2"),Sp=n("c6H0"),jp=n("0pSk"),Tp=new ei.PluginKey("clearFormattingPlugin"),Mp=new ei.Plugin({props:{handleClick:function(e,t,n){if(navigator&&/Edge\/\d/.test(navigator.userAgent))return!1;if(t>e.state.doc.content.size)return!1;var r=e.state.schema.marks.code,o=e.state.doc.resolve(t),i=(o.nodeBefore?o.nodeBefore.isInline:o.nodeAfter)&&(o.nodeAfter?o.nodeAfter.isInline:o.nodeBefore)&&0===o.textOffset,a=r&&(o.nodeBefore&&r.isInSet(o.nodeBefore.marks)||o.nodeAfter&&r.isInSet(o.nodeAfter.marks)),s=n.target&&n.target instanceof Node&&e.posAtDOM(n.target);if(i&&a&&s){var c=n.target.parentNode===e.domAtPos(s).node&&r.isInSet(e.state.doc.resolve(s).nodeAfter.marks),l=o.nodeBefore&&r.isInSet(o.nodeBefore.marks)?o.nodeAfter:o.nodeBefore,u=e.state.tr.setSelection(ei.TextSelection.near(o));return c?u.setStoredMarks([r.create()]):u.setStoredMarks(l?l.marks:[]),e.dispatch(u),!0}return!1}}}),_p=n("UzTl"),Ip={"**":["_","~~"],"*":["__","~~"],__:["*","~~"],_:["**","~~"],"~~":["__","_","**","*"]},Pp=function(e,t){for(var n=0;n<Ip[e].length;n++){var r=Ip[e][n];if(r===t)return!0;var o=t.length-r.length;if(t.substr(o,t.length)===r)return Pp(r,t.substr(0,o))}return!1};function Ap(e,t,n,o){return function(i,a,s,c){var l,u=r.__read(a,3),d=u[1],p=c,f=u[2]?s+d.length:s,h=i.doc.resolve(s+d.length).nodeBefore;if(d&&d.length>0&&!Pp(o,d)&&(!h||h.type!==i.schema.nodes.hardBreak))return null;if(i.schema.marks.code&&i.schema.marks.code.isInSet(i.doc.resolve(f+1).marks()))return null;if(i.doc.nodesBetween(f,p,function(e){return e.type===t.nodes.hardBreak?(l=!0,!1):!l}),l)return null;if(i.doc.resolve(f).sameParent(i.doc.resolve(p))&&!i.doc.resolve(f).parent.type.allowsMarkType(e))return null;Fo.a.trackEvent("atlassian.editor.format."+e.name+".autoformatting");var m=i.tr.addMark(f,p,e.create());return n>1&&(m=m.delete(p-(n-1),p)),m.delete(f,f+n).removeStoredMark(e)}}var Np=/(\S*)(\_\_([^\_\s](\_(?!\_)|[^\_])*[^\_\s]|[^\_\s])\_\_)$/,Rp=/(\S*)(\*\*([^\*\s](\*(?!\*)|[^\*])*[^\*\s]|[^\*\s])\*\*)$/,Dp=/(\S*[^\s\_]*)(\_([^\s\_][^\_]*[^\s\_]|[^\s\_])\_)$/,Lp=/(\S*[^\s\*]*)(\*([^\s\*][^\*]*[^\s\*]|[^\s\*])\*)$/,zp=/(\S*)(\~\~([^\s\~](\~(?!\~)|[^\~])*[^\s\~]|[^\s\~])\~\~)$/,Bp=/(\S*)(`[^\s][^`]*`)$/;function Fp(e){var t,n;return[Object(ll.c)(function(){return{action:Mo.a.FORMATTED,actionSubject:Mo.b.TEXT,actionSubjectId:Mo.c.FORMAT_CODE,eventType:Mo.d.TRACK,attributes:{inputMethod:Mo.e.FORMATTING}}})(Object(Lu.a)(Bp,(t=e.marks.code,n="`",function(e,r,o,i){if(r[1]&&r[1].length>0&&[function(e){return"("===e},function(t){var n=e.doc.resolve(o+t.length).nodeBefore;return n&&n.type===e.schema.nodes.hardBreak||!1}].every(function(e){return!e(r[1])}))return null;if(e.doc.resolve(o).sameParent(e.doc.resolve(i))&&!e.doc.resolve(o).parent.type.allowsMarkType(t))return null;var a=e.tr;e.selection.from!==e.selection.to&&(a.delete(e.selection.from,e.selection.to),i-=e.selection.to-e.selection.from),Fo.a.trackEvent("atlassian.editor.format.code.autoformatting");var s=i-r[2].length+1;return Object(_p.b)(s,i,a).delete(s,s+n.length).removeStoredMark(t)})))]}var qp=function(e){var t=[];if(e.marks.strong&&t.push.apply(t,r.__spread(function(e){var t=Object(ll.c)(function(){return{action:Mo.a.FORMATTED,actionSubject:Mo.b.TEXT,actionSubjectId:Mo.c.FORMAT_STRONG,eventType:Mo.d.TRACK,attributes:{inputMethod:Mo.e.FORMATTING}}}),n=Object(Lu.a)(Np,Ap(e.marks.strong,e,2,"__")),r=Object(Lu.a)(Rp,Ap(e.marks.strong,e,2,"**"));return[t(n),t(r)]}(e))),e.marks.em&&t.push.apply(t,r.__spread(function(e){var t=Object(ll.c)(function(){return{action:Mo.a.FORMATTED,actionSubject:Mo.b.TEXT,actionSubjectId:Mo.c.FORMAT_ITALIC,eventType:Mo.d.TRACK,attributes:{inputMethod:Mo.e.FORMATTING}}}),n=Object(Lu.a)(Dp,Ap(e.marks.em,e,1,"_")),r=Object(Lu.a)(Lp,Ap(e.marks.em,e,1,"*"));return[t(n),t(r)]}(e))),e.marks.strike&&t.push.apply(t,r.__spread(function(e){return[Object(ll.c)(function(){return{action:Mo.a.FORMATTED,actionSubject:Mo.b.TEXT,actionSubjectId:Mo.c.FORMAT_STRIKE,eventType:Mo.d.TRACK,attributes:{inputMethod:Mo.e.FORMATTING}}})(Object(Lu.a)(zp,Ap(e.marks.strike,e,2,"~~")))]}(e))),e.marks.code&&t.push.apply(t,r.__spread(Fp(e))),0!==t.length)return Object(ku.inputRules)({rules:t})},Wp=n("ggOI");var Up,Hp,Vp=function(){var e={};return Cu.h(Cu.i.common,Su("atlassian.editor.format.clear.keyboard",Object(Wp.c)(Mo.e.SHORTCUT)),e),Object(Rl.keymap)(e)};function Gp(e,t,n){return Object(Lu.a)(t,function(e,t){return function(n,o,i,a){var s=r.__read(o,4),c=s[1],l=s[3],u=(c||"")+e+(l||"");t&&Fo.a.trackEvent("atlassian.editor.format."+t+".autoformatting");var d=n.tr,p=n.selection.$to;return d.replaceWith(i,a,n.schema.text(u,p.marks())),d.setSelection(ei.Selection.near(d.doc.resolve(d.selection.to))),d}}(e,n))}function Kp(e,t,n){return Object.keys(e).map(function(r){var o=Gp(r,e[r],t);return n?n(r)(o):o})}!function(e){e.ARROW_RIGHT="rightArrow",e.ARROW_LEFT="leftArrow",e.ARROW_DOUBLE="doubleArrow"}(Up||(Up={})),function(e){e.DASH="emDash",e.ELLIPSIS="ellipsis",e.QUOTE_SINGLE="singleQuote",e.QUOTE_DOUBLE="doubleQuote"}(Hp||(Hp={}));var $p,Jp,Yp,Qp,Xp,Zp,ef,tf,nf=Object(ku.inputRules)({rules:r.__spread(Kp({Atlassian:/(\s+|^)(atlassian)(\s)$/,Jira:/(\s+|^)(jira|JIRA)(\s)$/,Bitbucket:/(\s+|^)(bitbucket|BitBucket)(\s)$/,Hipchat:/(\s+|^)(hipchat|HipChat)(\s)$/,Trello:/(\s+|^)(trello)(\s)$/},"product",function(e){return Object(ll.c)(function(t,n){return{action:Mo.a.SUBSTITUTED,actionSubject:Mo.b.TEXT,actionSubjectId:Mo.c.PRODUCT_NAME,eventType:Mo.d.TRACK,attributes:{product:e,originalSpelling:n[2]}}})}),(tf={"":Up.ARROW_RIGHT,"":Up.ARROW_LEFT,"":Up.ARROW_DOUBLE},Kp({"":/(\s+|^)(--?>)(\s)$/,"":/(\s+|^)(<--?)(\s)$/,"":/(\s+|^)(<->?)(\s)$/},"arrow",function(e){return Object(ll.c)(function(){return{action:Mo.a.SUBSTITUTED,actionSubject:Mo.b.TEXT,actionSubjectId:Mo.c.SYMBOL,eventType:Mo.d.TRACK,attributes:{symbol:tf[e]}}})})),(($p={"":Hp.DASH,"":Hp.ELLIPSIS,"":Hp.QUOTE_DOUBLE,"":Hp.QUOTE_DOUBLE})[Hp.QUOTE_SINGLE]=Hp.QUOTE_SINGLE,Yp=$p,Qp=function(e){return Object(ll.c)(function(){return{action:Mo.a.SUBSTITUTED,actionSubject:Mo.b.TEXT,actionSubjectId:Mo.c.PUNC,eventType:Mo.d.TRACK,attributes:{punctuation:Yp[e]}}})},Xp=Kp({"":/(\s+|^)(--)(\s)$/,"":/()(\.\.\.)$/},"typography",Qp),Zp=Kp({"":/((?:^|[\s\{\[\(\<'"\u2018\u201C]))(")$/,"":/"$/},"quote",Qp),Jp="quote",ef=[Object(Lu.a)(/(\s+|^)'(\S+.*\S+)'$/,function(e,t,n,o){var i=r.__read(t,3),a=i[1]+""+i[2]+"";return Fo.a.trackEvent("atlassian.editor.format."+Jp+".autoformatting"),e.tr.insertText(a,n,o)}),Gp("",/(\w+)(')(\w+)$/,Jp)],r.__spread(Xp,Zp,ef.map(function(e){return Qp(Hp.QUOTE_SINGLE)(e)}))))}),rf=n("H4Ui");function of(e){return"atlassian.editor.format."+e.name+".keyboard"}var af=n("eQJ+"),sf=n("p37s"),cf=function(e){return{marks:function(){return[{name:"em",mark:wp.a},{name:"strong",mark:Op.a},{name:"strike",mark:Ep.a}].concat(e.disableCode?[]:{name:"code",mark:xp.a}).concat(e.disableSuperscriptAndSubscript?[]:{name:"subsup",mark:kp.a}).concat(e.disableUnderline?[]:{name:"underline",mark:Cp.a})},pmPlugins:function(){return[{name:"textFormatting",plugin:function(e){var t=e.dispatch;return Object(Sp.a)(t)}},{name:"textFormattingCursor",plugin:function(){return Mp}},{name:"textFormattingInputRule",plugin:function(e){var t=e.schema;return qp(t)}},{name:"textFormattingSmartRule",plugin:function(){return e.disableSmartTextCompletion?void 0:nf}},{name:"textFormattingClear",plugin:function(e){return function(e){return new ei.Plugin({state:{init:function(e,t){return{formattingIsPresent:Object(jp.b)(t)}},apply:function(t,n,r,o){var i=Object(jp.b)(o);return i!==n.formattingIsPresent?(e(Tp,{formattingIsPresent:i}),{formattingIsPresent:i}):n}},key:Tp})}(e.dispatch)}},{name:"textFormattingClearKeymap",plugin:function(){return Vp()}},{name:"textFormattingKeymap",plugin:function(e){return function(e){var t={};if(e.marks.strong){var n=of(e.marks.strong);Cu.h(Cu.K.common,Su(n,rf.g({inputMethod:Mo.e.SHORTCUT})),t)}return e.marks.em&&(n=of(e.marks.em),Cu.h(Cu.N.common,Su(n,rf.e({inputMethod:Mo.e.SHORTCUT})),t)),e.marks.code&&(n=of(e.marks.code),Cu.h(Cu.M.common,Su(n,rf.d({inputMethod:Mo.e.SHORTCUT})),t)),e.marks.strike&&(n=of(e.marks.strike),Cu.h(Cu.P.common,Su(n,rf.f({inputMethod:Mo.e.SHORTCUT})),t)),e.marks.underline&&(n=of(e.marks.underline),Cu.h(Cu.R.common,Su(n,rf.j({inputMethod:Mo.e.SHORTCUT})),t)),Object(Rl.keymap)(t)}(e.schema)}}]},primaryToolbarComponent:function(e){var t=e.editorView,n=e.popupsMountPoint,r=e.popupsScrollableElement,o=e.isToolbarReducedSpacing,i=e.disabled;return j.createElement(Zo.a,{plugins:{textFormattingState:Sp.b,clearFormattingState:Tp},render:function(e){var a=e.textFormattingState,s=e.clearFormattingState;return j.createElement(ps.b,{width:o?"small":"large"},j.createElement(sf.a,{disabled:i,editorView:t,textFormattingState:a,isReducedSpacing:o}),j.createElement(af.a,{editorView:t,isDisabled:i,isReducedSpacing:o,textFormattingState:a,clearFormattingState:s,popupsMountPoint:n,popupsScrollableElement:r}))}})}}},lf=n("10Fl");function uf(e,t){var n=t.map(function(e){return e.customRegex||e.trigger}).join("|");if(n.length){var o=new RegExp("(^|[.!?\\s"+Lu.c+"])("+n+")$"),i=Object(Lu.a)(o,function(t,n){var o=Bc.getState(t),i=n[3]||n[2];if(!o.isAllowed||!i)return null;var a=e.mark("typeAheadQuery",{trigger:i}),s=t.tr,c=t.selection.$from.marks();return Fo.a.trackEvent("atlassian.editor.typeahead.trigger",{trigger:i}),s.replaceSelectionWith(e.text(i,r.__spread([a],c)),!1)});return Object(ku.inputRules)({rules:[i]})}}var df=function(e){return void 0===e&&(e="selected"),function(t,n){var r=Bc.getState(t),o=r.active,i=r.currentIndex,a=r.items,s=r.typeAheadHandler;return!(!o||!s)&&(s.selectItem&&a[i]?hf(s,a[i],e)(t,n):gf(t,function(e,r){return mf(e,r)(t,n)}))}},pf=function(e){return void 0===e&&(e="selected"),function(t,n){var r=Bc.getState(t),o=r.active,i=r.items,a=r.typeAheadHandler;return!!(o&&a&&a.selectItem)&&(1===i.length?hf(a,i[0],e)(t,n):(!i||0===i.length)&&(Rc()(t,n),!1))}},ff=function(e){return function(t,n){var r=Bc.getState(t),o=r.active,i=r.items,a=r.typeAheadHandler;return!!(o&&a&&a.selectItem&&i[e])&&hf(a,i[e])(t,n)}},hf=function(e,t,n){return void 0===n&&(n="selected"),function(r,o){return gf(r,function(i,a){Fo.a.trackEvent("atlassian.editor.typeahead.select",{mode:n});var s=e.selectItem(r,t,function(e,t){void 0===t&&(t={});var n=r.tr;if(n=n.setMeta(Bc,{action:Fc.SELECT_CURRENT}).replaceWith(i,a,nc.Fragment.empty),!e)return n;var o,s=e instanceof nc.Fragment;try{o=e instanceof nc.Node||s?e:"string"==typeof e?r.schema.text(e):nc.Node.fromJSON(r.schema,e)}catch(e){return console.error(e),n}if(o.isText)n=n.replaceWith(i,i,o);else if(o.isBlock)n=Object(jl.safeInsert)(Object(ai.D)(r,o))(n);else if(o.isInline||s){var c=s?o:nc.Fragment.fromArray([o,r.schema.text(" ")]);if(n=n.replaceWith(i,i,c),ai.r){var l=document.getSelection();l&&l.empty()}n=t.selectInlineNode?n.setSelection(ei.NodeSelection.create(n.doc,i)):n.setSelection(ei.Selection.near(n.doc.resolve(i+c.size)))}return n},{mode:n});return!1===s?mf(i,a)(r,o):(o&&o(s),!0)})}},mf=function(e,t){return function(n,r){var o=Bc.getState(n),i=o.query,a=o.trigger,s=n.schema.text(a+i);return r&&r(n.tr.replaceWith(e,t,s)),!0}},gf=function(e,t){var n=Nc(e);return!(!n||-1===n.start)&&t(n.start,n.end)};function vf(){var e={};return Cu.h(Cu.k.common,function(e,t){var n=Bc.getState(e);return!(!n||!n.active)&&df("enter")(e,t)},e),Cu.h(Cu.x.common,function(e,t){var n=Bc.getState(e);return!(!n||!n.active)&&(t&&t(e.tr.setMeta(Bc,{action:Fc.SELECT_PREV})),!0)},e),Cu.h(Cu.u.common,function(e,t){var n=Bc.getState(e);return!(!n||!n.active)&&(t&&t(e.tr.setMeta(Bc,{action:Fc.SELECT_NEXT})),!0)},e),Cu.h(Cu.s.common,function(e,t){var n=Bc.getState(e);return!(!n||!n.active)&&df("shift-enter")(e,t)},e),Cu.h(Cu.I.common,function(e,t){var n=Bc.getState(e);return!(!n||!n.active)&&df("tab")(e,t)},e),Cu.h(Cu.l.common,function(e,t){var n=Bc.getState(e);return!(!n||!n.active)&&(window.event&&window.event.stopPropagation(),Rc()(e,t))},e),Cu.h(Cu.G.common,function(e,t){var n=Bc.getState(e);return!(!n||!n.active)&&pf("space")(e,t)},e),Object(Rl.keymap)(e)}var bf,yf=n("t7+/"),wf=n("eoVD"),Of=n("oNmO"),Ef=n("++4t"),xf=((bf={})[yf.e]={padding:{default:{bottom:12,left:12,right:12,top:12}},beforeItemSpacing:{default:function(){return 12}},borderRadius:function(){return 0},hover:{background:gt.colors.transparent,text:gt.colors.text,secondaryText:gt.colors.N200},selected:{background:Object(Aa.a)({light:gt.colors.N20,dark:gt.colors.DN70}),text:Object(Aa.a)({light:gt.colors.N800,dark:gt.colors.DN600}),secondaryText:Object(Aa.a)({light:gt.colors.N200,dark:gt.colors.DN300})}},bf),kf=mt.default.div(_f||(_f=r.__makeTemplateObject(["\n  width: 40px;\n  height: 40px;\n  overflow: hidden;\n  border: 1px solid rgba(223, 225, 229, 0.5); /* N60 at 50% */\n  border-radius: ","px;\n  box-sizing: border-box;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  div {\n    width: 40px;\n    height: 40px;\n  }\n"],["\n  width: 40px;\n  height: 40px;\n  overflow: hidden;\n  border: 1px solid rgba(223, 225, 229, 0.5); /* N60 at 50% */\n  border-radius: ","px;\n  box-sizing: border-box;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  div {\n    width: 40px;\n    height: 40px;\n  }\n"])),Object(Ct.f)()),Cf=mt.default.div(If||(If=r.__makeTemplateObject(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  line-height: 1.4;\n"],["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  line-height: 1.4;\n"]))),Sf=mt.default.div(Pf||(Pf=r.__makeTemplateObject(["\n  white-space: initial;\n  .item-description {\n    font-size: 11.67px;\n    color: ",";\n    margin-top: 4px;\n  }\n"],["\n  white-space: initial;\n  .item-description {\n    font-size: 11.67px;\n    color: ",";\n    margin-top: 4px;\n  }\n"])),gt.colors.N200),jf=mt.default.div(Af||(Af=r.__makeTemplateObject(["\n  min-width: 12px;\n"],["\n  min-width: 12px;\n"]))),Tf=mt.default.div(Nf||(Nf=r.__makeTemplateObject(["\n  background-color: rgba(223, 225, 229, 0.5); /* N60 at 50% */\n  color: ",";\n  border-radius: ","px;\n  padding: 4px;\n  line-height: 12px;\n  font-size: 11.67px;\n  align-self: flex-end;\n"],["\n  background-color: rgba(223, 225, 229, 0.5); /* N60 at 50% */\n  color: ",";\n  border-radius: ","px;\n  padding: 4px;\n  line-height: 12px;\n  font-size: 11.67px;\n  align-self: flex-end;\n"])),gt.colors.N100,Object(Ct.f)());function Mf(e){var t=e.items,n=e.currentIndex,r=e.insertByIndex,o=e.setCurrentIndex;return Array.isArray(t)?j.createElement(mt.ThemeProvider,{theme:xf},j.createElement(wf.a,null,t.map(function(e,t){return j.createElement(Df,{key:e.key||e.title,item:e,index:t,currentIndex:n,insertByIndex:r,setCurrentIndex:o})}))):null}var _f,If,Pf,Af,Nf,Rf,Df=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={ref:null},t.insertByIndex=function(){t.props.insertByIndex(t.props.index)},t.setCurrentIndex=function(){t.props.setCurrentIndex(t.props.index)},t.handleRef=function(e){t.setState({ref:function(e){return e&&e.ref}(e)?e.ref:e})},t}return r.__extends(t,e),t.prototype.shouldComponentUpdate=function(e){return e.item!==this.props.item||this.isSelected(this.props)!==this.isSelected(e)},t.prototype.isSelected=function(e){return e.index===e.currentIndex},t.prototype.componentDidUpdate=function(){var e,t,n,r,o,i,a,s,c=this.state.ref;this.props.index===this.props.currentIndex&&c&&(t=(e=c).offsetTop,n=e.offsetHeight,r=e.offsetParent,i=(o=r).offsetHeight,a=o.scrollTop,0!==(s=t+n>i+a?1:a>t?-1:0)&&r&&(r.scrollTop=1===s?t+n-i:t))},t.prototype.render=function(){var e,t=this.props.item;return t.render?j.createElement("div",{ref:this.handleRef,style:{overflow:"hidden"}},j.createElement(t.render,{onClick:this.insertByIndex,onHover:this.setCurrentIndex,isSelected:this.isSelected(this.props)})):j.createElement(Of.a,{onClick:this.insertByIndex,onMouseEnter:this.setCurrentIndex,elemBefore:j.createElement(kf,null,t.icon?t.icon():(e=t.title,j.createElement(Ef.default,{label:e}))),isSelected:this.isSelected(this.props),"aria-describedby":t.title,ref:this.handleRef},j.createElement(Cf,null,j.createElement(Sf,null,j.createElement("div",{className:"item-title"},t.title),t.description&&j.createElement("div",{className:"item-description"},t.description)),j.createElement(jf,null,t.keyshortcut&&j.createElement(Tf,null,t.keyshortcut))))},t}(j.Component),Lf=function(e){return function(t,n){return n&&n(t.tr.setMeta(Bc,{action:Fc.SET_CURRENT_INDEX,params:{currentIndex:e}})),!0}},zf=mt.default.div(Rf||(Rf=r.__makeTemplateObject(["\n  background: ",";\n  border-radius: ","px;\n  box-shadow: 0 0 1px ",", 0 4px 8px -2px ",";\n  padding: ","px 0;\n  width: 320px;\n  max-height: 380px; /* ~5.5 visibile items */\n  overflow-y: auto;\n  -ms-overflow-style: -ms-autohiding-scrollbar;\n  position: relative;\n"],["\n  background: ",";\n  border-radius: ","px;\n  box-shadow: 0 0 1px ",", 0 4px 8px -2px ",";\n  padding: ","px 0;\n  width: 320px;\n  max-height: 380px; /* ~5.5 visibile items */\n  overflow-y: auto;\n  -ms-overflow-style: -ms-autohiding-scrollbar;\n  position: relative;\n"])),gt.colors.N0,Object(Ct.f)(),gt.colors.N60A,gt.colors.N50A,gt.math.divide(Ct.l,2));function Bf(e){var t=e.active,n=e.items,r=e.isLoading,o=e.anchorElement,i=e.currentIndex,a=e.editorView,s=e.popupsMountPoint,c=e.popupsBoundariesElement,l=e.popupsScrollableElement;return t&&o&&n&&n.length?j.createElement(go.a,{zIndex:Ko.i,target:o,mountTo:s,boundariesElement:c,scrollableElement:l,fitHeight:300,fitWidth:340,offset:[0,8]},j.createElement(zf,{className:"fabric-editor-typeahead"},Array.isArray(n)?j.createElement(Mf,{insertByIndex:function(e){return ff(e)(a.state,a.dispatch)},setCurrentIndex:function(e){return Lf(e)(a.state,a.dispatch)},items:n,currentIndex:i}):!n&&r?"loading...":"no items")):null}var Ff,qf={name:"typeAhead",marks:function(){return[{name:"typeAheadQuery",mark:lf.a}]},pmPlugins:function(e){return void 0===e&&(e=[]),[{name:"typeAhead",plugin:function(t){return Wc(t.dispatch,t.reactContext,e)}},{name:"typeAheadInputRule",plugin:function(t){return uf(t.schema,e)}},{name:"typeAheadKeymap",plugin:function(){return vf()}}]},contentComponent:function(e){var t=e.editorView,n=e.popupsMountPoint,r=e.popupsBoundariesElement,o=e.popupsScrollableElement;return j.createElement(Zo.a,{plugins:{typeAhead:Bc},render:function(e){var i=e.typeAhead,a=void 0===i?qc():i,s=a.queryMarkPos,c=null!==s?t.domAtPos(s):null,l=c?c.node.childNodes[c.offset]:void 0;return j.createElement(Bf,{editorView:t,popupsMountPoint:n,popupsBoundariesElement:r,popupsScrollableElement:o,anchorElement:l,active:a.active,isLoading:!!a.itemsLoader,items:a.items,currentIndex:a.currentIndex})}})}},Wf=n("I71n"),Uf=n("rnLG"),Hf=n("Kn9b"),Vf=n("yalb"),Gf=mt.default.div(Ff||(Ff=r.__makeTemplateObject(["\n  align-items: center;\n  background: ",";\n  border: 1px dashed ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  cursor: default;\n  display: block;\n  font-size: ","px;\n  margin: 10px 0;\n  min-height: 24px;\n  padding: 10px;\n  text-align: center;\n  user-select: all;\n  min-width: 120px;\n\n  &.ProseMirror-selectednode {\n    background: ",";\n    outline: none;\n  }\n"],["\n  align-items: center;\n  background: ",";\n  border: 1px dashed ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  cursor: default;\n  display: block;\n  font-size: ","px;\n  margin: 10px 0;\n  min-height: 24px;\n  padding: 10px;\n  text-align: center;\n  user-select: all;\n  min-width: 120px;\n\n  &.ProseMirror-selectednode {\n    background: ",";\n    outline: none;\n  }\n"])),gt.colors.N30,gt.colors.N50,Object(Ct.f)(),Object(Ct.j)(),gt.colors.N50);function Kf(){return j.createElement(Gf,null,"Unsupported content")}var $f,Jf=mt.default.span($f||($f=r.__makeTemplateObject(["\n  align-items: center;\n  background: ",";\n  border: 1px dashed ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  cursor: default;\n  display: inline-flex;\n  font-size: ","px;\n  margin: 0 2px;\n  min-height: 24px;\n  padding: 0 10px;\n  user-select: all;\n  vertical-align: middle;\n  white-space: nowrap;\n\n  &.ProseMirror-selectednode {\n    background: ",";\n    outline: none;\n  }\n"],["\n  align-items: center;\n  background: ",";\n  border: 1px dashed ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  cursor: default;\n  display: inline-flex;\n  font-size: ","px;\n  margin: 0 2px;\n  min-height: 24px;\n  padding: 0 10px;\n  user-select: all;\n  vertical-align: middle;\n  white-space: nowrap;\n\n  &.ProseMirror-selectednode {\n    background: ",";\n    outline: none;\n  }\n"])),gt.colors.N30,gt.colors.N50,Object(Ct.f)(),Object(Ct.j)(),gt.colors.N50);function Yf(){return j.createElement("span",null,j.createElement(Jf,null,"Unsupported content"),ai.a)}var Qf=function(e,t){var n="",r=t.nodes,o=r.unsupportedInline,i=r.unsupportedBlock;e.attrs&&e.attrs.cxhtml&&(n=e.attrs.cxhtml);var a={type:e.type.name,cxhtml:n,text:e.text||""};e.type===o?Fo.a.trackEvent("atlassian.editor.confluenceUnsupported.inline",a):e.type===i?Fo.a.trackEvent("atlassian.editor.confluenceUnsupported.block",a):e.content.forEach(function(e){return Qf(e,t)})},Xf=new ei.PluginKey("unsupportedContentPlugin"),Zf=function(e){var t=e.schema,n=e.portalProviderAPI;return new ei.Plugin({state:{init:function(e,n){Qf(n.doc,t)},apply:function(e,t){return t}},key:Xf,props:{nodeViews:{confluenceUnsupportedBlock:Qc.b.fromComponent(Kf,n),confluenceUnsupportedInline:Qc.b.fromComponent(Yf,n),unsupportedBlock:Qc.b.fromComponent(Kf,n),unsupportedInline:Qc.b.fromComponent(Yf,n)}}})},eh={nodes:function(){return[{name:"confluenceUnsupportedBlock",node:Wf.a},{name:"confluenceUnsupportedInline",node:Uf.a},{name:"unsupportedBlock",node:Hf.a},{name:"unsupportedInline",node:Vf.a}]},pmPlugins:function(){return[{name:"unsupportedContent",plugin:Zf}]}},th=n("V1wV"),nh=n("vn11"),rh=n("XrNb"),oh=n.n(rh),ih=n("oNoR"),ah=n.n(ih),sh=["codeBlock","layoutSection"];function ch(e){return-1!==sh.indexOf(e.type.name)}var lh="fabric-editor-breakout-mark-dom";var uh,dh=gt.colors.B300,ph=gt.colors.N300,fh=gt.colors.N20A,hh=mt.default.div(uh||(uh=r.__makeTemplateObject(["\n  button {\n    background: ",";\n    color: ",";\n    :hover {\n      background: ",";\n      color: white !important;\n    }\n  }\n"],["\n  button {\n    background: ",";\n    color: ",";\n    :hover {\n      background: ",";\n      color: white !important;\n    }\n  }\n"])),fh,ph,dh),mh={FULL_WIDTH:"full-width",CENTER:"center",WIDE:"wide"},gh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e,t,n){return function(){var r;-1!==[mh.WIDE,mh.FULL_WIDTH].indexOf(n)?(r=n,function(e,t){var n=Object(jl.findParentNode)(ch)(e.selection);return!!n&&(t&&t(e.tr.setNodeMarkup(n.pos,n.node.type,n.node.attrs,[e.schema.marks.breakout.create({mode:r})])),!0)})(e,t):function(e,t){var n=Object(jl.findParentNode)(ch)(e.selection);if(!n)return!1;var r=n.node.marks.filter(function(e){return"breakout"!==e.type.name});t&&t(e.tr.setNodeMarkup(n.pos,n.node.type,n.node.attrs,r))}(e,t)}},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.intl.formatMessage,n=e.mountPoint,r=e.boundariesElement,o=e.scrollableElement,i=e.editorView,a=e.node,s=i.state,c=i.dispatch;if(!a||!function(e){if(!e.schema.marks.breakout)return!1;var t=Object(jl.findParentNode)(ch)(e.selection);return!(!t||0===t.depth)&&e.selection.$from.node(t.depth-1).type.allowsMarkType(e.schema.marks.breakout)}(s))return null;var l,u=function(e){var t=Object(jl.findParentNode)(ch)(e.selection);if(t){var n=t.node.marks.find(function(e){return"breakout"===e.type.name});if(n)return n.attrs.mode}}(i.state),d=t(function(e){switch(e){case mh.FULL_WIDTH:return Ci.a.layoutFixedWidth;case mh.WIDE:return Ci.a.layoutFullWidth;default:return Ci.a.layoutWide}}(u)),p=(l=u)===mh.FULL_WIDTH?mh.CENTER:l===mh.WIDE?mh.FULL_WIDTH:mh.WIDE,f=s.selection,h=wh(s),m=Object(jl.findParentDomRefOfType)(h.breakoutNode.type,i.domAtPos.bind(i))(f),g=m.querySelector("."+lh);return g&&g.firstChild&&(m=g.firstChild),j.createElement(go.a,{ariaLabel:d,target:m,offset:[5,0],alignY:"start",alignX:"end",mountTo:n,boundariesElement:r,scrollableElement:o,stick:!0,forcePlacement:!0},j.createElement(hh,null,j.createElement(yo.a,{title:d,onClick:this.handleClick(s,c,p),iconBefore:u===mh.FULL_WIDTH?j.createElement(oh.a,{label:d}):j.createElement(ah.a,{label:d})})))},t}(j.Component),vh=Object(hr.f)(gh),bh=mt.default.div(xh||(xh=r.__makeTemplateObject(["\n  .ProseMirror > .breakoutView-content-wrap &[data-layout='full-width'],\n  .ProseMirror > .breakoutView-content-wrap &[data-layout='wide'] {\n    margin-left: 50%;\n    transform: translateX(-50%);\n  }\n"],["\n  .ProseMirror > .breakoutView-content-wrap &[data-layout='full-width'],\n  .ProseMirror > .breakoutView-content-wrap &[data-layout='wide'] {\n    margin-left: 50%;\n    transform: translateX(-50%);\n  }\n"]))),yh=new ei.PluginKey("breakoutPlugin"),wh=function(e){return yh.getState(e)},Oh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.getContentDOM=function(){var e=document.createElement("div");return e.className=lh,{dom:e}},t.prototype.render=function(e,t){var n=this.node.attrs.mode;return j.createElement(Zo.a,{editorView:this.view,plugins:{widthState:fs.b},render:function(e){var r=e.widthState,o=void 0===r?{width:0}:r;return j.createElement(bh,{className:"fabric-editor-breakout-mark","data-layout":n,style:{width:Object(nh.b)(n,o.width)}},j.createElement("div",{ref:t}))}})},t}(Qc.b);function Eh(e){var t=e.portalProviderAPI,n=e.providerFactory,o=e.dispatch;return new ei.Plugin({state:{init:function(){return{breakoutNode:null}},apply:function(e,t){var n=Object(jl.findParentNode)(ch)(e.selection),i=n?n.node:null;if(i!==t.breakoutNode){var a=r.__assign({},t,{breakoutNode:i});return o(yh,a),a}return t}},key:yh,props:{nodeViews:{breakout:function(e,r,o){return new Oh(e,r,o,t,{providerFactory:n}).init()}}}})}var xh,kh={pmPlugins:function(){return[{name:"breakout",plugin:Eh}]},marks:function(){return[{name:"breakout",mark:th.a}]},contentComponent:function(e){var t=e.editorView,n=e.appearance,r=e.popupsMountPoint,o=e.popupsBoundariesElement,i=e.popupsScrollableElement;return j.createElement(Zo.a,{plugins:{pluginState:yh},render:function(e){var a=e.pluginState;return j.createElement(j.Fragment,null,"full-page"===n&&j.createElement(vh,{editorView:t,mountPoint:r,boundariesElement:o,scrollableElement:i,node:a.breakoutNode}))}})}},Ch=n("6ioE"),Sh=function(e){return function(t,n){var r=t.schema,o=r.nodes,i=o.paragraph,a=o.heading,s=r.marks.alignment;return Object(is.i)(s,function(){return e?"start"!==e&&{align:e}:void 0},[i,a])(t,n)}},jh=n("/IjO"),Th=function(e){if(e.selection instanceof jh.CellSelection){var t=[];return e.selection.forEachCell(function(n){var r=n.firstChild.marks.filter(function(t){return t.type===e.schema.marks.alignment})[0];t.push(r?r.attrs.align:"start")}),t.every(function(e){return e===t[0]})?t[0]:"start"}var n=Object(jl.findParentNodeOfType)([e.schema.nodes.paragraph,e.schema.nodes.heading])(e.selection),r=n&&n.node.marks.filter(function(t){return t.type===e.schema.marks.alignment})[0];return r&&r.attrs.align||"start"};var Mh=new ei.PluginKey("alignmentPlugin");function _h(e,t){return new ei.Plugin({key:Mh,state:{init:function(e,n){return function(e,t){return{align:Th(e)||t.align,isEnabled:!0}}(n,t)},apply:function(t,n,o,i){var a=Th(i),s=Sh(a)(i,void 0),c=r.__assign({},n,{align:a,isEnabled:s});return a===n.align&&s===n.isEnabled||e(Mh,c),c}}})}var Ih,Ph,Ah,Nh,Rh,Dh,Lh=n("aJhv"),zh=n("ntQv"),Bh=n.n(zh),Fh=n("Icd/"),qh=n.n(Fh),Wh=mt.default.div(Ih||(Ih=r.__makeTemplateObject(["\n  display: flex;\n"],["\n  display: flex;\n"]))),Uh=mt.default.span(Ph||(Ph=r.__makeTemplateObject(["\n  background: ",";\n  width: 1px;\n  height: 24px;\n  display: inline-block;\n  margin: 0 8px;\n"],["\n  background: ",";\n  width: 1px;\n  height: 24px;\n  display: inline-block;\n  margin: 0 8px;\n"])),gt.colors.N30),Hh=mt.default.span(Ah||(Ah=r.__makeTemplateObject(["\n  display: flex;\n  align-items: center;\n  div {\n    display: flex;\n  }\n"],["\n  display: flex;\n  align-items: center;\n  div {\n    display: flex;\n  }\n"]))),Vh=mt.default.span(Nh||(Nh=r.__makeTemplateObject(["\n  margin-left: -8px;\n"],["\n  margin-left: -8px;\n"]))),Gh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){var n=t.props,r=n.onClick,o=n.value;e.preventDefault(),r(o)},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.isSelected,r=e.content;return j.createElement(yo.a,{disabled:!1,selected:n,title:t,"aria-label":t,onClick:this.onClick,iconBefore:r})},t}(j.PureComponent),Kh=mt.default.div(Rh||(Rh=r.__makeTemplateObject(["\n  padding: 0 ","px;\n  display: flex;\n  flex-wrap: wrap;\n"],["\n  padding: 0 ","px;\n  display: flex;\n  flex-wrap: wrap;\n"])),Object(Ct.l)()),$h=[{title:"Align left",value:"start"},{title:"Align center",value:"center"},{title:"Align right",value:"end"}],Jh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.onClick,n=e.selectedAlignment,r=e.className;return j.createElement(Kh,{className:r,style:{maxWidth:96}},$h.map(function(e){var r=e.value,o=e.title;return j.createElement(Gh,{content:Yh[r],key:r,value:r,label:o,onClick:t,isSelected:r===n})}))},t}(j.PureComponent),Yh={start:j.createElement(Jd.a,{label:"Align left"}),end:j.createElement(qh.a,{label:"Align right"}),center:j.createElement(Bh.a,{label:"Align center"})},Qh=(Object(hr.e)({alignment:{id:"fabric.editor.alignment",defaultMessage:"Alignment",description:"Aligns text"}}),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isOpen:!1},t.changeAlignment=function(e){return t.toggleOpen(),t.props.changeAlignment(e)},t.toggleOpen=function(){t.handleOpenChange({isOpen:!t.state.isOpen})},t.handleOpenChange=function(e){var n=e.isOpen;t.setState({isOpen:n})},t}return r.__extends(t,e),t.prototype.render=function(){var e=this,t=this.state.isOpen,n=this.props,r=n.popupsMountPoint,o=n.popupsBoundariesElement,i=n.popupsScrollableElement,a=n.isReducedSpacing,s=n.pluginState,c=n.disabled;return j.createElement(Hh,null,j.createElement(Lh.a,{mountTo:r,boundariesElement:o,scrollableElement:i,isOpen:this.state.isOpen,onOpenChange:this.handleOpenChange,fitWidth:242,fitHeight:80,trigger:j.createElement(yo.a,{spacing:a?"none":"default",disabled:c,selected:t,title:"Text alignment","aria-label":"Text alignment",className:"align-btn",onClick:this.toggleOpen,iconBefore:j.createElement(Wh,null,Yh[s.align],j.createElement(Vh,null,j.createElement($u.a,{label:"Alignment"})))})},j.createElement(Jh,{onClick:function(t){return e.changeAlignment(t)},selectedAlignment:s.align})),j.createElement(Uh,null))},t}(j.Component)),Xh={align:"start"},Zh={name:"alignmentPlugin",marks:function(){return[{name:"alignment",mark:Ch.a}]},pmPlugins:function(){return[{name:"alignmentPlugin",plugin:function(e){return _h(e.dispatch,Xh)}}]},primaryToolbarComponent:function(e){var t=e.editorView,n=e.popupsMountPoint,r=e.popupsBoundariesElement,o=e.popupsScrollableElement,i=e.disabled,a=e.isToolbarReducedSpacing;return j.createElement(Zo.a,{plugins:{align:Mh},render:function(e){var s=e.align;return j.createElement(Qh,{pluginState:s,isReducedSpacing:a,changeAlignment:function(e){return function(e){return function(t,n){var r,o=t.schema,i=o.nodes,a=i.paragraph,s=i.heading,c=o.marks.alignment;return(r=[Object(is.a)(e),Object(is.i)(c,function(){return e?"start"!==e&&{align:e}:void 0},[a,s])],function(e,t){var n=e.tr,o=!1,i=function(e){e.steps.forEach(function(e){n.step(e)}),o=!0};return r.forEach(function(t){t(e,i)}),!(!t||!o||(t(n),0))})(t,n)}}(e)(t.state,t.dispatch)},disabled:i||!s.isEnabled,popupsMountPoint:n,popupsBoundariesElement:r,popupsScrollableElement:o})}})}},em=n("yROB"),tm=(new ei.PluginKey("inlineActionPlugin"),{marks:function(){return[{name:"action",mark:em.a}]}}),nm=n("sNzU"),rm=function(e){var t,n=e.selection,r=n.$from,o=n.$to,i=n.$cursor,a=e.schema.marks.textColor,s=[];i?s.push(a.isInSet(e.storedMarks||i.marks())||void 0):e.doc.nodesBetween(r.pos,o.pos,function(e){var t=a.isInSet(e.marks)||void 0;return s.push(t),!t});var c=(s=s.filter(function(e){return(!e||!t||e.attrs.color!==t.attrs.color)&&(t=e,!0)})).filter(function(e){return!!e});return c.length>1||1===c.length&&s.length>2?null:c.length?c[0].attrs.color:im.color},om=function(e){var t=e.schema.marks.textColor;if(t){var n=e.selection,r=n.empty,o=n.ranges,i=n.$cursor;return!((!r||i)&&!1!==Object(ju.a)(e.doc,o,t))||!!Object(ju.b)(t,e.storedMarks||i&&i.marks())}return!0},im={color:gt.colors.N800.toLowerCase(),label:"Dark gray"};!function(e){e[e.RESET_COLOR=0]="RESET_COLOR",e[e.SET_COLOR=1]="SET_COLOR",e[e.DISABLE=2]="DISABLE"}(Dh||(Dh={}));var am=new ei.PluginKey("textColorPlugin");function sm(e,t){return new ei.Plugin({key:am,state:{init:function(e,n){return function(e,t){var n=t&&t.defaultColor||im,r=new Map([[n.color,n.label]]);return nm.b.forEach(function(e,t){return r.set(t,e)}),{color:rm(e),disabled:om(e),palette:r,borderColorPalette:nm.a,defaultColor:r.keys().next().value}}(n,t)},apply:function(t,n,o,i){var a,s=t.getMeta(am)||{};switch(s.action){case Dh.RESET_COLOR:a=r.__assign({},n,{color:n.defaultColor});break;case Dh.SET_COLOR:a=r.__assign({},n,{color:s.color,disabled:!1});break;case Dh.DISABLE:a=r.__assign({},n,{disabled:!0});break;default:a=r.__assign({},n,{color:rm(i),disabled:om(i)})}return n&&n.color!==a.color||n&&n.disabled!==a.disabled?(e(am,a),a):n}}})}var cm=n("SgvK");var lm,um,dm,pm,fm,hm,mm=function(e){return function(t,n){var r,o,i,a,s;if(t.schema.marks.textColor){var c=am.getState(t),l=rm(t),u=(r=e,o=l,i=c.palette,a=i.get(r)||r,s=o?i.get(o)||o:"",Object(ll.d)({action:Mo.a.FORMATTED,actionSubject:Mo.b.TEXT,actionSubjectId:Mo.c.FORMAT_COLOR,eventType:Mo.d.TRACK,attributes:{newColor:a.toLowerCase(),previousColor:s.toLowerCase()}}));return!c.disabled&&(e===c.defaultColor?(u(function(e,t){var n=e.schema.marks.textColor,r=e.selection,o=r.from,i=r.to,a=r.$cursor,s=e.tr;return s=a?e.tr.removeStoredMark(n):e.tr.removeMark(o,i,n),t&&t(s.setMeta(am,{action:Dh.RESET_COLOR})),!0})(t,n),!0):(u(function(e){return function(t,n){var r=t.schema.marks.textColor,o=t.tr;if(om(t))return n&&n(o.setMeta(am,{action:Dh.DISABLE})),!1;var i=t.selection,a=i.ranges;if(i.$cursor){var s=r.create({color:e});return o=o.addStoredMark(s),n&&n(o.setMeta(am,{action:Dh.SET_COLOR,color:e})),!0}for(var c=0;c<a.length;c++){var l=a[c],u=l.$from,d=l.$to;o=o.addMark(u.pos,d.pos,r.create({color:e}))}return o=o.scrollIntoView(),n&&n(o.setMeta(am,{action:Dh.SET_COLOR,color:e})),!0}}(e))(t,n),!0))}return!1}},gm={small:"16px",medium:"24px",large:"32px",xlarge:"48px"},vm=function(e){return e.size?"height: ".concat(gm[e.size],"; width: ").concat(gm[e.size],";"):null},bm=mt.default.span.withConfig({displayName:"Icon__IconWrapper",componentId:"dyhwwi-0"})(["\n  "," color: ",";\n  display: inline-block;\n  fill: ",";\n  flex-shrink: 0;\n  line-height: 1;\n\n  > svg {\n    "," max-height: 100%;\n    max-width: 100%;\n    overflow: hidden;\n    pointer-events: none;\n    vertical-align: bottom;\n  }\n  /* Stop-color doesn't properly apply in chrome when the inherited/current color changes.\n   * We have to initially set stop-color to inherit (either via DOM attribute or an initial CSS\n   * rule) and then override it with currentColor for the color changes to be picked up.\n   */\n  stop {\n    stop-color: currentColor;\n  }\n"],vm,function(e){return e.primaryColor||"currentColor"},function(e){return e.secondaryColor||gt.colors.background},vm),ym=function(e){function t(){return _e()(this,t),Ne()(this,De()(t).apply(this,arguments))}return ze()(t,e),Pe()(t,[{key:"render",value:function(){var e=this.props,n=e.glyph,r=e.dangerouslySetGlyph,o=e.primaryColor,i=e.secondaryColor,a=e.size;return r?T.a.createElement(bm,{primaryColor:o,secondaryColor:i,size:a,"aria-label":this.props.label,dangerouslySetInnerHTML:{__html:t.insertDynamicGradientID(r)}}):T.a.createElement(bm,{primaryColor:o,secondaryColor:i,size:a,"aria-label":this.props.label},n?T.a.createElement(n,{role:"presentation"}):null)}}],[{key:"insertDynamicGradientID",value:function(e){var t=tc()();return e.replace(/id="([^"]+)-idPlaceholder"/g,"id=$1-".concat(t)).replace(/fill="url\(#([^"]+)-idPlaceholder\)"/g,'fill="url(#$1-'.concat(t,')"'))}}]),t}(j.Component),wm=(Object.keys(gm).reduce(function(e,t){return Object.assign(e,Qe()({},t,t))},{}),ym),Om=function(){return T.a.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},T.a.createElement("path",{d:"M14 12.5h-4l-.874 2.186A.5.5 0 0 1 8.66 15H7.273a.5.5 0 0 1-.456-.705l4.05-9A.5.5 0 0 1 11.323 5h1.354a.5.5 0 0 1 .456.295l4.05 9a.5.5 0 0 1-.456.705h-1.388a.5.5 0 0 1-.465-.314L14 12.5zm-.6-1.5L12 7.5 10.6 11h2.8z",fill:"currentColor",fillRule:"evenodd"}))},Em=function(){return T.a.createElement(wm,{glyph:Om,label:"Text color icon"})},xm=mt.default.div(lm||(lm=r.__makeTemplateObject(["\n  display: flex;\n"],["\n  display: flex;\n"]))),km=mt.default.span(um||(um=r.__makeTemplateObject(["\n  background: ",";\n  width: 1px;\n  height: 24px;\n  display: inline-block;\n  margin: 0 8px;\n"],["\n  background: ",";\n  width: 1px;\n  height: 24px;\n  display: inline-block;\n  margin: 0 8px;\n"])),gt.colors.N30),Cm=mt.default.span(dm||(dm=r.__makeTemplateObject(["\n  display: flex;\n  align-items: center;\n  div {\n    display: flex;\n  }\n"],["\n  display: flex;\n  align-items: center;\n  div {\n    display: flex;\n  }\n"]))),Sm=mt.default.span(pm||(pm=r.__makeTemplateObject(["\n  margin-left: -8px;\n"],["\n  margin-left: -8px;\n"]))),jm=Object(hr.e)({textColor:{id:"fabric.editor.textColor",defaultMessage:"Text color",description:""}}),Tm=mt.default.div(fm||(fm=r.__makeTemplateObject(["\n  position: relative;\n"],["\n  position: relative;\n"]))),Mm=mt.default.div(hm||(hm=r.__makeTemplateObject(["\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 16px;\n  margin: auto;\n  width: 12px;\n  height: 3px;\n  border-radius: ",";\n\n  ",";\n"],["\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 16px;\n  margin: auto;\n  width: 12px;\n  height: 3px;\n  border-radius: ",";\n\n  ",";\n"])),Object(Ct.f)()+"px",function(e){var t=e.gradientColors,n=e.selectedColor;return n?"background: "+n:"background: "+t}),_m=function(e){return"\n    linear-gradient(\n      to right,\n      "+e.map(function(t,n){var r=100/e.length,o=n+1;return 0===n?t+" "+o*r+"%,":n===e.length-1?t+" "+(o-1)*r+"%":"\n            "+t+" "+(o-1)*r+"%,\n            "+t+" "+o*r+"%,\n          "}).join("\n")+"\n    );\n    "},Im=_m([gt.colors.P300,gt.colors.T300,gt.colors.Y400,gt.colors.R400]),Pm=_m([gt.colors.N80,gt.colors.N60,gt.colors.N40,gt.colors.N60]),Am=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isOpen:!1},t.changeColor=function(e){return mm(e)(t.props.editorView.state,t.props.editorView.dispatch)},t.changeTextColor=Object(bo.a)("atlassian.editor.format.textcolor.button",function(e,n){return!n&&(t.toggleOpen(),t.changeColor(e))}),t.toggleOpen=function(){t.handleOpenChange({isOpen:!t.state.isOpen})},t.handleOpenChange=function(e){var n=e.isOpen;t.setState({isOpen:n})},t}return r.__extends(t,e),t.prototype.render=function(){var e=this,t=this.state.isOpen,n=this.props,r=n.popupsMountPoint,o=n.popupsBoundariesElement,i=n.popupsScrollableElement,a=n.isReducedSpacing,s=n.pluginState,c=(0,n.intl.formatMessage)(jm.textColor);return j.createElement(Cm,null,j.createElement(Lh.a,{mountTo:r,boundariesElement:o,scrollableElement:i,isOpen:t&&!s.disabled,onOpenChange:this.handleOpenChange,fitWidth:242,fitHeight:80,zIndex:Ko.p,trigger:j.createElement(yo.a,{spacing:a?"none":"default",disabled:s.disabled,selected:t,title:c,onClick:this.toggleOpen,iconBefore:j.createElement(xm,null,j.createElement(Tm,null,j.createElement(Em,null),j.createElement(Mm,{selectedColor:s.color!==s.defaultColor&&s.color,gradientColors:s.disabled?Pm:Im})),j.createElement(Sm,null,j.createElement($u.a,{label:c})))})},j.createElement(cm.a,{palette:s.palette,onClick:function(t){return e.changeTextColor(t,s.disabled)},selectedColor:s.color,borderColors:s.borderColorPalette})),j.createElement(km,null))},t}(j.Component),Nm=Object(hr.f)(Am),Rm={name:"textColor",marks:function(){return[{name:"textColor",mark:nm.c}]},pmPlugins:function(){return[{name:"textColor",plugin:function(e){var t=e.props;return sm(e.dispatch,function(e){if(e&&"boolean"!=typeof e)return e}(t.allowTextColor))}}]},primaryToolbarComponent:function(e){var t=e.editorView,n=e.popupsMountPoint,r=e.popupsBoundariesElement,o=e.popupsScrollableElement,i=e.isToolbarReducedSpacing;return j.createElement(Zo.a,{plugins:{textColor:am},render:function(e){var a=e.textColor;return j.createElement(Nm,{pluginState:a,isReducedSpacing:i,editorView:t,popupsMountPoint:n,popupsBoundariesElement:r,popupsScrollableElement:o})}})}},Dm=n("RRdR"),Lm=n("R30j"),zm=n("gEpm"),Bm=n("TpQ+"),Fm=n.n(Bm),qm=n("dHel"),Wm=n.n(qm),Um=n("OlUn"),Hm=n("KzRO"),Vm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isDropdownOpen:!1},t.onOpenChange=function(e){t.setState({isDropdownOpen:e.isDropdownOpen})},t.handleTriggerClick=function(){t.onOpenChange({isDropdownOpen:!t.state.isDropdownOpen})},t.createItems=function(){var e=t.props,n=e.bulletListDisabled,r=e.orderedListDisabled,o=e.bulletListActive,i=e.orderedListActive,a=e.intl.formatMessage,s=a(Hm.a.unorderedList),c=a(Hm.a.orderedList);return[{items:[{key:"unorderedList",content:s,value:{name:"bullet_list"},isDisabled:n,isActive:Boolean(o),elemAfter:j.createElement(ps.g,null,Object(Cu.S)(Cu.L))},{key:"orderedList",content:c,value:{name:"ordered_list"},isDisabled:r,isActive:Boolean(i),elemAfter:j.createElement(ps.g,null,Object(Cu.S)(Cu.O))}]}]},t.handleBulletListClick=Object(bo.a)("atlassian.editor.format.list.bullet.button",function(){return!(t.props.bulletListDisabled||!Object(Um.e)(t.props.editorView))&&(t.props.dispatchAnalyticsEvent&&t.props.dispatchAnalyticsEvent({action:Mo.a.FORMATTED,actionSubject:Mo.b.TEXT,actionSubjectId:Mo.c.FORMAT_LIST_BULLET,eventType:Mo.d.TRACK,attributes:{inputMethod:Mo.e.TOOLBAR}}),!0)}),t.handleOrderedListClick=Object(bo.a)("atlassian.editor.format.list.numbered.button",function(){return!(t.props.orderedListDisabled||!Object(Um.g)(t.props.editorView))&&(t.props.dispatchAnalyticsEvent&&t.props.dispatchAnalyticsEvent({action:Mo.a.FORMATTED,actionSubject:Mo.b.TEXT,actionSubjectId:Mo.c.FORMAT_LIST_NUMBER,eventType:Mo.d.TRACK,attributes:{inputMethod:Mo.e.TOOLBAR}}),!0)}),t.onItemActivated=function(e){var n=e.item;switch(t.setState({isDropdownOpen:!1}),n.value.name){case"bullet_list":t.handleBulletListClick();break;case"ordered_list":t.handleOrderedListClick()}},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.disabled,n=e.isSmall,r=e.isReducedSpacing,o=e.isSeparator,i=e.bulletListActive,a=e.bulletListDisabled,s=e.orderedListActive,c=e.orderedListDisabled,l=e.intl.formatMessage,u=this.state.isDropdownOpen;if(n){var d=this.createItems(),p=this.props,f=p.popupsMountPoint,h=p.popupsBoundariesElement,m=p.popupsScrollableElement,g=l(Hm.a.lists);return j.createElement(ps.i,null,j.createElement(Qu.a,{items:d,onItemActivated:this.onItemActivated,mountTo:f,boundariesElement:h,scrollableElement:m,isOpen:u,onOpenChange:this.onOpenChange,fitHeight:188,fitWidth:175},j.createElement(yo.a,{spacing:r?"none":"default",selected:i||s,disabled:t,onClick:this.handleTriggerClick,title:g,iconBefore:j.createElement(ps.i,null,j.createElement(Fm.a,{label:g}),j.createElement(ps.d,null,j.createElement($u.a,{label:g})))})),o&&j.createElement(ps.f,null))}var v=l(Hm.a.unorderedList),b=l(Hm.a.orderedList);return j.createElement(ps.b,{width:r?"small":"large"},j.createElement(yo.a,{spacing:r?"none":"default",onClick:this.handleBulletListClick,selected:i,disabled:a||t,title:Object(Cu.S)(Cu.L,v),iconBefore:j.createElement(Fm.a,{label:v})}),j.createElement(yo.a,{spacing:r?"none":"default",onClick:this.handleOrderedListClick,selected:s,disabled:c||t,title:Object(Cu.S)(Cu.O,b),iconBefore:j.createElement(Wm.a,{label:b})}),o&&j.createElement(ps.f,null))},t}(j.PureComponent),Gm=Object(hr.f)(Vm),Km=n("SC0N"),$m=new ei.PluginKey("listsPlugin");function Jm(e,t){return Object(ku.wrappingInputRule)(e,t,{},function(e,n){return n.type===t})}var Ym=function(e,t,n,r,o){var i=e.schema.nodes.hardBreak;if(e.doc.resolve(r).nodeAfter.type!==i)return null;if(e.doc.resolve(r).depth>1)return null;Fo.a.trackEvent("atlassian.editor.format.list."+n+".autoformatting");var a=e.tr.delete(r,o).split(r),s=a.doc.nodeAt(r+1);a.doc.nodesBetween(r,r+s.nodeSize,function(e,t){e.type===i&&(a=a.split(t+1).delete(t,t+1))});var c=e.schema.nodes.listItem,l=a.doc.resolve(r+2),u=l.blockRange(l);return a=a.wrap(u,[{type:t},{type:c}])};function Qm(e){var t=[];if(e.nodes.bulletList&&t.push.apply(t,r.__spread(function(e){var t=Object(ll.c)(function(){return{action:Mo.a.FORMATTED,actionSubject:Mo.b.TEXT,actionSubjectId:Mo.c.FORMAT_LIST_BULLET,eventType:Mo.d.TRACK,attributes:{inputMethod:Mo.e.FORMATTING}}}),n=Object(Lu.b)(Jm(/^\s*([\*\-]) $/,e.nodes.bulletList),!0);n.handler=Su("atlassian.editor.format.list.bullet.autoformatting",n.handler);var r=Object(Lu.a)(new RegExp(Lu.c+"\\s*([\\*\\-]) $"),function(t,n,r,o){return Ym(t,e.nodes.bulletList,"bullet",r,o)},!0);return[t(n),t(r)]}(e))),e.nodes.orderedList&&t.push.apply(t,r.__spread(function(e){var t=Object(ll.c)(function(){return{action:Mo.a.FORMATTED,actionSubject:Mo.b.TEXT,actionSubjectId:Mo.c.FORMAT_LIST_NUMBER,eventType:Mo.d.TRACK,attributes:{inputMethod:Mo.e.FORMATTING}}}),n=Object(Lu.b)(Jm(/^(1)[\.\)] $/,e.nodes.orderedList),!0);n.handler=Su("atlassian.editor.format.list.numbered.autoformatting",n.handler);var r=Object(Lu.a)(new RegExp(Lu.c+"(1)[\\.\\)] $"),function(t,n,r,o){return Ym(t,e.nodes.orderedList,"numbered",r,o)},!0);return[t(n),t(r)]}(e))),0!==t.length)return Object(ku.inputRules)({rules:t})}var Xm=function(){var e={};return Cu.h(Cu.p(Cu.O),Su("atlassian.editor.format.list.numbered.keyboard",Object(Um.f)(Mo.e.KEYBOARD,"orderedList")),e),Cu.h(Cu.p(Cu.L),Su("atlassian.editor.format.list.bullet.keyboard",Object(Um.f)(Mo.e.KEYBOARD,"bulletList")),e),Cu.h(Cu.r.common,Su("atlassian.editor.format.list.indent.keyboard",Object(Um.c)()),e),Cu.h(Cu.B.common,Su("atlassian.editor.format.list.outdent.keyboard",Object(Um.d)()),e),Cu.h(Cu.k.common,Um.b,e),Cu.h(Cu.g.common,Um.a,e),Object(Rl.keymap)(e)},Zm={nodes:function(){return[{name:"bulletList",node:Dm.a},{name:"orderedList",node:Lm.a},{name:"listItem",node:zm.a}]},pmPlugins:function(){return[{name:"lists",plugin:function(e){return function(e){return new ei.Plugin({state:{init:function(){return{bulletListActive:!1,bulletListDisabled:!1,orderedListActive:!1,orderedListDisabled:!1}},apply:function(t,n,o,i){var a=i.schema.nodes,s=a.bulletList,c=a.orderedList,l=Object(jl.findParentNodeOfType)([s,c])(t.selection),u=!!l&&l.node.type===s,d=!!l&&l.node.type===c,p=!(u||d||Object(Km.b)(s,i)),f=!(u||d||Object(Km.b)(c,i));if(u!==n.bulletListActive||d!==n.orderedListActive||p!==n.bulletListDisabled||f!==n.orderedListDisabled){var h=r.__assign({},n,{bulletListActive:u,orderedListActive:d,bulletListDisabled:p,orderedListDisabled:f});return e($m,h),h}return n}},view:function(){return{update:function(e){var t=e.state,n=e.dispatch,r=t.schema.nodes,o=r.bulletList,i=r.orderedList,a=t.schema.marks,s=a.alignment,c=a.indentation;if(Object(jl.findParentNodeOfType)([o,i])(t.tr.selection)){var l=Object(ju.c)(t,[s,c]);l&&n(l)}}}},key:$m})}(e.dispatch)}},{name:"listsInputRule",plugin:function(e){return Qm(e.schema)}},{name:"listsKeymap",plugin:function(){return Xm()}}]},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{title:t(Hm.a.unorderedList),description:t(Hm.a.unorderedListDescription),keywords:["ul","unordered list"],priority:1100,keyshortcut:Object(Cu.S)(Cu.L),icon:function(){return j.createElement(ul.j,{label:t(Hm.a.unorderedList)})},action:function(e,t){var n=e(t.schema.nodes.bulletList.createChecked({},t.schema.nodes.listItem.createChecked({},t.schema.nodes.paragraph.createChecked())));return Object(ll.a)(n,{action:Mo.a.FORMATTED,actionSubject:Mo.b.TEXT,actionSubjectId:Mo.c.FORMAT_LIST_BULLET,eventType:Mo.d.TRACK,attributes:{inputMethod:Mo.e.QUICK_INSERT}})}},{title:t(Hm.a.orderedList),description:t(Hm.a.orderedListDescription),keywords:["ol","ordered list","numbered list"],priority:1200,keyshortcut:Object(Cu.S)(Cu.O),icon:function(){return j.createElement(ul.k,{label:t(Hm.a.orderedList)})},action:function(e,t){var n=e(t.schema.nodes.orderedList.createChecked({},t.schema.nodes.listItem.createChecked({},t.schema.nodes.paragraph.createChecked())));return Object(ll.a)(n,{action:Mo.a.FORMATTED,actionSubject:Mo.b.TEXT,actionSubjectId:Mo.c.FORMAT_LIST_NUMBER,eventType:Mo.d.TRACK,attributes:{inputMethod:Mo.e.QUICK_INSERT}})}}]}},primaryToolbarComponent:function(e){var t=e.editorView,n=e.dispatchAnalyticsEvent,r=e.popupsMountPoint,o=e.popupsBoundariesElement,i=e.popupsScrollableElement,a=e.toolbarSize,s=e.disabled,c=e.isToolbarReducedSpacing,l=a<Di.L,u=a>=Di.S;return j.createElement(Zo.a,{plugins:{listsState:$m},render:function(e){var a=e.listsState;return j.createElement(Gm,{isSmall:l,isSeparator:u,isReducedSpacing:c,disabled:s,editorView:t,dispatchAnalyticsEvent:n,popupsMountPoint:r,popupsBoundariesElement:o,popupsScrollableElement:i,bulletListActive:a.bulletListActive,bulletListDisabled:a.bulletListDisabled,orderedListActive:a.orderedListActive,orderedListDisabled:a.orderedListDisabled})}})}},eg=n("wynb"),tg=function(){return Object(ll.d)({action:Mo.a.INSERTED,actionSubject:Mo.b.DOCUMENT,actionSubjectId:Mo.c.DIVIDER,attributes:{inputMethod:Mo.e.SHORTCUT},eventType:Mo.d.TRACK})(is.g())};var ng=function(){var e={};return Cu.h(Cu.t.common,Su("atlassian.editor.format.horizontalrule.keyboard",tg()),e),Cu.h(Cu.l.common,function(){return!0},e),Object(Rl.keymap)(e)},rg=n("8ZH3"),og={nodes:function(){return[{name:"rule",node:eg.a}]},pmPlugins:function(){return[{name:"ruleInputRule",plugin:function(e){var t=e.schema;return Object(rg.b)(t)}},{name:"ruleKeymap",plugin:function(){return ng()}}]},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{title:t(Hc.b.horizontalRule),description:t(Hc.b.horizontalRuleDescription),keywords:["horizontal rule","rule","line"],priority:1200,keyshortcut:"---",icon:function(){return j.createElement(ul.e,{label:t(Hc.b.horizontalRule)})},action:function(e,t){var n=e(t.schema.nodes.rule.createChecked());return Object(ll.a)(n,{action:Mo.a.INSERTED,actionSubject:Mo.b.DOCUMENT,actionSubjectId:Mo.c.DIVIDER,attributes:{inputMethod:Mo.e.QUICK_INSERT},eventType:Mo.d.TRACK})}}]}}},ig=n("SnLI"),ag=n("CZ5B"),sg=n("XQtJ"),cg=n("11LQ"),lg=function(){return mg({type:"close"})},ug=function(e,t){return mg({type:"upload",newIdentifier:e},function(n,o){var i=gg(o).editor;if(!i)return n;var a=n.mapping.map(i.pos),s=n.doc.nodeAt(a),c=o.schema.nodes.media;if(!s||s.type!==c)return n;var l=r.__assign({},s.attrs,{id:e.id,collection:e.collectionName||s.attrs.collection,occurrenceKey:e.occurrenceKey,width:t.width,height:t.height});return n.setNodeMarkup(a,void 0,l)})},dg=new ei.PluginKey("mediaEditorPlugin"),pg=function(e){return function(t){var n=function(e,n){return r.__awaiter(void 0,void 0,void 0,function(){var o,i,a,s;return r.__generator(this,function(r){switch(r.label){case 0:return"mediaProvider"!==e?[2]:[4,n];case 1:return(o=r.sent())?[4,o.uploadContext||o.viewContext]:[2];case 2:return i=r.sent(),a=t.dispatch,s=t.state,mg({type:"setContext",context:i})(s,a,t),[2]}})})};return e.subscribe("mediaProvider",n),{destroy:function(){e.unsubscribe("mediaProvider",n)}}}},fg=Object(cg.a)(dg,function(e,t){switch(t.type){case"open":return r.__assign({},e,{editor:{identifier:t.identifier,pos:t.pos}});case"close":case"upload":return r.__assign({},e,{editor:void 0});case"setContext":return r.__assign({},e,{context:t.context});default:return e}},{mapping:function(e,t){return t.editor?r.__assign({},t,{editor:r.__assign({},t.editor,{pos:e.mapping.map(t.editor.pos)})}):t}}),hg=fg.createPluginState,mg=fg.createCommand,gg=fg.getPluginState,vg=function(e){var t=e.dispatch,n=e.providerFactory;return new ei.Plugin({state:hg(t,{}),key:dg,view:pg(n)})};function bg(e,t){var n=e.$from,r=n.index(n.depth-1),o=n.node(n.depth-1);return o?o.maybeChild(r+t):null}function yg(e){return function(t,n){var r=t.selection.$from,o=t.schema.nodes.paragraph,i=bg(t.selection,-2);if(!i)return!1;var a=bg(t.selection,-1),s=r.pos-a.nodeSize-i.nodeSize,c=t.tr;if(function(t){var n=!1;try{n=e(t)}catch(e){}return n}(i))c=c.replace(s-1,s+i.nodeSize);else if(Object(ai.z)(t.selection)?c.replace(r.pos,r.pos+r.parent.nodeSize-1):c.replace(r.pos-1,r.pos+r.parent.nodeSize-1),i.type===o){var l=s+i.nodeSize-2;Object(jl.safeInsert)(r.parent.content,l)(c)}else{var u=s+i.nodeSize-1;Object(jl.safeInsert)(r.parent.copy(r.parent.content),u)(c)}return n&&n(c),!0}}var wg=function(e){var t=Object(ai.t)(e);return function(e,n){var r=e.selection,o=e.schema,i=r.$from;if(!function(e){return!!e.empty&&e.$from.parentOffset<=0}(e.selection))return!1;if(!function(e,t){return e.$from.parent.type===t}(e.selection,o.nodes.paragraph))return!1;return!!function(e,t,n){var r=bg(e,n);return!!r&&r.type===t}(e.selection,o.nodes.mediaSingle,-1)&&("wrap-right"===bg(e.selection,-1).attrs.layout?yg(t)(e,n):(n&&Object(Al.selectNodeBackward)(e,function(r){t(i.parent)&&!Object(ai.f)(e)&&r.replace(i.pos-1,i.pos+i.parent.nodeSize-1),n(r)}),!0))}};var Og,Eg=function(e){return Ws.b.getState(e).ignoreLinks=!0,!1},xg=function(e){return Ws.b.getState(e).splitMediaGroup()},kg=function(){var e={};return Cu.h(Cu.T.common,Eg,e),Cu.h(Cu.k.common,xg,e),Cu.h(Cu.s.common,xg,e),Object(Rl.keymap)(e)},Cg=n("McWf"),Sg=n.n(Cg),jg=function(e){var t=e.editorView,n=e.eventDispatcher,r=e.pluginKey,o=e.isDisabled,i=e.isReducedSpacing;return j.createElement(Zo.a,{editorView:t,eventDispatcher:n,plugins:{mediaPlugin:r},render:function(e){var t,n=e.mediaPlugin;return n.allowsUploads?j.createElement(yo.a,{onClick:(t=n,Object(bo.a)("atlassian.editor.media.button",function(){return t.showMediaPicker(),!0})),disabled:o,title:"Files & images",spacing:i?"none":"default",iconBefore:j.createElement(Sg.a,{label:"Files & images"})}):null}})},Tg=n("zFPw"),Mg=n("80QZ"),_g=1,Ig=new Map,Pg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={animate:!1,offset:0},t.handleSize=function(e){var n=e.offset;return t.setState({offset:n})},t.handleScroll=function(e){var n=e.animate,r=e.offset;return t.setState({animate:n,offset:r})},t}return Object(r.__extends)(t,e),t.prototype.renderCards=function(){var e=this.props,t=e.items,n=e.mediaClientConfig,o=e.context,i=e.shouldOpenMediaViewer,a=i?{list:t.map(function(e){return e.identifier})}:void 0;return t.map(function(e){var t,s=function(e){switch(e.mediaItemType){case"external-image":return e.dataURI;case"file":if("string"==typeof e.id)return e.id;var t=Ig.get(e.id);if(t)return t;var n=""+ ++_g;return Ig.set(e.id,n),n}}(e.identifier);if(o)t=o.config;else{if(!n)return j.createElement(Tg.b,{key:s,dimensions:Tg.c});t=n}return j.createElement(Tg.a,Object(r.__assign)({key:s,mediaClientConfig:t,dimensions:Tg.c,useInlinePlayer:!1,shouldOpenMediaViewer:i,mediaViewerDataSource:a},e))})},t.prototype.render=function(){var e=this.state,t=e.animate,n=e.offset;return j.createElement(Mg.a,{animate:t,offset:n,onSize:this.handleSize,onScroll:this.handleScroll},this.renderCards())},t}(j.Component),Ag=n("sJtk"),Ng=n.n(Ag),Rg=function(e){function t(t){var n=e.call(this,t)||this;return n.state={viewContext:void 0},n.setMediaItems=function(e){var t=e.node;n.mediaNodes=[],t.forEach(function(t,r){n.mediaPluginState.mediaGroupNodes[t.attrs.id]={node:t,getPos:function(){return e.getPos()+r+1}},n.mediaNodes.push(t)})},n.renderChildNodes=function(){var e=n.state.viewContext,t=n.mediaNodes.map(function(e,t){var r={id:e.attrs.id,mediaItemType:"file",collectionName:e.attrs.collection},o=n.props.getPos()+t+1;return{identifier:r,selectable:!0,isLazy:"mobile"!==n.props.editorAppearance,selected:n.props.selected===o,onClick:function(){Object(ai.F)(n.props.view,o)},actions:[{handler:n.props.disabled?{}:n.mediaPluginState.handleMediaNodeRemoval.bind(null,null,function(){return o}),icon:j.createElement(Ng.a,{label:"delete"})}]}});return j.createElement(Pg,{items:t,context:e})},n.mediaNodes=[],n.mediaPluginState=Ws.b.getState(t.view.state),n.setMediaItems(t),n}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.updateMediaContext()},t.prototype.componentWillReceiveProps=function(e){this.updateMediaContext(),this.setMediaItems(e)},t.prototype.shouldComponentUpdate=function(e){return this.props.selected!==e.selected||this.props.node!==e.node||this.state.viewContext!==this.mediaPluginState.mediaContext},t.prototype.updateMediaContext=function(){var e=this.state.viewContext,t=this.mediaPluginState.mediaContext;!e&&t&&this.setState({viewContext:t})},t.prototype.render=function(){return this.renderChildNodes()},t}(j.Component),Dg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(e,t){var n=this,r=this.reactComponentProps.editorAppearance;return j.createElement(Zo.a,{editorView:this.view,plugins:{reactNodeViewState:nu.b,editorDisabledPlugin:au.b},render:function(e){var o=e.editorDisabledPlugin,i=n.getPos(),a=n.view.state.selection,s=a.$anchor,c=a.$head,l=i<s.pos&&c.pos<i+n.node.nodeSize;return j.createElement(Rg,{node:n.node,getPos:n.getPos,view:n.view,forwardRef:t,selected:l?s.pos:null,disabled:(o||{}).editorDisabled,editorAppearance:r})}})},t}(Qc.b),Lg=function(e,t){return function(n,r,o){return new Dg(n,r,o,e,{editorAppearance:t}).init()}},zg=n("l0Hi"),Bg=n("XYkG"),Fg=n("Jnbn"),qg=n("wacQ"),Wg=mt.default.div(Og||(Og=r.__makeTemplateObject(["\n  & > div {\n    ",";\n    position: relative;\n\n    > div {\n      position: absolute;\n      height: 100%;\n    }\n  }\n\n  & > div::after {\n    content: '';\n    display: block;\n    padding-bottom: ","%;\n\n    /* Fixes extra padding problem in Firefox */\n    font-size: 0;\n    line-height: 0;\n  }\n"],["\n  & > div {\n    ",";\n    position: relative;\n\n    > div {\n      position: absolute;\n      height: 100%;\n    }\n  }\n\n  & > div::after {\n    content: '';\n    display: block;\n    padding-bottom: ","%;\n\n    /* Fixes extra padding problem in Firefox */\n    font-size: 0;\n    line-height: 0;\n  }\n"])),qg.a,function(e){return e.height/e.width*100}),Ug=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Hg=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Vg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gg=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Kg={base:{position:"absolute",userSelect:"none",MsUserSelect:"none"},top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}},$g=function(e){return Object(j.createElement)("div",{className:e.className,style:Vg({},Kg.base,Kg[e.direction],e.replaceStyles||{}),onMouseDown:function(t){e.onResizeStart(t,e.direction)},onTouchStart:function(t){e.onResizeStart(t,e.direction)}},e.children)},Jg={userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none"},Yg={userSelect:"auto",MozUserSelect:"auto",WebkitUserSelect:"auto",MsUserSelect:"auto"},Qg=function(e,t,n){return Math.max(Math.min(e,n),t)},Xg=function(e,t){return Math.round(e/t)*t},Zg=function(e,t){return t.reduce(function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t})},ev=function(e,t){return e.substr(e.length-t.length,t.length)===t},tv=function(e){return"auto"===e.toString()?e.toString():ev(e.toString(),"px")?e.toString():ev(e.toString(),"%")?e.toString():ev(e.toString(),"vh")?e.toString():ev(e.toString(),"vw")?e.toString():ev(e.toString(),"vmax")?e.toString():ev(e.toString(),"vmin")?e.toString():e+"px"},nv=["style","className","grid","snap","bounds","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio"],rv=function(e){function t(e){Ug(this,t);var n=Gg(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isResizing:!1,resizeCursor:"auto",width:void 0===(n.propsSize&&n.propsSize.width)?"auto":n.propsSize&&n.propsSize.width,height:void 0===(n.propsSize&&n.propsSize.height)?"auto":n.propsSize&&n.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0}},n.updateExtendsProps(e),n.onResizeStart=n.onResizeStart.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),"undefined"!=typeof window&&(window.addEventListener("mouseup",n.onMouseUp),window.addEventListener("mousemove",n.onMouseMove),window.addEventListener("mouseleave",n.onMouseUp),window.addEventListener("touchmove",n.onMouseMove),window.addEventListener("touchend",n.onMouseUp)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,j["Component"]),Hg(t,[{key:"updateExtendsProps",value:function(e){this.extendsProps=Object.keys(e).reduce(function(t,n){return-1!==nv.indexOf(n)?t:(t[n]=e[n],t)},{})}},{key:"getParentSize",value:function(){var e=this.base;if(!e)return{width:window.innerWidth,height:window.innerHeight};var t=!1,n=this.parentNode.style.flexWrap,r=e.style.minWidth;"wrap"!==n&&(t=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%";var o={width:e.offsetWidth,height:e.offsetHeight};return e.style.position="absolute",t&&(this.parentNode.style.flexWrap=n),e.style.minWidth=r,o}},{key:"componentDidMount",value:function(){var e=this.size;this.setState({width:this.state.width||e.width,height:this.state.height||e.height});var t=this.parentNode;if(t instanceof HTMLElement&&!this.base){var n=document.createElement("div");n.style.width="100%",n.style.height="100%",n.style.position="absolute",n.style.transform="scale(0, 0)",n.style.left="0",n.style.flex="0",n.classList?n.classList.add("__resizable_base__"):n.className+="__resizable_base__",t.appendChild(n)}}},{key:"componentWillReceiveProps",value:function(e){this.updateExtendsProps(e)}},{key:"componentWillUnmount",value:function(){if("undefined"!=typeof window){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseleave",this.onMouseUp),window.removeEventListener("touchmove",this.onMouseMove),window.removeEventListener("touchend",this.onMouseUp);var e=this.parentNode,t=this.base;if(!t||!e)return;if(!(e instanceof HTMLElement&&t instanceof Node))return;e.removeChild(t)}}},{key:"calculateNewSize",value:function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||void 0!==n&&"auto"!==n?e:"auto"}},{key:"onResizeStart",value:function(e,t){var n=0,r=0;if(e.nativeEvent instanceof MouseEvent){if(n=e.nativeEvent.clientX,r=e.nativeEvent.clientY,3===e.nativeEvent.which)return}else e.nativeEvent instanceof TouchEvent&&(n=e.nativeEvent.touches[0].clientX,r=e.nativeEvent.touches[0].clientY);this.props.onResizeStart&&this.props.onResizeStart(e,t,this.resizable),this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.setState({original:{x:n,y:r,width:this.size.width,height:this.size.height},isResizing:!0,resizeCursor:window.getComputedStyle(e.target).cursor,direction:t})}},{key:"onMouseMove",value:function(e){if(this.state.isResizing){var t=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,n=e instanceof MouseEvent?e.clientY:e.touches[0].clientY,r=this.state,o=r.direction,i=r.original,a=r.width,s=r.height,c=this.props,l=c.lockAspectRatio,u=c.lockAspectRatioExtraHeight,d=c.lockAspectRatioExtraWidth,p=this.props.scale||1,f=this.props,h=f.maxWidth,m=f.maxHeight,g=f.minWidth,v=f.minHeight,b=this.props.resizeRatio||1,y=this.getParentSize();if(h&&"string"==typeof h&&ev(h,"%")){var w=Number(h.replace("%",""))/100;h=y.width*w}if(m&&"string"==typeof m&&ev(m,"%")){var O=Number(m.replace("%",""))/100;m=y.height*O}if(g&&"string"==typeof g&&ev(g,"%")){var E=Number(g.replace("%",""))/100;g=y.width*E}if(v&&"string"==typeof v&&ev(v,"%")){var x=Number(v.replace("%",""))/100;v=y.height*x}h=void 0===h?void 0:Number(h),m=void 0===m?void 0:Number(m),g=void 0===g?void 0:Number(g),v=void 0===v?void 0:Number(v);var k="number"==typeof l?l:i.width/i.height,C=i.width,S=i.height;if(/right/i.test(o)&&(C=i.width+(t-i.x)*b/p,l&&(S=(C-d)/k+u)),/left/i.test(o)&&(C=i.width-(t-i.x)*b/p,l&&(S=(C-d)/k+u)),/bottom/i.test(o)&&(S=i.height+(n-i.y)*b/p,l&&(C=(S-u)*k+d)),/top/i.test(o)&&(S=i.height-(n-i.y)*b/p,l&&(C=(S-u)*k+d)),"parent"===this.props.bounds){var j=this.parentNode;if(j instanceof HTMLElement){var T=j.getBoundingClientRect(),M=T.left,_=T.top,I=this.resizable.getBoundingClientRect(),P=I.left,A=I.top,N=j.offsetWidth+(M-P),R=j.offsetHeight+(_-A);h=h&&h<N?h:N,m=m&&m<R?m:R}}else if("window"===this.props.bounds){if("undefined"!=typeof window){var D=this.resizable.getBoundingClientRect(),L=D.left,z=D.top,B=window.innerWidth-L,F=window.innerHeight-z;h=h&&h<B?h:B,m=m&&m<F?m:F}}else if(this.props.bounds instanceof HTMLElement){var q=this.props.bounds.getBoundingClientRect(),W=q.left,U=q.top,H=this.resizable.getBoundingClientRect(),V=H.left,G=H.top;if(!(this.props.bounds instanceof HTMLElement))return;var K=this.props.bounds.offsetWidth+(W-V),$=this.props.bounds.offsetHeight+(U-G);h=h&&h<K?h:K,m=m&&m<$?m:$}var J=void 0===g?10:g,Y=void 0===h||h<0?C:h,Q=void 0===v?10:v,X=void 0===m||m<0?S:m;if(l){var Z=(Q-u)*k+d,ee=(X-u)*k+d,te=(J-d)/k+u,ne=(Y-d)/k+u,re=Math.max(J,Z),oe=Math.min(Y,ee),ie=Math.max(Q,te),ae=Math.min(X,ne);C=Qg(C,re,oe),S=Qg(S,ie,ae)}else C=Qg(C,J,Y),S=Qg(S,Q,X);this.props.grid&&(C=Xg(C,this.props.grid[0])),this.props.grid&&(S=Xg(S,this.props.grid[1])),this.props.snap&&this.props.snap.x&&(C=Zg(C,this.props.snap.x)),this.props.snap&&this.props.snap.y&&(S=Zg(S,this.props.snap.y));var se={width:C-i.width,height:S-i.height};if(a&&"string"==typeof a&&ev(a,"%"))C=C/y.width*100+"%";if(s&&"string"==typeof s&&ev(s,"%"))S=S/y.height*100+"%";this.setState({width:this.calculateNewSize(C,"width"),height:this.calculateNewSize(S,"height")}),this.props.onResize&&this.props.onResize(e,o,this.resizable,se)}}},{key:"onMouseUp",value:function(e){var t=this.state,n=t.isResizing,r=t.direction,o=t.original;if(n){var i={width:this.size.width-o.width,height:this.size.height-o.height};this.props.onResizeStop&&this.props.onResizeStop(e,r,this.resizable,i),this.props.size&&this.setState(this.props.size),this.setState({isResizing:!1,resizeCursor:"auto"})}}},{key:"updateSize",value:function(e){this.setState({width:e.width,height:e.height})}},{key:"renderResizer",value:function(){var e=this,t=this.props,n=t.enable,r=t.handleStyles,o=t.handleClasses,i=t.handleWrapperStyle,a=t.handleWrapperClass,s=t.handleComponent;if(!n)return null;var c=Object.keys(n).map(function(t){return!1!==n[t]?Object(j.createElement)($g,{key:t,direction:t,onResizeStart:e.onResizeStart,replaceStyles:r&&r[t],className:o&&o[t]},s&&s[t]?Object(j.createElement)(s[t]):null):null});return Object(j.createElement)("span",{className:a,style:i},c)}},{key:"render",value:function(){var e=this,t=this.state.isResizing?Jg:Yg;return Object(j.createElement)("div",Vg({ref:function(t){t&&(e.resizable=t)},style:Vg({position:"relative"},t,this.props.style,this.sizeStyle,{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box"}),className:this.props.className},this.extendsProps),this.state.isResizing&&Object(j.createElement)("div",{style:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:""+(this.state.resizeCursor||"auto"),opacity:"0",position:"fixed",zIndex:"9999",top:"0",left:"0",bottom:"0",right:"0"}}),this.props.children,this.renderResizer())}},{key:"parentNode",get:function(){return this.resizable.parentNode}},{key:"propsSize",get:function(){return this.props.size||this.props.defaultSize}},{key:"base",get:function(){var e=this.parentNode;if(e)for(var t=[].slice.call(e.children),n=0;n<t.length;n+=1){var r=t[n];if(r instanceof HTMLElement&&r.classList.contains("__resizable_base__"))return r}}},{key:"size",get:function(){var e=0,t=0;if("undefined"!=typeof window){var n=this.resizable.offsetWidth,r=this.resizable.offsetHeight,o=this.resizable.style.position;"relative"!==o&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:r,this.resizable.style.position=o}return{width:e,height:t}}},{key:"sizeStyle",get:function(){var e=this,t=this.props.size,n=function(t){if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&ev(e.propsSize[t].toString(),"%")){if(ev(e.state[t].toString(),"%"))return e.state[t].toString();var n=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/n[t]*100+"%"}return tv(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?tv(t.width):n("width"),height:t&&void 0!==t.height&&!this.state.isResizing?tv(t.height):n("height")}}}]),t}();rv.defaultProps={onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1};var ov=rv,iv=new ei.PluginKey("gridPlugin"),av=function(e){return"wrap-left"===e||"wrap-right"===e?"wrapped":"full"},sv=["left","right"],cv=function(e,t,n,r){if(!e.length)return!1;var o=e.reduce(function(e,t){return Math.min(e,t)}),i=e.reduce(function(e,t){return Math.max(e,t)});return"left"===t?o<0&&o<=-n&&("number"!=typeof r||o>=-(n+r)):i>12&&i>=12+n&&("number"!=typeof r||i<=12+r)},lv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.highlight,n=e.appearance,o=e.theme,i=e.containerElement,a=e.editorWidth,s=e.gridType,c=e.visible,l=o.layoutMaxWidth,u=r.__spread(function(e){for(var t=[],n=0;n<=12;n++){var r={paddingLeft:100/12+"%"};t.push(j.createElement("div",{key:n,className:vn()("gridLine",e.indexOf(n)>-1?"highlight":""),style:n<12?r:void 0}))}return t}(t),function(e,t,n,r){var o=[];if(!Object(Wi.a)(e))return o;var i=(t*Ko.E-t)/2;return sv.forEach(function(e){var a,s;o.push(j.createElement("div",{key:e,className:vn()("gridLine",cv(r,e,0,4)?"highlight":""),style:(a={position:"absolute"},a[e]="-"+i+"px",a)})),o.push(j.createElement("div",{key:e+"-bk",className:vn()("gridLine",r.indexOf("full-width")>-1?"highlight":""),style:(s={position:"absolute"},s[e]="-"+(n-t-Ko.b)/2+"px",s)}))}),o}(n,l,a,t));return j.createElement("div",{className:"gridParent"},j.createElement("div",{className:vn()("gridContainer",s,c?"":"hidden"),style:{height:i.scrollHeight+"px"}},u))},t}(j.Component),uv=Object(mt.withTheme)(lv),dv={contentComponent:function(e){var t=e.editorView,n=e.appearance;return j.createElement(Zo.a,{plugins:{grid:iv,widthState:fs.b},render:function(e){var o=e.grid,i=e.widthState,a=void 0===i?{width:Ko.l}:i;return o?j.createElement(uv,r.__assign({appearance:n,editorWidth:a.width,containerElement:t.dom},o)):null}})}},pv=function(e,t){return 0===t.length?e:t.reduce(function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t})},fv=["left","right"],hv=["align-start","align-end"],mv={left:"start",right:"end"},gv=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isResizing:!1},n.handleResizeStart=function(e){e.preventDefault(),n.setState({isResizing:!0},function(){n.props.displayGrid(!0,av(n.props.layout),n.props.highlights(n.props.width,n.props.snapPoints))})},n.handleResize=function(e,t,r,o){var i=n.resizable.current;if(i&&i.state.original){var a=Math.max(i.state.original.width+o.width*(n.props.scaleFactor||1),n.props.snapPoints[0]),s=n.props.calcNewSize(a,!1);s.layout!==n.props.layout&&n.props.updateSize(s.width,s.layout),n.props.displayGrid(!0,av(s.layout),n.props.highlights(a,n.props.snapPoints)),i.updateSize({width:a,height:"auto"})}},n.handleResizeStop=function(e,t,r,o){var i=n.resizable.current;if(i&&i.state.original){var a=Math.max(i.state.original.width+o.width,n.props.snapPoints[0]),s=pv(a,n.props.snapPoints),c=n.props.calcNewSize(s,!0);n.props.displayGrid(!0,av(c.layout),n.props.highlights(a,n.props.snapPoints)),n.setState({isResizing:!1},function(){n.props.updateSize(c.width,c.layout),n.props.displayGrid(!1,av(n.props.layout))})}},n.resizable=j.createRef(),n}return r.__extends(t,e),t.prototype.render=function(){var e={},t={};return fv.forEach(function(n){var r;t[n]="mediaSingle-resize-handle-"+n,e[n]=((r={width:"24px"})[n]="-13px",r.zIndex=99,r)}),j.createElement(ov,{ref:this.resizable,onResize:this.handleResize,size:{width:this.props.width},className:vn()("media-single","image-"+this.props.layout,this.props.className,{"is-resizing":this.state.isResizing,"not-resized":!this.props.pctWidth,"mediaSingle-selected":this.props.selected,"media-wrapped":"wrap-left"===this.props.layout||"wrap-right"===this.props.layout}),handleWrapperClass:"mediaSingle-resize-wrapper",handleClasses:t,handleStyles:e,enable:this.props.enable,onResizeStop:this.handleResizeStop,onResizeStart:this.handleResizeStart},this.props.children)},t}(j.Component),vv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={offsetLeft:t.calcOffsetLeft(),isVideoFile:!0},t.calcNewSize=function(e,n){var r=t.props.layout,o=100*Object(Fg.b)(e,t.props.lineLength);if(o<=100){var i=void 0;return{width:o,layout:i=!t.wrappedLayout||n&&100===o?"center":r}}i=e<=Ko.C?"wide":"full-width";return{width:t.props.pctWidth||null,layout:i}},t.calcColumnLeftOffset=function(){var e=t.state.offsetLeft;return t.insideInlineLike?Object(Fg.a)(e,t.props.lineLength,t.props.gridSize):0},t.highlights=function(e,n){var r=pv(e,n),o=t.props.view.state.schema.nodes.layoutColumn;if(t.$pos&&Object(jl.findParentNodeOfTypeClosestToPos)(t.$pos,[o]))return[];if(r>Ko.C)return["full-width"];var i=t.props,a=i.layout,s=i.lineLength,c=i.gridSize,l=Object(Fg.a)(r,s,c),u=Math.round(l),d=[];return"wrap-left"===a||"align-start"===a?d.push(0,u):"wrap-right"===a||"align-end"===a?d.push(c,c-u):t.insideInlineLike?d.push(Math.round(l+t.calcColumnLeftOffset())):d.push(Math.floor((c-u)/2),Math.ceil((c+u)/2)),d},t}return r.__extends(t,e),t.prototype.componentDidUpdate=function(){var e=this.calcOffsetLeft();return e!==this.state.offsetLeft&&e>=0&&this.setState({offsetLeft:e}),!0},Object.defineProperty(t.prototype,"wrappedLayout",{get:function(){var e=this.props.layout;return"wrap-left"===e||"wrap-right"===e||"align-start"===e||"align-end"===e},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){return r.__awaiter(this,void 0,void 0,function(){var e;return r.__generator(this,function(t){return(e=this.props.viewContext)&&this.checkVideoFile(e),[2]})})},t.prototype.componentWillReceiveProps=function(e){this.props.viewContext!==e.viewContext&&this.checkVideoFile(e.viewContext)},t.prototype.checkVideoFile=function(e){return r.__awaiter(this,void 0,void 0,function(){var t,n,o;return r.__generator(this,function(r){switch(r.label){case 0:return(t=this.$pos)&&e?(n=this.props.state.doc.nodeAt(t.pos+1),[4,e.file.getCurrentState(n.attrs.id)]):[2];case 1:return(o=r.sent())&&"error"!==o.status&&"image"===o.mediaType&&this.setState({isVideoFile:!1}),[2]}})})},Object.defineProperty(t.prototype,"$pos",{get:function(){var e=this.props.getPos();return Number.isNaN(e)||"number"!=typeof e?null:this.props.view.state.doc.resolve(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridWidth",{get:function(){var e=this.props.gridSize;return this.wrappedLayout||this.insideInlineLike?e:e/2},enumerable:!0,configurable:!0}),t.prototype.calcOffsetLeft=function(){var e=0;if(this.wrapper&&this.insideInlineLike){var t=this.wrapper.getBoundingClientRect(),n=this.props.view.dom.getBoundingClientRect();e=t.left-n.left}return e},t.prototype.calcSnapPoints=function(){for(var e=this.state.offsetLeft,t=this.props,n=t.containerWidth,r=t.lineLength,o=t.appearance,i=[],a=0;a<this.gridWidth;a++)i.push(Object(Fg.c)(a,r,this.gridWidth)-e);i.push(r-e);var s=Object(Fg.c)(this.wrappedLayout||this.insideInlineLike?1:2,r,this.props.gridSize),c=i.filter(function(e){return e>=s}),l=this.$pos;if(!l)return c;if(c=this.state.isVideoFile?c.filter(function(e){return e>320}):c,"doc"===l.parent.type.name&&Object(Wi.a)(o)){c.push(Ko.C);var u=n-Ko.b;u>Ko.C&&c.push(u)}return c},Object.defineProperty(t.prototype,"insideInlineLike",{get:function(){var e=this.$pos;if(!e)return!1;var t=this.props.view.state.schema.nodes,n=t.table,r=t.listItem;return!!Object(jl.findParentNodeOfTypeClosestToPos)(e,[n,r])},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this,t=this.props,n=t.width,o=t.height,i=t.layout,a=t.pctWidth,s=t.lineLength,c=t.containerWidth,l=t.fullWidthMode,u=n;if("wide"===i){var d=s*Ko.E;u=d>c?s:d}else if("full-width"===i)u=c-Ko.b;else if(a&&n&&o)u=Math.ceil(Object(Fg.d)(a/100,s||c));else if("center"===i)u=Math.min(n,s);else if(-1!==hv.indexOf(i)){var p=Math.ceil(s/2);u=n<=p?n:p}var f=o/n*u,h=u,m={};return fv.forEach(function(t){var n="left"===t?"right":"left";m[t]=["full-width","wide","center"].concat("wrap-"+n).concat("align-"+mv[n]).indexOf(i)>-1,"left"===t&&e.insideInlineLike&&(m[t]=!1)}),j.createElement(Wg,{width:h,height:f,layout:i,isResized:!!a,containerWidth:c||n,innerRef:function(t){return e.wrapper=t},fullWidthMode:l},j.createElement(gv,r.__assign({},this.props,{width:h,height:f,selected:this.props.selected,enable:m,calcNewSize:this.calcNewSize,snapPoints:this.calcSnapPoints(),scaleFactor:this.wrappedLayout||this.insideInlineLike?1:2,highlights:this.highlights}),this.props.children))},t}(j.Component),bv=n("UopG"),yv=n("+5la"),wv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={width:void 0,height:void 0,viewContext:void 0},t.onExternalImageLoaded=function(e){var n=e.width,r=e.height;t.setState({width:n,height:r},function(){t.forceUpdate()})},t.selectMediaSingle=function(e){e.event.stopPropagation(),Object(ai.F)(t.props.view,t.props.getPos())},t.updateSize=function(e,n){var o=t.props.view,i=o.state,a=o.dispatch,s=t.props.getPos();if(void 0!==s)return a(i.tr.setNodeMarkup(s,void 0,r.__assign({},t.props.node.attrs,{layout:n,width:e})))},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){return r.__awaiter(this,void 0,void 0,function(){var e,t,n;return r.__generator(this,function(r){switch(r.label){case 0:return[4,this.props.mediaProvider];case 1:return(e=r.sent())?[4,e.viewContext]:[3,3];case 2:t=r.sent(),this.setState({viewContext:t}),r.label=3;case 3:return[4,this.getRemoteDimensions()];case 4:return(n=r.sent())&&Object(bv.a)(n.id,{height:n.height,width:n.width},!0)(this.props.view.state,this.props.view.dispatch),[2]}})})},t.prototype.getRemoteDimensions=function(){return r.__awaiter(this,void 0,void 0,function(){var e,t,n,o,i,a,s,c,l,u;return r.__generator(this,function(r){switch(r.label){case 0:return[4,this.props.mediaProvider];case 1:return e=r.sent(),t=this.props.node.firstChild,e&&t?(n=t.attrs,o=n.height,i=n.type,a=n.width,"external"===i?[2,!1]:(s=t.attrs,c=s.id,l=s.collection,o&&a?[2,!1]:"mobile"===this.props.editorAppearance?[2,{id:c,height:zg.a,width:zg.b}]:[4,e.viewContext])):[2,!1];case 2:return[4,r.sent().getImageMetadata(c,{collection:l})];case 3:return(u=r.sent())&&u.original?[2,{id:c,height:u.original.height||zg.a,width:u.original.width||zg.b}]:[2,!1]}})})},t.prototype.render=function(){var e=this.props,t=e.selected,n=e.getPos,o=e.node,i=e.view.state,a=e.editorAppearance,s=e.fullWidthMode,c=o.attrs,l=c.layout,u=c.width,d=o.firstChild,p=d.attrs,f=p.width,h=p.height;if("external"===p.type){var m=this.state,g=m.width,v=m.height;null===f&&(f=g||zg.b),null===h&&(h=v||zg.a)}var b=!!this.props.mediaOptions.allowResizing,y=n();if(y){var w=i.doc.resolve(y),O=i.schema.nodes.table,E=!!Object(jl.findParentNodeOfTypeClosestToPos)(w,[O]);b=b&&!E}null!==f&&null!==h||(f=zg.b,h=zg.a);var x,k,C=this.props.width,S={width:C+"px",height:h/f*C+"px"},T={layout:l,width:f,height:h,containerWidth:this.props.width,lineLength:this.props.lineLength,pctWidth:u},M=Object(yv.c)(this.props.mediaPluginState,d.attrs.id),_=j.createElement(Bg.c,{view:this.props.view,node:d,getPos:this.props.getPos,cardDimensions:S,viewContext:this.state.viewContext,selected:t(),onClick:this.selectMediaSingle,onExternalImageLoaded:this.onExternalImageLoaded,editorAppearance:a,uploadComplete:M,url:d.attrs.url});return b?j.createElement(vv,r.__assign({},T,{view:this.props.view,getPos:n,fullWidthMode:s,updateSize:this.updateSize,displayGrid:(x=this.props.eventDispatcher,k=Io(x),function(e,t,n){return void 0===n&&(n=[]),k(iv,{visible:e,gridType:t,highlight:n})}),gridSize:12,viewContext:this.state.viewContext,state:this.props.view.state,appearance:this.props.editorAppearance,selected:this.props.selected()}),_):j.createElement(zg.c,r.__assign({},T),_)},t.defaultProps={mediaOptions:{}},t}(j.Component),Ov=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastOffsetLeft=0,t.forceViewUpdate=!1,t}return r.__extends(t,e),t.prototype.createDomRef=function(){var e=document.createElement("div");return Ml.a.chrome&&"mobile"!==this.reactComponentProps.editorAppearance&&(e.contentEditable="true"),e},t.prototype.viewShouldUpdate=function(t){return this.forceViewUpdate?(this.forceViewUpdate=!1,!0):this.node.attrs!==t.attrs||e.prototype.viewShouldUpdate.call(this,t)},t.prototype.getNodeMediaId=function(e){if(e.firstChild)return e.firstChild.attrs.id},t.prototype.update=function(t,n,r){var o=this;return r||(r=function(e,t){return o.getNodeMediaId(e)===o.getNodeMediaId(t)}),e.prototype.update.call(this,t,n,r)},t.prototype.render=function(){var e=this,t=this.reactComponentProps,n=t.eventDispatcher,r=t.editorAppearance,o=t.fullWidthMode,i=t.providerFactory,a=t.mediaOptions;return j.createElement(an.a,{providers:["mediaProvider"],providerFactory:i,renderNode:function(t){var i=t.mediaProvider;return j.createElement(Zo.a,{editorView:e.view,plugins:{width:fs.b,mediaPluginState:Ws.b},render:function(t){var s=t.width,c=t.mediaPluginState,l=e.view.state.selection;return j.createElement(wv,{width:s.width,lineLength:s.lineLength,node:e.node,getPos:e.getPos,mediaProvider:i,mediaOptions:a||{},view:e.view,fullWidthMode:o,selected:function(){return e.isSelectionInsideNode(l.from,l.to)||l instanceof ei.NodeSelection&&l.from===e.getPos()},eventDispatcher:n,editorAppearance:r,mediaPluginState:c})}})}})},t.prototype.ignoreMutation=function(){if(this.dom){var e=this.dom.offsetLeft;e!==this.lastOffsetLeft&&(this.lastOffsetLeft=e,this.forceViewUpdate=!0,this.update(this.node,[],function(){return!0}))}return!0},t}(Qc.a),Ev=function(e,t,n,r,o,i){return void 0===r&&(r={}),function(a,s,c){return new Ov(a,s,c,e,{eventDispatcher:t,editorAppearance:o,fullWidthMode:i,providerFactory:n,mediaOptions:r}).init()}},xv=n("DfxL"),kv=n.n(xv),Cv=n("KR3n"),Sv=n.n(Cv),jv=n("7qOd"),Tv=n("bFKR"),Mv=function(e,t){var n=Ws.b.getState(e);if(!n)return!1;var r=e.schema.nodes.mediaSingle,o=n.selectedMediaContainerNode();if(!o||o.type!==r)return!1;var i,a=o.firstChild.attrs,s=a.id,c=a.collection,l=a.occurrenceKey;return Object(ll.d)({action:Mo.a.CLICKED,actionSubject:Mo.b.MEDIA,actionSubjectId:Mo.c.ANNOTATE_BUTTON,eventType:Mo.d.UI})((i=e.selection.from+1,mg({type:"open",identifier:{id:s,collectionName:c,mediaItemType:"file",occurrenceKey:l},pos:i})))(e,t)},_v=Object(hr.e)({annotate:{id:"fabric.editor.annotate",defaultMessage:"Annotate",description:"Annotate an image by drawing arrows, adding text, or scribbles."}}),Iv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isImage:!1},t.onClickAnnotation=function(){var e=t.props.view;e&&Mv(e.state,e.dispatch)},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(e){switch(e.label){case 0:return[4,this.checkIsImage()];case 1:return e.sent(),[2]}})})},t.prototype.checkIsImage=function(){return r.__awaiter(this,void 0,void 0,function(){var e;return r.__generator(this,function(t){switch(t.label){case 0:return[4,this.props.viewContext.file.getCurrentState(this.props.id)];case 1:return(e=t.sent())&&"error"!==e.status&&"image"===e.mediaType&&this.setState({isImage:!0}),[2]}})})},t.prototype.componentDidUpdate=function(e){var t=this;e.id!==this.props.id&&this.setState({isImage:!1},function(){t.checkIsImage()})},t.prototype.render=function(){if(!this.state.isImage)return null;var e=this.props.intl.formatMessage(_v.annotate);return j.createElement(j.Fragment,null,j.createElement(Tv.a,null),j.createElement(jv.a,{title:e,icon:j.createElement(Sv.a,{label:e}),onClick:this.onClickAnnotation}))},t}(j.Component),Pv=function(e,t){return function(n,r){var o=e.selectedMediaContainerNode();return o?j.createElement(Iv,{key:r,viewContext:e.mediaContext,id:o.firstChild.attrs.id,view:n,intl:t}):null}},Av=n("shoj"),Nv=n.n(Av),Rv=n("EhED"),Dv=n.n(Rv),Lv=n("TuJS"),zv=n.n(Lv),Bv=n("Pcyv"),Fv=n.n(Bv),qv=n("fX+y"),Wv=n.n(qv),Uv=n("Ufn6"),Hv=n.n(Uv),Vv=n("gphJ"),Gv=n.n(Vv),Kv=n("iVaR"),$v=[{value:"align-start",icon:Wv.a},{value:"center",icon:Gv.a},{value:"align-end",icon:Hv.a}],Jv=[{value:"wrap-left",icon:Nv.a},{value:"wrap-right",icon:Dv.a}],Yv=[{value:"wide",icon:zv.a},{value:"full-width",icon:Fv.a}],Qv=Object(hr.e)({wrapLeft:{id:"fabric.editor.wrapLeft",defaultMessage:"Wrap left",description:"Aligns your image to the left and wraps text around it."},wrapRight:{id:"fabric.editor.wrapRight",defaultMessage:"Wrap right",description:"Aligns your image to the right and wraps text around it."}}),Xv={"wrap-left":Qv.wrapLeft,center:Ci.a.alignImageCenter,"wrap-right":Qv.wrapRight,wide:Ci.a.layoutWide,"full-width":Ci.a.layoutFullWidth,"align-end":Ci.a.alignImageRight,"align-start":Ci.a.alignImageLeft},Zv=function(e){return function(t,n){var r=Ws.b.getState(t);if(!r||!n)return!1;var o=t.schema.nodes.mediaSingle,i=r.selectedMediaContainerNode();if(!i||i.type!==o)return!1;var a=Object(Kv.a)(e,i.attrs);return n(t.tr.setNodeMarkup(t.selection.from,void 0,a)),!0}},eb=function(e,t,n){return e.map(function(e){var r=e.value;return{type:"button",icon:e.icon,title:n.formatMessage(Xv[r]),selected:t===r,onClick:Zv(r)}})},tb=function(e,t,n){var o=e.selection,i=e.schema.nodes.mediaSingle;if(!(o instanceof ei.NodeSelection)||!o.node||!i||function(e,t){var n=t.nodes;return Object(jl.hasParentNodeOfType)([n.bodiedExtension,n.layoutSection,n.listItem,n.table])(e)}(o,e.schema))return[];var a=o.node.attrs.layout,s=r.__spread(eb($v,a,t),[{type:"separator"}],eb(Jv,a,t));return n||(s=s.concat(r.__spread([{type:"separator"}],eb(Yv,a,t)))),s},nb=function(e,t){return t&&t(Object(jl.removeSelectedNode)(e.tr)),!0},rb=n("PQ/3"),ob=n("lgFk"),ib=n("t3eF"),ab={on:function(){},removeAllListeners:function(){},emit:function(){},destroy:function(){},setUploadParams:function(){}},sb=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.handleMediaProvider=function(e,n){return r.__awaiter(t,void 0,void 0,function(){var e,t,o,i,a,s;return r.__generator(this,function(r){switch(r.label){case 0:return e=this.props.mediaState,[4,n];case 1:return(t=r.sent())&&t.uploadParams?[4,t.uploadContext]:[2];case 2:return(o=r.sent())?(i={context:o,errorReporter:e.options.errorReporter||new ob.a},[4,new ib.a("customMediaPicker",i,ab).init()]):[2];case 3:return(a=r.sent()).onNewMedia(e.insertFile),a.onNewMedia(e.trackNewMediaEvent("clipboard")),a.setUploadParams(t.uploadParams),s={uploadParams:t.uploadParams},this.setState({pickerFacadeInstance:a,config:s,context:o}),[2]}})})},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.props.mediaState.options.providerFactory.subscribe("mediaProvider",this.handleMediaProvider)},t.prototype.componentWillUnmount=function(){this.props.mediaState.options.providerFactory.unsubscribe("mediaProvider",this.handleMediaProvider)},t.prototype.render=function(){var e=this.state,t=e.context,n=e.config,r=e.pickerFacadeInstance;return t&&n&&r?j.createElement(rb.a,{context:t,config:n,onError:r.handleUploadError,onPreviewUpdate:r.handleUploadPreviewUpdate,onProcessing:r.handleReady}):null},t}(j.Component),cb=n("9URm"),lb=n("73wN"),ub=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={SmartMediaEditor:t.SmartMediaEditor,isErrored:!1},n}return Object(r.__extends)(t,e),t.prototype.UNSAFE_componentWillMount=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var e,o,i,a;return Object(r.__generator)(this,function(s){switch(s.label){case 0:if(this.state.SmartMediaEditor)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Promise.all([Promise.all([n.e(4),n.e(18),n.e(249)]).then(n.bind(null,"sjvJ")),Promise.all([n.e(25),n.e(248)]).then(n.bind(null,"8lBH"))])];case 2:return e=r.__read.apply(void 0,[s.sent(),2]),o=e[0],i=e[1],t.SmartMediaEditor=o.withMediaClient(i.default),this.setState({SmartMediaEditor:t.SmartMediaEditor}),[3,4];case 3:return a=s.sent(),console.error(a),this.setState({isErrored:!0}),[3,4];case 4:return[2]}})})},t.prototype.render=function(){return this.state.isErrored?null:this.state.SmartMediaEditor?j.createElement(this.state.SmartMediaEditor,Object(r.__assign)({},this.props)):j.createElement(cb.a,{blankedColor:lb.N700A,invertSpinnerColor:!0})},t.displayName="AsyncSmartMediaEditor",t}(j.PureComponent),db=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onUploadStart=function(e,n){var r=t.props.view,o=r.state,i=r.dispatch;ug(e,n)(o,i)},t.onClose=function(){var e=t.props.view,n=e.state,r=e.dispatch;lg()(n,r)},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props.mediaEditorState,t=e.editor,n=e.context;if(!t||!n)return null;var r=t.identifier;return j.createElement(ub,{identifier:r,context:n,onUploadStart:this.onUploadStart,onClose:this.onClose})},t}(j.PureComponent),pb=function(e,t){return{nodes:function(){return[{name:"mediaGroup",node:ig.a},{name:"mediaSingle",node:ag.a},{name:"media",node:sg.b}].filter(function(t){var n=e||{},r=n.allowMediaGroup,o=void 0===r||r,i=n.allowMediaSingle,a=void 0!==i&&i;return"mediaGroup"===t.name?o:"mediaSingle"!==t.name||a})},pmPlugins:function(){return[{name:"media",plugin:function(t){var n=t.schema,r=t.props,o=t.dispatch,i=t.eventDispatcher,a=t.providerFactory,s=t.errorReporter,c=t.portalProviderAPI,l=t.reactContext,u=t.dispatchAnalyticsEvent;return Object(Ws.a)(n,{providerFactory:a,nodeViews:{mediaGroup:Lg(c,r.appearance),mediaSingle:Ev(c,i,a,e,r.appearance,"full-width"===r.appearance)},errorReporter:s,uploadErrorHandler:r.uploadErrorHandler,waitForMediaUpload:r.waitForMediaUpload,customDropzoneContainer:e&&e.customDropzoneContainer,customMediaPicker:e&&e.customMediaPicker,appearance:r.appearance,allowResizing:!(!e||!e.allowResizing)},l,o,r.appearance,u)}},{name:"mediaKeymap",plugin:function(){return kg()}}].concat(e&&e.allowMediaSingle?{name:"mediaSingleKeymap",plugin:function(e){return function(e,t){var n={},r=wg(e);return Cu.h(Cu.g.common,r,n),Object(Rl.keymap)(n)}(e.schema,e.props.appearance)}}:[],e&&e.allowAnnotation?{name:"mediaEditor",plugin:vg}:[])},contentComponent:function(t){var n=t.editorView,r=t.eventDispatcher,o=e&&e.allowAnnotation?j.createElement(Zo.a,{editorView:n,plugins:{mediaEditorState:dg},eventDispatcher:r,render:function(e){var t=e.mediaEditorState;return j.createElement(db,{mediaEditorState:t,view:n})}}):null;return j.createElement(j.Fragment,null,j.createElement(Zo.a,{editorView:n,plugins:{mediaState:Ws.b},render:function(e){var t=e.mediaState;return j.createElement(j.Fragment,null,j.createElement(sb,{mediaState:t}))}}),o)},secondaryToolbarComponent:function(e){var t=e.editorView,n=e.eventDispatcher,r=e.disabled;return j.createElement(jg,{editorView:t,eventDispatcher:n,pluginKey:Ws.b,isDisabled:r,isReducedSpacing:!0})},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{title:t(Hc.b.filesAndImages),description:t(Hc.b.filesAndImagesDescription),priority:400,keywords:["media","attachment"],icon:function(){return j.createElement(ul.g,{label:t(Hc.b.filesAndImages)})},action:function(e,t){Ws.b.getState(t).showMediaPicker();var n=e("");return Object(ll.a)(n,{action:Mo.a.OPENED,actionSubject:Mo.b.PICKER,actionSubjectId:Mo.c.PICKER_CLOUD,attributes:{inputMethod:Mo.e.QUICK_INSERT},eventType:Mo.d.UI})}}]},floatingToolbar:function(n,o){return function(e,t,n,o,i){var a=e.schema.nodes.mediaSingle,s=Ws.b.getState(e);if(a&&s){var c=[];return Object(Wi.a)(i)&&(c=tb(e,t,n)).length&&(o&&c.push({type:"custom",render:Pv(s,t)}),c.push({type:"separator"})),{title:"Media floating controls",nodeType:a,getDomRef:function(){return s.element},items:r.__spread(c,[{type:"button",appearance:"danger",icon:kv.a,onMouseEnter:fu(!0),onMouseLeave:fu(!1),title:t.formatMessage(Ci.a.remove),onClick:nb}])}}}(n,o,e&&e.allowResizing,e&&e.allowAnnotation,t)}}}},fb=n("z7f4"),hb=new RegExp("\n","g"),mb=Ml.a.ie&&Ml.a.ie_version<=11,gb=function(e){return["div",{class:"code-block"+(mb?" ie11":"")},["div",{class:"line-number-gutter",contenteditable:"false"}],["div",{class:"code-content"},["pre",["code",{"data-language":e.attrs.language||"",spellcheck:"false"},0]]]]},vb=function(){function e(e){var t=this;this.ensureLineNumbers=Object(ds.a)(function(){var e=1;for(t.node.forEach(function(t){t.text&&(e+=(t.text.match(hb)||[]).length)});t.lineNumberGutter.childElementCount<e;)t.lineNumberGutter.appendChild(document.createElement("span"));for(;t.lineNumberGutter.childElementCount>e;)t.lineNumberGutter.removeChild(t.lineNumberGutter.lastChild)});var n=nc.DOMSerializer.renderSpec(document,gb(e)),r=n.dom,o=n.contentDOM;this.node=e,this.dom=r,this.contentDOM=o,this.lineNumberGutter=this.dom.querySelector(".line-number-gutter"),this.ensureLineNumbers()}return e.prototype.update=function(e){return e.type===this.node.type&&(e!==this.node&&(e.attrs.language!==this.node.attrs.language&&this.contentDOM.setAttribute("data-language",e.attrs.language||""),this.node=e,this.ensureLineNumbers()),!0)},e.prototype.ignoreMutation=function(e){return e.target===this.lineNumberGutter||e.target.parentNode===this.lineNumberGutter},e}(),bb=function(e){return new vb(e)},yb=function(e){return Ob.getState(e)},wb=function(e){return function(t,n){var o=yb(t);return n(t.tr.setMeta(Ob,r.__assign({},o,e))),!0}},Ob=new ei.PluginKey("codeBlockPlugin"),Eb=function(e){var t=e.dispatch;return new ei.Plugin({state:{init:function(){return{toolbarVisible:!1}},apply:function(e,n){var r=e.getMeta(Ob);return r?(t(Ob,r),r):n}},key:Ob,view:function(){return{update:function(e){var n=e.state,o=n.selection,i=n.schema.nodes.codeBlock,a=yb(e.state),s=Object(jl.findParentDomRefOfType)(i,e.domAtPos.bind(e))(o);if(s!==a.element){var c=Object(jl.findParentNodeOfType)(i)(o);return wb({element:s,toolbarVisible:!!c})(e.state,e.dispatch),!0}t(Ob,r.__assign({},a))}}},props:{nodeViews:{codeBlock:bb},handleDOMEvents:{blur:function(e){return!!yb(e.state).toolbarVisible&&(wb({toolbarVisible:!1,element:null})(e.state,e.dispatch),!0)}}}})},xb=[{name:"ABAP",alias:["abap"]},{name:"ActionScript",alias:["actionscript","actionscript3","as"]},{name:"Ada",alias:["ada","ada95","ada2005"]},{name:"AppleScript",alias:["applescript"]},{name:"Arduino",alias:["arduino"]},{name:"Autoit",alias:["autoit"]},{name:"C",alias:["c"]},{name:"C++",alias:["c++","cpp"]},{name:"Clojure",alias:["clojure","clj"]},{name:"CoffeeScript",alias:["coffeescript","coffee-script","coffee"]},{name:"ColdFusion",alias:["coldfusion"]},{name:"CSharp",alias:["csharp","c#"]},{name:"CSS",alias:["css"]},{name:"CUDA",alias:["cuda","cu"]},{name:"D",alias:["d"]},{name:"Dart",alias:["dart"]},{name:"Delphi",alias:["delphi","pas","pascal","objectpascal"]},{name:"Diff",alias:["diff"]},{name:"Elixir",alias:["elixir","ex","exs"]},{name:"Erlang",alias:["erlang","erl"]},{name:"Fortran",alias:["fortran"]},{name:"FoxPro",alias:["foxpro","vfp","clipper","xbase"]},{name:"Go",alias:["go"]},{name:"Groovy",alias:["groovy"]},{name:"Haskell",alias:["haskell","hs"]},{name:"Haxe",alias:["haxe","hx","hxsl"]},{name:"Html",alias:["html"]},{name:"Java",alias:["java"]},{name:"JavaFX",alias:["javafx","jfx"]},{name:"JavaScript",alias:["javascript","js"]},{name:"JSON",alias:["json"]},{name:"Julia",alias:["julia","jl"]},{name:"Kotlin",alias:["kotlin"]},{name:"LiveScript",alias:["livescript","live-script"]},{name:"Lua",alias:["lua"]},{name:"Mathematica",alias:["mathematica","mma","nb"]},{name:"MATLAB",alias:["matlab"]},{name:"Objective-C",alias:["objective-c","objectivec","obj-c","objc"]},{name:"Objective-J",alias:["objective-j","objectivej","obj-j","objj"]},{name:"ObjectPascal",alias:["objectpascal"]},{name:"OCaml",alias:["ocaml"]},{name:"Octave",alias:["octave"]},{name:"Perl",alias:["perl","pl"]},{name:"PHP",alias:["php","php3","php4","php5"]},{name:"PlainText",alias:["plaintext","text"]},{name:"PowerShell",alias:["powershell","posh","ps1","psm1"]},{name:"Prolog",alias:["prolog"]},{name:"Puppet",alias:["puppet"]},{name:"Python",alias:["python","py"]},{name:"QML",alias:["qbs"]},{name:"R",alias:["r"]},{name:"Racket",alias:["racket","rkt"]},{name:"reStructuredText",alias:["restructuredtext","rst","rest"]},{name:"Ruby",alias:["ruby","rb","duby"]},{name:"Rust",alias:["rust"]},{name:"Sass",alias:["sass"]},{name:"Scala",alias:["scala"]},{name:"Scheme",alias:["scheme","scm"]},{name:"Shell",alias:["shell","bash","sh","ksh","zsh"]},{name:"Smalltalk",alias:["smalltalk","squeak","st"]},{name:"SQL",alias:["sql","postgresql","postgres","plpgsql","psql","postgresql-console","postgres-console","tsql","t-sql","mysql","sqlite"]},{name:"StandardML",alias:["standardmL","sml"]},{name:"Swift",alias:["swift"]},{name:"Tcl",alias:["tcl"]},{name:"TeX",alias:["tex","latex"]},{name:"TypeScript",alias:["typescript","ts"]},{name:"Vala",alias:["vala","vapi"]},{name:"VbNet",alias:["vbnet","vb.net"]},{name:"Verilog",alias:["verilog","v"]},{name:"VHDL",alias:["vhdl"]},{name:"VisualBasic",alias:["visualbasic","vb"]},{name:"XML",alias:["xml"]},{name:"XQuery",alias:["xquery","xqy","xq","xql","xqm"]}];var kb=function(e,t){var n=e.schema.nodes,r=e.tr;return t&&t(Object(jl.removeParentNodeOfType)(n.codeBlock)(r)),!0},Cb=Object(hr.e)({selectLanguage:{id:"fabric.editor.selectLanguage",defaultMessage:"Select language",description:"Code blocks display software code. A prompt to select the software language the code is written in."}}),Sb=function(e,t){var n,r=t.formatMessage,o=Ob.getState(e);if(o&&o.toolbarVisible&&o.element){var i=Object(jl.findParentNodeOfType)(e.schema.nodes.codeBlock)(e.selection),a=i&&i.node.attrs?i.node.attrs.language:void 0,s=(n=xb,n.sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})).map(function(e){return{label:e.name,value:(t=e,t.alias[0])};var t}),c={type:"select",onChange:function(e){return t=e.value,function(e,n){var r=e.schema.nodes,o=e.tr,i={language:t};return n&&n(Object(jl.setParentNodeMarkup)(r.codeBlock,null,i)(o)),!0};var t},defaultValue:a?s.find(function(e){return e.value===a}):void 0,placeholder:r(Cb.selectLanguage),options:s},l={type:"button",appearance:"danger",icon:kv.a,onMouseEnter:fu(!0),onMouseLeave:fu(!1),onClick:kb,title:r(Ci.a.remove)};return{title:"CodeBlock floating controls",getDomRef:function(){return o.element},nodeType:e.schema.nodes.codeBlock,items:[c,{type:"separator"},l]}}},jb=function(e){return function(t){return t.delete(e.before(e.depth)-1,e.end(e.depth)+1)}},Tb=function(e){return function(t){var n=ei.Selection.findFrom(t.doc.resolve(e),-1,!0);return n&&t.setSelection(n),t}};var Mb=function(e){return Object(Rl.keymap)({Backspace:function(t,n){var r=Object(ai.o)(t.selection),o=t.schema.nodes,i=o.paragraph,a=o.codeBlock,s=o.listItem,c=o.table,l=o.layoutColumn;if(!r||r.parent.type!==a)return!1;if(1===r.pos||Object(jl.hasParentNodeOfType)(s)(t.selection)&&0===r.parentOffset){var u=Object(jl.findParentNodeOfTypeClosestToPos)(r,a);return!!u&&(n(t.tr.setNodeMarkup(u.pos,u.node.type,u.node.attrs,[]).setBlockType(r.pos,r.pos,i)),!0)}if(n&&r.node&&Object(ai.t)(e)(r.node())&&(Object(jl.hasParentNodeOfType)(l)(t.selection)||Object(jl.hasParentNodeOfType)(c)(t.selection))){var d=t.tr,p=r.pos;return n(Object(ai.E)(jb(r),Tb(p))(d).scrollIntoView()),!0}return!1}})},_b={"{":"}","[":"]","(":")"},Ib=function(e,t){var n=Object.keys(_b).find(function(t){return e.endsWith(t)}),r=n?_b[n]:void 0;return{left:n,right:r,hasTrailingMatchingBracket:!!r&&t.startsWith(r)}},Pb=function(e){return e.selection.$from.sameParent(e.selection.$to)&&e.selection.$from.parent.type===e.schema.nodes.codeBlock},Ab=function(e){return!!Object(ai.o)(e.selection)&&Pb(e)},Nb=function(e){var t=e.selection.$from;if(t.nodeBefore&&t.nodeBefore.isText){var n=t.nodeBefore.text.lastIndexOf("\n");return{text:t.nodeBefore.text.substring(n+1),pos:t.start()+n+1}}return{text:"",pos:t.pos}},Rb=function(e){var t=e.selection.$to;if(t.nodeAfter&&t.nodeAfter.isText){var n=t.nodeAfter.text.indexOf("\n");return{text:t.nodeAfter.text.substring(0,n>=0?n:void 0),pos:n>=0?t.pos+n:t.end()}}return{text:"",pos:t.pos}};function Db(e){var t=Nb(e).pos,n=Rb(e).pos;return{text:e.doc.textBetween(t,n),start:t,end:n}}var Lb=function(e,t){var n=0;e.split("\n").forEach(function(e){t(e,n),n+=e.length+1})},zb={token:" ",size:2,regex:/[^ ]/},Bb={token:"\t",size:1,regex:/[^\t]/},Fb=function(e){var t=e.startsWith("\t")?Bb:zb,n=e.search(t.regex);return{indentToken:t,indentText:e.substring(0,n>=0?n:e.length)}},qb=n("fZCP");function Wb(e,t){return 0===t||0===e.length?0:e.length/t}function Ub(e,t){var n=Db(e),r=n.text,o=n.start,i=e.tr,a=e.selection;return Lb(r,function(e,t){var n=Fb(e),r=n.indentText,s=n.indentToken,c=Wb(r,s.size),l=s.token.repeat(s.size-r.length%s.size||s.size);i.insertText(l,i.mapping.map(o+t,-1)),Object(ll.a)(i,{action:Mo.a.FORMATTED,actionSubject:Mo.b.TEXT,actionSubjectId:Mo.c.FORMAT_INDENT,eventType:Mo.d.TRACK,attributes:{inputMethod:Mo.e.KEYBOARD,previousIndentationLevel:c,newIndentLevel:c+1,direction:qb.a.INDENT,indentType:qb.b.CODE_BLOCK}}),a.empty||i.setSelection(ei.TextSelection.create(i.doc,i.mapping.map(a.from,-1),i.selection.to))}),t&&(t(i),Fo.a.trackEvent("atlassian.editor.codeblock.indent")),!0}function Hb(e,t){var n=Db(e),r=n.text,o=n.start,i=e.tr;return Lb(r,function(e,t){var n=Fb(e),r=n.indentText,a=n.indentToken;if(r){var s=Wb(r,a.size),c=r.length%a.size||a.size;i.delete(i.mapping.map(o+t),i.mapping.map(o+t+c)),Object(ll.a)(i,{action:Mo.a.FORMATTED,actionSubject:Mo.b.TEXT,actionSubjectId:Mo.c.FORMAT_INDENT,eventType:Mo.d.TRACK,attributes:{inputMethod:Mo.e.KEYBOARD,previousIndentationLevel:s,newIndentLevel:s-1,direction:qb.a.OUTDENT,indentType:qb.b.CODE_BLOCK}})}}),t&&(t(i),Fo.a.trackEvent("atlassian.editor.codeblock.outdent")),!0}var Vb=new ei.Plugin({props:{handleTextInput:function(e,t,n,r){var o,i=e.state,a=e.dispatch;if(Ab(i)){var s=Nb(i).text,c=Rb(i).text;if(o=c,Object.keys(_b).some(function(e){return o.startsWith(_b[e])})&&function(e){return Object.keys(_b).some(function(t){return e===_b[t]})}(r)&&c.startsWith(r))return a(Object(jl.setTextSelection)(n+r.length)(i.tr)),!0;var l=Ib(s+r,c),u=l.left,d=l.right;if(u&&d){var p=i.schema.text(r+d),f=i.tr.replaceWith(t,n,p);return a(Object(jl.setTextSelection)(t+r.length)(f)),!0}}return!1},handleKeyDown:Object(Rl.keydownHandler)({Backspace:function(e,t){if(Ab(e)){var n=Object(ai.o)(e.selection),r=Nb(e).text,o=Rb(e).text,i=Ib(r,o),a=i.left,s=i.right,c=i.hasTrailingMatchingBracket;if(a&&s&&c&&t)return t(e.tr.delete(n.pos-a.length,n.pos+s.length)),!0;var l=Fb(r),u=l.indentToken,d=u.size,p=u.token,f=l.indentText;if(r===f&&f.endsWith(p.repeat(d))&&t)return t(e.tr.delete(n.pos-(d-f.length%d||d),n.pos)),!0}return!1},Enter:Object(ql.a)(Pb,function(e,t){var n=Nb(e).text,r=Fb(n).indentText;return!(!r||!t||(t(e.tr.insertText("\n"+r)),0))}),"Mod-]":Object(ql.a)(Pb,Ub),"Mod-[":Object(ql.a)(Pb,Hb),Tab:Object(ql.a)(Pb,function(e,t){return!!t&&(Ab(e)?function(e,t){var n=Nb(e).text,r=Fb(n).indentToken,o=r.token.repeat(r.size-n.length%r.size||r.size);return t(e.tr.insertText(o)),Fo.a.trackEvent("atlassian.editor.codeblock.indent.insert"),!0}(e,t):Ub(e,t))}),"Shift-Tab":Object(ql.a)(Pb,Hb),"Mod-a":function(e,t){if(Pb(e)){var n=e.selection,r=n.$from,o=n.$to;if(!(0===r.parentOffset&&o.parentOffset===o.parent.nodeSize-2)&&t)return t(e.tr.setSelection(ei.TextSelection.create(e.doc,r.start(),o.end()))),!0}return!1}})}}),Gb=function(e){return void 0===e&&(e={}),{nodes:function(){return[{name:"codeBlock",node:fb.a}]},pmPlugins:function(){return[{name:"codeBlock",plugin:Eb},{name:"codeBlockIDEKeyBindings",plugin:function(){return e.enableKeybindingsForIDE?Vb:void 0}},{name:"codeBlockKeyMap",plugin:function(e){var t=e.schema;return Mb(t)}}]},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{title:t(wu.p.codeblock),description:t(wu.p.codeblockDescription),priority:700,keyshortcut:"```",icon:function(){return j.createElement(ul.b,{label:t(wu.p.codeblock)})},action:function(e,t){var n=e(t.schema.nodes.codeBlock.createChecked());return Object(ll.a)(n,{action:Mo.a.INSERTED,actionSubject:Mo.b.DOCUMENT,actionSubjectId:Mo.c.CODE_BLOCK,attributes:{inputMethod:Mo.e.QUICK_INSERT},eventType:Mo.d.TRACK})}}]},floatingToolbar:Sb}}},Kb=n("Ufjz"),$b=n("Se+L");var Jb=function(e){var t=[];if(e.nodes.emoji&&e.marks.emojiQuery){var n=new RegExp("(^|[\\s("+Lu.c+"]):$"),r=Object(Lu.a)(n,function(t){var n=Vl.getState(t);if(!n.emojiProvider)return null;if(!n.isEnabled())return null;var r=e.mark("emojiQuery"),o=t.tr,i=e.text(":",[r]);return o=o.replaceSelectionWith(i,!1),Object(ll.a)(o,{action:Mo.a.INVOKED,actionSubject:Mo.b.TYPEAHEAD,actionSubjectId:Mo.c.TYPEAHEAD_EMOJI,attributes:{inputMethod:Mo.e.KEYBOARD},eventType:Mo.d.UI})});t.push(r)}if(0!==t.length)return Object(ku.inputRules)({rules:t})};var Yb,Qb=function(){var e={};return Cu.h(Cu.x.common,function(e,t){var n=Vl.getState(e);return!!n.queryActive&&n.onSelectPrevious()},e),Cu.h(Cu.u.common,function(e,t){var n=Vl.getState(e);return!!n.queryActive&&n.onSelectNext()},e),Cu.h(Cu.k.common,function(e,t){var n=Vl.getState(e);return!!n.queryActive&&n.onSelectCurrent(Cu.k.common)},e),Cu.h(Cu.s.common,function(e,t){var n=Vl.getState(e);return!!n.queryActive&&(n.onSelectCurrent(Cu.s.common),!1)},e),Cu.h(Cu.I.common,function(e,t){var n=Vl.getState(e);return!!n.queryActive&&n.onSelectCurrent(Cu.I.common)},e),Cu.h(Cu.l.common,function(e,t){var n=Vl.getState(e);return!!n.queryActive&&(window.event&&window.event.stopPropagation(),n.dismiss())},e),Cu.h(Cu.G.common,function(e,t){var n=Vl.getState(e);return!!n.queryActive&&n.trySelectCurrentWithSpace(Cu.G.common)},e),Object(Rl.keymap)(e)};function Xb(e,t){if(e.nodes.emoji&&t){!function(e){e.subscribe("emojiProvider",function(e,t){if(!t)return;t.then(function(e){e.getAsciiMap().then(function(t){Yb=new ay(e,t)})})})}(t);var n=Object(Lu.a)(iy.REGEX,Zb);return Object(ku.inputRules)({rules:[n]})}}function Zb(e,t,n,r){if(!Yb)return null;if(!function(e){var t=e.schema.marks.emojiQuery;return e.selection.$from.marks().some(function(e){return e.type===t})||Object(ai.x)(t,e)}(e))return null;var o=Yb.match(t);return o?new sy(e,o,n,r).create():null}var ey,ty,ny=function(e,t){return void 0===t&&(t=!0),e[1]+(t?e[2]:"")},ry=function(e,t){return void 0===t&&(t=!1),(t?e[2]:"")+e[3].trim()},oy=function(e){return e[4]||""},iy=function(){function e(e){this.asciiToEmojiMap=e}return e.prototype.match=function(e){return this.getAsciiEmojiMatch(ny(e,!1),function(e){return ry(e,!0)}(e),oy(e))||this.getAsciiEmojiMatch(ny(e),ry(e),oy(e))},e.prototype.getAsciiEmojiMatch=function(e,t,n){var r=this.asciiToEmojiMap.get(t);return r?{emoji:r,leadingString:e,trailingString:n}:void 0},e.REGEX=new RegExp("((?:^|[\\s"+Lu.c+"])(?:\\(*?))(\\(?)([^:\\s"+Lu.c+"\\(]\\S{1,3}|:\\S{1,3}( ))$"),e}(),ay=function(e){function t(t,n){var r=e.call(this,n)||this;return r.emojiProvider=t,r}return r.__extends(t,e),t.prototype.match=function(t){var n=e.prototype.match.call(this,t);return n&&this.emojiProvider.recordSelection&&this.emojiProvider.recordSelection(n.emoji),n},t}(iy),sy=function(){function e(e,t,n,r){this.state=e,this.match=t,this.start=n,this.end=r}return e.prototype.create=function(){var e=this.state.tr.replaceWith(this.from,this.to,this.createNodes());return Object(ll.a)(e,{action:Mo.a.INSERTED,actionSubject:Mo.b.DOCUMENT,actionSubjectId:Mo.c.EMOJI,attributes:{inputMethod:Mo.e.ASCII},eventType:Mo.d.TRACK})},Object.defineProperty(e.prototype,"from",{get:function(){return this.start+this.match.leadingString.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"to",{get:function(){return this.end},enumerable:!0,configurable:!0}),e.prototype.createNodes=function(){var e=[this.createEmojiNode()];return this.trailingTextNodeRequired()&&e.push(this.createTrailingTextNode()),e},e.prototype.createEmojiNode=function(){return this.state.schema.nodes.emoji.create(this.getEmojiNodeAttrs())},e.prototype.getEmojiNodeAttrs=function(){var e=this.match.emoji;return{id:e.id,shortName:e.shortName,text:e.fallback||e.shortName}},e.prototype.trailingTextNodeRequired=function(){return this.match.trailingString.length>0},e.prototype.createTrailingTextNode=function(){return this.state.schema.text(this.match.trailingString)},e}(),cy=(new ei.PluginKey("asciiEmojiPlugin"),n("lWHl")),ly=n.n(cy),uy=mt.default.span(ey||(ey=r.__makeTemplateObject(["\n  position: relative;\n  margin-right: ","px;\n  > div {\n    display: flex;\n  }\n"],["\n  position: relative;\n  margin-right: ","px;\n  > div {\n    display: flex;\n  }\n"])),function(e){var t=e.width;return t&&"large"!==t?Object(Ct.l)():0}),dy=function(e){return!document.body.contains(e)},py=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isOpen:!1},t.handleEscape=function(e){!t.state.isOpen||27!==e.which&&27!==e.keyCode||t.close()},t.handlePluginStateChange=function(e){var n=!e.isEnabled(),r={disabled:n};n&&(r.isOpen=!1),t.setState(r)},t.handleButtonRef=function(e){t.buttonRef=e},t.onPickerRef=function(e){e?document.addEventListener("click",t.handleClickOutside):document.removeEventListener("click",t.handleClickOutside),t.pickerRef=e},t.close=function(){t.setState({isOpen:!1})},t.toggleOpen=function(){var e=t.state.isOpen;t.setState({isOpen:!e})},t.handleClickOutside=function(e){if(t.pickerRef){var n=lr.findDOMNode(t.pickerRef);(!n||e.target instanceof HTMLElement&&!dy(e.target)&&!n.contains(e.target))&&t.close()}},t.handleSelectedEmoji=Object(bo.a)("atlassian.editor.emoji.button",function(e){return!(!t.state.isOpen||!t.pluginState)&&(t.pluginState.insertEmoji(e),t.close(),!0)}),t}return r.__extends(t,e),t.prototype.componentWillMount=function(){this.setPluginState(this.props)},t.prototype.componentDidMount=function(){this.state.button=this.buttonRef?lr.findDOMNode(this.buttonRef):void 0,this.pluginState&&this.pluginState.subscribe(this.handlePluginStateChange),document.addEventListener("keydown",this.handleEscape)},t.prototype.componentWillReceiveProps=function(e){!this.pluginState&&e.pluginKey&&this.setPluginState(e)},t.prototype.componentDidUpdate=function(){var e=this.state.button;e&&e.getBoundingClientRect().width||(this.state.button=this.buttonRef?lr.findDOMNode(this.buttonRef):void 0)},t.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.handleEscape),this.pluginState&&this.pluginState.unsubscribe(this.handlePluginStateChange)},t.prototype.setPluginState=function(e){var t=e.editorView,n=e.pluginKey;if(t){var r=n.getState(t.state);r&&(this.pluginState=r,r.subscribe(this.handlePluginStateChange),this.handlePluginStateChange(r))}},t.prototype.renderPopup=function(){var e=this.state,t=e.disabled,n=e.isOpen,r=e.button,o=this.props,i=o.popupsMountPoint,a=o.popupsBoundariesElement,s=o.popupsScrollableElement,c=o.emojiProvider;return!t&&n&&r?j.createElement(go.a,{target:r,fitHeight:350,fitWidth:350,offset:[0,3],mountTo:i,boundariesElement:a,scrollableElement:s},j.createElement(sr.a,{emojiProvider:c,onSelection:this.handleSelectedEmoji,onPickerRef:this.onPickerRef})):null},t.prototype.render=function(){var e=this.props,t=e.isDisabled,n=e.isReducedSpacing,r=this.state,o=r.isOpen,i=r.disabled,a=j.createElement(yo.a,{selected:o,disabled:i||t,onClick:this.toggleOpen,iconBefore:j.createElement(ly.a,{label:"Emoji"}),ref:this.handleButtonRef,title:"Emoji :",hideTooltip:o,spacing:n?"none":"default"});return j.createElement(uy,{width:n?"large":"small"},a,this.renderPopup())},t}(j.PureComponent),fy=n("Yogy"),hy=n("+9JK"),my=function(e){return"string"==typeof e?document.querySelector(e):e},gy=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.debounced=null,t.handleResize=function(){t.debounced&&(clearTimeout(t.debounced),t.debounced=null),t.debounced=window.setTimeout(function(){t.applyAbsolutePosition(),t.debounced=null},30)},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.popup=document.createElement("div"),document.body.appendChild(this.popup),this.popup.style.position="absolute",window.addEventListener("resize",this.handleResize),this.applyAbsolutePosition(),this.renderContent()},t.prototype.componentDidUpdate=function(){this.applyAbsolutePosition(),this.renderContent()},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize),this.popup&&(lr.unmountComponentAtNode(this.popup),document.body.removeChild(this.popup))},t.prototype.applyBelowPosition=function(){var e=my(this.props.target);if(e&&this.popup){var t=e.getBoundingClientRect(),n=t.bottom+(this.props.offsetY||0),r=t.left+(this.props.offsetX||0);this.popup.style.top=n+"px",this.popup.style.bottom="",this.popup.style.left=r+"px"}},t.prototype.applyAbovePosition=function(){var e=my(this.props.target);if(e&&this.popup){var t=e.getBoundingClientRect(),n=window.innerHeight-t.top+(this.props.offsetY||0),r=t.left+(this.props.offsetX||0);this.popup.style.top="",this.popup.style.bottom=n+"px",this.popup.style.left=r+"px"}},t.prototype.applyAbsolutePosition=function(){if("above"===this.props.relativePosition)this.applyAbovePosition();else if("below"===this.props.relativePosition)this.applyBelowPosition();else{var e=my(this.props.target);if(e){var t=e.getBoundingClientRect(),n=window.innerHeight;t.top<n/2?this.applyBelowPosition():this.applyAbovePosition()}}this.props.zIndex&&this.popup&&(this.popup.style.zIndex=""+this.props.zIndex)},t.prototype.renderContent=function(){this.popup&&lr.render(this.props.children,this.popup)},t.prototype.render=function(){return j.createElement("div",null)},t.defaultProps={relativePosition:"auto",offsetX:0,offsetY:0,zIndex:0},t}(j.PureComponent),vy=function(){return n.e(244).then(n.bind(null,"HNn8")).then(function(e){return e.default})},by=function(e){function t(n){var r=e.call(this,n,{})||this;return r.state={asyncLoadedComponent:t.AsyncLoadedComponent},r.selectNext=function(){r.refs.typeAhead&&r.refs.typeAhead.selectNext()},r.selectPrevious=function(){r.refs.typeAhead&&r.refs.typeAhead.selectPrevious()},r.chooseCurrentSelection=function(){r.refs.typeAhead&&r.refs.typeAhead.chooseCurrentSelection()},r.count=function(){return r.refs.typeAhead?r.refs.typeAhead.count():0},r}return Object(r.__extends)(t,e),t.prototype.asyncLoadComponent=function(){var e=this;vy().then(function(n){t.AsyncLoadedComponent=n,e.setAsyncState(n)})},t.prototype.renderLoaded=function(e,t){var n=this.props,o=(n.emojiProvider,n.target),i=n.position,a=n.zIndex,s=n.offsetX,c=n.offsetY,l=Object(r.__rest)(n,["emojiProvider","target","position","zIndex","offsetX","offsetY"]),u=j.createElement(t,Object(r.__assign)({},l,{emojiProvider:e,ref:"typeAhead"}));return i?(Object(fy.a)("target, position",o,i),o?j.createElement(gy,{target:o,relativePosition:i,zIndex:a,offsetX:s,offsetY:c,children:u}):null):u},t}(hy.a);!function(e){e.SELECTED="selected",e.ENTER="enter",e.SHIFT_ENTER="shift-enter",e.SPACE="space",e.TAB="tab"}(ty||(ty={}));var yy=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.openTime=0,t.state={},t.handlePluginStateChange=function(e){var n=e.anchorElement,r=e.query,o=e.queryActive,i=e.focused;t.setState({anchorElement:n,query:r,queryActive:o,focused:i})},t.handleEmojiTypeAheadRef=function(e){t.typeAhead=e},t.calculateElapsedTime=function(){return Date.now()-t.openTime},t.handleSelectedEmoji=function(e,n){var r=n,o=t.props.dispatchAnalyticsEvent;t.fireTypeAheadSelectedAnalytics(r,t.lastKeyTyped,t.pluginState.query),o&&o({action:Mo.a.INSERTED,actionSubject:Mo.b.DOCUMENT,actionSubjectId:Mo.c.EMOJI,attributes:{inputMethod:Mo.e.TYPEAHEAD},eventType:Mo.d.TRACK}),t.pluginState.insertEmoji(e)},t.handleSelectPrevious=function(){return t.typeAhead&&(t.typeAhead.selectPrevious(),Fo.a.trackEvent("atlassian.fabric.emoji.typeahead.keyup",{})),!0},t.handleSelectNext=function(){return t.typeAhead&&(t.typeAhead.selectNext(),Fo.a.trackEvent("atlassian.fabric.emoji.typeahead.keydown",{})),!0},t.fireTypeAheadSelectedAnalytics=function(e,n,r){var o=r&&r.length||0,i=function(e){return e===Cu.G.common?ty.SPACE:e===Cu.k.common?ty.ENTER:e===Cu.I.common?ty.TAB:e===Cu.s.common?ty.SHIFT_ENTER:void 0}(n)||ty.SELECTED,a=t.props.dispatchAnalyticsEvent;Fo.a.trackEvent("atlassian.fabric.emoji.typeahead.select",{mode:i,duration:t.calculateElapsedTime()||0,emojiId:e&&e.id||"",type:e&&e.type||"",queryLength:o}),i===ty.SPACE&&a&&a({action:Mo.a.INSERTED,actionSubject:Mo.b.DOCUMENT,actionSubjectId:Mo.c.EMOJI,attributes:{inputMethod:Mo.e.ASCII},eventType:Mo.d.TRACK})},t.handleSpaceTyped=function(){Fo.a.trackEvent("atlassian.fabric.emoji.typeahead.space",{})},t.handleSpaceSelectCurrent=function(e,n,r){t.fireTypeAheadSelectedAnalytics(e,n,r)},t.handleSelectCurrent=function(e){return t.lastKeyTyped=e,t.getEmojisCount()>0?t.typeAhead.chooseCurrentSelection():t.pluginState.dismiss(),!0},t.handleOnOpen=function(){t.lastKeyTyped=void 0,t.openTime=Date.now(),Fo.a.trackEvent("atlassian.fabric.emoji.typeahead.open",{})},t.handleOnClose=function(){Fo.a.trackEvent("atlassian.fabric.emoji.typeahead.close",{})},t}return r.__extends(t,e),t.prototype.componentWillMount=function(){this.setPluginState(this.props)},t.prototype.componentWillReceiveProps=function(e){this.setPluginState(e)},t.prototype.componentWillUpdate=function(e){this.pluginState||this.setPluginState(e)},t.prototype.componentWillUnmount=function(){var e=this.pluginState;e&&e.unsubscribe(this.handlePluginStateChange)},t.prototype.setPluginState=function(e){var t=e.editorView,n=e.pluginKey;if(t){var r=n.getState(t.state);r&&(this.pluginState=r,r.subscribe(this.handlePluginStateChange),r.onSelectPrevious=this.handleSelectPrevious,r.onSelectNext=this.handleSelectNext,r.onSelectCurrent=this.handleSelectCurrent,r.onDismiss=this.handleOnClose,r.onSpaceSelectCurrent=this.handleSpaceSelectCurrent,r.onSpaceTyped=this.handleSpaceTyped)}},t.prototype.render=function(){var e=this.state,t=e.anchorElement,n=e.query,r=e.queryActive,o=e.focused,i=this.props,a=i.popupsBoundariesElement,s=i.popupsMountPoint,c=i.popupsScrollableElement,l=i.emojiProvider,u=i.createAnalyticsEvent;return o&&this.pluginState&&t&&r&&l?j.createElement(go.a,{target:t,fitHeight:350,fitWidth:350,zIndex:Ko.i,boundariesElement:a,scrollableElement:c,mountTo:s,offset:[0,3]},j.createElement(by,{emojiProvider:l,onSelection:this.handleSelectedEmoji,onOpen:this.handleOnOpen,createAnalyticsEvent:u,query:n,ref:this.handleEmojiTypeAheadRef})):null},t.prototype.getEmojisCount=function(){return this.typeAhead&&this.typeAhead.count()||0},t}(j.PureComponent),wy=function(e){return{nodes:function(){return[{name:"emoji",node:Kb.a}]},marks:function(){return[{name:"emojiQuery",mark:$b.a}]},pmPlugins:function(){return[{name:"emoji",plugin:function(e){var t=e.providerFactory;return function(e,t,n){return new ei.Plugin({state:{init:function(e,n){return new Gl(t)},apply:function(e,t,n,r){return t}},props:{nodeViews:{emoji:Hl(e,t,n)},handleDOMEvents:{focus:function(e,t){return Vl.getState(e.state).updateEditorFocused(!0),!1},blur:function(e,t){return Vl.getState(e.state).updateEditorFocused(!1),!1}}},key:Vl,view:function(e){var n=Vl.getState(e.state);return n.setView(e),{update:function(e,t){var n=Vl.getState(e.state);n.setView(e),n.update(e.state)},destroy:function(){t.unsubscribe("emojiProvider",n.handleProvider)}}}})}(e.portalProviderAPI,t,e.props.appearance)}},{name:"emojiInputRule",plugin:function(e){var t=e.schema;return Jb(t)}},{name:"emojiKeymap",plugin:function(){return Qb()}},{name:"emojiAsciiInputRule",plugin:function(e){return Xb(e.schema,e.providerFactory)}}]},contentComponent:function(t){var n=t.editorView,r=t.providerFactory,o=t.popupsMountPoint,i=t.popupsBoundariesElement,a=t.dispatchAnalyticsEvent;return j.createElement(an.a,{providerFactory:r,providers:["emojiProvider"],renderNode:function(t){return j.createElement(yy,{editorView:n,pluginKey:Vl,emojiProvider:t.emojiProvider,popupsMountPoint:o,popupsBoundariesElement:i,dispatchAnalyticsEvent:a,createAnalyticsEvent:e})}})},secondaryToolbarComponent:function(e){var t=e.editorView,n=e.providerFactory,r=e.popupsMountPoint,o=e.popupsBoundariesElement,i=e.popupsScrollableElement,a=e.disabled;return j.createElement(an.a,{providerFactory:n,providers:["emojiProvider"],renderNode:function(e){return j.createElement(py,{editorView:t,pluginKey:Vl,emojiProvider:e.emojiProvider,numFollowingButtons:4,isReducedSpacing:!0,isDisabled:a,popupsMountPoint:r,popupsBoundariesElement:o,popupsScrollableElement:i})}})},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{title:t(Hc.b.emoji),description:t(Hc.b.emojiDescription),priority:500,keyshortcut:":",icon:function(){return j.createElement(ul.f,{label:t(Hc.b.emoji)})},action:function(e,t){var n=t.schema.mark("emojiQuery"),r=e(t.schema.text(":",[n]));return Object(ll.a)(r,{action:Mo.a.INVOKED,actionSubject:Mo.b.TYPEAHEAD,actionSubjectId:Mo.c.TYPEAHEAD_EMOJI,attributes:{inputMethod:Mo.e.QUICK_INSERT},eventType:Mo.d.UI})}}]}}}},Oy=n("HeSN"),Ey=n("efau"),xy=n("wQnW"),ky=n("FXUh"),Cy=n("a+fk"),Sy=function(e,t){return Object(Lu.a)(e,function(e,n,r,o){return Object(Cy.d)(e,t,Mo.e.FORMATTING,jy(r,o))},!0)},jy=function(e,t){return function(n){var r=n.tr,o=n.state,i=n.list,a=n.item,s=n.listLocalId,c=n.itemLocalId,l=o.selection.$from,u=o.schema.nodes,d=u.paragraph,p=u.hardBreak,f=l.node(l.depth).content,h=!1;f.forEach(function(t,n){t.type===p&&n<e&&(h=!0)});var m=o.doc.resolve(t),g=o.doc.resolve(m.after());if(m.parent.type!==d||!Object(jl.canInsert)(g,i.createAndFill()))return null;var v=l.before(l.depth);if(Fo.a.trackEvent("atlassian.fabric."+a.name+".trigger.shortcut"),h){var b=Object(Cy.a)(l,r.selection.$from);r.split(l.pos).setSelection(new ei.NodeSelection(r.doc.resolve(l.pos+1))).replaceSelectionWith(i.create({localId:s},[a.create({localId:c},r.doc.nodeAt(l.pos+1).content)])).setSelection(new ei.TextSelection(r.doc.resolve(l.pos+b))).delete(e,t+1)}else r.delete(v,l.end(l.depth)).replaceSelectionWith(i.create({localId:s},[a.create({localId:c},f)])).delete(e+1,t+1).setSelection(new ei.TextSelection(r.doc.resolve(e+1)));return r}};var Ty=function(e){var t=[],n=e.nodes,r=n.decisionList,o=n.decisionItem,i=n.taskList,a=n.taskItem;return r&&o&&t.push(Sy(new RegExp("(^|"+Lu.c+")\\<\\>\\s$"),"decisionList")),i&&a&&t.push(Sy(new RegExp("(^|"+Lu.c+")\\[\\]\\s$"),"taskList")),Object(ku.inputRules)({rules:t})},My=function(e){return function(t){var n=ei.Selection.findFrom(t.doc.resolve(e),-1,!0);return n&&t.setSelection(n),t}},_y=function(e){var t=e.schema.nodes,n=t.decisionItem,r=t.taskItem;return Object(jl.hasParentNodeOfType)([n,r])(e.selection)};var Iy,Py=function(e){var t={Backspace:function(t,n){var r=t.selection,o=t.schema.nodes,i=t.tr,a=o.decisionList,s=o.decisionItem,c=o.taskList,l=o.taskItem;if(!(s&&a||c&&l))return!1;var u=r.$from,d=r.$to;if(u.pos!==d.pos)return!1;if(0!==u.parentOffset)return!1;var p=i.doc.resolve(Math.max(0,u.before(u.depth)-1)),f=p.pos>0&&p.node(1)&&p.node(1).type,h=u.node(1).type;if((f===a||f===c)&&h!==a&&h!==c){var m=u.node(u.depth).content,g=p.pos-1;return function(e,t){return t.delete(e.before(e.depth)-1,e.end(e.depth)+1)}(u,i).insert(g,m),n(My(g)(i).scrollIntoView()),!0}var v=u.node().type;return(v===s||v===l)&&(n(Object(Cy.f)(i,e)),!0)},Delete:function(t,n){var r=t.selection,o=t.schema.nodes,i=t.tr,a=_y(t),s=o.decisionList,c=o.decisionItem,l=o.taskList,u=o.taskItem;if(!(c&&s||l&&u)||!a)return!1;var d=r.$from,p=r.$to;if(d.pos!==p.pos)return!1;var f=d.end();if(d.pos!==f)return!1;if(d.node(d.depth-1).lastChild!==d.node())return My(f+2)(i),Object(Cy.f)(i,e),My(d.pos)(i),i.scrollIntoView(),n(i),!0;var h=i.doc.resolve(d.after(d.depth-1)),m=h.nodeAfter;if(!m)return!1;if(!Object(Cy.e)(e,r))return!0;var g=i.doc.resolve(h.pos+1),v=m.type;if(v===s||v===l)return!0;var b=m.content;return i.delete(g.before(),g.after()),i.insert(d.pos,b),My(d.pos)(i),i.scrollIntoView(),n(i),!0},Enter:function(t,n){var r=t.selection,o=t.tr,i=r.$from,a=_y(t),s=i.node(i.depth),c=s&&s.type,l=s&&0===s.textContent.length,u=c===t.schema.nodes.taskItem?"taskList":"decisionList";if(a){if(!l){var d=Object(Cy.d)(t,u,Mo.e.KEYBOARD,function(e){var t=e.tr,n=e.itemLocalId;return t.split(i.pos,1,[{type:c,attrs:{localId:n}}])});return d&&n(d),!0}return Object(Cy.f)(o,e),n(o),!0}return!1}};return Object(Rl.keymap)(t)},Ay=n("nkeG"),Ny=n.n(Ay),Ry=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={disabled:!1},t.handleInsertDecision=Object(bo.a)("atlassian.fabric.decision.trigger.button",function(){var e=t.props.editorView;return!!e&&(Object(Cy.c)(e,"decisionList"),!0)}),t}return r.__extends(t,e),t.prototype.render=function(){var e=this.state.disabled,t=this.props,n=t.isDisabled,r=t.isReducedSpacing,o=(0,t.intl.formatMessage)(Hc.b.decision);return j.createElement(yo.a,{onClick:this.handleInsertDecision,disabled:e||n,spacing:r?"none":"default",title:o+" <>",iconBefore:j.createElement(Ny.a,{label:o})})},t}(j.PureComponent),Dy=Object(hr.f)(Ry),Ly=n("jWee"),zy=n.n(Ly),By=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={disabled:!1},t.handleInsertTask=Object(bo.a)("atlassian.fabric.action.trigger.button",function(){var e=t.props.editorView;return!!e&&(Object(Cy.c)(e,"taskList"),!0)}),t}return r.__extends(t,e),t.prototype.render=function(){var e=this.state.disabled,t=this.props,n=t.isDisabled,r=t.isReducedSpacing,o=(0,t.intl.formatMessage)(Hc.b.action);return j.createElement(yo.a,{onClick:this.handleInsertTask,disabled:e||n,spacing:r?"none":"default",title:o+" []",iconBefore:j.createElement(zy.a,{label:o})})},t}(j.PureComponent),Fy=Object(hr.f)(By),qy=mt.default.div(Iy||(Iy=r.__makeTemplateObject(["\n  display: flex;\n"],["\n  display: flex;\n"]))),Wy=function(e,t,n){var r=Object(Cy.b)(n,t.schema),o=r.list,i=r.item;return Object(Cy.d)(t,n,Mo.e.QUICK_INSERT,function(t){var n=t.listLocalId,r=t.itemLocalId;return e(o.createChecked({localId:n},i.createChecked({localId:r})))})},Uy={nodes:function(){return[{name:"decisionList",node:Jo.a},{name:"decisionItem",node:Ey.a},{name:"taskList",node:$o.a},{name:"taskItem",node:xy.a}]},pmPlugins:function(){return[{name:"tasksAndDecisions",plugin:function(e){var t=e.portalProviderAPI,n=e.providerFactory,r=e.dispatch,o=e.props;return Object(ky.a)(t,n,r,o.appearance)}},{name:"tasksAndDecisionsInputRule",plugin:function(e){var t=e.schema;return Ty(t)}},{name:"tasksAndDecisionsKeyMap",plugin:function(e){var t=e.schema;return Py(t)}}]},secondaryToolbarComponent:function(e){var t=e.editorView,n=e.disabled;return j.createElement(qy,null,j.createElement(Dy,{editorView:t,isDisabled:n,isReducedSpacing:!0}),j.createElement(Fy,{editorView:t,isDisabled:n,isReducedSpacing:!0}))},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{title:t(Hc.b.action),description:t(Hc.b.actionDescription),priority:100,keywords:["checkbox","task","todo"],keyshortcut:"[]",icon:function(){return j.createElement(ul.a,{label:t(Hc.b.action)})},action:function(e,t){return Wy(e,t,"taskList")}},{title:t(Hc.b.decision),description:t(Hc.b.decisionDescription),priority:900,keyshortcut:"<>",icon:function(){return j.createElement(ul.d,{label:t(Hc.b.decision)})},action:function(e,t){return Wy(e,t,"decisionList")}}]}}};function Hy(e,t){if(t)return Object(Rl.keymap)({Enter:function(n,r,o){return!!function(e){var t=e.state.selection.$cursor,n=e.state.schema.nodes,r=n.decisionItem,o=n.paragraph,i=n.taskItem;return!t||t.parent.type===o&&1===t.depth||t.parent.type===r&&!Vy(t)||t.parent.type===i&&!Vy(t)}(o)&&(e(To.a,Gy(n)),Fo.a.trackEvent("atlassian.editor.stop.submit"),t(o),!0)}})}function Vy(e){var t=e.parent.content;return!(t&&t.size)}var Gy=function(e){return{payload:{action:Mo.a.STOPPED,actionSubject:Mo.b.EDITOR,actionSubjectId:Mo.c.SAVE,attributes:{inputMethod:Mo.e.SHORTCUT,documentSize:e.doc.nodeSize},eventType:Mo.d.UI}}},Ky={pmPlugins:function(){return[{name:"saveOnEnter",plugin:function(e){var t=e.props;return Hy(e.dispatch,t.onSave)}}]}},$y=n("Y9st");function Jy(e){var t=e;return!!t.dataTransfer&&-1!==Array.prototype.slice.call(t.dataTransfer.types).indexOf("Files")}var Yy=function(e){var t=e.schema.nodes.mediaSingle,n=e.selection.$to;if(t)for(var r=n.depth;r>=0;r--){var o=n.index(r);if(n.node(r).canReplaceWith(o,o,t))return!0}return!1},Qy=function(e,t){var n=t.nodes,r=n.media,o=n.mediaSingle;if(!r||!o)return null;var i=r.createChecked({type:"external",url:e});return o.createChecked({},i)},Xy=function(e){return function(t){return function(e,t){return e.setMeta(tw,t)}(t,{name:"START_UPLOAD",event:e})}},Zy=function(e){return function(t,n){return!!tw.getState(t).enabled&&(n&&n(Xy(e)(t.tr)),!0)}},ew=function(e,t){return function(n,r){return!!e(r)&&(r.preventDefault(),r.stopPropagation(),Zy(r)(n.state,n.dispatch)&&Fo.a.trackEvent(t),!0)}},tw=new ei.PluginKey("imageUploadPlugin"),nw=function(e){var t,n=e.dispatch,o=e.providerFactory;return new ei.Plugin({state:{init:function(e,t){return{active:!1,enabled:Yy(t),hidden:!t.schema.nodes.media||!t.schema.nodes.mediaSingle}},apply:function(e,t,o,i){var a,s,c=(s=(a=i).schema.nodes.media,a.selection instanceof ei.NodeSelection&&a.selection.node.type===s),l=Yy(i),u=function(e,t){var n=e.getMeta(tw);return n&&"START_UPLOAD"===n.name?{event:n.event}:t.activeUpload}(e,t);if(c!==t.active||l!==t.enabled||u!==t.activeUpload){var d=r.__assign({},t,{active:c,enabled:l,activeUpload:u});return n(tw,d),d}return t}},key:tw,view:function(){var e=function(e,n){return r.__awaiter(void 0,void 0,void 0,function(){return r.__generator(this,function(r){switch(r.label){case 0:if("imageUploadProvider"!==e||!n)return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n];case 2:return t=r.sent(),[3,4];case 3:return r.sent(),t=void 0,[3,4];case 4:return[2]}})})};return o.subscribe("imageUploadProvider",e),{update:function(e,n){var r=e.state,o=tw.getState(r),i=tw.getState(n);o.activeUpload!==i.activeUpload&&o.activeUpload&&t&&t(o.activeUpload.event,function(t){return function(e){return function(t,n){if(!tw.getState(t).enabled||!e.src)return!1;var r=Qy(e.src,t.schema);return!!r&&(n&&n(Object(jl.safeInsert)(r,t.selection.$to.pos)(t.tr).scrollIntoView()),!0)}}(t)(e.state,e.dispatch)})},destroy:function(){o.unsubscribe("imageUploadProvider",e)}}},props:{handleDOMEvents:{drop:ew(Jy,"atlassian.editor.image.drop"),paste:ew($y.a,"atlassian.editor.image.paste")}}})};var rw,ow,iw,aw=function(e){if(e.nodes.media&&e.nodes.mediaSingle){var t=Object(Lu.a)(/!\[(.*)\]\((\S+)\)$/,function(e,t,n,r){var o=e.schema,i={src:t[2],alt:t[1]},a=Qy(i.src,o);return a?(Fo.a.trackEvent("atlassian.editor.image.autoformatting"),e.tr.replaceWith(n,r,a)):null});return Object(ku.inputRules)({rules:[t]})}},sw={pmPlugins:function(){return[{name:"imageUpload",plugin:nw},{name:"imageUploadInputRule",plugin:function(e){var t=e.schema;return aw(t)}}]}},cw=function(e){return{pmPlugins:function(){var t=e||{},n=t.useNativePlugin,o=void 0!==n&&n,i=t.userId,a=void 0===i?null:i;return r.__spread(o?[{name:"pmCollab",plugin:function(){return Object(oi.collab)({clientID:a})}}]:[],[{name:"collab",plugin:function(t){var n=t.dispatch,r=t.providerFactory,o=t.oldState;return Oi(n,r,e,o)}}])}}},lw=n("6GRz"),uw=n("HSct"),dw=mt.default.span(rw||(rw=r.__makeTemplateObject(["\n  align-items: center;\n  background: ",";\n  border: 1px solid ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  cursor: default;\n  display: inline-flex;\n  font-size: 13px;\n  margin: 0 2px;\n  min-height: 24px;\n  padding: 0 4px;\n  user-select: none;\n  vertical-align: middle;\n  white-space: nowrap;\n\n  .ProseMirror-selectednode & {\n    background: ",";\n    outline: none;\n  }\n"],["\n  align-items: center;\n  background: ",";\n  border: 1px solid ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  cursor: default;\n  display: inline-flex;\n  font-size: 13px;\n  margin: 0 2px;\n  min-height: 24px;\n  padding: 0 4px;\n  user-select: none;\n  vertical-align: middle;\n  white-space: nowrap;\n\n  .ProseMirror-selectednode & {\n    background: ",";\n    outline: none;\n  }\n"])),gt.colors.N30,gt.colors.N50,Object(Ct.f)(),gt.colors.N50),pw=mt.default.span(ow||(ow=r.__makeTemplateObject(["\n  display: inline-block;\n  color: #707070;\n  line-height: 24px;\n  vertical-align: top;\n\n  &::before {\n    color: black;\n    content: 'JIRA | ';\n  }\n"],["\n  display: inline-block;\n  color: #707070;\n  line-height: 24px;\n  vertical-align: top;\n\n  &::before {\n    color: black;\n    content: 'JIRA | ';\n  }\n"]))),fw=mt.default.span(iw||(iw=r.__makeTemplateObject(["\n  display: inline-block;\n  height: 24px;\n  vertical-align: top;\n  width: 24px;\n\n  & > div {\n    height: 24px;\n    width: 24px;\n  }\n"],["\n  display: inline-block;\n  height: 24px;\n  vertical-align: top;\n  width: 24px;\n\n  & > div {\n    height: 24px;\n    width: 24px;\n  }\n"])));function hw(e){var t=e.node.attrs.issueKey;return j.createElement(dw,null,j.createElement(fw,null,j.createElement(uw.a,{size:"small"})),j.createElement(pw,null,t))}var mw=new ei.PluginKey("jiraIssuePlugin"),gw=function(e){var t=e.portalProviderAPI;return new ei.Plugin({key:mw,props:{nodeViews:{confluenceJiraIssue:Qc.b.fromComponent(hw,t)}}})},vw={nodes:function(){return[{name:"confluenceJiraIssue",node:lw.a}]},pmPlugins:function(){return[{name:"jiraIssue",plugin:gw}]}},bw=n("sHEh"),yw=n("ILAn"),ww=n.n(yw),Ow=n("ApEx"),Ew=n.n(Ow),xw=n("U3wt"),kw=n.n(xw),Cw=n("pwwv"),Sw=n.n(Cw),jw=n("hUWc"),Tw=n.n(jw),Mw=n("xRS3"),_w=n.n(Mw),Iw={info:ww.a,success:Ew.a,note:kw.a,tip:_w.a,warning:Sw.a,error:Tw.a},Pw=function(e){return["div",{class:"ak-editor-panel","data-panel-type":e.attrs.panelType||"info"},["span",{class:"ak-editor-panel__icon"}],["div",{class:"ak-editor-panel__content"},0]]},Aw=function(){function e(e){var t=nc.DOMSerializer.renderSpec(document,Pw(e)),n=t.dom,r=t.contentDOM;this.node=e,this.dom=n,this.contentDOM=r,this.icon=this.dom.querySelector(".ak-editor-panel__icon"),this.renderIcon(e.attrs.panelType)}return e.prototype.renderIcon=function(e){var t=Iw[e];lr.render(j.createElement(t,{label:"Panel "+e}),this.icon)},e}(),Nw=function(e){return Dw.getState(e)},Rw=function(e){return function(t,n){var o=Nw(t);return n&&n(t.tr.setMeta(Dw,r.__assign({},o,e))),!0}},Dw=new ei.PluginKey("panelPlugin"),Lw=function(e){var t=e.dispatch;return new ei.Plugin({state:{init:function(){return{element:null,activePanelType:void 0,toolbarVisible:!1}},apply:function(e,n){var o=e.getMeta(Dw);if(o){var i=r.__assign({},n,o);return t(Dw,i),i}return n}},key:Dw,view:function(){return{update:function(e){var n=e.state,o=n.selection,i=n.schema.nodes.panel,a=Nw(e.state),s=Object(jl.findParentNodeOfType)(i)(o),c=Object(jl.findParentDomRefOfType)(i,e.domAtPos.bind(e))(o);if(c!==a.element)return Rw({element:c,activePanelType:s&&s.node.attrs.panelType,toolbarVisible:!!s})(e.state,e.dispatch),!0;t(Dw,r.__assign({},a))}}},props:{nodeViews:{panel:function(e){return new Aw(e)}},handleDOMEvents:{blur:function(e){return!!Nw(e.state).toolbarVisible&&(Rw({toolbarVisible:!1,element:null,activePanelType:void 0})(e.state,e.dispatch),!0)}}}})},zw=function(e){return function(t,n){var r=t.schema.nodes,o=t.tr,i=Dw.getState(t).activePanelType,a={action:Mo.a.CHANGED_TYPE,actionSubject:Mo.b.PANEL,attributes:{newType:e,previousType:i},eventType:Mo.d.TRACK};return Fo.a.trackEvent("atlassian.editor.format.panel."+e+".button"),n&&n(Object(ll.a)(Object(jl.setParentNodeMarkup)(r.panel,null,{panelType:e})(o).setMeta(Dw,{activePanelType:e}),a)),!0}},Bw=Object(hr.e)({info:{id:"fabric.editor.info",defaultMessage:"Info",description:"Panels provide a way to highlight text. The info panel has a blue background."},note:{id:"fabric.editor.note",defaultMessage:"Note",description:"Panels provide a way to highlight text. The note panel has a purple background."},success:{id:"fabric.editor.success",defaultMessage:"Success",description:"Panels provide a way to highlight text. The success panel has a green background."},warning:{id:"fabric.editor.warning",defaultMessage:"Warning",description:"Panels provide a way to highlight text. The warning panel has a yellow background."},error:{id:"fabric.editor.error",defaultMessage:"Error",description:"Panels provide a way to highlight text. The error panel has a red background."}});var Fw=function(){var e={Backspace:function(e,t){var n=e.selection,r=e.schema.nodes,o=e.tr,i=r.panel,a=n.$from,s=n.$to;if(a.pos!==s.pos)return!1;if(0!==a.parentOffset)return!1;var c=o.doc.resolve(Math.max(0,a.before(a.depth)-1)),l=c.pos>0&&c.parent&&c.parent.type,u=a.parent.type;if(l===i&&u!==i){var d=a.node(a.depth).content,p=c.pos-1;return function(e,t){return t.delete(e.before(e.depth)-1,e.end(e.depth)+1)}(a,o).insert(p,d),t&&t(Object(jl.setTextSelection)(p)(o).scrollIntoView()),!0}return a.node().type===i}};return Object(Rl.keymap)(e)},qw=n("rclq"),Ww=function(e,t,n){var r=n(Uw(e,t));return r&&Object(ll.a)(r,{action:Mo.a.INSERTED,actionSubject:Mo.b.DOCUMENT,actionSubjectId:Mo.c.PANEL,attributes:{inputMethod:Mo.e.QUICK_INSERT,panelType:e},eventType:Mo.d.TRACK}),r},Uw=function(e,t){return t.schema.nodes.panel.createChecked({panelType:e},t.schema.nodes.paragraph.createChecked())},Hw={nodes:function(){return[{name:"panel",node:bw.a}]},pmPlugins:function(){return[{name:"panel",plugin:Lw},{name:"panelKeyMap",plugin:function(){return Fw()}}]},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{title:t(wu.p.infoPanel),description:t(wu.p.infoPanelDescription),keywords:["info","panel"],priority:900,icon:function(){return j.createElement(ul.m,{label:t(wu.p.infoPanel)})},action:function(e,t){return Ww(qw.a.INFO,t,e)}},{title:t(wu.p.notePanel),description:t(wu.p.notePanelDescription),keywords:["note"],priority:1e3,icon:function(){return j.createElement(ul.o,{label:t(wu.p.notePanel)})},action:function(e,t){return Ww(qw.a.NOTE,t,e)}},{title:t(wu.p.successPanel),description:t(wu.p.successPanelDescription),keywords:["success","tip"],priority:1e3,icon:function(){return j.createElement(ul.p,{label:t(wu.p.successPanel)})},action:function(e,t){return Ww(qw.a.SUCCESS,t,e)}},{title:t(wu.p.warningPanel),description:t(wu.p.warningPanelDescription),keywords:["warning"],priority:1e3,icon:function(){return j.createElement(ul.q,{label:t(wu.p.warningPanel)})},action:function(e,t){return Ww(qw.a.WARNING,t,e)}},{title:t(wu.p.errorPanel),description:t(wu.p.errorPanelDescription),keywords:["error"],priority:1e3,icon:function(){return j.createElement(ul.n,{label:t(wu.p.errorPanel)})},action:function(e,t){return Ww(qw.a.ERROR,t,e)}}]},floatingToolbar:function(e,t){var n=t.formatMessage,r=Dw.getState(e);if(r&&r.toolbarVisible&&r.element){var o=r.activePanelType;return{title:"Panel floating controls",getDomRef:function(){return r.element},nodeType:e.schema.nodes.panel,items:[{type:"button",icon:ww.a,onClick:zw("info"),selected:"info"===o,title:n(Bw.info)},{type:"button",icon:kw.a,onClick:zw("note"),selected:"note"===o,title:n(Bw.note)},{type:"button",icon:Ew.a,onClick:zw("success"),selected:"success"===o,title:n(Bw.success)},{type:"button",icon:Sw.a,onClick:zw("warning"),selected:"warning"===o,title:n(Bw.warning)},{type:"button",icon:Tw.a,onClick:zw("error"),selected:"error"===o,title:n(Bw.error)},{type:"separator"},{type:"button",appearance:"danger",icon:kv.a,onClick:function(e,t){var n=e.schema.nodes,r=e.tr,o={action:Mo.a.DELETED,actionSubject:Mo.b.PANEL,attributes:{inputMethod:Mo.e.TOOLBAR},eventType:Mo.d.TRACK};return Fo.a.trackEvent("atlassian.editor.format.panel.delete.button"),t&&t(Object(ll.a)(Object(jl.removeParentNodeOfType)(n.panel)(r),o)),!0},onMouseEnter:fu(!0),onMouseLeave:fu(!1),title:n(Ci.a.remove)}]}}}}},Vw=n("ojWS"),Gw=n("b5B0"),Kw=n("nvRj"),$w=n("9fMZ"),Jw=n("o9vd"),Yw=n.n(Jw),Qw=n("ykiU"),Xw=n.n(Qw),Zw=n("SCBf"),eO=n("t79S"),tO=Object(hr.e)({edit:{id:"fabric.editor.edit",defaultMessage:"Edit",description:"Edit the properties for this extension."}}),nO=function(e,t,n){var r=n.layout,o=n.allowBreakout,i=n.node;return o&&function(e,t){var n=e.schema.nodes,r=n.bodiedExtension,o=n.extension,i=n.layoutSection,a=n.table,s=e.selection;return!!t&&!(t.node.type!==r&&(t.node.type!==o||Object(jl.hasParentNodeOfType)([r,a])(s))||Object(jl.hasParentNodeOfType)([i])(s))}(e,i)?[{type:"button",icon:Xw.a,onClick:Object(eO.d)("default"),selected:"default"===r,title:t(Ci.a.layoutFixedWidth)},{type:"button",icon:zv.a,onClick:Object(eO.d)("wide"),selected:"wide"===r,title:t(Ci.a.layoutWide)},{type:"button",icon:Fv.a,onClick:Object(eO.d)("full-width"),selected:"full-width"===r,title:t(Ci.a.layoutFullWidth)}]:[]},rO={nodes:function(){return[{name:"extension",node:Vw.a},{name:"bodiedExtension",node:Gw.a},{name:"inlineExtension",node:Kw.a}]},pmPlugins:function(){return[{name:"extension",plugin:function(e){var t=e.props,n=e.dispatch,o=e.providerFactory,i=e.portalProviderAPI,a=("object"==typeof t.allowExtension?t.allowExtension:{allowBreakout:!1}).allowBreakout&&"full-width"!==t.appearance;return Object($w.a)(n,o,t.extensionHandlers||{},i,"object"==typeof t.allowExtension?r.__assign({},t.allowExtension,{allowBreakout:a}):t.allowExtension)}}]},pluginsOptions:{floatingToolbar:function(e,t){var n=t.formatMessage,o=$w.b.getState(e),i=Zw.b.getState(e);if(o&&o.element)return{title:"Extension floating controls",getDomRef:function(){return o.element.parentElement||void 0},nodeType:[e.schema.nodes.extension,e.schema.nodes.inlineExtension,e.schema.nodes.bodiedExtension],items:r.__spread([{type:"button",icon:Yw.a,onClick:Object(eO.a)(i&&i.macroProvider),title:n(tO.edit)}],nO(e,n,o),[{type:"separator"},{type:"button",icon:kv.a,appearance:"danger",onClick:Object(eO.b)(),onMouseEnter:fu(!0),onMouseLeave:fu(!1),title:n(Ci.a.remove)}])}}}},oO=n("ylIu"),iO={marks:function(){return[{name:"confluenceInlineComment",mark:oO.a}]}},aO=n("E3Wq"),sO=n("k98C"),cO=n("+dwX"),lO=n("YjUZ");var uO,dO,pO,fO,hO,mO=function(){var e={};return Cu.h(Cu.k.common,function(e,t){var n=lO.b.getState(e);return e.selection instanceof ei.NodeSelection&&e.selection.node.type===e.schema.nodes.date&&(n.showDatePickerAt?(Object(cO.a)()(e,t),!0):(Object(cO.c)()(e,t),!0))},e),Object(Rl.keymap)(e)},gO=ou()({loader:function(){return n.e(240).then(n.bind(null,"wu6L")).then(function(e){return e.default})},loading:function(){return null}}),vO={nodes:function(){return[{name:"date",node:aO.a}]},pmPlugins:function(){return[{name:"date",plugin:function(e){return gO.preload(),Object(lO.a)(e)}},{name:"dateKeymap",plugin:function(){return gO.preload(),mO()}}]},contentComponent:function(e){var t=e.editorView,n=t.dispatch,r=t.domAtPos.bind(t);return j.createElement(Zo.a,{plugins:{datePlugin:lO.b,editorDisabledPlugin:au.b},render:function(e){var o=e.editorDisabledPlugin,i=e.datePlugin,a=i&&i.showDatePickerAt;if(!a||(o||{}).editorDisabled)return null;var s=Object(jl.findDomRefAtPos)(a,r);return j.createElement(gO,{key:a,element:s,onSelect:function(e){return Object(cO.b)(e)(t.state,n)},closeDatePicker:function(){return Object(cO.d)(null)(t.state,n)}})}})},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{title:t(Hc.b.date),description:t(Hc.b.dateDescription),priority:800,keywords:["time","today","/"],keyshortcut:"//",icon:function(){return j.createElement(ul.c,{label:t(Hc.b.date)})},action:function(e,t){var n=e(t.schema.nodes.date.createChecked({timestamp:Object(sO.f)()}),{selectInlineNode:!0});return n.setMeta(lO.b,{showDatePickerAt:n.selection.from})}}]}}},bO=n("gytx"),yO=n("LCRF"),wO=n("X2sz"),OO=n("ZlG8"),EO=n("IP8J"),xO=n.n(EO),kO=n("HWcm"),CO=n.n(kO),SO=n("RZyI"),jO=n.n(SO),TO=n("oo6x"),MO=n.n(TO),_O=n("kHOZ"),IO=n.n(_O),PO=n("8S2X"),AO=Object(hr.e)({twoColumns:{id:"fabric.editor.twoColumns",defaultMessage:"Two columns",description:"Layout with two columns of equal width"},threeColumns:{id:"fabric.editor.threeColumns",defaultMessage:"Three columns",description:"Layout with three columns of equal width"},rightSidebar:{id:"fabric.editor.rightSidebar",defaultMessage:"Right sidebar",description:"Layout with two columns, left column is 2/3 and right is 1/3 of page"},leftSidebar:{id:"fabric.editor.leftSidebar",defaultMessage:"Left sidebar",description:"Layout with two columns, left column is 1/3 and right is 2/3 of page"},threeColumnsWithSidebars:{id:"fabric.editor.threeColumnsWithSidebars",defaultMessage:"Three columns with sidebars",description:"Layout with 3 columns laid out as 25% - 50% - 25%"}}),NO=[{type:"two_equal",title:AO.twoColumns,icon:xO.a},{type:"three_equal",title:AO.threeColumns,icon:CO.a}],RO=[{type:"two_right_sidebar",title:AO.rightSidebar,icon:MO.a},{type:"two_left_sidebar",title:AO.leftSidebar,icon:jO.a},{type:"three_with_sidebars",title:AO.threeColumnsWithSidebars,icon:IO.a}],DO=function(e,t,n){return{type:"button",icon:t.icon,title:e.formatMessage(t.title),onClick:Object(PO.h)(t.type),selected:!!n&&n===t.type}},LO={nodes:function(){return[{name:"layoutSection",node:yO.a},{name:"layoutColumn",node:wO.a}]},pmPlugins:function(){return[{name:"layout",plugin:function(e){var t=e.props;return Object(OO.a)(t.allowLayouts)}}]},pluginsOptions:{floatingToolbar:function(e,t){var n=OO.b.getState(e),o=n.pos,i=(n.allowBreakout,n.addSidebarLayouts);if(null!==o)return function(e,t,n,o,i){var a=e.doc.nodeAt(n);if(a){var s=Object(PO.e)(a),c={type:"button",appearance:"danger",icon:kv.a,title:t.formatMessage(Ci.a.remove),onClick:PO.b,onMouseEnter:fu(!0),onMouseLeave:fu(!1)};return{title:"Layout floating controls",getDomRef:function(e){return Object(jl.findDomRefAtPos)(n,e.domAtPos.bind(e))},nodeType:e.schema.nodes.layoutSection,items:r.__spread(NO.map(function(e){return DO(t,e,s)}),i?RO.map(function(e){return DO(t,e,s)}):[],[{type:"separator"},c])}}}(e,t,o,0,i)},quickInsert:function(e){var t=e.formatMessage;return[{title:t(Hc.b.columns),description:t(Hc.b.columnsDescription),keywords:["layout","section","column"],priority:1100,icon:function(){return j.createElement(ul.h,{label:t(Hc.b.columns)})},action:function(e,t){return e(Object(PO.a)(t))}}]}}},zO=n("L9hn"),BO=n("UcTx"),FO=n("a9ac"),qO=n("zrrK"),WO=n.n(qO),UO=(Object(hr.e)({block:{id:"fabric.editor.displayBlock",defaultMessage:"Display as card",description:"Display link as a card with a rich preview similar to in a Facebook feed with page title, description, and potentially an image."},inline:{id:"fabric.editor.displayInline",defaultMessage:"Display as link",description:"Display link with the title only."},link:{id:"fabric.editor.displayLink",defaultMessage:"Display as text",description:"Convert the card to become a regular text-based hyperlink."}}),function(e,t){if(!(e.selection instanceof ei.NodeSelection))return!1;var n=e.selection.node.type.name,r={action:Mo.a.DELETED,actionSubject:Mo.b.SMART_LINK,actionSubjectId:n,attributes:{inputMethod:Mo.e.TOOLBAR,displayMode:n},eventType:Mo.d.TRACK};return t&&t(Object(ll.a)(Object(jl.removeSelectedNode)(e.tr),r)),Fo.a.trackEvent("atlassian.editor.format.card.delete.button"),!0}),HO=function(e,t){if(!(e.selection instanceof ei.NodeSelection))return!1;var n=e.selection.node,r=n.attrs,o=n.type,i=r.data||{},a=r.url||i.url,s={action:Mo.a.VISITED,actionSubject:Mo.b.SMART_LINK,actionSubjectId:o.name,attributes:{inputMethod:Mo.e.TOOLBAR},eventType:Mo.d.TRACK};return Fo.a.trackEvent("atlassian.editor.format.card.visit.button"),window.open(a),t&&t(Object(ll.a)(e.tr,s)),!0},VO=(new ei.PluginKey("cardPlugin"),{nodes:function(){return[{name:"inlineCard",node:zO.a},{name:"blockCard",node:BO.a}]},pmPlugins:function(){return[{name:"card",plugin:FO.a}]},pluginsOptions:{floatingToolbar:function(e,t){var n=e.schema.nodes;return{title:"Card floating controls",nodeType:[n.inlineCard,n.blockCard],items:[{type:"button",icon:WO.a,title:t.formatMessage(Ci.a.visit),onClick:HO},{type:"separator"},{type:"button",appearance:"danger",icon:kv.a,onMouseEnter:fu(!0),onMouseLeave:fu(!1),title:t.formatMessage(Ci.a.remove),onClick:UO}]}}}}),GO=function(e,t){switch(t.action){case"matched":return function(e,t){return r.__assign({},e,{resolving:r.__spread(e.resolving,[{start:t.start,end:t.end,match:t.match}])})}(e,t);case"resolved":return function(e,t){return r.__assign({},e,{matches:r.__spread(e.matches,[{replacement:t.replacement,matchString:t.matchString}])})}(e,t);case"finish":return function(e,t){return r.__assign({},e,{resolving:e.resolving.filter(function(e){return e.match[0]!==t.matchString}),matches:e.matches.filter(function(e){return e.matchString!==t.matchString})})}(e,t);default:return e}},KO=function(e,t,n,r,o){var i=e.state.doc.resolve(n);if(i.parent.type.spec.code)return!1;for(var a=i.parent.textBetween(Math.max(0,i.parentOffset-500),i.parentOffset,void 0,"")+o,s=0;s<t.length;s++){var c=void 0;if(c=o.length?t[s].matchTyping.exec(a):t[s].matchEnter.exec(a)){var l=n-(c[0].length-o.length);return t[s].handler(e,c,l,r),!0}}return!1},$O=new ei.PluginKey("customAutoformatPlugin"),JO=function(e,t){return e.setMeta($O,t)},YO=function(e){var t=e.providerFactory,n=[];return new ei.Plugin({state:{init:function(){return{resolving:[],matches:[]}},apply:function(e,t){if(!t)return t;var n=r.__assign({},t,{resolving:t.resolving.map(function(t){return r.__assign({},t,{start:e.mapping.map(t.start),end:e.mapping.map(t.end,-1)})})}),o=e.getMeta($O);return o?GO(n,o):n}},props:{handleTextInput:function(e,t,r,o){return KO(e,n,t,r,o),!1},handleKeyDown:Object(Rl.keydownHandler)({Enter:function(e,t,r){return KO(r,n,r.state.selection.from,r.state.selection.to,""),!1}})},view:function(){var e=this,o=function(t,o){"autoformattingProvider"===t&&o&&o.then(function(t){return r.__awaiter(e,void 0,void 0,function(){var e;return r.__generator(this,function(o){switch(o.label){case 0:return[4,t.getRules()];case 1:return e=o.sent(),Object.keys(e).forEach(function(t){var o,i={matchTyping:new RegExp("(\\s+|^)"+t+"(\\s)$"),matchEnter:new RegExp("(\\s+|^)"+t+"()$"),handler:(o=e[t],function(e,t,n,i){return r.__awaiter(void 0,void 0,void 0,function(){var a,s,c;return r.__generator(this,function(r){switch(r.label){case 0:return a=o(t.slice(1,t.length-1)),e.dispatch(JO(e.state.tr,{action:"matched",match:t,start:n,end:i})),[4,a];case 1:return s=r.sent(),c=Object(si.i)(e.state.schema,s),e.dispatch(JO(e.state.tr,{action:"resolved",matchString:t[0],replacement:c})),[2,s]}})})})};n.push(i)}),[2]}})})})};return t.subscribe("autoformattingProvider",o),{update:function(e){var t,n=(t=e.state,$O.getState(t));n&&n.matches&&function(e,t){var n=e.state.schema.nodes.inlineCard;t.matches.forEach(function(r){var o=t.resolving.filter(function(e){return e.match[0]===r.matchString}),i=e.state.tr;o.forEach(function(t){var o=t.match,a=t.start,s=t.end,c=r.replacement,l=o[1],u=s+o[o.length-1].length;c&&(c.type===n||c.isText)&&e.state.doc.textBetween(a,u,"#","|")===o[0]&&(i=i.replaceWith(i.mapping.map(a+l.length),i.mapping.map(s,-1),c))}),i=JO(i,{action:"finish",matchString:r.matchString}),e.dispatch(Object(Nl.closeHistory)(i))})}(e,n)},destroy:function(){t.unsubscribe("autoformattingProvider",o)}}},key:$O})},QO={pmPlugins:function(){return[{name:"customAutoformat",plugin:YO}]}},XO=n("VNUP"),ZO=n("9YOO"),eE=n("iSg+"),tE=n("/NNv"),nE=n.n(tE),rE=n("eQE/"),oE=Object(hr.e)({neutralColor:{id:"fabric.status.color.grey",defaultMessage:"Grey",description:"Tooltip for the grey color in color palette"},purpleColor:{id:"fabric.status.color.purple",defaultMessage:"Purple",description:"Tooltip for the purple color in color palette"},blueColor:{id:"fabric.status.color.blue",defaultMessage:"Blue",description:"Tooltip for the blue color in color palette"},redColor:{id:"fabric.status.color.red",defaultMessage:"Red",description:"Tooltip for the red color in color palette"},yellowColor:{id:"fabric.status.color.yellow",defaultMessage:"Yellow",description:"Tooltip for the yellow color in color palette"},greenColor:{id:"fabric.status.color.green",defaultMessage:"Green",description:"Tooltip for the green color in color palette"}}),iE=mt.default.button(uO||(uO=r.__makeTemplateObject(["\n  height: 24px;\n  width: 24px;\n  background: ",";\n  padding: 0;\n  border-radius: 4px;\n  border: 1px solid ",";\n  cursor: pointer;\n  display: block;\n  box-sizing: border-box;\n"],["\n  height: 24px;\n  width: 24px;\n  background: ",";\n  padding: 0;\n  border-radius: 4px;\n  border: 1px solid ",";\n  cursor: pointer;\n  display: block;\n  box-sizing: border-box;\n"])),gt.colors.N900,gt.colors.N0),aE=mt.default.span(dO||(dO=r.__makeTemplateObject(["\n  border: 1px solid transparent;\n  margin: 0 2px;\n  font-size: 0;\n  display: flex;\n  align-items: center;\n  padding: 1px;\n  border-radius: 6px;\n  &:hover {\n    border: 1px solid ",";\n  }\n"],["\n  border: 1px solid transparent;\n  margin: 0 2px;\n  font-size: 0;\n  display: flex;\n  align-items: center;\n  padding: 1px;\n  border-radius: 6px;\n  &:hover {\n    border: 1px solid ",";\n  }\n"])),gt.colors.N50),sE=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hoverStartTime=0,t.onMouseEnter=function(){t.hoverStartTime=Date.now()},t.onMouseLeave=function(){var e=t.props.onHover;Date.now()-t.hoverStartTime>=rE.a&&e&&e(t.props.value),t.hoverStartTime=0},t.onMouseDown=function(e){e.preventDefault()},t.onClick=function(e){var n=t.props,r=n.onClick,o=n.value;e.preventDefault(),r(o)},t}return r.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.tabIndex,o=t.backgroundColor,i=t.isSelected,a=t.borderColor,s=t.value,c="1px solid "+a;return j.createElement(aE,null,j.createElement(hr.a,r.__assign({},oE[s+"Color"]),function(t){return j.createElement(iE,{onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseDown:e.onMouseDown,tabIndex:n,className:i?"selected":"",title:t,style:{backgroundColor:o||"transparent",border:c}},i&&j.createElement(nE.a,{primaryColor:a,label:t}))}))},t.prototype.componentWillUnmount=function(){this.hoverStartTime=0},t}(j.PureComponent),cE=[["neutral",gt.colors.N40,gt.colors.N400],["purple",gt.colors.P50,gt.colors.P400],["blue",gt.colors.B50,gt.colors.B400],["red",gt.colors.R50,gt.colors.R400],["yellow",gt.colors.Y75,gt.colors.Y400],["green",gt.colors.G50,gt.colors.G400]],lE=mt.default.div(pO||(pO=r.__makeTemplateObject(["\n  margin: ","px ","px 0 ","px;\n  /* Firefox bug fix: https://product-fabric.atlassian.net/browse/ED-1789 */\n  display: flex;\n  flex-wrap: wrap;\n"],["\n  margin: ","px ","px 0 ","px;\n  /* Firefox bug fix: https://product-fabric.atlassian.net/browse/ED-1789 */\n  display: flex;\n  flex-wrap: wrap;\n"])),Object(Ct.l)(),Object(Ct.l)(),Object(Ct.l)()),uE=function(e){var t=e.cols,n=void 0===t?7:t,o=e.onClick,i=e.selectedColor,a=e.className,s=e.onHover;return j.createElement(lE,{className:a,style:{maxWidth:32*n}},cE.map(function(e){var t=r.__read(e,3),n=t[0],a=t[1],c=t[2];return j.createElement(sE,{key:n,value:n,backgroundColor:a,borderColor:c,onClick:o,onHover:s,isSelected:n===i})}))},dE=mt.default.div(fO||(fO=r.__makeTemplateObject(["\n  margin: 0 ","px;\n"],["\n  margin: 0 ","px;\n"])),Object(Ct.l)()),pE=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fieldTextWrapperKey=Math.random().toString(),t.colorPaletteKey=Math.random().toString(),t.onChange=function(e){t.props.onTextChanged(e.target.value)},t.onKeyPress=function(e){"Enter"===e.key&&t.props.onEnter()},t.handleInputRef=function(e){e&&t.props.autoFocus&&setTimeout(function(){e.focus()})},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.text,n=e.selectedColor,r=e.onColorClick,o=e.onColorHover;return j.createElement(j.Fragment,null,j.createElement(dE,{key:this.fieldTextWrapperKey},j.createElement(eE.a,{value:t,isLabelHidden:!0,shouldFitContainer:!0,onChange:this.onChange,onKeyPress:this.onKeyPress,compact:!0,innerRef:this.handleInputRef,autoComplete:"off",isSpellCheckEnabled:!1})),j.createElement(uE,{key:this.colorPaletteKey,onClick:r,onHover:o,selectedColor:n}))},t.defaultProps={autoFocus:!0},t}(j.PureComponent),fE=n("BvRm"),hE=n("3ooj"),mE=function(e){return function(t){if(e&&t){var n=r.__assign({},t,{eventType:"ui"});n.attributes||(n.attributes={}),n.attributes.packageName=wo.a,n.attributes.packageVersion=wo.b,n.attributes.componentName="status",e(n).fire("fabric-elements")}}},gE=function(e){return e?"new":"update"},vE=Object(Oo.a)(go.a);!function(e){e.blur="blur",e.escKey="escKey",e.enterKey="enterKey"}(hO||(hO={}));var bE,yE=mt.default.div(bE||(bE=r.__makeTemplateObject(["\n  background: ",";\n  padding: ","px 0;\n  border-radius: ","px;\n  ",";\n"],["\n  background: ",";\n  padding: ","px 0;\n  border-radius: ","px;\n  ",";\n"])),gt.colors.N0,Object(Ct.l)(),Object(Ct.f)(),ps.j),wE=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClickOutside=function(e){e.preventDefault(),n.inputMethod=hO.blur,n.props.closeStatusPicker()},n.handleEscapeKeydown=function(e){e.preventDefault(),n.inputMethod=hO.escKey,n.props.onEnter(n.state)},n.onColorHover=function(e){n.createStatusAnalyticsAndFireFunc({action:"hovered",actionSubject:"statusColorPicker",attributes:{color:e,localId:n.state.localId,state:gE(n.props.isNew)}})},n.onColorClick=function(e){var t=n.state,r=t.text,o=t.localId;n.setState({color:e}),n.props.onSelect({text:r,color:e,localId:o}),n.createStatusAnalyticsAndFireFunc({action:"clicked",actionSubject:"statusColorPicker",attributes:{color:e,localId:o,state:gE(n.props.isNew)}})},n.onTextChanged=function(e){var t=n.state,r=t.color,o=t.localId;n.setState({text:e}),n.props.onTextChanged({text:e,color:r,localId:o},!!n.props.isNew)},n.onEnter=function(){n.inputMethod=hO.enterKey,n.props.onEnter(n.state)},n.handlePopupClick=function(e){return e.nativeEvent.stopImmediatePropagation()},n.state=n.extractStateFromProps(t),n.createStatusAnalyticsAndFireFunc=mE(t.createAnalyticsEvent),n}return r.__extends(t,e),t.prototype.fireStatusPopupOpenedAnalytics=function(e){var t=e.color,n=e.text,r=e.localId,o=e.isNew;this.startTime=Date.now(),this.createStatusAnalyticsAndFireFunc({action:"opened",actionSubject:"statusPopup",attributes:{textLength:n?n.length:0,selectedColor:t,localId:r,state:gE(o)}})},t.prototype.fireStatusPopupClosedAnalytics=function(e){var t=e.color,n=e.text,r=e.localId,o=e.isNew;this.createStatusAnalyticsAndFireFunc({action:"closed",actionSubject:"statusPopup",attributes:{inputMethod:this.inputMethod,duration:Date.now()-this.startTime,textLength:n?n.length:0,selectedColor:t,localId:r,state:gE(o)}})},t.prototype.reset=function(){this.startTime=Date.now(),this.inputMethod=hO.blur},t.prototype.componentDidMount=function(){this.reset(),this.fireStatusPopupOpenedAnalytics(this.state)},t.prototype.componentWillUnmount=function(){this.fireStatusPopupClosedAnalytics(this.state),this.startTime=0},t.prototype.componentDidUpdate=function(e,t,n){var r=this.props.target;if(e.target!==r){var o=this.extractStateFromProps(this.props);this.setState(o),this.fireStatusPopupClosedAnalytics(t),this.reset(),this.fireStatusPopupOpenedAnalytics(o)}},t.prototype.extractStateFromProps=function(e){var t=e.defaultColor,n=e.defaultText,r=e.defaultLocalId,o=e.isNew;return{color:t||fE.a.color,text:n||fE.a.text,localId:r,isNew:o}},t.prototype.render=function(){var e=this.props,t=e.isNew,n=e.target,r=this.state,o=r.color,i=r.text;return n&&j.createElement(vE,{target:n,offset:[0,8],handleClickOutside:this.handleClickOutside,handleEscapeKeydown:this.handleEscapeKeydown,zIndex:Ko.i,fitHeight:40},j.createElement(yE,{onClick:this.handlePopupClick},j.createElement(pE,{autoFocus:t,selectedColor:o,text:i,onColorClick:this.onColorClick,onColorHover:this.onColorHover,onTextChanged:this.onTextChanged,onEnter:this.onEnter})))},t.defaultProps={autoFocus:!1},t}(j.Component),OE=Object(hE.a)()(wE),EE=n("Aw7Y");function xE(){var e={};return Cu.h(Cu.k.common,kE,e),Cu.h(Cu.I.common,kE,e),Object(Rl.keymap)(e)}var kE=function(e,t){return!!Object(EE.b)(e.tr.selection)},CE=function(e){return function(e,t){return!0===t.menuDisabled?e:(e.pluginsOptions={quickInsert:function(e){var t=e.formatMessage;return[{title:t(Hc.b.status),description:t(Hc.b.statusDescription),priority:700,keywords:["lozenge"],icon:function(){return j.createElement(ul.s,{label:t(Hc.b.status)})},action:Object(fE.c)()}]}},e)}({nodes:function(){return[{name:"status",node:XO.a}]},pmPlugins:function(){return[{name:"status",plugin:ZO.a},{name:"statusKeymap",plugin:xE}]},contentComponent:function(e){var t=e.editorView,n=t.domAtPos.bind(t);return j.createElement(Zo.a,{plugins:{statusState:ZO.b},render:function(e){var r=e.statusState,o=void 0===r?{}:r,i=o.showStatusPickerAt;if("number"!=typeof i)return null;var a=Object(jl.findDomRefAtPos)(i,n),s=t.state.doc.nodeAt(i);if(!s||"status"!==s.type.name)return null;var c=s.attrs,l=c.text,u=c.color,d=c.localId;return j.createElement(OE,{isNew:o.isNew,target:a,defaultText:l,defaultColor:u,defaultLocalId:d,onSelect:function(e){Object(fE.d)(e)(t)},onTextChanged:function(e){Object(fE.d)(e)(t)},closeStatusPicker:function(){Object(fE.b)()(t)},onEnter:function(){Object(fE.b)()(t)}})}})}},e)},SE=n("On6/"),jE={paragraph:qb.b.PARAGRAPH,heading:qb.b.HEADING};function TE(e,t){return void 0===t?e.level:!1===t?0:t.level}function ME(e){return void 0===e?0:e.level}var _E=function(e,t){var n=e.nodes,r=n.paragraph,o=n.heading,i=e.marks.alignment;return[r,o].indexOf(t.type)>-1&&(!i||!t.marks.filter(function(e){return e.type===i})[0])};function IE(e,t){var n=function(e,t){var n=[];return{getAttrs:function(r,o){var i=e(r,o);return n.push({node:o,prevAttrs:r,newAttrs:i,options:t}),i},getAndResetAttrsChanges:function(){var e=n;return n=[],e}}}(e,{direction:t}),r=n.getAttrs,o=n.getAndResetAttrsChanges,i=function(e){return function(t,n){var r=t.schema.marks.indentation;return Object(is.i)(r,e,_E)(t,n)}}(r);return function(e,t){return i(e,function(e,t){return function(n){var r=n;e().forEach(function(e){var t=e.node,n=e.prevAttrs,o=e.newAttrs,i=e.options.direction,a=jE[t.type.name];a&&(r=Object(ll.a)(r,{action:Mo.a.FORMATTED,actionSubject:Mo.b.TEXT,actionSubjectId:Mo.c.FORMAT_INDENT,eventType:Mo.d.TRACK,attributes:{inputMethod:Mo.e.KEYBOARD,previousIndentationLevel:ME(n),newIndentLevel:TE(n,o),direction:i,indentType:a}}))}),t&&t(n)}}(o,t))}}var PE=IE(function(e){if(!e)return{level:1};var t=e.level;return t>=6?void 0:{level:t+1}},qb.a.INDENT),AE=IE(function(e){if(e){var t=e.level;return!(t<=1)&&{level:t-1}}},qb.a.OUTDENT);function NE(){var e={};return Cu.h(Cu.p(Cu.q),Su("atlassian.editor.format.block.indent.keyboard",PE),e),Cu.h(Cu.p(Cu.A),Su("atlassian.editor.format.block.outdent.keyboard",AE),e),Cu.h(Cu.p(Cu.g),Su("atlassian.editor.format.block.outdent.keyboard.alt",function(e,t){var n=e.selection;return!(!Object(ai.B)(n)||!n.$cursor||0!==n.$cursor.parentOffset)&&(!!t&&AE(e,t))}),e),Object(Rl.keymap)(e)}var RE={name:"indentationPlugin",marks:function(){return[{name:"indentation",mark:SE.a}]},pmPlugins:function(){return[{name:"indentationKeymap",plugin:function(){return NE()}}]}},DE=n("tQKV"),LE=n("Z5Sc");function zE(e){return Pu(e,Mo.e.TOOLBAR)}var BE=function(e){return{primaryToolbarComponent:function(t){var n=t.editorView,r=t.editorActions,o=t.dispatchAnalyticsEvent,i=t.providerFactory,a=t.popupsMountPoint,s=t.popupsBoundariesElement,c=t.popupsScrollableElement,l=t.toolbarSize,u=t.disabled,d=t.isToolbarReducedSpacing,p=function(e){switch(e){case Di.XXL:case Di.XL:case Di.L:case Di.M:return 7;case Di.S:return 2;default:return 0}}(l);return j.createElement(an.a,{providerFactory:i,providers:["emojiProvider"],renderNode:function(t){return j.createElement(Zo.a,{plugins:{typeAheadState:Bc,blockTypeState:xu,mediaState:Ws.b,mentionState:gl,tablesState:DE.e,macroState:Zw.b,hyperlinkState:fd.e,emojiState:Vl,dateState:lO.b,imageUpload:tw,placeholderTextState:bO.b,layoutState:OO.b},render:function(i){var l=i.typeAheadState,f=i.mentionState,h=i.blockTypeState,m=i.mediaState,g=i.tablesState,v=i.macroState,b=void 0===v?{}:v,y=i.hyperlinkState,w=i.emojiState,O=i.dateState,E=i.imageUpload,x=i.placeholderTextState,k=i.layoutState;return j.createElement(Hc.a,{buttons:p,isReducedSpacing:d,isDisabled:u,isTypeAheadAllowed:l&&l.isAllowed,editorView:n,tableSupported:!!g,actionSupported:!!n.state.schema.nodes.taskItem,mentionsSupported:!(!f||!f.mentionProvider),mentionsEnabled:!!f,decisionSupported:!!n.state.schema.nodes.decisionItem,dateEnabled:!!O,placeholderTextEnabled:x&&x.allowInserting,layoutSectionEnabled:!!k,mediaUploadsEnabled:m&&m.allowsUploads,onShowMediaPicker:m&&m.showMediaPicker,mediaSupported:!!m,imageUploadSupported:!!E,imageUploadEnabled:E&&E.enabled,handleImageUpload:Zy,availableWrapperBlockTypes:h&&h.availableWrapperBlockTypes,linkSupported:!!y,linkDisabled:!y||!y.canInsertLink||!!y.activeLinkMark,emojiDisabled:!w||!w.enabled,insertEmoji:w&&w.insertEmoji,emojiProvider:t.emojiProvider,nativeStatusSupported:e.nativeStatusSupported,horizontalRuleEnabled:e.horizontalRuleEnabled,onInsertBlockType:zE,onInsertMacroFromMacroBrowser:LE.a,macroProvider:b.macroProvider,popupsMountPoint:a,popupsBoundariesElement:s,popupsScrollableElement:c,insertMenuItems:e.insertMenuItems,editorActions:r,dispatchAnalyticsEvent:o})}})}})}}},FE=n("p4i/"),qE={marks:function(){return[{name:"annotation",mark:FE.a}]}},WE=n("SC/4");var UE,HE,VE=function(e){return{payload:{action:Mo.a.STOPPED,actionSubject:Mo.b.EDITOR,actionSubjectId:Mo.c.SAVE,attributes:{inputMethod:Mo.e.SHORTCUT,documentSize:e.doc.nodeSize},eventType:Mo.d.UI}}},GE={pmPlugins:function(){return[{name:"submitEditor",plugin:function(e){var t=e.props;return function(e,t){var n;if(t)return Object(Rl.keymap)(((n={})[""+Cu.H.common]=function(n,r,o){var i=Ws.b.getState(n);return!(!i||!i.waitForMediaUpload||i.allUploadsFinished)||(e(To.a,VE(n)),Fo.a.trackEvent("atlassian.editor.stop.submit"),t(o),!0)},n))}(e.dispatch,t.onSave)}}]}},KE=n("QL7d"),$E=new ei.PluginKey("fakeTextCursorPlugin"),JE={pmPlugins:function(){return[{name:"fakeTextCursor",plugin:function(){return new ei.Plugin({key:$E,props:{decorations:KE.b}})}}]}},YE=n("60f9");function QE(e,t){var n=function(e,t){var n=[];return e.allowAnalyticsGASV3&&n.push(Object(To.c)(t)),n.concat([Pl,gu(e.appearance),nd,id,cd,yp,cf(e.textFormatting||{}),fs.a,qf,eh,au.a])}(e,t);if(e.allowBreakout&&Object(Wi.a)(e.appearance)&&n.push(kh),e.allowTextAlignment&&n.push(Zh),e.allowInlineAction&&n.push(tm),e.allowTextColor&&n.push(Rm),e.allowLists&&n.push(Zm),e.allowRule&&n.push(og),(e.media||e.mediaProvider)&&n.push(pb(e.media,e.appearance)),e.allowCodeBlocks){var r=!0!==e.allowCodeBlocks?e.allowCodeBlocks:{};n.push(Gb(r))}if(e.mentionProvider&&n.push(dl(t)),e.emojiProvider&&n.push(wy(t)),e.allowTables&&n.push(Object(Oy.a)("full-width"===e.appearance)),(e.allowTasksAndDecisions||e.taskDecisionProvider)&&n.push(Uy),e.allowHelpDialog&&n.push(Bo.b),e.saveOnEnter&&n.push(Ky),e.legacyImageUploadProvider&&(n.push(sw),e.media||e.mediaProvider||n.push(pb({allowMediaSingle:{disableLayout:!0},allowMediaGroup:!1}))),(e.collabEdit||e.collabEditProvider)&&n.push(cw(e.collabEdit)),e.maxContentSize&&n.push(Ps),e.allowJiraIssue&&n.push(vw),e.allowPanel&&n.push(Hw),e.allowExtension&&n.push(rO),e.macroProvider&&n.push(Zw.a),e.allowConfluenceInlineComment&&n.push(iO),e.allowDate&&n.push(vO),e.allowTemplatePlaceholders){r=!0!==e.allowTemplatePlaceholders?e.allowTemplatePlaceholders:{};n.push(Object(bO.a)(r))}e.allowLayouts&&n.push(LO),e.UNSAFE_cards&&n.push(VO),e.autoformattingProvider&&n.push(QO);var o=!0;return e.allowStatus&&(o="object"==typeof e.allowStatus&&e.allowStatus.menuDisabled,n.push(CE({menuDisabled:o}))),e.allowIndentation&&n.push(RE),n.push(BE({insertMenuItems:e.insertMenuItems,horizontalRuleEnabled:e.allowRule,nativeStatusSupported:!o})),e.allowConfluenceInlineComment&&n.push(qE),n.push(WE.a),n.push(dv),n.push(GE),n.push(JE),n.push(lu),"mobile"!==e.appearance&&n.push(YE.a),n}!function(e){e.NATIVE="mobileNative",e.HYBRID="mobileHybrid",e.WEB="web"}(UE||(UE={})),function(e){e.FIXED_WIDTH="fixedWidth",e.FULL_WIDTH="fullWidth"}(HE||(HE={}));var XE=n("UVgs"),ZE={plugins:["compositionPlugin","inlineCursorTargetPlugin","focusHandlerPlugin","submitEditor","customAutoformatting","newlinePreserveMarksPlugin","imageUpload","imageUploadInputRule","paste","pasteKeymap","mention","mentionInputRule","mentionKeymap","emoji","placeholderText","emojiInputRule","emojiKeymap","emojiAsciiInputRule","blockType","quickInsert","tasksAndDecisions","blockTypeInputRule","tasksAndDecisionsInputRule","typeAhead","typeAheadKeymap","typeAheadInputRule","indentationKeymap","lists","textColor","alignmentPlugin","listsInputRule","listsKeymap","codeBlock","codeBlockIDEKeyBindings","codeBlockKeyMap","textFormatting","textFormattingCursor","textFormattingInputRule","textFormattingSmartRule","textFormattingClear","textFormattingKeymap","gapCursorKeymap","gapCursor","syncUrlText","fakeCursorToolbarPlugin","hyperLink","table","tableKeymap","hyperlinkInputRule","tablePMColResizing","hyperlinkKeymap","tableColResizing","blockTypeKeyMap","tableEditing","filterStepsPlugin","pmCollab","collab","ruleInputRule","ruleKeymap","panel","media","mediaKeymap","mediaSingleKeymap","mediaEditor","unsupportedContent","jiraIssue","fakeTextCursor","helpDialog","helpDialogKeymap","macro","extension","layout","date","dateKeymap","floatingToolbar","clearMarksOnChange","saveOnEnter","reactNodeView","tasksAndDecisionsKeyMap","history","codeBlockIndent","placeholder","width","maxContentSize","multilineContent","grid","scrollGutterPlugin","analytics"],nodes:["doc","paragraph","text","bulletList","orderedList","listItem","heading","blockquote","codeBlock","rule","panel","mention","confluenceUnsupportedBlock","confluenceUnsupportedInline","unsupportedBlock","unsupportedInline","confluenceJiraIssue","hardBreak","emoji","placeholder","mediaGroup","table","mediaSingle","media","tableHeader","decisionList","tableRow","decisionItem","tableCell","taskList","taskItem","extension","bodiedExtension","inlineExtension","date","layoutSection","layoutColumn","inlineCard","blockCard"],marks:["link","confluenceInlineComment","em","strong","textColor","strike","action","subsup","underline","code","typeAheadQuery","emojiQuery","alignment","breakout","indentation","annotation"]};function ex(e){return function(t,n){return ZE[e].indexOf(t.name)-ZE[e].indexOf(n.name)}}function tx(e,t){var n=e.reduce(function(e,t){return t.pluginsOptions&&Object.keys(t.pluginsOptions).forEach(function(n){e[n]||(e[n]=[]),e[n].push(t.pluginsOptions[n])}),e},{});return e.reduce(function(e,o){var i,a,s;return o.pmPlugins&&(i=e.pmPlugins).push.apply(i,r.__spread(o.pmPlugins(o.name?n[o.name]:void 0))),o.nodes&&(a=e.nodes).push.apply(a,r.__spread(o.nodes(t))),o.marks&&(s=e.marks).push.apply(s,r.__spread(o.marks(t))),o.contentComponent&&e.contentComponents.push(o.contentComponent),o.primaryToolbarComponent&&e.primaryToolbarComponents.push(o.primaryToolbarComponent),o.secondaryToolbarComponent&&e.secondaryToolbarComponents.push(o.secondaryToolbarComponent),e},{nodes:[],marks:[],pmPlugins:[],contentComponents:[],primaryToolbarComponents:[],secondaryToolbarComponents:[]})}function nx(e){var t=function(e){var t=Object.keys(e),n=new Set(t.map(function(t){return e[t].group}));return t.map(function(t){var r=e[t];r.excludes&&(r.excludes=r.excludes.split(" ").filter(function(e){return n.has(e)}).join(" "))}),e}(e.marks.sort(ex("marks")).reduce(function(e,t){return e[t.name]=t.mark,e},{})),n=Object(XE.b)(e.nodes.sort(ex("nodes")).reduce(function(e,t){return e[t.name]=t.node,e},{}),t);return new nc.Schema({nodes:n,marks:t})}function rx(e){var t=e.editorConfig,n=e.schema,r=e.props,o=e.prevProps,i=e.dispatch,a=e.eventDispatcher,s=e.providerFactory,c=e.errorReporter,l=e.portalProviderAPI,u=e.reactContext,d=e.dispatchAnalyticsEvent,p=e.oldState;return t.pmPlugins.sort(ex("plugins")).map(function(e){return(0,e.plugin)({schema:n,props:r,prevProps:o,dispatch:i,providerFactory:s,errorReporter:c,eventDispatcher:a,portalProviderAPI:l,reactContext:u,dispatchAnalyticsEvent:d,oldState:p})}).filter(function(e){return!!e})}var ox=function(e){try{return ix(e,0)}catch(e){return"Error logging document structure: "+e}},ix=function(e,t){var n={type:e.type.name,pos:t,nodeSize:e.nodeSize},r=ax(e.content,t);r.length>0&&(n.content=r);var o=cx(e);return o.length>0&&(n.marks=o),n},ax=function(e,t){if(!e||!e.content||!e.content.length)return[];var n=[],r=e.content;if(r[0].isBlock){var o;n=r.map(function(e){return t+=o?o.nodeSize:1,o=e,ix(e,t)})}else{var i=sx(r,t);n=i.inlineNodes,t=i.pos}return n},sx=function(e,t){return{inlineNodes:e.map(function(e){var n=e.nodeSize,r={type:e.type.name,pos:t,nodeSize:n},o=cx(e);return o.length>0&&(r.marks=o),t+=n,r}),pos:t}},cx=function(e){return e.marks.map(function(e){return e.type.name})},lx=function(e){function t(t){var n,o,i=e.call(this,t)||this;i.broadcastDisabled=function(e){var t=i.view;if(t){var n=t.state.tr.setMeta(au.b,{editorDisabled:e});n.setMeta("isLocal",!0),t.dispatch(n)}},i.formatFullWidthAppearance=function(e){return"full-width"===e?HE.FULL_WIDTH:HE.FIXED_WIDTH},i.reconfigureState=function(e){if(i.view){i.view.dom instanceof HTMLElement&&i.view.hasFocus()&&i.view.dom.blur(),i.config=tx(i.getPlugins(e.editorProps,e.createAnalyticsEvent),e.editorProps);var t=i.editorState,n=rx({schema:t.schema,dispatch:i.dispatch,errorReporter:i.errorReporter,editorConfig:i.config,props:e.editorProps,prevProps:i.props.editorProps,eventDispatcher:i.eventDispatcher,providerFactory:e.providerFactory,portalProviderAPI:e.portalProviderAPI,reactContext:function(){return i.context},dispatchAnalyticsEvent:i.dispatchAnalyticsEvent,oldState:t}),o=ei.EditorState.create({schema:t.schema,plugins:n,doc:t.doc,selection:t.selection});return i.view.updateState(o),i.view.update(r.__assign({},i.view.props,{state:o}))}},i.createEditorState=function(e){if(i.view)return console.warn("The editor does not support changing the schema dynamically."),i.editorState;i.config=tx(i.getPlugins(e.props.editorProps,e.props.createAnalyticsEvent),e.props.editorProps);var t,n,r=nx(i.config),o=e.props.editorProps,a=o.contentTransformerProvider,s=o.defaultValue,c=rx({schema:r,dispatch:i.dispatch,errorReporter:i.errorReporter,editorConfig:i.config,props:e.props.editorProps,eventDispatcher:i.eventDispatcher,providerFactory:e.props.providerFactory,portalProviderAPI:i.props.portalProviderAPI,reactContext:function(){return i.context},dispatchAnalyticsEvent:i.dispatchAnalyticsEvent});i.contentTransformer=a?a(r):void 0,e.replaceDoc&&(t=i.contentTransformer&&"string"==typeof s?i.contentTransformer.parse(s):Object(si.i)(r,s)),t&&(n=Object(Wi.a)(e.props.editorProps.appearance)?ei.Selection.atStart(t):ei.Selection.atEnd(t));var l=n&&ei.Selection.findFrom(n.$head,-1,!0)||void 0;return ei.EditorState.create({schema:r,plugins:c,doc:t,selection:l})},i.getDirectEditorProps=function(e){return{state:e||i.editorState,dispatchTransaction:function(e){if(i.view){var t=Object(_l.a)(e);if(Object(_l.c)(t)){var n=i.view.state.apply(e);i.view.updateState(n),i.props.editorProps.onChange&&e.docChanged&&i.props.editorProps.onChange(i.view),i.editorState=n}else{var r={new:ox(e.doc),prev:ox(e.docs[0])};Fo.a.trackEvent("atlaskit.fabric.editor.invalidtransaction",{documents:JSON.stringify(r)}),i.dispatchAnalyticsEvent({action:Mo.a.DISPATCHED_INVALID_TRANSACTION,actionSubject:Mo.b.EDITOR,eventType:Mo.d.OPERATIONAL,attributes:{analyticsEventPayloads:e.getMeta(To.b),documents:r}})}}},editable:function(e){return!i.props.editorProps.disabled},attributes:{"data-gramm":"false"}}},i.createEditorView=function(e){i.view=new ti.EditorView({mount:e},i.getDirectEditorProps())},i.handleEditorViewRef=function(e){!i.view&&e?(i.createEditorView(e),i.props.onEditorCreated({view:i.view,config:i.config,eventDispatcher:i.eventDispatcher,transformer:i.contentTransformer}),i.broadcastDisabled(!!i.props.editorProps.disabled),i.forceUpdate()):i.view&&!e&&(i.props.onEditorDestroyed({view:i.view,config:i.config,eventDispatcher:i.eventDispatcher,transformer:i.contentTransformer}),i.view.destroy(),i.view=void 0)},i.dispatchAnalyticsEvent=function(e){i.props.allowAnalyticsGASV3&&i.eventDispatcher&&Io(i.eventDispatcher)(To.a,{payload:e})},i.eventDispatcher=new _o,i.dispatch=Io(i.eventDispatcher),i.errorReporter=(n=t.editorProps.errorReporterHandler,o=new ob.a,n&&(o.handler=n),o),i.editorState=i.createEditorState({props:t,replaceDoc:!0});var a,s=t.createAnalyticsEvent;return t.allowAnalyticsGASV3&&i.activateAnalytics(s),a=t.editorProps.analyticsHandler,Fo.a.handler=a||function(){},Fo.a.trackEvent("atlassian.editor.start",{name:wo.a,version:wo.b}),i.dispatchAnalyticsEvent({action:Mo.a.STARTED,actionSubject:Mo.b.EDITOR,attributes:{platform:UE.WEB},eventType:Mo.d.UI}),i}return r.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){this.view&&this.props.editorProps.disabled!==e.editorProps.disabled&&(this.broadcastDisabled(!!e.editorProps.disabled),this.view.setProps({editable:function(t){return!e.editorProps.disabled}})),this.props.allowAnalyticsGASV3!==e.allowAnalyticsGASV3?e.allowAnalyticsGASV3?this.activateAnalytics(e.createAnalyticsEvent):this.deactivateAnalytics():this.props.allowAnalyticsGASV3&&e.createAnalyticsEvent!==this.props.createAnalyticsEvent&&(this.deactivateAnalytics(),this.activateAnalytics(e.createAnalyticsEvent));var t=this.props.editorProps.appearance,n=e.editorProps.appearance;n!==t&&(this.reconfigureState(e),"full-width"!==n&&"full-width"!==t||this.dispatchAnalyticsEvent({action:Mo.a.CHANGED_FULL_WIDTH_MODE,actionSubject:Mo.b.EDITOR,eventType:Mo.d.TRACK,attributes:{previousMode:this.formatFullWidthAppearance(t),newMode:this.formatFullWidthAppearance(n)}}))},t.prototype.deactivateAnalytics=function(){this.analyticsEventHandler&&this.eventDispatcher.off(To.a,this.analyticsEventHandler)},t.prototype.activateAnalytics=function(e){e&&(this.analyticsEventHandler=Object(ll.b)(e),this.eventDispatcher.on(To.a,this.analyticsEventHandler))},t.prototype.componentWillUnmount=function(){if(this.eventDispatcher.destroy(),this.view){var e=this.view.state;e.plugins.forEach(function(t){var n=t.getState(e);n&&n.destroy&&n.destroy()})}},t.prototype.getPlugins=function(e,t){return QE(e,t)},t.prototype.render=function(){var e=j.createElement("div",{className:ux(),key:"ProseMirror",ref:this.handleEditorViewRef});return this.props.render?this.props.render({editor:e,view:this.view,config:this.config,eventDispatcher:this.eventDispatcher,transformer:this.contentTransformer,dispatchAnalyticsEvent:this.dispatchAnalyticsEvent}):e},t.contextTypes={getAtlaskitAnalyticsEventHandlers:_.func,intl:hr.g},t}(j.Component);function ux(){return Ml.a.chrome?"ua-chrome":Ml.a.ie?"ua-ie":Ml.a.gecko?"ua-firefox":""}var dx,px,fx,hx,mx,gx=function(e){function t(t){var n=e.call(this,t)||this;return n.editorActions=t.editorActions||new Tl,n}return r.__extends(t,e),t.prototype.getChildContext=function(){return{editorActions:this.editorActions}},t.prototype.render=function(){return j.Children.only(this.props.children)},t.childContextTypes={editorActions:_.object},t}(j.Component),vx=Object(hE.a)()(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this.props;return(0,e.render)(e.createAnalyticsEvent)},t}(j.Component)),bx=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.portals=new Map,t.setContext=function(e){t.context=e},t}return r.__extends(t,e),t.prototype.render=function(e,t,n){void 0===n&&(n=!1),this.portals.set(t,{children:e,hasReactContext:n}),Object(lr.unstable_renderSubtreeIntoContainer)(this.context,e(),t)},t.prototype.forceUpdate=function(){var e=this;this.portals.forEach(function(t,n){t.hasReactContext&&Object(lr.unstable_renderSubtreeIntoContainer)(e.context,t.children(),n)})},t.prototype.remove=function(e){this.portals.delete(e),Object(lr.unmountComponentAtNode)(e)},t}(_o),yx=function(e){function t(t){var n=e.call(this,t)||this;return n.portalProviderAPI=new bx,n}return r.__extends(t,e),t.prototype.render=function(){return this.props.render(this.portalProviderAPI)},t.prototype.componentDidUpdate=function(){this.portalProviderAPI.forceUpdate()},t}(j.Component),wx=function(e){function t(t){var n=e.call(this,t)||this;return n.handleUpdate=function(e){return n.setState({portals:e})},t.portalProviderAPI.setContext(n),t.portalProviderAPI.on("update",n.handleUpdate),n.state={portals:new Map},n}return r.__extends(t,e),t.prototype.render=function(){var e=this.state.portals;return j.createElement(j.Fragment,null,Array.from(e.entries()).map(function(e){var t=r.__read(e,2),n=t[0],o=t[1];return Object(lr.createPortal)(o,n)}))},t}(j.Component),Ox=function(e){switch(e){case"full-page":return Hr.a.FIXED_WIDTH;case"full-width":return Hr.a.FULL_WIDTH;case"comment":return Hr.a.COMMENT;case"chromeless":return Hr.a.CHROMELESS;case"mobile":return Hr.a.MOBILE}},Ex=function(e){var t;return(t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.contextState={},e}return r.__extends(n,t),n.prototype.getChildContext=function(){return{contextAdapter:this.zipProvidersWithValues()}},n.prototype.zipProvidersWithValues=function(){var t=this;return Object.keys(e).reduce(function(n,r){return n[r]={Provider:e[r].Provider,Consumer:e[r].Consumer,value:t.contextState[r]},n},{})},n.prototype.render=function(){var t=this,n=this.props.children,r=Object.keys(e).map(function(n,r){var o=e[n].Consumer;return j.createElement(o,{key:r},function(e){return t.contextState[n]!==e&&(t.contextState[n]=e,t.forceUpdate()),null})});return j.createElement(j.Fragment,null,r,n)},n}(j.Component)).childContextTypes={contextAdapter:_.object},t}({card:Go.b}),xx=function(e){function t(t,n){var r=e.call(this,t)||this;return r.handleSave=function(e){if(r.props.onSave)return e.inDOMChange&&e.inDOMChange.finish(!0),r.props.onSave(e)},r.providerFactory=new Uo.a,r.deprecationWarnings(t),r.onEditorCreated=r.onEditorCreated.bind(r),r.onEditorDestroyed=r.onEditorDestroyed.bind(r),r.editorActions=(n||{}).editorActions||new Tl,r}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.handleProviders(this.props)},t.prototype.componentWillReceiveProps=function(e){this.handleProviders(e)},t.prototype.componentWillUnmount=function(){this.unregisterEditorFromActions(),this.providerFactory.destroy()},t.prototype.onEditorCreated=function(e){this.registerEditorForActions(e.view,e.eventDispatcher,e.transformer),this.props.shouldFocus&&(e.view.hasFocus()||window.setTimeout(function(){e.view.focus()},0))},t.prototype.deprecationWarnings=function(e){var t=[Number(wo.b.split(".")[0])+1,0,0].join("."),n={mediaProvider:{message:"To pass media provider use media property  <Editor media={{ provider }} />",type:"removed"},allowTasksAndDecisions:{message:"To allow tasks and decisions use taskDecisionProvider  <Editor taskDecisionProvider={{ provider }} />",type:"removed"},allowPlaceholderCursor:{type:"removed"},allowInlineAction:{type:"removed"},allowConfluenceInlineComment:{type:"removed"},addonToolbarComponents:{type:"removed"},cardProvider:{type:"removed"},allowCodeBlocks:{message:'To disable codeBlocks use - <Editor allowBlockTypes={{ exclude: ["codeBlocks"] }} />'},allowLists:{},allowHelpDialog:{},allowGapCursor:{type:"removed"},allowUnsupportedContent:{message:"Deprecated. Defaults to true.",type:"removed"}};Object.keys(n).forEach(function(r){if(e.hasOwnProperty(r)){var o=n[r],i=o.type||"enabled by default";console.warn(r+" property is deprecated. "+(o.message||"")+" [Will be "+i+" in editor-core@"+t+"]")}}),e.hasOwnProperty("quickInsert")&&"boolean"==typeof e.quickInsert&&console.warn("quickInsert property is deprecated. [Will be enabled by default in editor-core@"+t+"]"),!e.hasOwnProperty("allowTables")||"boolean"==typeof e.allowTables||e.allowTables&&e.allowTables.advanced||console.warn("Advanced table options are deprecated (except isHeaderRowRequired) to continue using advanced table features use - <Editor allowTables={{ advanced: true }} /> [Will be changed in editor-core@"+t+"]")},t.prototype.onEditorDestroyed=function(e){this.unregisterEditorFromActions()},t.prototype.registerEditorForActions=function(e,t,n){this.editorActions._privateRegisterEditor(e,t,n)},t.prototype.unregisterEditorFromActions=function(){this.editorActions&&this.editorActions._privateUnregisterEditor()},t.prototype.handleProviders=function(e){var t=e.emojiProvider,n=e.mentionProvider,r=e.mediaProvider,o=e.taskDecisionProvider,i=e.contextIdentifierProvider,a=e.collabEditProvider,s=e.activityProvider,c=e.presenceProvider,l=e.macroProvider,u=e.legacyImageUploadProvider,d=e.media,p=e.collabEdit,f=e.quickInsert,h=e.autoformattingProvider,m=e.UNSAFE_cards;this.providerFactory.setProvider("emojiProvider",t),this.providerFactory.setProvider("mentionProvider",n),this.providerFactory.setProvider("taskDecisionProvider",o),this.providerFactory.setProvider("contextIdentifierProvider",i),this.providerFactory.setProvider("mediaProvider",d&&d.provider?d.provider:r),this.providerFactory.setProvider("imageUploadProvider",u),this.providerFactory.setProvider("collabEditProvider",p&&p.provider?p.provider:a),this.providerFactory.setProvider("activityProvider",s),this.providerFactory.setProvider("presenceProvider",c),this.providerFactory.setProvider("macroProvider",l),m&&m.provider&&this.providerFactory.setProvider("cardProvider",m.provider),this.providerFactory.setProvider("autoformattingProvider",h),f&&"boolean"!=typeof f&&this.providerFactory.setProvider("quickInsertProvider",f.provider)},t.prototype.render=function(){var e=this,t=function(e){switch(e=e||"comment"){case"full-page":case"full-width":return js;case"chromeless":return qs;case"comment":return Zs;case"mobile":return El;default:throw new Error("Appearance '"+e+"' is not supported by the editor.")}}(this.props.appearance),n=r.__assign({},this.props,{onSave:this.props.onSave?this.handleSave:void 0}),o=j.createElement(Ho.c,null,j.createElement(gx,{editorActions:this.editorActions},j.createElement(Hr.d,{data:{appearance:Ox(this.props.appearance)}},j.createElement(vx,{render:function(r){return j.createElement(Ex,null,j.createElement(yx,{render:function(o){return j.createElement(j.Fragment,null,j.createElement(lx,{editorProps:n,createAnalyticsEvent:r,portalProviderAPI:o,providerFactory:e.providerFactory,onEditorCreated:e.onEditorCreated,onEditorDestroyed:e.onEditorDestroyed,allowAnalyticsGASV3:e.props.allowAnalyticsGASV3,disabled:e.props.disabled,render:function(n){var r=n.editor,o=n.view,i=n.eventDispatcher,a=n.config,s=n.dispatchAnalyticsEvent;return j.createElement(Vo.a,{dynamicTextSizing:e.props.allowDynamicTextSizing&&"full-width"!==e.props.appearance},j.createElement(t,{appearance:e.props.appearance,disabled:e.props.disabled,editorActions:e.editorActions,editorDOMElement:r,editorView:o,providerFactory:e.providerFactory,eventDispatcher:i,dispatchAnalyticsEvent:s,maxHeight:e.props.maxHeight,onSave:e.props.onSave?e.handleSave:void 0,onCancel:e.props.onCancel,popupsMountPoint:e.props.popupsMountPoint,popupsBoundariesElement:e.props.popupsBoundariesElement,contentComponents:a.contentComponents,primaryToolbarComponents:a.primaryToolbarComponents,secondaryToolbarComponents:a.secondaryToolbarComponents,insertMenuItems:e.props.insertMenuItems,customContentComponents:e.props.contentComponents,customPrimaryToolbarComponents:e.props.primaryToolbarComponents,customSecondaryToolbarComponents:e.props.secondaryToolbarComponents,addonToolbarComponents:e.props.addonToolbarComponents,collabEdit:e.props.collabEdit}))}}),j.createElement(wx,{portalProviderAPI:o}))}}))}}))));return this.context.intl?o:j.createElement(hr.c,{locale:"en"},o)},t.defaultProps={appearance:"comment",disabled:!1,extensionHandlers:{}},t.contextTypes={editorActions:_.object,intl:hr.g},t}(j.Component),kx=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onContextUpdate=function(){t.forceUpdate()},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.context.editorActions._privateSubscribe(this.onContextUpdate)},t.prototype.componentWillUnmount=function(){this.context.editorActions._privateUnsubscribe(this.onContextUpdate)},t.prototype.render=function(){return this.props.render(this.context.editorActions)},t.contextTypes={editorActions:_.object.isRequired},t}(j.Component),Cx=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSave=function(e){return function(){t.props.onSave(e)}},t.handleCancel=function(e){return function(){t.props.onCancel(e)}},t.handleChange=function(e){return function(){t.props.onChange(e)}},t}return r.__extends(t,e),t.prototype.render=function(){var e=this;if(this.context.editorActions){var t=this.context.editorActions;return j.createElement(xx,r.__assign({},this.props,{onSave:this.props.onSave?this.handleSave(t):void 0,onChange:this.props.onChange?this.handleChange(t):void 0,onCancel:this.props.onCancel?this.handleCancel(t):void 0}))}return j.createElement(gx,null,j.createElement(kx,{render:function(t){return j.createElement(xx,r.__assign({},e.props,{onSave:e.props.onSave?e.handleSave(t):void 0,onChange:e.props.onChange?e.handleChange(t):void 0,onCancel:e.props.onCancel?e.handleCancel(t):void 0}))}}))},t.contextTypes={editorActions:_.object.isRequired},t}(j.Component),Sx=mt.default.input(dx||(dx=r.__makeTemplateObject(["\n  /* Normal .className gets overridden by input[type=text] hence this hack to produce input.className */\n  input& {\n    background-color: white;\n    border: 1px solid ",";\n    border-radius: ","px;\n    box-sizing: border-box;\n    height: 40px;\n    padding-left: 20px;\n    padding-top: 12px;\n    padding-bottom: 12px;\n    font-size: 14px;\n    width: 100%;\n    font-weight: 400;\n    line-height: 1.42857142857143;\n    letter-spacing: -0.005em;\n    color: ",";\n\n    &:hover {\n      border-color: ",";\n      cursor: text;\n    }\n  }\n"],["\n  /* Normal .className gets overridden by input[type=text] hence this hack to produce input.className */\n  input& {\n    background-color: white;\n    border: 1px solid ",";\n    border-radius: ","px;\n    box-sizing: border-box;\n    height: 40px;\n    padding-left: 20px;\n    padding-top: 12px;\n    padding-bottom: 12px;\n    font-size: 14px;\n    width: 100%;\n    font-weight: 400;\n    line-height: 1.42857142857143;\n    letter-spacing: -0.005em;\n    color: ",";\n\n    &:hover {\n      border-color: ",";\n      cursor: text;\n    }\n  }\n"])),La,Object(Ct.f)(),gt.colors.N300,gt.colors.N50),jx=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.focusHandler=function(e){t.input&&t.input.blur(),t.props.onFocus&&t.props.onFocus(e)},t.handleInputRef=function(e){t.input=e},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props.text||"Type something";return j.createElement(Sx,{innerRef:this.handleInputRef,onFocus:this.focusHandler,placeholder:e})},t}(j.PureComponent),Tx=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleEditorRef=function(e,n){n&&"function"==typeof n&&n(e),t.editorComponent=e},t}return r.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){!this.props.isExpanded&&e.isExpanded&&(this.shouldTriggerExpandEvent=!0)},t.prototype.componentDidUpdate=function(){this.shouldTriggerExpandEvent&&this.editorComponent&&(this.shouldTriggerExpandEvent=!1,this.props.onExpand&&this.props.onExpand())},t.prototype.render=function(){var e=this,t=j.Children.only(this.props.children);if(t.type!==xx&&t.type!==Cx)throw new Error("Expected child to be of type `Editor`");return this.props.isExpanded?j.cloneElement(t,{ref:function(n){return e.handleEditorRef(n,t.ref)}}):j.createElement(jx,{onFocus:this.props.onFocus,text:this.props.placeholder})},t}(j.Component),Mx=mt.default.div(px||(px=r.__makeTemplateObject(["\n  /* -ms- properties are necessary until MS supports the latest version of the grid spec */\n  /* stylelint-disable value-no-vendor-prefix, declaration-block-no-duplicate-properties */\n  display: -ms-grid;\n  display: grid;\n  -ms-grid-columns: auto 1fr;\n  /* stylelint-enable */\n  grid-template:\n    'avatar-area editor-area'\n    / auto 1fr;\n  padding-top: 16px;\n  position: relative;\n\n  &:first-child,\n  &:first-of-type {\n    padding-top: 0;\n  }\n"],["\n  /* -ms- properties are necessary until MS supports the latest version of the grid spec */\n  /* stylelint-disable value-no-vendor-prefix, declaration-block-no-duplicate-properties */\n  display: -ms-grid;\n  display: grid;\n  -ms-grid-columns: auto 1fr;\n  /* stylelint-enable */\n  grid-template:\n    'avatar-area editor-area'\n    / auto 1fr;\n  padding-top: 16px;\n  position: relative;\n\n  &:first-child,\n  &:first-of-type {\n    padding-top: 0;\n  }\n"]))),_x=mt.default.div(fx||(fx=r.__makeTemplateObject(["\n  /* stylelint-disable value-no-vendor-prefix */\n  -ms-grid-row: 1;\n  -ms-grid-column: 1;\n  /* stylelint-enable */\n  grid-area: avatar-area;\n  margin-right: 8px;\n"],["\n  /* stylelint-disable value-no-vendor-prefix */\n  -ms-grid-row: 1;\n  -ms-grid-column: 1;\n  /* stylelint-enable */\n  grid-area: avatar-area;\n  margin-right: 8px;\n"]))),Ix=mt.default.div(hx||(hx=r.__makeTemplateObject(["\n  /* stylelint-disable value-no-vendor-prefix */\n  -ms-grid-row: 1;\n  -ms-grid-column: 2;\n  /* stylelint-enable */\n  grid-area: editor-area;\n  /* min-width: 0; behavior is described here https://stackoverflow.com/a/43312314 */\n  min-width: 0;\n"],["\n  /* stylelint-disable value-no-vendor-prefix */\n  -ms-grid-row: 1;\n  -ms-grid-column: 2;\n  /* stylelint-enable */\n  grid-area: editor-area;\n  /* min-width: 0; behavior is described here https://stackoverflow.com/a/43312314 */\n  min-width: 0;\n"]))),Px=function(e){function t(t){var n=e.call(this,t)||this;return n.onFocus=function(){return n.setState(function(e){return{isExpanded:!e.isExpanded}})},n.onCancel=function(){n.props.onCancel&&n.props.onCancel(),n.setState({isExpanded:!1,isEditing:!1})},n.onSave=function(e){return r.__awaiter(n,void 0,void 0,function(){var t;return r.__generator(this,function(n){switch(n.label){case 0:return this.props.onSave?[4,e.getValue()]:[3,2];case 1:if(!(t=n.sent())||!t.content.some(function(e){return e.content&&e.content.length}))return this.onCancel(),[2];this.props.onSave(t),e.clear(),n.label=2;case 2:return this.setState({isExpanded:!1,isEditing:!1}),[2]}})})},n.onChange=function(e){return r.__awaiter(n,void 0,void 0,function(){var t;return r.__generator(this,function(n){switch(n.label){case 0:return this.props.onChange?[4,e.getValue()]:[3,2];case 1:t=n.sent(),this.props.onChange(t),n.label=2;case 2:return[2]}})})},n.renderEditor=function(e){var t=n.props,o=t.dataProviders,i=t.renderEditor,a=t.defaultValue,s=t.placeholder,c=t.allowFeedbackAndHelpButtons,l={};o&&o.providers.forEach(function(e,t){l[t]=e});var u=r.__assign({appearance:"comment",shouldFocus:!0,allowCodeBlocks:!0,allowLists:!0,onSave:function(){return n.onSave(e)},onCancel:n.onCancel,onChange:ho()(function(){return n.onChange(e)},250),defaultValue:a,allowHelpDialog:c,primaryToolbarComponents:c?[j.createElement(Do,{key:"feedback",packageName:wo.a,packageVersion:wo.b}),j.createElement(Wo,{key:"help"})]:void 0},l);return j.createElement("div",null,j.createElement(Tx,{placeholder:s,isExpanded:n.state.isExpanded,onFocus:n.onFocus},i?i(xx,u):j.createElement(xx,r.__assign({},u))))},n.state={isExpanded:t.isExpanded,isEditing:t.isEditing},n}return r.__extends(t,e),t.prototype.UNSAFE_componentWillUpdate=function(e,t){t.isExpanded&&!this.state.isExpanded&&this.props.onOpen?this.props.onOpen():!t.isExpanded&&this.state.isExpanded&&this.props.onClose&&this.props.onClose()},t.prototype.componentDidMount=function(){this.state.isExpanded&&this.props.onOpen&&this.props.onOpen()},t.prototype.componentWillUnmount=function(){this.props.onClose&&this.props.onClose()},t.prototype.renderAvatar=function(){var e=this.state.isEditing,t=this.props.user;return e?null:j.createElement(_x,null,j.createElement(Te.a,{src:t&&t.avatarUrl}))},t.prototype.render=function(){var e=this;return j.createElement(gx,null,j.createElement(Mx,null,this.renderAvatar(),j.createElement(Ix,null,j.createElement(kx,{render:function(t){return e.renderEditor(t)}}))))},t}(j.Component),Ax=function(e){return e.isAuthor?j.createElement("em",null,"Comment deleted by the author"):j.createElement("em",null,"Comment deleted by admin")},Nx=function(e,t){return e.state!==t.state||e.deleted!==t.deleted},Rx=mt.default.div(mx||(mx=r.__makeTemplateObject(["\n  height: 20px;\n  & > div {\n    height: 20px;\n  }\n"],["\n  height: 20px;\n  & > div {\n    height: 20px;\n  }\n"]))),Dx=function(e){function t(t){var n=e.call(this,t)||this;return n.dispatch=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var o=n.props[e];o&&(o.apply(o,t),n.setState({lastDispatch:{handler:e,args:t}}))},n.onReply=function(e,t){var r=n.props,o=r.objectId,i=r.containerId;io(t,{actionSubjectId:Kr.replyButton,objectId:o,containerId:i}),n.setState({isReplying:!0})},n.onSaveReply=function(e){return r.__awaiter(n,void 0,void 0,function(){var t,n,o,i;return r.__generator(this,function(r){return t=this.props,n=t.conversationId,o=t.comment,(i=t.sendAnalyticsEvent)({actionSubjectId:Kr.saveButton}),this.dispatch("onAddComment",n,o.commentId,e,void 0,function(e){i({actionSubjectId:e,action:Gr.created,eventType:$r.TRACK,actionSubject:"comment",attributes:{nestedDepth:(o.nestedDepth||0)+1}})}),this.setState({isReplying:!1}),[2]})})},n.onCancelReply=function(){n.props.sendAnalyticsEvent({actionSubjectId:Kr.cancelButton}),n.setState({isReplying:!1})},n.onDelete=function(e,t){var r=n.props,o=r.comment,i=o.nestedDepth,a=o.commentId,s=r.objectId,c=r.containerId,l=r.conversationId,u=r.sendAnalyticsEvent;io(t,{actionSubjectId:Kr.deleteButton,objectId:s,containerId:c}),n.dispatch("onDeleteComment",l,a,function(e){u({actionSubjectId:e,action:Gr.deleted,eventType:$r.TRACK,actionSubject:"comment",attributes:{nestedDepth:i||0}})})},n.onEdit=function(e,t){var r=n.props,o=r.objectId,i=r.containerId;io(t,{actionSubjectId:Kr.editButton,objectId:o,containerId:i}),n.setState({isEditing:!0})},n.handleCommentEditorChange=function(e){var t=n.props.comment;n.dispatch("onEditorChange",e,t.commentId)},n.onSaveEdit=function(e){return r.__awaiter(n,void 0,void 0,function(){var t,n,o,i;return r.__generator(this,function(r){return t=this.props,n=t.conversationId,o=t.comment,(i=t.sendAnalyticsEvent)({actionSubjectId:Kr.saveButton}),this.dispatch("onUpdateComment",n,o.commentId,e,function(e){i({actionSubjectId:e,action:Gr.updated,eventType:$r.TRACK,actionSubject:"comment",attributes:{nestedDepth:o.nestedDepth||0}})}),this.setState({isEditing:!1}),[2]})})},n.onCancelEdit=function(){n.props.sendAnalyticsEvent({actionSubjectId:Kr.cancelButton}),n.setState({isEditing:!1})},n.onRequestCancel=function(e,t){var r=n.props,o=r.comment,i=r.onCancel,a=r.objectId,s=r.containerId;i&&i(),io(t,{actionSubjectId:Kr.cancelFailedRequestButton,objectId:a,containerId:s}),n.dispatch("onRevertComment",o.conversationId,o.commentId)},n.onRequestRetry=function(e,t){var o=n.state.lastDispatch,i=n.props,a=i.objectId,s=i.containerId,c=i.onRetry,l=i.comment,u=l.localId,d=l.isPlaceholder;if(c&&d)return c(u);io(t,{actionSubjectId:Kr.retryFailedRequestButton,objectId:a,containerId:s}),o&&n.dispatch.apply(n,r.__spread([o.handler],o.args))},n.handleUserClick=function(e){return function(){var t=n.props.onUserClick;t&&"function"==typeof t&&t(e)}},n.handleTimeClick=function(e){var t=n.props,r=t.comment,o=t.onHighlightComment;!t.disableScrollTo&&r&&o&&o(e,r.commentId)},n.state={isEditing:!1},n}return r.__extends(t,e),t.prototype.shouldComponentUpdate=function(e,t){var n,o,i=this.state,a=i.isEditing,s=i.isReplying,c=this.props,l=c.isHighlighted,u=c.portal;if(t.isEditing!==a||t.isReplying!==s||e.isHighlighted!==l||e.portal!==u)return!0;if(Nx(this.props.comment,e.comment))return!0;if(n=this.props.user,o=e.user,void 0===n&&(n={id:""}),void 0===o&&(o={id:""}),n.id!==o.id)return!0;var d=this.props.comments,p=void 0===d?[]:d,f=e.comments,h=void 0===f?[]:f;return p.length!==h.length||!!h.some(function(e){var t=r.__read(p.filter(function(t){return t.commentId===e.commentId||t.localId===e.localId}),1)[0];return Nx(t,e)})},t.prototype.getContent=function(){var e=this.props,t=e.comment,n=e.dataProviders,r=e.user,o=e.renderEditor,i=e.disableScrollTo,a=e.allowFeedbackAndHelpButtons,s=e.onEditorClose,c=e.onEditorOpen,l=e.portal,u=this.state.isEditing,d=t.createdBy,p=r&&d&&r.id===d.id;return t.deleted?j.createElement(Ax,{isAuthor:p}):u?j.createElement(Px,{defaultValue:t.document.adf,isExpanded:!0,isEditing:u,onSave:this.onSaveEdit,onCancel:this.onCancelEdit,onClose:s,onOpen:c,onChange:this.handleCommentEditorChange,dataProviders:n,user:r,renderEditor:o,disableScrollTo:i,allowFeedbackAndHelpButtons:a}):j.createElement(to.a,{document:t.document.adf,dataProviders:n,disableHeadingIDs:!0,portal:l})},t.prototype.renderComments=function(){var e=this.props,n=(e.comment,e.comments),o=r.__rest(e,["comment","comments"]);return n&&0!==n.length?n.map(function(e){return j.createElement(je,r.__assign({key:e.localId,comment:e,renderComment:function(e){return j.createElement(t,r.__assign({},e))}},o))}):null},t.prototype.renderEditor=function(){if(!this.state.isReplying)return null;var e=this.props,t=e.dataProviders,n=e.user,r=e.renderEditor,o=e.disableScrollTo,i=e.allowFeedbackAndHelpButtons,a=e.onEditorClose,s=e.onEditorOpen;return j.createElement(Px,{isExpanded:!0,onCancel:this.onCancelReply,onSave:this.onSaveReply,dataProviders:t,onOpen:s,onClose:a,onChange:this.handleCommentEditorChange,user:n,renderEditor:r,disableScrollTo:o,allowFeedbackAndHelpButtons:i})},t.prototype.getActions=function(){var e=this.props,t=e.comment,n=e.user,o=e.dataProviders,i=e.objectId,a=e.canModerateComment,s=this.state.isEditing;if(!!n&&!s&&!t.deleted){var c=t.createdBy,l=t.commentAri,u=[j.createElement(ht,{key:"reply",onClick:this.onReply},"Reply")],d=j.createElement(ht,{key:"edit",onClick:this.onEdit},"Edit"),p=j.createElement(ht,{key:"delete",onClick:this.onDelete},"Delete");return c&&n&&n.id===c.id?u=r.__spread(u,[d,p]):n&&a&&(u=r.__spread(u,[p])),i&&l&&o&&o.hasProvider("reactionsStore")&&o.hasProvider("emojiProvider")&&(u=r.__spread(u,[j.createElement(an.a,{key:"reactions",providers:["emojiProvider","reactionsStore"],providerFactory:o,renderNode:function(e){var t=e.emojiProvider,n=e.reactionsStore;return j.createElement(Rx,null,j.createElement(Vr,{store:n,containerAri:i,ari:l,emojiProvider:t}))}})])),u}},t.prototype.renderAuthor=function(){var e=this.props,t=e.comment,n=e.onUserClick,r=t.createdBy;return j.createElement(kt,{onClick:n&&this.handleUserClick(r),href:n?"#":r.profileUrl},r&&r.name)},t.prototype.render=function(){var e=this.props,t=e.comment,n=e.isHighlighted,o=e.disableScrollTo,i=t.createdBy,a=t.state,s=t.error,c={};s&&(c.actions=[],s.canRetry&&(c.actions=[j.createElement(ht,{key:"retry",onClick:this.onRequestRetry},"Retry")]),c.actions=r.__spread(c.actions,[j.createElement(ht,{key:"cancel",onClick:this.onRequestCancel},"Cancel")]),c.message=s.message);var l=this.renderComments(),u=this.renderEditor(),d=o?void 0:"comment-"+t.commentId;return j.createElement(tn,{id:d,author:this.renderAuthor(),avatar:j.createElement(Te.a,{src:i&&i.avatarUrl,href:i&&i.profileUrl,name:i&&i.name,enableTooltip:!0}),type:i&&i.type,time:j.createElement(on,{onClick:this.handleTimeClick,href:o?void 0:"#"+d},ro()(new Date(t.createdAt),{addSuffix:!0})),actions:this.getActions(),content:this.getContent(),isSaving:"SAVING"===a,isError:"ERROR"===a,errorActions:c.actions,errorIconLabel:c.message,highlighted:n},u||l?j.createElement("div",null,l,u):null)},t}(j.Component);function Lx(e){var t="You have an unsaved comment. Are you sure you want to leave without saving?";return e.returnValue=t,t}var zx=function(e){function t(t){var n=e.call(this,t)||this;return n.sendEditorAnalyticsEvent=function(e){var t=n.props,o=t.createAnalyticsEvent,i=t.objectId,a=t.containerId;io(o({actionSubject:"editor",action:"clicked"}),r.__assign({objectId:i,containerId:a},e))},n.onCancel=function(){n.sendEditorAnalyticsEvent({actionSubjectId:Kr.cancelButton}),n.props.onCancel&&n.props.onCancel()},n.onRetry=function(e){return function(t){n.sendEditorAnalyticsEvent({actionSubjectId:Kr.retryFailedRequestButton}),n.onSave(e,t,!0)}},n.onSave=function(e,t,o){return r.__awaiter(n,void 0,void 0,function(){var n,i,a,s,c,l,u,d,p,f,h=this;return r.__generator(this,function(r){return n=this.props,i=n.objectId,a=n.containerId,s=n.id,c=n.localId,l=n.meta,u=n.onAddComment,d=n.onCreateConversation,p=n.conversation,o||this.sendEditorAnalyticsEvent({actionSubjectId:Kr.saveButton}),s||t||!d?u&&(f=s||p.conversationId,u(f,f,e,t,function(e){h.sendEditorAnalyticsEvent({actionSubjectId:e,eventType:$r.TRACK,attributes:{nestedDepth:0},action:Gr.created,actionSubject:"comment"})})):d(c,e,l,i,a,function(e){h.sendEditorAnalyticsEvent({actionSubjectId:e,eventType:$r.TRACK,attributes:{nestedDepth:0},action:Gr.created,actionSubject:"comment"})}),[2]})})},n.onEditorClose=function(){n.state.openEditorCount>0&&n.setState({openEditorCount:n.state.openEditorCount-1}),"function"==typeof n.props.onEditorClose&&n.props.onEditorClose()},n.onEditorOpen=function(){n.sendEditorAnalyticsEvent({actionSubjectId:Kr.createCommentInput}),n.setState({openEditorCount:n.state.openEditorCount+1}),"function"==typeof n.props.onEditorOpen&&n.props.onEditorOpen()},n.onHighlightComment=function(e,t){"function"==typeof n.props.onHighlightComment&&(n.props.onHighlightComment(e,t),"function"==typeof n.props.onCommentPermalinkClick&&n.props.onCommentPermalinkClick(e,t))},n.handleEditorChange=function(e,t){var r=n.props,o=r.id,i=r.localId,a=r.onEditorChange,s=r.meta,c=r.objectId,l=r.containerId;a&&a(!o,e,i,t,s,c,l)},n.state={openEditorCount:0},n}return r.__extends(t,e),t.prototype.renderComments=function(){var e=this,t=this.props,n=t.comments,o=t.conversation,i=t.onAddComment,a=t.onUpdateComment,s=t.onDeleteComment,c=t.onRevertComment,l=t.onUserClick,u=t.onCancel,d=t.user,p=t.dataProviders,f=t.renderEditor,h=t.objectId,m=t.containerId,g=t.placeholder,v=t.disableScrollTo,b=t.allowFeedbackAndHelpButtons,y=t.portal,w=t.canModerateComments;if(o){var O=o.conversationId;return(n||[]).map(function(t){return j.createElement(je,{key:t.commentId,conversationId:O,comment:t,user:d,onAddComment:i,onUpdateComment:a,onDeleteComment:s,onRevertComment:c,onEditorOpen:e.onEditorOpen,onEditorClose:e.onEditorClose,onEditorChange:e.handleEditorChange,onHighlightComment:e.onHighlightComment,onRetry:e.onRetry(t.document),onCancel:u,onUserClick:l,dataProviders:p,renderComment:function(e){return j.createElement(Dx,r.__assign({},e,{canModerateComment:w}))},renderEditor:f,objectId:h,containerId:m,placeholder:g,disableScrollTo:v,sendAnalyticsEvent:e.sendEditorAnalyticsEvent,allowFeedbackAndHelpButtons:b,portal:y})})}},t.prototype.renderConversationsEditor=function(){var e=this.props,t=e.isExpanded,n=e.meta,r=e.dataProviders,o=e.user,i=e.conversation,a=e.renderEditor,s=e.placeholder,c=e.disableScrollTo,l=e.allowFeedbackAndHelpButtons;if(!!o&&(!!!n||t&&!!!i))return j.createElement(Px,{isExpanded:t,onSave:this.onSave,onCancel:this.onCancel,onOpen:this.onEditorOpen,onClose:this.onEditorClose,onChange:this.handleEditorChange,dataProviders:r,user:o,renderEditor:a,placeholder:s,disableScrollTo:c,allowFeedbackAndHelpButtons:l})},t.prototype.componentDidUpdate=function(){this.props.showBeforeUnloadWarning&&(0===this.state.openEditorCount?window.removeEventListener("beforeunload",Lx):1===this.state.openEditorCount&&window.addEventListener("beforeunload",Lx))},t.prototype.componentWillUnmount=function(){this.props.showBeforeUnloadWarning&&window.removeEventListener("beforeunload",Lx)},t.prototype.render=function(){return j.createElement(j.Fragment,null,this.renderComments(),this.renderConversationsEditor())},t.defaultProps={placeholder:"What do you want to say?",onEditorOpen:function(){},onEditorClose:function(){}},t}(j.PureComponent),Bx=function(){function e(t){var n=this;_e()(this,e),Qe()(this,"payload",void 0),Qe()(this,"clone",function(){return new e({payload:JSON.parse(JSON.stringify(n.payload))})}),this.payload=t.payload}return Pe()(e,[{key:"update",value:function(e){return"function"==typeof e?this.payload=e(this.payload):"object"===nt()(e)&&(this.payload=Ue()({},this.payload,e)),this}}]),e}(),Fx=console.warn,qx=function(e){function t(e){var n;return _e()(this,t),n=Ne()(this,De()(t).call(this,e)),Qe()(Je()(n),"context",void 0),Qe()(Je()(n),"handlers",void 0),Qe()(Je()(n),"hasFired",void 0),Qe()(Je()(n),"clone",function(){return n.hasFired?(Fx("Cannot clone an event after it's been fired."),null):new t({context:Ke()(n.context),handlers:Ke()(n.handlers),payload:JSON.parse(JSON.stringify(n.payload))})}),Qe()(Je()(n),"fire",function(e){n.hasFired?Fx("Cannot fire an event twice."):(n.handlers.forEach(function(t){t(Je()(n),e)}),n.hasFired=!0)}),n.context=e.context||[],n.handlers=e.handlers||[],n.hasFired=!1,n}return ze()(t,e),Pe()(t,[{key:"update",value:function(e){return this.hasFired?(Fx("Cannot update an event after it's been fired."),this):ot()(De()(t.prototype),"update",this).call(this,e)}}]),t}(Bx),Wx=function(e){function t(e){var n;return _e()(this,t),n=Ne()(this,De()(t).call(this,e)),Qe()(Je()(n),"originalEventProps",{}),Qe()(Je()(n),"patchedEventProps",{}),Qe()(Je()(n),"updatePatchedEventProps",function(e){var t=Object.keys(n.props.createEventMap).filter(function(t){return n.originalEventProps[t]!==e[t]});return t.length>0&&(n.patchedEventProps=Ue()({},n.patchedEventProps,n.mapCreateEventsToProps(t,e)),t.forEach(function(t){n.originalEventProps[t]=e[t]})),n.patchedEventProps}),Qe()(Je()(n),"mapCreateEventsToProps",function(e,t){return e.reduce(function(e,r){var o=n.props.createEventMap[r],i=t[r];if(!["object","function"].includes(nt()(o)))return e;return Ue()({},e,Qe()({},r,function(){var e="function"==typeof o?o(n.createAnalyticsEvent,t):n.createAnalyticsEvent(o);if(i){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];i.apply(void 0,a.concat([e]))}}))},{})}),Qe()(Je()(n),"createAnalyticsEvent",function(e){var t=n.context,r=t.getAtlaskitAnalyticsEventHandlers,o=t.getAtlaskitAnalyticsContext,i="function"==typeof o&&o()||[],a="function"==typeof r&&r()||[];return new qx({context:i,handlers:a,payload:e})}),Object.keys(n.props.createEventMap).forEach(function(t){n.originalEventProps[t]=e.wrappedComponentProps[t]}),n.patchedEventProps=n.mapCreateEventsToProps(Object.keys(n.props.createEventMap),e.wrappedComponentProps),n}return ze()(t,e),Pe()(t,[{key:"render",value:function(){var e=this.updatePatchedEventProps(this.props.wrappedComponentProps);return this.props.children({createAnalyticsEvent:this.createAnalyticsEvent,patchedEventProps:e})}}]),t}(j.Component);function Ux(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=T.a.forwardRef(function(n,r){return T.a.createElement(Wx,{createEventMap:e,wrappedComponentProps:n},function(e){var o=e.createAnalyticsEvent,i=e.patchedEventProps;return T.a.createElement(t,qe()({},n,i,{createAnalyticsEvent:o,ref:r}))})});return n.displayName="WithAnalyticsEvents(".concat(t.displayName||t.name,")"),n}}Qe()(Wx,"contextTypes",{getAtlaskitAnalyticsEventHandlers:I.a.func,getAtlaskitAnalyticsContext:I.a.func}),Qe()(Wx,"defaultProps",{createEventMap:{}});var Hx=Ux()(xe(function(e,t){var n=t.id,o=t.localId,i=t.objectId,a=t.containerId,s=ke(e,n||o),c=Ce(e,n||o),l=function(e){return e.user}(e);return r.__assign({},t,{conversation:s,comments:c,objectId:i,containerId:a,user:l})},function(e,t){var n=t.provider;return{onAddComment:function(t,o,i,a,s){e(function(e,t,n,o,i,a){return void 0===o&&(o=void 0),function(){return r.__awaiter(void 0,void 0,void 0,function(){var s;return r.__generator(this,function(r){switch(r.label){case 0:return[4,i.addComment(e,t,n,o)];case 1:return s=r.sent().commentId,"function"==typeof a&&a(s),[2]}})})}}(t,o,i,a,n,s))},onUpdateComment:function(t,o,i,a){e(function(e,t,n,o,i){return function(){return r.__awaiter(void 0,void 0,void 0,function(){return r.__generator(this,function(r){switch(r.label){case 0:return[4,o.updateComment(e,t,n)];case 1:return r.sent(),"function"==typeof i&&i(t),[2]}})})}}(t,o,i,n,a))},onDeleteComment:function(t,o,i){e(function(e,t,n,o){return function(){return r.__awaiter(void 0,void 0,void 0,function(){return r.__generator(this,function(r){switch(r.label){case 0:return[4,n.deleteComment(e,t)];case 1:return r.sent(),"function"==typeof o&&o(t),[2]}})})}}(t,o,n,i))},onRevertComment:function(t,o){e(function(e,t,n){return function(){return r.__awaiter(void 0,void 0,void 0,function(){return r.__generator(this,function(r){return n.revertComment(e,t),[2]})})}}(t,o,n))},onHighlightComment:function(t,n){e({type:"highlightComment",payload:{commentId:n}})},onUpdateUser:function(t){e(function(e,t){return function(){return r.__awaiter(void 0,void 0,void 0,function(){return r.__generator(this,function(n){return t.updateUser(e),[2]})})}}(t,n))},onCreateConversation:function(t,o,i,a,s,c){e(function(e,t,n,o,i,a,s){return function(){return r.__awaiter(void 0,void 0,void 0,function(){var c;return r.__generator(this,function(r){switch(r.label){case 0:return[4,o.create(e,t,n,i,a)];case 1:return c=r.sent().conversationId,"function"==typeof s&&s(c),[2]}})})}}(t,o,i,n,a,s,c))},onEditorChange:function(t,o,i,a,s,c,l){e(function(e,t,n,o,i,a,s,c){return function(){return r.__awaiter(void 0,void 0,void 0,function(){return r.__generator(this,function(r){return a.saveDraft(e,t,n,o,i,s,c),[2]})})}}(t,o,i,a,s,n,c,l))}}})(zx)),Vx=function(e){function t(t){var n=e.call(this,t)||this;return n.state={localId:t.id||x.generate()},n}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=this.state.localId,n=e.provider.store;return j.createElement(N,{store:n},j.createElement(Hx,r.__assign({},e,{localId:t})))},t}(j.Component);n.d(t,"f",function(){return S}),n.d(t,"h",function(){return"fetchConversationsSuccess"}),n.d(t,"a",function(){return"addCommentRequest"}),n.d(t,"b",function(){return"addCommentSuccess"}),n.d(t,"g",function(){return"deleteCommentSuccess"}),n.d(t,"i",function(){return"updateCommentRequest"}),n.d(t,"j",function(){return"updateCommentSuccess"}),n.d(t,"c",function(){return"createConversationRequest"}),n.d(t,"d",function(){return"createConversationSuccess"}),n.d(t,"e",function(){return Vx})},"2aFY":function(e,t,n){"use strict";var r=n("mrSG"),o=n("q1tI"),i=n.n(o),a=n("FbrI"),s=n("pVnL"),c=n.n(s),l=n("cDf5"),u=n.n(l),d=n("MVZn"),p=n.n(d),f=n("lwsE"),h=n.n(f),m=n("W8MJ"),g=n.n(m),v=n("a1gu"),b=n.n(v),y=n("Nsbk"),w=n.n(y),O=n("PJYZ"),E=n.n(O),x=n("7W2i"),k=n.n(x),C=n("lSNA"),S=n.n(C),j=n("17x9"),T=n.n(j),M=n("RIqP"),_=n.n(M),I=n("iWIM"),P=n.n(I),A=function(){function e(t){var n=this;h()(this,e),S()(this,"payload",void 0),S()(this,"clone",function(){return new e({payload:JSON.parse(JSON.stringify(n.payload))})}),this.payload=t.payload}return g()(e,[{key:"update",value:function(e){return"function"==typeof e?this.payload=e(this.payload):"object"===u()(e)&&(this.payload=p()({},this.payload,e)),this}}]),e}(),N=console.warn,R=function(e){function t(e){var n;return h()(this,t),n=b()(this,w()(t).call(this,e)),S()(E()(n),"context",void 0),S()(E()(n),"handlers",void 0),S()(E()(n),"hasFired",void 0),S()(E()(n),"clone",function(){return n.hasFired?(N("Cannot clone an event after it's been fired."),null):new t({context:_()(n.context),handlers:_()(n.handlers),payload:JSON.parse(JSON.stringify(n.payload))})}),S()(E()(n),"fire",function(e){n.hasFired?N("Cannot fire an event twice."):(n.handlers.forEach(function(t){t(E()(n),e)}),n.hasFired=!0)}),n.context=e.context||[],n.handlers=e.handlers||[],n.hasFired=!1,n}return k()(t,e),g()(t,[{key:"update",value:function(e){return this.hasFired?(N("Cannot update an event after it's been fired."),this):P()(w()(t.prototype),"update",this).call(this,e)}}]),t}(A),D=function(e){function t(e){var n;return h()(this,t),n=b()(this,w()(t).call(this,e)),S()(E()(n),"originalEventProps",{}),S()(E()(n),"patchedEventProps",{}),S()(E()(n),"updatePatchedEventProps",function(e){var t=Object.keys(n.props.createEventMap).filter(function(t){return n.originalEventProps[t]!==e[t]});return t.length>0&&(n.patchedEventProps=p()({},n.patchedEventProps,n.mapCreateEventsToProps(t,e)),t.forEach(function(t){n.originalEventProps[t]=e[t]})),n.patchedEventProps}),S()(E()(n),"mapCreateEventsToProps",function(e,t){return e.reduce(function(e,r){var o=n.props.createEventMap[r],i=t[r];if(!["object","function"].includes(u()(o)))return e;return p()({},e,S()({},r,function(){var e="function"==typeof o?o(n.createAnalyticsEvent,t):n.createAnalyticsEvent(o);if(i){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];i.apply(void 0,a.concat([e]))}}))},{})}),S()(E()(n),"createAnalyticsEvent",function(e){var t=n.context,r=t.getAtlaskitAnalyticsEventHandlers,o=t.getAtlaskitAnalyticsContext,i="function"==typeof o&&o()||[],a="function"==typeof r&&r()||[];return new R({context:i,handlers:a,payload:e})}),Object.keys(n.props.createEventMap).forEach(function(t){n.originalEventProps[t]=e.wrappedComponentProps[t]}),n.patchedEventProps=n.mapCreateEventsToProps(Object.keys(n.props.createEventMap),e.wrappedComponentProps),n}return k()(t,e),g()(t,[{key:"render",value:function(){var e=this.updatePatchedEventProps(this.props.wrappedComponentProps);return this.props.children({createAnalyticsEvent:this.createAnalyticsEvent,patchedEventProps:e})}}]),t}(o.Component);function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=i.a.forwardRef(function(n,r){return i.a.createElement(D,{createEventMap:e,wrappedComponentProps:n},function(e){var o=e.createAnalyticsEvent,a=e.patchedEventProps;return i.a.createElement(t,c()({},n,a,{createAnalyticsEvent:o,ref:r}))})});return n.displayName="WithAnalyticsEvents(".concat(t.displayName||t.name,")"),n}}S()(D,"contextTypes",{getAtlaskitAnalyticsEventHandlers:T.a.func,getAtlaskitAnalyticsContext:T.a.func}),S()(D,"defaultProps",{createEventMap:{}});var z=n("AgaO"),B=function(e){return function(t){var n=r.__assign({},t,{eventType:"ui"});n.attributes||(n.attributes={}),n.attributes.packageName=z.a,n.attributes.packageVersion=z.b,n.attributes.componentName="status";var o=e(n);return o.fire("fabric-elements"),o}},F=n("eQE/"),q={neutral:"default",purple:"new",blue:"inprogress",red:"removed",yellow:"moved",green:"success"},W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hoverStartTime=0,t.handleMouseEnter=function(e){t.hoverStartTime=Date.now()},t.handleMouseLeave=function(e){var n=t.props.onHover;Date.now()-t.hoverStartTime>=F.a&&n&&n(),t.hoverStartTime=0},t}return r.__extends(t,e),t.prototype.componentWillUnmount=function(){this.hoverStartTime=0},t.prototype.render=function(){var e=this.props,t=e.text,n=e.color,r=e.style,i=e.onClick;if(0===t.trim().length)return null;var s=q[n]||"default";return o.createElement("span",{className:"status-lozenge-span",onClick:i,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,"data-node-type":"status","data-color":n,"data-style":r},o.createElement(a.a,{appearance:s,maxWidth:200},t))},t}(o.PureComponent),U=L({onClick:function(e,t){var n=t.localId;return B(e)({action:"clicked",actionSubject:"statusLozenge",attributes:{localId:n}})},onHover:function(e,t){var n=t.localId;return B(e)({action:"hovered",actionSubject:"statusLozenge",attributes:{localId:n}})}})(W);n.d(t,"a",function(){return U})},"2eu7":function(e,t,n){"use strict";var r=n("/MKj"),o=n("a8hx"),i=n("pVnL"),a=n.n(i),s=n("lwsE"),c=n.n(s),l=n("W8MJ"),u=n.n(l),d=n("a1gu"),p=n.n(d),f=n("Nsbk"),h=n.n(f),m=n("7W2i"),g=n.n(m),v=n("q1tI"),b=n.n(v),y=n("JRPe"),w=n("beM4"),O=n("yYvj"),E=Object(y.e)({dialogTitle:{id:"frontbucket.branches.syncDialogTitle",defaultMessage:"Sync branch"},actionName:{id:"frontbucket.branches.syncActionName",defaultMessage:"Sync"},commitMessage:{id:"frontbucket.branches.commitMessage",defaultMessage:"Merged {sourceBranchName} into {destinationBranchName}"}}),x=function(e){function t(){return c()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"getCommitMessage",value:function(){var e=this.props,t=e.sourceBranchName,n=e.destinationBranchName,r=e.sourceRepositoryFullName,o=e.destinationRepositoryFullName,i=e.intl;if(t&&n){var a=Object(w.a)(t,n,r,o);return i.formatMessage(E.commitMessage,a)}return""}},{key:"render",value:function(){return b.a.createElement(O.a,a()({},this.props,{title:E.dialogTitle,actionName:E.actionName,commitMessage:this.getCommitMessage()}))}}]),t}(b.a.Component),k=Object(y.f)(x),C={onClose:o.d,onAction:o.f};t.a=Object(r.c)(function(e){var t=Object(o.m)(e),n=t.isOpen,r=t.isLoading,i=t.isMerge;return{isOpen:n&&!i,isLoading:r,sourceBranchName:t.sourceBranchName,destinationBranchName:t.destinationBranchName,sourceRepositoryFullName:t.sourceRepositoryFullName,destinationRepositoryFullName:t.destinationRepositoryFullName}},C)(k)},"2hmr":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M11 15l-1-1-2 2h8v-1.8L14 12l-3 3zM6 6.5c0-.276.229-.5.5-.5h11c.276 0 .5.229.5.5v11c0 .276-.229.5-.5.5h-11a.504.504 0 0 1-.5-.5v-11zM9.5 11a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorImageIcon";var c=s;t.default=c},"2wA+":function(e,t,n){"use strict";var r=n("pVnL"),o=n.n(r),i=n("QILm"),a=n.n(i),s=n("lwsE"),c=n.n(s),l=n("W8MJ"),u=n.n(l),d=n("a1gu"),p=n.n(d),f=n("Nsbk"),h=n.n(f),m=n("7W2i"),g=n.n(m),v=n("PJYZ"),b=n.n(v),y=n("lSNA"),w=n.n(y),O=n("q1tI"),E=n.n(O),x=n("JRPe"),k=n("cuY2"),C=n.n(k),S=n("1YpF"),j=n.n(S),T=Object(x.e)({fileChevronIcon:{id:"bitkit.file.fileChevron",defaultMessage:"Expand/collapse file"}}),M=n("wTIg"),_=n("gxo2"),I=n("b0Qh"),P=_.m.navigation()-20,A=P+1,N=Object(M.a)("div",{target:"eqf055k0"})("align-items:center;background:",I.colors.N20,";border:1px solid ",I.colors.N40,";border-radius:",function(e){return e.isExpanded?"".concat("".concat(Object(_.f)(),"px")," ","".concat(Object(_.f)(),"px")," 0 0"):"".concat(Object(_.f)(),"px")},";box-sizing:border-box;cursor:",function(e){return e.isCollapsible?"pointer":"auto"},";display:flex;flex-wrap:wrap;min-height:",5*Object(_.l)(),"px;padding:",Object(_.l)()/2,"px ",Object(_.l)(),"px;",function(e){return e.hasStickyHeader&&"position: sticky;"}," ",function(e){var t=e.stickyHeaderOffset;return t&&t>=0&&"top: ".concat(t,"px;")}," z-index:",function(e){var t=e.isDropdownMenuOpen;return"".concat(t?A:P)},";outline:0;&:focus{border:2px solid ",I.colors.B100,";}"),R=Object(M.a)("div",{target:"eqf055k1"})("border:solid ",I.colors.N40,";border-width:0 1px 1px;border-radius:0 0 ","".concat(Object(_.f)(),"px")," ","".concat(Object(_.f)(),"px"),";box-sizing:border-box;"),D=Object(M.a)("div",{target:"eqf055k2"})("flex:none;line-height:0;margin-left:",Object(_.l)()/2,"px;"),L=Object(M.a)(D,{target:"eqf055k3"})("align-self:center;transform:rotate(",function(e){return e.isExpanded?0:-90},"deg);transition:all 0.15s ease;margin-left:0;@media screen and (prefers-reduced-motion:reduce){transition-duration:0.001ms;}"),z=Object(M.a)("div",{target:"eqf055k4"})("display:inline-block;margin:0 ",Object(_.l)(),"px;"),B=Object(M.a)("div",{target:"eqf055k5"})({name:"me3p27",styles:"flex:none;"}),F=Object(M.a)("div",{target:"eqf055k6"})({name:"88gy7f",styles:"word-break:break-word;cursor:auto;display:flex;flex-wrap:wrap;"}),q=Object(M.a)("div",{target:"eqf055k7"})("display:flex;align-items:center;flex:1;min-width:",20*Object(_.l)(),"px;margin-left:",Object(_.l)(),"px;"),W=Object(M.a)("div",{target:"eqf055k8"})({name:"oq81g3",styles:"span:last-child{font-weight:600;}"}),U=Object(M.a)("div",{target:"eqf055k9"})({name:"35ezg3",styles:"font-weight:600;"}),H=Object(M.a)("div",{target:"eqf055k10"})("margin-left:",Object(_.l)()/2,"px;margin-right:-",Object(_.l)()/4,"px;height:",Object(_.l)()/2,"px;padding-top:",Object(_.l)()/4,"px;"),V=Object(M.a)("div",{target:"eqf055k11"})("padding-left:",2*Object(_.l)(),"px;margin-right:auto;"),G=Object(M.a)(V,{target:"eqf055k12"})({name:"1xzanuf",styles:"margin-right:0;"}),K=Object(M.a)("span",{target:"eqf055k13"})("margin-left:",function(e){return e.spacing},";"),$=Object(M.a)("div",{target:"eqf055k14"})("align-items:flex-start;display:flex;flex:none;padding-left:",Object(_.l)(),"px;"),J=Object(M.a)("div",{target:"eqf055k15"})({name:"84nudp",styles:"display:flex;align-items:center;margin-left:auto;"}),Y=n("RIqP"),Q=n.n(Y),X=n("oxjq"),Z=n.n(X),ee=function(e){function t(){var e,n;c()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=p()(this,(e=h()(t)).call.apply(e,[this].concat(o))),w()(b()(b()(n)),"pickSegments",function(e){var t=n.props.maxFullPathLength;if(e.length>t){var r=e.slice(0,t/2),o=e.slice(e.length-t/2);return[].concat(Q()(r),["..."],Q()(o))}return e}),n}return g()(t,e),u()(t,[{key:"render",value:function(){var e=this,t=this.props.children,n=new RegExp("(".concat(Z()(this.props.separator),")"),"g");return this.pickSegments(t.split(n)).filter(Boolean).map(function(t,n){return E.a.createElement(K,{key:"padded-segment-".concat(n),spacing:e.props.spacing,"data-qa":"bk-filepath__padded-segment"},t)})}}]),t}(O.PureComponent),te=n("/u5F"),ne=n.n(te),re=function(e){function t(){return c()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"render",value:function(){for(var e,t=this.props,n=t.prevFilePath,r=t.filePath,o=t.separator,i=t.spacing,a=t.maxFullPathLength,s=Math.min(n.length,r.length),c=0;c<s&&n[c]===r[c];c++)n[c]===o&&(e=c+1);for(var l,u=e?n.slice(0,e):"",d=e?s-e+1:s,p=-1;p>=-d&&n[n.length+p]===r[r.length+p];p--)n[n.length+p]===o&&(l=p);var f=l?n.slice(l):"",h=n.slice(e,l),m=r.slice(e,l),g=u||f,v=function(e){var t=e.children;return E.a.createElement(ee,{maxFullPathLength:a,spacing:i,separator:o},t)};return E.a.createElement(O.Fragment,null,u&&E.a.createElement(v,null,u),g&&E.a.createElement(K,{"data-qa":"bk-filepath__padded-segment",spacing:i},"{"),E.a.createElement(U,null,E.a.createElement(v,null,h)),E.a.createElement(H,null,E.a.createElement(ne.a,{label:"arrow",size:"small"})),E.a.createElement(U,null,E.a.createElement(v,null,m)),g&&E.a.createElement(K,{"data-qa":"bk-filepath__padded-segment",spacing:i},"}"),f&&E.a.createElement(W,null,E.a.createElement(v,null,f)))}}]),t}(O.PureComponent),oe=function(e){function t(){return c()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.prevFilePath,r={maxFullPathLength:e.maxFullPathLength,separator:e.separator,spacing:e.spacing};return E.a.createElement(F,{onClick:function(e){e.stopPropagation()},"data-qa":"bk-filepath"},n?E.a.createElement(re,o()({},r,{filePath:t,prevFilePath:n})):E.a.createElement(W,null,E.a.createElement(ee,r,t)))}}]),t}(O.PureComponent);function ie(e){e.stopPropagation()}w()(oe,"defaultProps",{children:"",maxFullPathLength:13,separator:"/",spacing:"0.5em"});var ae=function(e){function t(){var e,n;c()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=p()(this,(e=h()(t)).call.apply(e,[this].concat(o))),w()(b()(b()(n)),"handleToggle",function(){var e=n.props,t=e.isExpanded,r=e.toggleExpanded;e.isCollapsible&&r&&r(!!t)}),n}return g()(t,e),u()(t,[{key:"renderHeader",value:function(){var e=this,t=this.props,n=t.filePath,r=t.prevFilePath,o=t.icon,i=t.intl,a=t.isCollapsible,s=t.isExpanded,c=t.renderAfterFilePath,l=t.renderBeforeActions,u=t.isDropdownMenuOpen,d=t.hasStickyHeader,p=t.stickyHeaderOffset,f=t.renderFilePath;return E.a.createElement(N,{isDropdownMenuOpen:u,isExpanded:!a||s,isCollapsible:a,hasStickyHeader:d,stickyHeaderOffset:p,onClick:this.handleToggle,"data-qa":"bk-file__header",tabIndex:a?0:void 0,onKeyPress:a?function(t){"Enter"===t.key&&e.handleToggle()}:void 0},a&&E.a.createElement(L,{isExpanded:s},E.a.createElement(j.a,{label:i.formatMessage(T.fileChevronIcon)})),o&&E.a.createElement(D,null,o),E.a.createElement(q,null,f?f():E.a.createElement(oe,{prevFilePath:r},n),c&&E.a.createElement(V,null,c())),E.a.createElement(J,null,l&&E.a.createElement(G,null,l()),this.renderFileActions()))}},{key:"renderFileActions",value:function(){var e=this.props.buttons;return E.a.createElement($,{"data-qa":"bk-file__actions"},e&&E.a.createElement(z,{onClick:ie,"data-qa":"bk-file__action-button"},e),this.renderDropdownMenu())}},{key:"renderDropdownMenu",value:function(){var e=this.props.dropdownMenu;return e?E.a.createElement(B,{onClick:ie,"data-qa":"bk-file__menu"},e):null}},{key:"renderFile",value:function(){var e=this.props.children;return E.a.createElement("div",null,this.renderHeader(),E.a.createElement(R,{"data-qa":"bk-file__content"},e))}},{key:"renderCollapsibleFile",value:function(){var e=this.props,t=e.isExpanded,n=e.children;return E.a.createElement("div",null,this.renderHeader(),E.a.createElement(C.a,{duration:200,easing:"linear",height:t?"auto":0},E.a.createElement(R,{"data-qa":"bk-file__content"},n)))}},{key:"render",value:function(){return this.props.isCollapsible?this.renderCollapsibleFile():this.renderFile()}}]),t}(O.PureComponent);w()(ae,"defaultProps",{isExpanded:!1,hasStickyHeader:!1,isDropdownMenuOpen:!1});var se=Object(x.f)(ae),ce=function(e){function t(){var e,n;c()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=p()(this,(e=h()(t)).call.apply(e,[this].concat(o))),w()(b()(b()(n)),"state",{isExpanded:n.props.isInitiallyExpanded}),w()(b()(b()(n)),"handleExpand",function(){n.setState(function(e){return{isExpanded:!e.isExpanded}})}),n}return g()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=a()(e,["children"]);return E.a.createElement(se,o()({},n,{isExpanded:this.state.isExpanded,toggleExpanded:this.handleExpand}),t)}}]),t}(O.Component);w()(ce,"defaultProps",{isInitiallyExpanded:!0});var le=ce;n.d(t,"b",function(){return le}),n.d(t,"a",function(){return se})},"3+Ms":function(e,t,n){"use strict";t.isDate=function(e){return e instanceof Date&&!isNaN(+e)}},"35mH":function(e,t,n){"use strict";var r,o,i,a,s,c=n("mrSG"),l=n("q1tI"),u=n.n(l),d=n("+Jjp"),p=n.n(d),f=n("bAuU"),h=n.n(f),m=n("Wwog"),g=n("I7VN"),v={auto:[],top:["top","bottom","top"],right:["right","left","right"],bottom:["bottom","top","bottom"],left:["left","right","left"]},b=function(e){return v[e]},y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getModifiers=Object(m.a)(function(e){var n={flip:{enabled:!0,behavior:b(e.split("-")[0]),boundariesElement:"viewport"},hide:{enabled:!0},offset:{enabled:!0,offset:t.props.offset},preventOverflow:{enabled:!0,escapeWithReference:!1,boundariesElement:"window"}};return t.props.modifiers?Object(c.__assign)(Object(c.__assign)({},n),t.props.modifiers):n}),t}return Object(c.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.placement,n=e.children,r=e.referenceElement,o=this.getModifiers(this.props.placement);return u.a.createElement(g.b,Object(c.__assign)({positionFixed:!0,modifiers:o,placement:t},r?{referenceElement:r}:{}),n)},t.defaultProps={children:function(){return null},offset:"0, 8px",placement:"bottom-start"},t}(u.a.Component),w=n("1doi"),O=n("gxo2"),E=n("17x9"),x=n.n(E),k=u.a.createContext({getAtlaskitAnalyticsContext:function(){return[]},getAtlaskitAnalyticsEventHandlers:function(){return[]}}),C={getAtlaskitAnalyticsContext:x.a.func,getAtlaskitAnalyticsEventHandlers:x.a.func},S=function(e){function t(t){var n=e.call(this,t)||this;return n.getChildContext=function(){return{getAtlaskitAnalyticsContext:n.getAnalyticsContext}},n.getAnalyticsContext=function(){var e=n.props.data,t=n.context.getAtlaskitAnalyticsContext,r="function"==typeof t&&t()||[];return Object(c.__spread)(r,[e])},n.getAnalyticsEventHandlers=function(){var e=n.context.getAtlaskitAnalyticsEventHandlers;return"function"==typeof e&&e()||[]},n.state={getAtlaskitAnalyticsContext:n.getAnalyticsContext,getAtlaskitAnalyticsEventHandlers:n.getAnalyticsEventHandlers},n}return Object(c.__extends)(t,e),t.prototype.render=function(){var e=this.props.children;return u.a.createElement(k.Provider,{value:this.state},l.Children.only(e))},t.contextTypes=C,t.childContextTypes=C,t}(l.Component),j=function(e){return function(t){var n=u.a.forwardRef(function(n,r){var o=n.analyticsContext,i=void 0===o?{}:o,a=Object(c.__rest)(n,["analyticsContext"]),s=Object(c.__assign)(Object(c.__assign)({},e),i);return u.a.createElement(S,{data:s},u.a.createElement(t,Object(c.__assign)({},a,{ref:r})))});return n.displayName="WithAnalyticsContext("+(t.displayName||t.name)+")",n}},T=function(e){function t(n){var r=e.call(this,n)||this;return r.clone=function(){return r.hasFired?(console.warn("Cannot clone an event after it's been fired."),null):new t({context:Object(c.__spread)(r.context),handlers:Object(c.__spread)(r.handlers),payload:JSON.parse(JSON.stringify(r.payload))})},r.fire=function(e){r.hasFired?console.warn("Cannot fire an event twice."):(r.handlers.forEach(function(t){return t(r,e)}),r.hasFired=!0)},r.context=n.context||[],r.handlers=n.handlers||[],r.hasFired=!1,r}return Object(c.__extends)(t,e),t.prototype.update=function(t){return this.hasFired?(console.warn("Cannot update an event after it's been fired."),this):e.prototype.update.call(this,t)},t}(function(){function e(t){var n=this;this.clone=function(){return new e({payload:JSON.parse(JSON.stringify(n.payload))})},this.payload=t.payload}return e.prototype.update=function(e){return"function"==typeof e&&(this.payload=e(this.payload)),"object"==typeof e&&(this.payload=Object(c.__assign)(Object(c.__assign)({},this.payload),e)),this},e}()),M=function(e){function t(t){var n=e.call(this,t)||this;return n.originalEventProps={},n.patchedEventProps={},n.updatePatchedEventProps=function(e){var t=Object.keys(n.props.createEventMap).filter(function(t){return n.originalEventProps[t]!==e[t]});return t.length>0&&(n.patchedEventProps=Object(c.__assign)(Object(c.__assign)({},n.patchedEventProps),n.mapCreateEventsToProps(t,e)),t.forEach(function(t){n.originalEventProps[t]=e[t]})),n.patchedEventProps},n.mapCreateEventsToProps=function(e,t){return e.reduce(function(e,r){var o,i=n.props.createEventMap[r],a=t[r];if(!["object","function"].includes(typeof i))return e;return Object(c.__assign)(Object(c.__assign)({},e),((o={})[r]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o="function"==typeof i?i(n.createAnalyticsEvent,t):n.createAnalyticsEvent(i);a&&a.apply(void 0,Object(c.__spread)(e,[o]))},o))},{})},n.createAnalyticsEvent=function(e){var t=n.context,r=t.getAtlaskitAnalyticsEventHandlers,o=t.getAtlaskitAnalyticsContext;return new T({context:"function"==typeof o&&o()||[],handlers:"function"==typeof r&&r()||[],payload:e})},Object.keys(n.props.createEventMap).forEach(function(e){n.originalEventProps[e]=t.wrappedComponentProps[e]}),n.patchedEventProps=n.mapCreateEventsToProps(Object.keys(n.props.createEventMap),t.wrappedComponentProps),n}return Object(c.__extends)(t,e),t.prototype.render=function(){var e=this.updatePatchedEventProps(this.props.wrappedComponentProps);return this.props.children({createAnalyticsEvent:this.createAnalyticsEvent,patchedEventProps:e})},t.contextTypes={getAtlaskitAnalyticsEventHandlers:x.a.func,getAtlaskitAnalyticsContext:x.a.func},t.defaultProps={createEventMap:{}},t}(u.a.Component),_=function(e){return function(t){var n=u.a.forwardRef(function(n,r){return u.a.createElement(M,{createEventMap:e,wrappedComponentProps:n},function(e){var o=e.createAnalyticsEvent,i=e.patchedEventProps;return u.a.createElement(t,Object(c.__assign)({},n,i,{createAnalyticsEvent:o,ref:r}))})});return n.displayName="WithAnalyticsEvents("+(t.displayName||t.name)+")",n}},I=n("pGlG"),P=n("vOnD"),A=n("JaVE"),N=n("73wN"),R=Object(A.a)({light:N.N800,dark:N.DN0}),D=Object(A.a)({light:N.N0,dark:N.DN600}),L=P.default.div(o||(o=Object(c.__makeTemplateObject)(["\n  z-index: ",";\n  pointer-events: none;\n  position: fixed;\n"],["\n  z-index: ",";\n  pointer-events: none;\n  position: fixed;\n"])),O.m.tooltip),z=Object(P.default)(L)(i||(i=Object(c.__makeTemplateObject)(["\n  background-color: ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  color: ",";\n  font-size: 12px;\n  left: 0;\n  line-height: 1.3;\n  max-width: 240px;\n  padding: 2px 6px;\n  top: 0;\n  /* Edge does not support overflow-wrap */\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n  ",";\n"],["\n  background-color: ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  color: ",";\n  font-size: 12px;\n  left: 0;\n  line-height: 1.3;\n  max-width: 240px;\n  padding: 2px 6px;\n  top: 0;\n  /* Edge does not support overflow-wrap */\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n  ",";\n"])),R,O.f,D,function(e){return e.truncate?Object(P.css)(r||(r=Object(c.__makeTemplateObject)(["\n        max-width: 420px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      "],["\n        max-width: 420px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      "]))):""}),B=(P.default.div(a||(a=Object(c.__makeTemplateObject)(["\n  display: inline-block;\n"],["\n  display: inline-block;\n"]))),n("1w3K")),F={left:8,right:-8,top:0,bottom:0},q={bottom:-8,top:8,left:0,right:0},W=function(e,t){return function(n){return Object(c.__assign)(Object(c.__assign)({},function(e){return{transition:"transform "+e.enter+"ms cubic-bezier(0.23, 1, 0.32, 1), opacity "+e.enter+"ms linear",opacity:0}}(e)),function(e,t,n){return{entering:{transform:"translate3d("+F[n]+"px, "+q[n]+"px, 0)"},entered:{opacity:1},exiting:{opacity:0,transition:e.exit+"ms linear",transform:"translate3d("+F[n]/2+"px, "+q[n]/2+"px, 0)"}}[t]}(e,t,n))}},U=function(e){var t=e.children,n=e.immediatelyHide,r=e.immediatelyShow,o=e.onExited,i=e.in,a={enter:r?1:120,exit:n?1:80};return u.a.createElement(B.Transition,{timeout:a,in:i,onExited:o,unmountOnExit:!0,appear:!0},function(e){return t(W(a,e))})},H={action:"displayed",actionSubject:"tooltip",attributes:{componentName:"tooltip",packageName:I.a,packageVersion:I.b}},V={action:"hidden",actionSubject:"tooltip",attributes:{componentName:"tooltip",packageName:I.a,packageVersion:I.b}},G={capture:!0,passive:!0};function K(e){var t=e||{top:0,left:0};return{getBoundingClientRect:function(){return{top:t.top,left:t.left,bottom:t.top,right:t.left,width:0,height:0}},clientWidth:0,clientHeight:0}}var $,J=function(e,t){var n=s&&s.pending();return n&&s.flush(),h()(function(){return e(n)},n?0:t).cancel},Y=function(e,t){return(s=h()(function(t){return e(t)},t)).cancel},Q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cancelPendingSetState=function(){},t.state={immediatelyHide:!1,immediatelyShow:!1,isVisible:!1,renderTooltip:!1},t.handleWindowScroll=function(){t.state.isVisible&&(t.cancelPendingSetState(),t.setState({isVisible:!1,immediatelyHide:!0}))},t.handleMouseClick=function(){t.props.hideTooltipOnClick&&(t.cancelPendingSetState(),t.setState({isVisible:!1,immediatelyHide:!0}))},t.handleMouseDown=function(){t.props.hideTooltipOnMouseDown&&(t.cancelPendingSetState(),t.setState({isVisible:!1,immediatelyHide:!0}))},t.handleMouseOver=function(e){e.target!==t.wrapperRef&&(t.fakeMouseElement||(t.fakeMouseElement=K({left:e.clientX,top:e.clientY})),t.cancelPendingSetState(),Boolean(t.props.content)&&!t.state.isVisible&&(t.cancelPendingSetState=J(function(e){t.setState({isVisible:!0,renderTooltip:!0,immediatelyShow:e})},t.props.delay||0)))},t.handleMouseLeave=function(e){e.target!==t.wrapperRef&&(t.cancelPendingSetState(),t.state.isVisible&&(t.cancelPendingSetState=Y(function(e){t.setState({isVisible:!1,immediatelyHide:e})},t.props.delay||0)))},t.handleMouseMove=function(e){t.state.renderTooltip||(t.fakeMouseElement=K({left:e.clientX,top:e.clientY}))},t}return Object(c.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.cancelPendingSetState(),this.removeScrollListener()},t.prototype.componentDidUpdate=function(e,t){!t.isVisible&&this.state.isVisible?(this.props.onShow&&this.props.onShow(),window.addEventListener("scroll",this.handleWindowScroll,G)):t.isVisible&&!this.state.isVisible&&(this.props.onHide&&this.props.onHide(),this.removeScrollListener())},t.prototype.removeScrollListener=function(){window.removeEventListener("scroll",this.handleWindowScroll,G)},t.prototype.render=function(){var e=this,t=this.props,n=t.children,r=t.content,o=t.position,i=t.mousePosition,a=t.truncate,s=t.component,l=t.tag,d=t.testId,f=this.state,h=f.isVisible,m=f.renderTooltip,g=f.immediatelyShow,v=f.immediatelyHide;return u.a.createElement(u.a.Fragment,null,l&&u.a.createElement(l,{onClick:this.handleMouseClick,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseLeave,onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,ref:function(t){e.wrapperRef=t}},u.a.createElement(p.a,{innerRef:function(t){e.targetRef=t}},u.a.Children.only(n))),m&&this.targetRef&&this.fakeMouseElement?u.a.createElement(w.a,{zIndex:O.m.tooltip()},u.a.createElement(y,{referenceElement:"mouse"===o?this.fakeMouseElement:this.targetRef,placement:"mouse"===o?i:o},function(t){var n=t.ref,o=t.style,i=t.placement;return s&&u.a.createElement(U,{immediatelyShow:g,immediatelyHide:v,onExited:function(){return e.setState({renderTooltip:!1})},in:h},function(e){return u.a.createElement(s,{innerRef:n,className:"Tooltip",style:Object(c.__assign)(Object(c.__assign)({},e(i)),o),truncate:a||!1,"data-testid":d},r)})})):null)},t.defaultProps={component:z,delay:300,mousePosition:"bottom",position:"bottom",tag:"div"},t}(u.a.Component),X=($="atlaskit",function(e){return function(t){var n=t(e),r=n.clone();return r&&r.fire($),n}}),Z=j({componentName:"tooltip",packageName:I.a,packageVersion:I.b})(_({onHide:V,onShow:X(Object(c.__assign)({},H))})(Q)),ee=n("FwBs");n.d(t,"a",function(){return te});var te=function(e){var t=e.name,n=e.children;return l.createElement(ee.b,{name:t},function(e){return l.createElement(Z,{content:e,position:"right"},n)})}},"3DEu":function(e,t,n){"use strict";var r=n("mG1W");var o=n("w9Yk"),i=n("hkcA");function a(e){return Object(o.d)({action:i.a.INVOKED,actionSubject:i.b.TYPEAHEAD,actionSubjectId:i.c.TYPEAHEAD_MENTION,attributes:{inputMethod:e},eventType:i.d.UI})((t="@",function(e,n){return n&&n(Object(r.safeInsert)(e.schema.text(t,[e.schema.marks.typeAheadQuery.create({trigger:t})]))(e.tr)),!0}));var t}n.d(t,"a",function(){return a})},"3HTq":function(e,t,n){"use strict";var r=n("pVnL"),o=n.n(r),i=n("lwsE"),a=n.n(i),s=n("W8MJ"),c=n.n(s),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),p=n.n(d),f=n("7W2i"),h=n.n(f),m=n("PJYZ"),g=n.n(m),v=n("lSNA"),b=n.n(v),y=n("q1tI"),w=n.n(y),O=n("JRPe"),E=n("+WM3"),x=n("7EGn"),k=n("grSP"),C=n("41DU"),S=n("wTIg"),j=Object(S.a)("small",{target:"e1rsklf90"})({name:"1tbblij",styles:"position:absolute;left:0;top:0;right:0;bottom:0;display:flex;align-items:center;margin:0;padding:0 12px;"}),T=Object(S.a)("div",{target:"e1rsklf91"})({name:"ttjnck",styles:"margin:0 8px 0 0;"});n.d(t,"a",function(){return M});var M=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(o))),b()(g()(g()(n)),"timeout",void 0),b()(g()(g()(n)),"state",{delay:n.props.delay}),n}return h()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.delay;t&&(this.timeout=setTimeout(function(){return e.setState({delay:0})},t))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this.state.delay,t=this.props,n=t.action,r=t.module,i=t.failedCallback;if("loading"===n&&e)return!1;var a=Object(x.a)(r,"app_name",Object(x.a)(r,"app_key","")),s=Object(x.a)(r,"app_base_url",Object(x.a)(r,"source.url",""));return w.a.createElement(j,null,"loading"===n&&w.a.createElement(T,null,w.a.createElement(E.a,{size:"small",delay:0})),a&&s&&w.a.createElement(O.a,o()({},C.a[n],{values:{link:w.a.createElement("a",{href:s,target:"_blank"},a),action:"timeout"===n&&w.a.createElement(k.a,{appearance:"link",spacing:"none",onClick:i},w.a.createElement(O.a,C.a.cancelText))}})))}}]),t}(y.PureComponent);b()(M,"defaultProps",{action:"loading",delay:0})},"3TM1":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("v+ym"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M12 20a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm0-8.5a1 1 0 0 0-1 1V15a1 1 0 0 0 2 0v-2.5a1 1 0 0 0-1-1zm0-1.125a1.375 1.375 0 1 0 0-2.75 1.375 1.375 0 0 0 0 2.75z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorInfoIcon";var c=s;t.default=c},"3XPa":function(e,t,n){"use strict";var r=n("q1tI");t.a=r.createContext(void 0)},"3YBk":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M8 6h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2zm0 2v3h3V8H8zm5 0v3h3V8h-3zm-5 5v3h3v-3H8zm5 0v3h3v-3h-3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorTableIcon";var c=s;t.default=c},"3ooj":function(e,t,n){"use strict";n.d(t,"a",function(){return M});var r=n("pVnL"),o=n.n(r),i=n("cDf5"),a=n.n(i),s=n("MVZn"),c=n.n(s),l=n("lwsE"),u=n.n(l),d=n("W8MJ"),p=n.n(d),f=n("a1gu"),h=n.n(f),m=n("Nsbk"),g=n.n(m),v=n("PJYZ"),b=n.n(v),y=n("7W2i"),w=n.n(y),O=n("lSNA"),E=n.n(O),x=n("q1tI"),k=n.n(x),C=n("17x9"),S=n.n(C),j=n("AB90"),T=function(e){function t(e){var n;return u()(this,t),n=h()(this,g()(t).call(this,e)),E()(b()(n),"originalEventProps",{}),E()(b()(n),"patchedEventProps",{}),E()(b()(n),"updatePatchedEventProps",function(e){var t=Object.keys(n.props.createEventMap).filter(function(t){return n.originalEventProps[t]!==e[t]});return t.length>0&&(n.patchedEventProps=c()({},n.patchedEventProps,n.mapCreateEventsToProps(t,e)),t.forEach(function(t){n.originalEventProps[t]=e[t]})),n.patchedEventProps}),E()(b()(n),"mapCreateEventsToProps",function(e,t){return e.reduce(function(e,r){var o=n.props.createEventMap[r],i=t[r];if(!["object","function"].includes(a()(o)))return e;return c()({},e,E()({},r,function(){var e="function"==typeof o?o(n.createAnalyticsEvent,t):n.createAnalyticsEvent(o);if(i){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];i.apply(void 0,a.concat([e]))}}))},{})}),E()(b()(n),"createAnalyticsEvent",function(e){var t=n.context,r=t.getAtlaskitAnalyticsEventHandlers,o=t.getAtlaskitAnalyticsContext,i="function"==typeof o&&o()||[],a="function"==typeof r&&r()||[];return new j.a({context:i,handlers:a,payload:e})}),Object.keys(n.props.createEventMap).forEach(function(t){n.originalEventProps[t]=e.wrappedComponentProps[t]}),n.patchedEventProps=n.mapCreateEventsToProps(Object.keys(n.props.createEventMap),e.wrappedComponentProps),n}return w()(t,e),p()(t,[{key:"render",value:function(){var e=this.updatePatchedEventProps(this.props.wrappedComponentProps);return this.props.children({createAnalyticsEvent:this.createAnalyticsEvent,patchedEventProps:e})}}]),t}(x.Component);function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=k.a.forwardRef(function(n,r){return k.a.createElement(T,{createEventMap:e,wrappedComponentProps:n},function(e){var i=e.createAnalyticsEvent,a=e.patchedEventProps;return k.a.createElement(t,o()({},n,a,{createAnalyticsEvent:i,ref:r}))})});return n.displayName="WithAnalyticsEvents(".concat(t.displayName||t.name,")"),n}}E()(T,"contextTypes",{getAtlaskitAnalyticsEventHandlers:S.a.func,getAtlaskitAnalyticsContext:S.a.func}),E()(T,"defaultProps",{createEventMap:{}})},"3q0R":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.observe=i,t.unobserve=a,t.destroy=s;var r=new Map,o=new Map;function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{threshold:0},i=arguments[3],a=n.root,s=n.rootMargin,l=n.threshold||0;if(e&&t){var u=s?l.toString()+"_"+s:""+l.toString();a&&(u=i?i+"_"+u:null);var d=u?o.get(u):null;d||(d=new IntersectionObserver(c,n),u&&o.set(u,d));var p={callback:t,visible:!1,options:n,observerId:u,observer:u?void 0:d};return r.set(e,p),d.observe(e),p}}function a(e){if(e){var t=r.get(e);if(t){var n=t.observerId,i=t.observer,a=n?o.get(n):i;a&&a.unobserve(e);var s=!1;n&&r.forEach(function(t,r){t&&t.observerId===n&&r!==e&&(s=!0)}),a&&!s&&(a.disconnect(),o.delete(n)),r.delete(e)}}}function s(){o.forEach(function(e){e.disconnect()}),o.clear(),r.clear()}function c(e){e.forEach(function(e){var t=e.isIntersecting,n=e.intersectionRatio,o=e.target,i=r.get(o);if(i&&n>=0){var a=i.options,s=!1;Array.isArray(a.threshold)?s=a.threshold.some(function(e){return i.visible?n>e:n>=e}):void 0!==a.threshold&&(s=i.visible?n>a.threshold:n>=a.threshold),void 0!==t&&(s=s&&t),i.callback&&i.callback(s)}})}t.default={observe:i,unobserve:a,destroy:s}},"41DU":function(e,t,n){"use strict";var r=n("JRPe");t.a=Object(r.e)({loading:{id:"frontbucket.connect.loadingDescription",defaultMessage:"Loading add-on {link}."},timeout:{id:"frontbucket.connect.loadingTimeoutDescription",defaultMessage:"Add-on {link} is not responding. Wait or {action}."},failed:{id:"frontbucket.connect.loadingFailedDescription",defaultMessage:"Add-on {link} failed to load."},cancelText:{id:"frontbucket.connect.cancelText",defaultMessage:"cancel"}})},"43H1":function(e,t,n){"use strict";var r=n("lwsE"),o=n.n(r),i=n("W8MJ"),a=n.n(i),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),u=n.n(l),d=n("7W2i"),p=n.n(d),f=n("lSNA"),h=n.n(f),m=n("q1tI"),g=n.n(m),v=n("/MKj"),b=n("fVoa"),y=n("eRoQ"),w=n("8Shu"),O=function(e){function t(){return o()(this,t),c()(this,u()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"render",value:function(){var e=this.props,t=e.isProfileCardEnabled,n=e.isWorkspaceUiEnabled,r=e.linkComponent,o=e.profileCardPosition,i=e.profileCardTrigger,a=e.user;if(!a)return g.a.createElement(b.b,{isProfileCardEnabled:t,profileCardPosition:o,profileCardTrigger:i});var s=n?void 0:Object(b.l)(a),c=g.a.createElement(b.g,{user:a}),l=s?g.a.createElement(r,{href:s},c):g.a.createElement("span",null,c);return t&&"team"!==a.type?g.a.createElement(b.h,{position:o,profileUrl:s,profileClient:w.b,trigger:i,userId:a.uuid},l):l}}]),t}(m.PureComponent);h()(O,"defaultProps",{isProfileCardEnabled:!1,isWorkspaceUiEnabled:!1,linkComponent:"a",profileCardTrigger:"hover"});t.a=Object(v.c)(function(e,t){return{isProfileCardEnabled:!1!==t.isProfileCardEnabled&&!!e.global.features["user-profile-cards"],isWorkspaceUiEnabled:Object(y.ab)(e)}})(O)},"4GLz":function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU4ICg4NDY2MykgLSBodHRwczovL3NrZXRjaC5jb20gLS0+CiAgICA8dGl0bGU+aXNzdWV0eXBlLXRhc2s8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iQml0YnVja2V0LS0tUmVwb3NpdG9yeS0tLVB1bGwtcmVxdWVzdC0oRGV0YWlsKS1hIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTEzNy4wMDAwMDAsIC0yNDYuMDAwMDAwKSIgZmlsbD0iIzIzQTlGQSI+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cC0xMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTExMy4wMDAwMDAsIDE3Ny4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSJpc3N1ZXR5cGUtdGFzayIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQuMDAwMDAwLCA2OS4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iR3JvdXAtOSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNC4wMDU5Mzk3LDAgQzE1LjEwNzIyODgsMCAxNiwwLjg5NDUxMzc1NiAxNiwxLjk5NDA2MDI4IEwxNiwxNC4wMDU5Mzk3IEMxNiwxNS4xMDcyMjg4IDE1LjEwNTQ4NjIsMTYgMTQuMDA1OTM5NywxNiBMMS45OTQwNjAyOCwxNiBDMC44OTI3NzExOTYsMTYgMCwxNS4xMDU0ODYyIDAsMTQuMDA1OTM5NyBMMCwxLjk5NDA2MDI4IEMwLDAuODkyNzcxMTk2IDAuODk0NTEzNzU2LDAgMS45OTQwNjAyOCwwIEwxNC4wMDU5Mzk3LDAgWiBNMTIuMTgwNDQwNywyLjk2MjQ4MTMyIEw2Ljg0Niw5LjMxOSBMNC4xMjE2MjY2Nyw3LjAzMzUzMDAzIEwyLjU5NzUzODY4LDguODQ5ODY3MzcgTDcuMTM4MzgyMDMsMTIuNjYwMDg3MyBMMTMuOTk2Nzc4LDQuNDg2NTY5MzIgTDEyLjE4MDQ0MDcsMi45NjI0ODEzMiBaIiBpZD0iQ29tYmluZWQtU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},"4K8n":function(e,t,n){"use strict";var r=n("mrSG"),o=n("q1tI"),i=n("GsWa"),a=n("WLpT"),s=n("82gI"),c=n("5oxn"),l=n("TSYQ"),u=n.n(l),d=n("mG1W"),p=n("/IjO"),f=n("hkcA"),h=n("7WM6"),m=n("mIQt"),g=n("AwKd"),v=n("JRPe"),b=n("eq3s"),y=n("SdOD"),w=n("GJQz"),O=n("COqE"),E=n("hksT"),x=function(e){return e.offsetHeight+y.j+3},k=function(e){var t=e.parentElement,n=e.offsetWidth,r=t.offsetWidth,o=t.scrollLeft,i=n-r,a=function(e){var t=Object(O.j)(e,"."+m.a.TABLE_CONTAINER);return t&&t.querySelector("."+m.a.NUMBERED_COLUMN)?y.j+c.x-1:y.j}(e);return Math.min(n+a,r+a-Math.max(o-i,0))+4},C=function(e){return"row"===e?w.a.insertRow:w.a.insertColumn},S=function(e){return"row"===e?E.S(E.e):E.S(E.b)},j=Object(v.f)(function(e){var t,n,r=e.onMouseDown,i=e.index,a=e.tableRef,s=e.showInsertButton,c=e.type,l=e.intl.formatMessage;return o.createElement("div",{"data-index":i,className:m.a.CONTROLS_INSERT_BUTTON_WRAP+" "+("row"===c?m.a.CONTROLS_INSERT_ROW:m.a.CONTROLS_INSERT_COLUMN)},s&&o.createElement(b.a,{content:(t=l(C(c)),n=S(c),o.createElement("span",null,t," ",o.createElement("small",null,n))),position:"top"},o.createElement(o.Fragment,null,o.createElement("div",{className:m.a.CONTROLS_INSERT_BUTTON_INNER},o.createElement("button",{type:"button",className:m.a.CONTROLS_INSERT_BUTTON,onMouseDown:r},o.createElement("svg",{className:m.a.CONTROLS_BUTTON_ICON},o.createElement("path",{d:"M10 4a1 1 0 0 1 1 1v4h4a1 1 0 0 1 0 2h-4v4a1 1 0 0 1-2 0v-4H5a1 1 0 1 1 0-2h4V5a1 1 0 0 1 1-1z",fill:"currentColor",fillRule:"evenodd"})))),o.createElement("div",{className:m.a.CONTROLS_INSERT_LINE,style:"row"===c?{width:k(a)}:{height:x(a)}}))),o.createElement("div",{className:m.a.CONTROLS_INSERT_MARKER}))}),T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isActive=function(){var e=t.props,n=e.editorView,r=e.hoveredRows,o=e.isResizing,i=n.state.selection,a=Object(d.findTable)(i);return!!a&&(Object(d.isTableSelected)(i)||r&&r.length===p.TableMap.get(a.node).height&&!o)},t.clearHoverSelection=function(){var e=t.props.editorView,n=e.state,r=e.dispatch;Object(h.a)()(n,r)},t.selectTable=function(){var e=t.props.editorView,n=e.state;(0,e.dispatch)(Object(d.selectTable)(n.tr).setMeta("addToHistory",!1))},t.hoverTable=function(){var e=t.props.editorView,n=e.state,r=e.dispatch;Object(h.d)()(n,r)},t.insertColumn=function(){var e=t.props.editorView,n=e.state,r=e.dispatch;Object(g.e)(f.e.BUTTON,0)(n,r)},t.insertRow=function(){var e=t.props.editorView,n=e.state,r=e.dispatch;Object(g.f)(f.e.BUTTON,0)(n,r)},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.isInDanger,n=e.isResizing,r=e.isHeaderRowEnabled,i=e.isHeaderColumnEnabled,a=e.insertColumnButtonIndex,s=e.insertRowButtonIndex,c=e.tableRef;if(!c)return null;var l=this.isActive();return o.createElement("div",{className:u()(m.a.CORNER_CONTROLS,{active:l})},o.createElement("button",{type:"button",className:u()(m.a.CONTROLS_CORNER_BUTTON,{danger:l&&t}),onClick:this.selectTable,onMouseOver:this.hoverTable,onMouseOut:this.clearHoverSelection}),!i&&o.createElement(j,{type:"column",tableRef:c,index:0,showInsertButton:!n&&0===a,onMouseDown:this.insertColumn}),!r&&o.createElement(j,{type:"row",tableRef:c,index:0,showInsertButton:!n&&0===s,onMouseDown:this.insertRow}))},t}(o.Component),M=n("tQKV"),_=function(e,t,n,r,o){void 0===n&&(n=[]);var i=[];return(Object(d.isRowSelected)(e)(t)||n.indexOf(e)>-1&&!o)&&(i.push("active"),r&&i.push("danger")),i.join(" ")},I=Object(v.f)(function(e){var t=e.style,n=e.onClick,r=e.onMouseEnter,i=e.onMouseLeave,a=e.removeLabel,s=e.intl.formatMessage;return o.createElement("div",{className:m.a.CONTROLS_DELETE_BUTTON_WRAP,style:t,onMouseEnter:r,onMouseLeave:i},o.createElement("button",{type:"button",title:s(a,{0:1}),className:m.a.CONTROLS_DELETE_BUTTON,onMouseDown:n,onMouseMove:function(e){return e.preventDefault()}},o.createElement("svg",{className:m.a.CONTROLS_BUTTON_ICON},o.createElement("path",{d:"M12.242 10.828L9.414 8l2.828-2.829a.999.999 0 1 0-1.414-1.414L8 6.587l-2.829-2.83a1 1 0 0 0-1.414 1.414l2.83 2.83-2.83 2.827a1 1 0 0 0 1.414 1.414l2.83-2.828 2.827 2.828a.999.999 0 1 0 1.414-1.414",fill:"currentColor",fillRule:"evenodd"}))))}),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clearHoverSelection=function(){var e=t.props.editorView,n=e.state,r=e.dispatch;Object(h.a)()(n,r)},t.insertRow=function(e){var n=t.props.editorView,r=n.state,o=n.dispatch;Object(g.f)(f.e.BUTTON,e)(r,o)},t.deleteRows=function(){var e=t.props.editorView,n=e.state,r=e.dispatch,o=Object(M.d)(n).pluginConfig.isHeaderRowRequired,i=Object(d.getSelectionRect)(n.selection);i&&Object(g.b)(f.e.BUTTON,i,!!o)(n,r),t.clearHoverSelection()},t}return r.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.editorView,r=t.tableRef,i=t.insertRowButtonIndex,a=t.hoveredRows,s=t.isInDanger,c=t.isResizing;if(!r)return null;var l=n.state.selection,u=function(e){var t=[];if(e.lastChild)for(var n=e.lastChild.childNodes,r=0,o=n.length;r<o;r++){var i=n[r],a=i.getBoundingClientRect();t[r]=(a?a.height:i.offsetHeight)+1}return t}(r),f=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];if(o){for(var i=e.length,a=n+1,s=e.length;a<s;a++)if(e[a]){i=a;break}t.push({startIndex:n,endIndex:i,height:o})}}return t}(u),h=function(e,t){var n=Object(d.getSelectionRect)(t);if(!n)return null;for(var r=0,o=0,i=0;i<n.top;i++)(s=e[i])&&(o+=s-1);var a=[];for(i=n.top;i<n.bottom;i++){var s;(s=e[i])&&(r+=s-1,a.push(i))}return{top:o+r/2-y.d/2,indexes:a}}(u,l);return o.createElement("div",{className:m.a.ROW_CONTROLS},o.createElement("div",{className:m.a.ROW_CONTROLS_INNER},f.map(function(t){var n=t.startIndex,u=t.endIndex,f=t.height;return o.createElement("div",{className:m.a.ROW_CONTROLS_BUTTON_WRAP+" "+_(n,l,a,s,c),key:n,style:{height:f}},o.createElement("button",{type:"button",className:m.a.CONTROLS_BUTTON,onClick:function(t){return e.props.selectRow(n,t.shiftKey)},onMouseOver:function(){return e.props.hoverRows([n])},onMouseMove:function(e){return e.preventDefault()},onMouseOut:e.clearHoverSelection},!Object(d.isCellSelection)(l)&&o.createElement(o.Fragment,null,o.createElement("div",{className:m.a.CONTROLS_BUTTON_OVERLAY,"data-index":n}),o.createElement("div",{className:m.a.CONTROLS_BUTTON_OVERLAY,"data-index":u}))),function(e,t){var n=Object(d.getSelectionRect)(t);return!(n&&t instanceof p.CellSelection&&t.isRowSelection()&&!Object(d.isTableSelected)(t)&&n.bottom-e==e-n.top)}(u,l)&&o.createElement(j,{type:"row",tableRef:r,index:u,showInsertButton:!c&&i===u,onMouseDown:function(){return e.insertRow(u)}}))}),function(e){return!!(!Object(d.isTableSelected)(e)&&e instanceof p.CellSelection&&e.isRowSelection())}(l)&&h&&o.createElement(I,{key:"delete",removeLabel:w.a.removeRows,style:{top:h.top},onClick:this.deleteRows,onMouseEnter:function(){return e.props.hoverRows(h.indexes,!0)},onMouseLeave:this.clearHoverSelection})))},t}(o.Component),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hoverRows=function(e){return t.props.tableActive?t.props.hoverRows([e]):null},t.selectRow=function(e,n){return t.props.tableActive?t.props.selectRow(e,n):null},t.clearHoverSelection=function(){var e=t.props,n=e.tableActive,r=e.editorView;if(n){var o=r.state,i=r.dispatch;Object(h.a)()(o,i)}},t.getClassNames=function(e){var n=t.props,r=n.hoveredRows,o=n.editorView,i=n.isInDanger,a=n.isResizing,s=Object(d.isRowSelected)(e)(o.state.selection)||-1!==(r||[]).indexOf(e)&&!a;return[m.a.NUMBERED_COLUMN_BUTTON,s?"active":"",s&&i?"danger":""].join(" ")},t}return r.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.tableRef,r=t.hasHeaderRow,i=n.querySelector("tbody");if(!i)return null;var a=i.querySelectorAll("tr");return o.createElement("div",{className:m.a.NUMBERED_COLUMN},Array.from(Array(a.length).keys()).map(function(t){return o.createElement("div",{key:"wrapper-"+t,className:e.getClassNames(t),style:{height:a[t].offsetHeight+1},onClick:function(n){return e.selectRow(t,n.shiftKey)},onMouseOver:function(){return e.hoverRows(t)},onMouseOut:e.clearHoverSelection},r?t>0?t:null:t+1)}))},t}(o.Component),N=n("koy1"),R=n("BCfg"),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectRow=function(e,n){var r=t.props.editorView,o=r.state,i=r.dispatch;11===a.a.ie_version&&r.dom.blur(),Object(R.h)(e,n)(o,i)},t.hoverRows=function(e,n){var r=t.props.editorView,o=r.state,i=r.dispatch;Object(h.c)(e,n)(o,i)},t}return r.__extends(t,e),t.prototype.shouldComponentUpdate=function(e){var t=this.props,n=t.tableRef,r=t.isInDanger,o=t.isResizing,i=t.isHeaderRowEnabled,a=t.isHeaderColumnEnabled,s=t.isNumberColumnEnabled,c=t.hoveredRows,l=t.selection,u=t.tableHeight,d=t.tableActive,p=t.insertColumnButtonIndex,f=t.insertRowButtonIndex;return n!==e.tableRef||p!==e.insertColumnButtonIndex||f!==e.insertRowButtonIndex||u!==e.tableHeight||d!==e.tableActive||r!==e.isInDanger||o!==e.isResizing||c!==e.hoveredRows||i!==e.isHeaderRowEnabled||a!==e.isHeaderColumnEnabled||s!==e.isNumberColumnEnabled||Object(N.c)(l,e.selection)},t.prototype.render=function(){var e=this.props,t=e.editorView,n=e.tableRef,r=e.isInDanger,i=e.isResizing,a=e.isNumberColumnEnabled,s=e.isHeaderColumnEnabled,c=e.isHeaderRowEnabled,l=e.tableActive,u=e.hasHeaderRow,d=e.hoveredRows,p=e.insertColumnButtonIndex,f=e.insertRowButtonIndex;return n?o.createElement("div",{onMouseDown:function(e){return e.preventDefault()}},a?o.createElement(A,{editorView:t,hoverRows:this.hoverRows,tableRef:n,tableActive:l,hoveredRows:d,hasHeaderRow:u,isInDanger:r,isResizing:i,selectRow:this.selectRow}):null,o.createElement(T,{editorView:t,tableRef:n,isInDanger:r,isResizing:i,isHeaderColumnEnabled:s,isHeaderRowEnabled:c,insertColumnButtonIndex:p,insertRowButtonIndex:f,hoveredRows:d}),o.createElement(P,{editorView:t,tableRef:n,hoverRows:this.hoverRows,hoveredRows:d,isInDanger:r,isResizing:i,selectRow:this.selectRow,insertRowButtonIndex:f})):null},t}(o.Component),L=function(e,t,n,r,o){void 0===n&&(n=[]);var i=[];return(Object(d.isColumnSelected)(e)(t)||n.indexOf(e)>-1&&!o)&&(i.push("active"),r&&i.push("danger")),i.join(" ")},z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.deleteColumns=function(e){e.preventDefault();var n=t.props.editorView,r=n.state,o=n.dispatch,i=Object(d.getSelectionRect)(r.selection);i&&Object(g.a)(f.e.BUTTON,i)(r,o),t.clearHoverSelection()},t.selectColumn=function(e,n){var r=t.props.editorView,o=r.state,i=r.dispatch;11===a.a.ie_version&&r.dom.blur(),Object(R.g)(e,n)(o,i)},t.hoverColumns=function(e,n){var r=t.props.editorView,o=r.state,i=r.dispatch;Object(h.b)(e,n)(o,i)},t.clearHoverSelection=function(){var e=t.props.editorView,n=e.state,r=e.dispatch;Object(h.a)()(n,r)},t.insertColumn=function(e){var n=t.props.editorView,r=n.state,o=n.dispatch;Object(g.e)(f.e.BUTTON,e)(r,o)},t}return r.__extends(t,e),t.prototype.shouldComponentUpdate=function(e){var t=this.props,n=t.tableRef,r=t.selection,o=t.numberOfColumns,i=t.hoveredColumns,a=t.insertColumnButtonIndex,s=t.isInDanger,c=t.isResizing;if(e.tableRef){var l=e.tableRef.parentNode.firstChild;if(Math.abs(l.offsetWidth-e.tableRef.offsetWidth)>1)return!0}return n!==e.tableRef||a!==e.insertColumnButtonIndex||s!==e.isInDanger||c!==e.isResizing||o!==e.numberOfColumns||i!==e.hoveredColumns||Object(N.c)(r,e.selection)},t.prototype.render=function(){var e=this,t=this.props,n=t.editorView,r=t.tableRef,i=t.insertColumnButtonIndex,a=t.hoveredColumns,s=t.isInDanger,c=t.isResizing;if(!r||!r.querySelector("tr"))return null;var l=n.state.selection,u=function(e){var t=e.state.selection,n=[],r=Object(d.findTable)(t);if(r)for(var o=p.TableMap.get(r.node),i=e.domAtPos.bind(e),a=0;a<o.width;a++){var s=Object(d.getCellsInColumn)(a)(t)[0];if(s){var c=Object(d.findDomRefAtPos)(s.pos,i),l=c.getBoundingClientRect();n[a]=(l?l.width:c.offsetWidth)+1,a+=s.node.attrs.colspan-1}}return n}(n),f=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];if(o){for(var i=e.length,a=n+1,s=e.length;a<s;a++)if(e[a]){i=a;break}t.push({startIndex:n,endIndex:i,width:o})}}return t}(u),h=function(e,t){var n=Object(d.getSelectionRect)(t);if(!n)return null;for(var r=0,o=0,i=0;i<n.left;i++)(s=e[i])&&(o+=s-1);var a=[];for(i=n.left;i<n.right;i++){var s;(s=e[i])&&(r+=s,a.push(i))}return{left:o+r/2-y.d/2,indexes:a}}(u,l);return o.createElement("div",{className:m.a.COLUMN_CONTROLS},o.createElement("div",{className:m.a.COLUMN_CONTROLS_INNER},o.createElement(o.Fragment,null,f.map(function(t){var n=t.startIndex,u=t.endIndex,f=t.width;return o.createElement("div",{className:m.a.COLUMN_CONTROLS_BUTTON_WRAP+" "+L(n,l,a,s,c),key:n,style:{width:f},onMouseDown:function(e){return e.preventDefault()}},o.createElement("button",{type:"button",className:m.a.CONTROLS_BUTTON,onClick:function(t){return e.selectColumn(n,t.shiftKey)},onMouseOver:function(){return e.hoverColumns([n])},onMouseOut:e.clearHoverSelection},!Object(d.isCellSelection)(l)&&o.createElement(o.Fragment,null,o.createElement("div",{className:m.a.CONTROLS_BUTTON_OVERLAY,"data-index":n}),o.createElement("div",{className:m.a.CONTROLS_BUTTON_OVERLAY,"data-index":u}))),function(e,t){var n=Object(d.getSelectionRect)(t);return!(n&&t instanceof p.CellSelection&&t.isColSelection()&&!Object(d.isTableSelected)(t)&&n.right-e==e-n.left)}(u,l)&&o.createElement(j,{type:"column",tableRef:r,index:u,showInsertButton:!c&&i===u,onMouseDown:function(){return e.insertColumn(u)}}))}),function(e){return!!(!Object(d.isTableSelected)(e)&&e instanceof p.CellSelection&&e.isColSelection())}(l)&&h&&o.createElement(I,{key:"delete",removeLabel:w.a.removeColumns,style:{left:h.left},onClick:this.deleteColumns,onMouseEnter:function(){return e.hoverColumns(h.indexes,!0)},onMouseLeave:this.clearHoverSelection}))))},t}(o.Component),B=n("D4/y"),F=n("TKSH"),q=n("yxov"),W=n("hN8D"),U=n("cXlQ");n.d(t,"b",function(){return G});var H=11===a.a.ie_version,V=function(e){function t(t){var n=e.call(this,t)||this;n.state={scroll:0,tableContainerWidth:"inherit",parentWidth:void 0},n.handleScroll=function(e){n.wrapper&&e.target===n.wrapper&&n.setState({scroll:n.wrapper.scrollLeft})},n.handleTableResizing=function(){var e=n.props,t=e.node,r=e.containerWidth,o=e.options,i=n.node,a=i.attrs,s=a.layout!==t.attrs.layout&&a.__autoSize===t.attrs.__autoSize,c=n.getParentNodeWidth(),l=c&&c!==n.state.parentWidth,u=n.tableNodeLayoutSize(t,r.width,o);(s||l||a.isNumberColumnEnabled!==t.attrs.isNumberColumnEnabled||Object(U.i)(t,i)||u!==n.layoutSize)&&(n.scaleTable({parentWidth:c,layoutChanged:s}),n.updateParentWidth(c)),n.updateTableContainerWidth(),n.node=t,n.containerWidth=r,n.layoutSize=u},n.scaleTable=function(e){var t=n.props,o=t.view,i=t.node,a=t.getPos,s=t.containerWidth,c=t.options,l=o.state,u=o.dispatch,d=o.domAtPos.bind(o),p=s.width;n.frameId&&window&&window.cancelAnimationFrame(n.frameId),Object(B.c)(n.table,r.__assign({},e,{node:i,prevNode:n.node||i,start:a()+1,containerWidth:p,previousContainerWidth:n.containerWidth.width||p},c),d)(l,u)},n.handleAutoSize=function(){if(n.table){var e=n.props,t=e.view,r=e.node,o=e.getPos,i=e.options,a=e.containerWidth;Object(R.b)(t,r,n.table,o(),{dynamicTextSizing:i&&i.dynamicTextSizing||!1,containerWidth:a.width})}},n.handleWindowResize=function(){var e=n.props,t=e.node,r=e.containerWidth,o=n.tableNodeLayoutSize(t);if(!(r.width>o)){var i=n.getParentNodeWidth();n.frameId=n.scaleTableDebounced(i)}},n.updateTableContainerWidth=function(){var e=n.props,t=e.node,r=e.containerWidth,o=e.options;o&&!1===o.isBreakoutEnabled||n.setState(function(e){var n=Object(s.b)(t.attrs.layout,r.width);return o&&!1===o.isBreakoutEnabled&&"inherit"!==e.tableContainerWidth?{tableContainerWidth:"inherit"}:e.tableContainerWidth===n?null:{tableContainerWidth:n}})},n.getParentNodeWidth=function(){return Object(F.e)(n.props.getPos(),n.props.view.state,n.props.containerWidth,n.props.options&&n.props.options.isFullWidthModeEnabled)},n.updateParentWidth=function(e){n.setState({parentWidth:e})},n.tableNodeLayoutSize=function(e,t,r){return Object(F.d)(e.attrs.layout,t||n.props.containerWidth.width,r||n.props.options||{})},n.scaleTableDebounced=Object(i.a)(n.scaleTable),n.handleTableResizingDebounced=Object(i.a)(n.handleTableResizing),n.handleScrollDebounced=Object(i.a)(n.handleScroll),n.handleAutoSizeDebounced=Object(i.a)(n.handleAutoSize),n.handleWindowResizeDebounced=Object(i.a)(n.handleWindowResize);var o=t.options,a=t.containerWidth,c=t.node;n.node=c,n.containerWidth=a;var l=!!o&&o.dynamicTextSizing,u=!!o&&o.wasFullWidthModeEnabled;return n.layoutSize=n.tableNodeLayoutSize(c,a.width,{dynamicTextSizing:l,isFullWidthModeEnabled:u}),"execCommand"in document&&["enableObjectResizing","enableInlineTableEditing"].forEach(function(e){document.queryCommandSupported(e)&&document.execCommand(e,!1,"false")}),n}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.props.allowColumnResizing;e&&this.wrapper&&!H&&this.wrapper.addEventListener("scroll",this.handleScrollDebounced),e&&(window.addEventListener("resize",this.handleWindowResizeDebounced),this.updateTableContainerWidth(),this.frameId=this.handleTableResizingDebounced(this.props))},t.prototype.componentWillUnmount=function(){this.wrapper&&!H&&this.wrapper.removeEventListener("scroll",this.handleScrollDebounced),this.handleScrollDebounced.cancel(),this.props.allowColumnResizing&&window.removeEventListener("resize",this.handleWindowResizeDebounced),this.frameId&&window&&window.cancelAnimationFrame(this.frameId)},t.prototype.componentDidUpdate=function(e){if(G(this.wrapper,this.table,this.rightShadow),this.props.node.attrs.__autoSize)this.handleAutoSizeDebounced();else if(this.props.allowColumnResizing&&this.table){if(Object(U.h)(this.props.node,e.node)||Object(U.i)(this.props.node,e.node)){var t=this.props.view;Object(q.c)(this.table,this.props.node),Object(W.c)(t.state)}this.frameId=this.handleTableResizingDebounced(e)}},t.prototype.render=function(){var e,t=this,n=this.props,r=n.view,i=n.node,a=n.pluginState,s=n.tableResizingPluginState,l=n.width,d=a.pluginConfig.allowControls,p=void 0===d||d,f=Object(M.d)(r.state),h=f.isInDanger,g=f.hoveredColumns,v=f.hoveredRows,b=f.insertColumnButtonIndex,y=f.insertRowButtonIndex,w=this.table||void 0,O=this.table===a.tableRef,E=!!s&&!!s.dragging,x=this.state.scroll,k=[o.createElement("div",{key:0,className:m.a.ROW_CONTROLS_WRAPPER+" "+(x>0?m.a.TABLE_LEFT_SHADOW:"")},o.createElement(D,{editorView:r,tableRef:w,tableActive:O,hoveredRows:v,isInDanger:h,isResizing:E,isNumberColumnEnabled:i.attrs.isNumberColumnEnabled,isHeaderColumnEnabled:a.isHeaderColumnEnabled,isHeaderRowEnabled:a.isHeaderRowEnabled,hasHeaderRow:Object(U.d)(r.state,i),selection:r.state.selection,tableHeight:w?w.offsetHeight:void 0,insertColumnButtonIndex:b,insertRowButtonIndex:y}))],C=[o.createElement("div",{key:0,className:m.a.COLUMN_CONTROLS_WRAPPER},o.createElement(z,{editorView:r,tableRef:w,hoveredColumns:g,isInDanger:h,isResizing:E,selection:r.state.selection,numberOfColumns:i.firstChild.childCount,insertColumnButtonIndex:b}))];return o.createElement("div",{style:{width:this.state.tableContainerWidth},className:u()(m.a.TABLE_CONTAINER,(e={},e[m.a.WITH_CONTROLS]=O,e["less-padding"]=l<c.q,e)),"data-number-column":i.attrs.isNumberColumnEnabled,"data-layout":i.attrs.layout},p&&k,o.createElement("div",{className:u()(m.a.TABLE_NODE_WRAPPER),ref:function(e){t.wrapper=e,t.props.contentDOM(e||void 0),e&&(t.table=e.querySelector("table"))}},p&&C),o.createElement("div",{ref:function(e){t.rightShadow=e},className:m.a.TABLE_RIGHT_SHADOW}))},t}(o.Component),G=function(e,t,n){if(t&&e&&n){var r=t.offsetWidth-e.offsetWidth;n.style.display=r>0&&r>e.scrollLeft?"block":"none"}};t.a=V},"4R/P":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){e.stopPropagation()}},"4Toj":function(e,t,n){var r=n("54Wo");e.exports=function(e,t){var n=r(e,t)/1e3;return n>0?Math.floor(n):Math.ceil(n)}},"54Wo":function(e,t,n){var r=n("yNUO");e.exports=function(e,t){var n=r(e),o=r(t);return n.getTime()-o.getTime()}},"5Df5":function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return f}),n.d(t,"d",function(){return h}),n.d(t,"c",function(){return m});var r,o=n("b/sn"),i=n("mG1W"),a=n("JYy9"),s=n("9N/3"),c=n("fVm0"),l=n("COqE"),u=n("dXC2"),d=((r={})[a.a.LEFT]=-1,r[a.a.RIGHT]=1,r[a.a.UP]=-1,r[a.a.DOWN]=1,r[a.a.BACKWARD]=-1,r[a.a.FORWARD]=1,r);var p=function(e,t){return function(n,r,u){var p=n.doc,f=n.schema,h=n.selection,m=n.tr,g=Object(a.b)(e)?h.$from:h.$to,v=h.empty;if(h instanceof o.TextSelection){if(!t(e.toString()))return!1;if(e===a.a.UP&&!Object(l.d)(n)&&Object(c.d)(p,f,g,-1)||e===a.a.DOWN&&(Object(l.f)(n)||Object(c.d)(p,f,g,1)))return!1;g=p.resolve(Object(a.b)(e)?g.before():g.after()),v=!1}if(h instanceof o.NodeSelection&&(e===a.a.UP||e===a.a.DOWN))return!1;if(!function(e,t){var n=t.doc,r=t.schema,i=t.selection,s=Object(a.b)(e)?i.$from:i.$to;if(i instanceof o.TextSelection){if((e===a.a.UP&&!Object(l.d)(t)||e===a.a.DOWN&&!Object(l.f)(t))&&(u=Object(c.b)(n,s,r,d[e])))return!1;if(e===a.a.LEFT||e===a.a.RIGHT){var u=Object(c.b)(n,s,r,d[e]),p=r.nodes.mediaSingle;if(u&&u.type===p&&("wrap-right"===u.attrs.layout||"wrap-left"===u.attrs.layout))return!1}}if(i instanceof o.NodeSelection&&(e===a.a.LEFT||e===a.a.RIGHT)){var f=n.nodeAt(i.$from.pos);if(p=r.nodes.mediaSingle,f&&f.type===p&&("wrap-right"===f.attrs.layout||"wrap-left"===f.attrs.layout))return!1}return!0}(e,n))return!1;if(h instanceof s.a&&Object(c.e)(Object(a.b)(e)?g.nodeBefore:g.nodeAfter)&&(Object(a.b)(e)&&h.side===s.c.LEFT||Object(a.c)(e)&&h.side===s.c.RIGHT))return r&&r(m.setSelection(new s.a(g,h.side===s.c.RIGHT?s.c.LEFT:s.c.RIGHT)).scrollIntoView()),!0;if(u){var b=u.domAtPos.bind(u),y=Object(i.findDomRefAtPos)(g.pos,b);if(y&&y.textContent===l.a)return!1}var w=s.a.findFrom(g,Object(a.b)(e)?-1:1,v);return!!w&&(Object(c.e)(Object(a.c)(e)?w.$from.nodeBefore:w.$from.nodeAfter)?(r&&r(m.setSelection(w).scrollIntoView()),!0):(r&&r(m.setSelection(new s.a(w.$from,Object(a.c)(e)?s.c.LEFT:s.c.RIGHT)).scrollIntoView()),!0))}},f=function(e){return function(t,n){if(t.selection instanceof s.a){var r=t.selection,c=r.$from,l=r.$anchor,u=t.tr;if(Object(a.b)(e)){if("left"===t.selection.side)return u.setSelection(new s.a(l,s.c.RIGHT)),n&&n(u),!0;u=Object(i.removeNodeBefore)(t.tr)}else c.nodeAfter&&(u=u.delete(c.pos,c.pos+c.nodeAfter.nodeSize));return n&&n(u.setSelection(o.Selection.near(u.doc.resolve(u.mapping.map(t.selection.$from.pos)))).scrollIntoView()),!0}return!1}},h=function(e,t){return void 0===t&&(t=s.c.LEFT),function(n,r){if(e>n.doc.content.size)return!1;var o=n.doc.resolve(e);return!!s.a.valid(o)&&(r&&r(n.tr.setSelection(new s.a(o,t))),!0)}},m=function(e,t,n,r){return function(i,a){if(!u.b.get(i))return!1;var l=function(e,t,n,r){var o=t.getBoundingClientRect();if(e.clientY<o.top)return{position:0,side:s.c.LEFT};if(o.left>0){var i=n({left:o.left,top:e.clientY});if(i&&i.inside>-1){var a=r.doc.resolve(i.inside).before(1),c=e.clientX<o.left?s.c.LEFT:s.c.RIGHT,l=void 0;if(c===s.c.LEFT)l=a;else{var u=r.doc.nodeAt(a);u&&(l=a+u.nodeSize)}return{position:l,side:c}}}return null}(e,t,n,i);if(!l)return!1;var d=void 0!==l.position?i.doc.resolve(l.position):null;if(null===d)return!1;if((l.side===s.c.LEFT?Object(c.e)(d.nodeAfter):Object(c.e)(d.nodeBefore))&&s.a.valid(d))return i.selection instanceof s.a&&a&&a(i.tr.setSelection(o.Selection.near(d))),a&&a(i.tr.setSelection(new s.a(d,l.side))),!0;if(!1===r){var p=o.Selection.findFrom(d,l.side===s.c.LEFT?1:-1,!0);if(p)return a&&a(i.tr.setSelection(p)),!0}return!1}}},"5XQs":function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("MVZn"),a=n.n(i),s=n("J4zp"),c=n.n(s),l=n("lwsE"),u=n.n(l),d=n("W8MJ"),p=n.n(d),f=n("a1gu"),h=n.n(f),m=n("Nsbk"),g=n.n(m),v=n("7W2i"),b=n.n(v),y=n("PJYZ"),w=n.n(y),O=n("lSNA"),E=n.n(O),x=n("2Zmx"),k=n("UFdQ"),C=n("o0o1"),S=n.n(C),j=n("yXPU"),T=n.n(j),M=n("ErOA"),_=n("drNp");function I(e,t,n){return P.apply(this,arguments)}function P(){return(P=T()(S.a.mark(function e(t,n,r){var o,i,s,c,l,u,d,p,f,h,m,g,v,b;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.config,i=this.dispatch,s=o.urls,c=o.onAddComment,l=this.createComment(t,n,r),u=l.localId,l&&i({type:x.a,payload:l}),d=Object(_.a)(r),p=this.getConversation(t),f=p.meta,h=p.createdAt,m=f&&f.path?{path:f.path}:void 0,e.next=11,fetch(Object(M.a)(s.commentSave(),{method:"POST",headers:M.b,body:JSON.stringify({content:{raw:d},parent:parseInt(n,10)?{id:n}:void 0,inline:m})}));case 11:if((g=e.sent).ok){e.next=14;break}throw Error(g.statusText);case 14:return e.next=16,g.json();case 16:return v=e.sent,b=Object(k.c)(v,t),i({type:x.b,payload:a()({},b,{localId:u})}),c&&c({conversationId:t,meta:f,numOfComments:Object(k.b)(p),createdAt:h}),e.abrupt("return",b);case 21:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var A=n("4iQ8");function N(e,t,n,r,o){return R.apply(this,arguments)}function R(){return(R=T()(S.a.mark(function e(t,n,r,o,i){var s,c,l,u,d,p,f,h,m,g,v;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.config,c=this.dispatch,l=s.urls,u=s.onAddComment,null===(d=a()({},r)).to&&delete d.to,null===d.from&&delete d.from,(p=this.createConversation(t,n,r,o,i))&&c({type:x.c,payload:a()({},p)}),f=Object(_.a)(n),h=Object.keys(d).length>0,e.next=11,fetch(Object(M.a)(l.commentSave(),{method:"POST",headers:M.b,body:JSON.stringify({content:{raw:f},inline:h?d:void 0})}));case 11:if((m=e.sent).ok){e.next=14;break}throw Error(m.statusText);case 14:return e.next=16,m.json();case 16:return g=e.sent,(v=Object(k.d)([g],i,t))&&(c({type:x.d,payload:v}),u&&u({conversationId:v.conversationId,meta:v.meta,numOfComments:Object(k.b)(v),createdAt:v.createdAt,createdBy:Object(A.a)(v)})),e.abrupt("return",v);case 20:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function D(e,t){return L.apply(this,arguments)}function L(){return(L=T()(S.a.mark(function e(t,n){var r,o,i,a,s,c,l,u;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.config,o=r.urls,i=r.onDeleteComment,e.next=4,fetch(Object(M.a)(o.commentDelete(n),{method:"DELETE",headers:M.b}));case 4:if((a=e.sent).ok){e.next=7;break}throw Error(a.statusText);case 7:return s=this.dispatch,c={commentId:n,conversationId:t,deleted:!0,document:{}},s({type:x.g,payload:c}),l=this.getConversation(t),u=l.meta,i&&i({conversationId:t,meta:u,numOfComments:Object(k.b)(l)}),e.abrupt("return",c);case 14:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function z(e,t,n){return B.apply(this,arguments)}function B(){return(B=T()(S.a.mark(function e(t,n,r){var o,i,s,c,l,u,d,p;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.config,i=this.dispatch,s=o.urls,(c=this.getComment(t,n))&&i({type:x.i,payload:a()({},c,{document:{adf:r}})}),l=Object(_.a)(r),e.next=7,fetch(Object(M.a)(s.commentUpdate(n),{method:"PUT",headers:M.b,body:JSON.stringify({content:{raw:l}})}));case 7:if((u=e.sent).ok){e.next=10;break}throw Error(u.statusText);case 10:return e.next=12,u.json();case 12:return d=e.sent,p=Object(k.c)(d,t),i({type:x.j,payload:p}),e.abrupt("return",p);case 16:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var F=function(e){function t(){var e,n;u()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=h()(this,(e=g()(t)).call.apply(e,[this].concat(o))),E()(w()(w()(n)),"addComment",I),E()(w()(w()(n)),"create",N),E()(w()(w()(n)),"deleteComment",D),E()(w()(w()(n)),"updateComment",z),n}return b()(t,e),p()(t,[{key:"getConversations",value:function(e){return(0,this.dispatch)({type:x.h,payload:e}),Promise.resolve(e)}},{key:"getConversation",value:function(e){var t=this.store.getState().conversations.filter(function(t){return t.conversationId===e});return c()(t,1)[0]}}],[{key:"getProvider",value:function(e){return new t(a()({},e,{user:e.user?Object(k.e)(e.user):null}))}}]),t}(x.f),q=n("M5Z1"),W=n("L2qB"),U=n("REs7"),H=n("IAlb"),V=n("JRPe"),G=Object(V.e)({continueTyping:{id:"frontbucket.global.mentions.continueTyping",defaultMessage:"Continue typing to search for a user"},noMatches:{id:"frontbucket.global.mentions.noMatches",defaultMessage:"Found no matches for {query}"},error:{id:"frontbucket.global.mentions.error",defaultMessage:"No results could be retrieved"}}),K=null,$=null,J=null,Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={id:t?"{".concat(e.mention_id,"}"):e.username,avatarUrl:e.avatar_url,name:e.display_name,mentionName:e.username,nickname:void 0,lozenge:e.is_teammate?"teammate":""};return t&&Object(U.b)(e.display_name,e.nickname)&&(n.nickname=e.nickname),n},Q={build:function(e){var t=e.owner,n=e.slug,r=e.intl,o=e.usesCpusMentions;return K===t&&$===n&&J?J:(K=t,$=n,J=function(e){function i(){return u()(this,i),h()(this,g()(i).apply(this,arguments))}return b()(i,e),p()(i,[{key:"filter",value:(a=T()(S.a.mark(function e(i){var a,s,c,l,u,d,p;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i.length<3)){e.next=4;break}return a=r.formatMessage(G.continueTyping),this._notifyInfoListeners(a),e.abrupt("return");case 4:return s=H.a.ui.repositoryMentions(t,n,i),e.prev=5,e.next=8,fetch(Object(M.a)(s));case 8:if((c=e.sent).ok){e.next=12;break}throw l=r.formatMessage(G.error),new Error(l);case 12:return e.next=14,c.json();case 14:if(0!==(u=e.sent).length){e.next=19;break}return d=r.formatMessage(G.noMatches,{query:i}),this._notifyInfoListeners(d),e.abrupt("return");case 19:p=u.map(function(e){return Y(e,o)}),this._notifyListeners({mentions:p,query:i}),this._notifyAllResultsListeners({mentions:p,query:i}),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(5),this._notifyErrorListeners(e.t0.message);case 27:case"end":return e.stop()}},e,this,[[5,24]])})),function(e){return a.apply(this,arguments)})}]),i;var a}(W.a))}},X=n("EEyq");n.d(t,"a",function(){return ee});var Z=o.a.createContext({conversationProvider:null,additionalConversationProviders:q.b});t.b=Z;function ee(e){var t=e.areProfileCardsEnabled,n=e.user,r=e.urls,o=e.onAddComment,i=e.onDeleteComment,a=e.owner,s=e.slug,c=e.intl,l=e.usesCpusMentions,u=e.fabricConversations,d=F.getProvider({user:n,urls:r,onAddComment:o,onDeleteComment:i}),p=Q.build({owner:a,slug:s,intl:c,usesCpusMentions:!!l});if(t){var f=Object(X.a)({intl:c});q.b.setProvider("profilecardProvider",f)}return q.b.setProvider("mentionProvider",Promise.resolve(new p)),d.getConversations(u),{conversationProvider:d,additionalConversationProviders:q.b}}},"5aVi":function(e,t,n){"use strict";var r,o,i=n("mrSG"),a=n("q1tI"),s=n.n(a),c=n("L2qB"),l=n("UkFC"),u=n("JaVE"),d=n("b0Qh"),p=n("vOnD"),f=((r={})[l.b.SELF]={background:Object(u.a)({light:d.colors.B400,dark:d.colors.B200}),border:"transparent",text:Object(u.a)({light:d.colors.N20,dark:d.colors.DN30})},r[l.b.RESTRICTED]={background:"transparent",border:Object(u.a)({light:d.colors.N500,dark:d.colors.DN80}),text:Object(u.a)({light:d.colors.N500,dark:d.colors.DN100})},r[l.b.DEFAULT]={background:Object(u.a)({light:d.colors.N30A,dark:d.colors.DN80}),border:"transparent",text:Object(u.a)({light:d.colors.N500,dark:d.colors.DN800})},r),h=function(e,t){var n=f[e.mentionType][t];return"string"==typeof n?n:n(e)},m=p.default.span(o||(o=i.__makeTemplateObject(["\n  ",";\n"],["\n  ",";\n"])),function(e){return"\n  display: inline;\n  background: "+h(e,"background")+";\n  border: 1px solid "+h(e,"border")+";\n  border-radius: 20px;\n  color: "+h(e,"text")+";\n  cursor: pointer;\n  padding: 0 0.3em 2px 0.23em;\n  line-height: 1.714;\n  font-size: 1em;\n  font-weight: normal;\n  word-break: break-word;\n"}),g=n("35mH"),v=n("6p50"),b=n("X+7R"),y=function(e){return function(t,n,r,o,i){var a={action:n,actionSubject:t,eventType:"ui",attributes:{packageName:b.a,packageVersion:b.b,componentName:"mention",accessLevel:i,isSpecial:Object(l.h)(r),userId:o}},s=e(a);return s.fire(v.a),s}},w=function(e){return function(t,n,r){e&&e("atlassian.fabric.mention."+t,{accessLevel:r,isSpecial:Object(l.h)(n)})}},O=n("hd/K"),E=n("pVnL"),x=n.n(E),k=n("cDf5"),C=n.n(k),S=n("MVZn"),j=n.n(S),T=n("lwsE"),M=n.n(T),_=n("W8MJ"),I=n.n(_),P=n("a1gu"),A=n.n(P),N=n("Nsbk"),R=n.n(N),D=n("PJYZ"),L=n.n(D),z=n("7W2i"),B=n.n(z),F=n("lSNA"),q=n.n(F),W=n("17x9"),U=n.n(W),H=n("RIqP"),V=n.n(H),G=n("iWIM"),K=n.n(G),$=function(){function e(t){var n=this;M()(this,e),q()(this,"payload",void 0),q()(this,"clone",function(){return new e({payload:JSON.parse(JSON.stringify(n.payload))})}),this.payload=t.payload}return I()(e,[{key:"update",value:function(e){return"function"==typeof e?this.payload=e(this.payload):"object"===C()(e)&&(this.payload=j()({},this.payload,e)),this}}]),e}(),J=console.warn,Y=function(e){function t(e){var n;return M()(this,t),n=A()(this,R()(t).call(this,e)),q()(L()(n),"context",void 0),q()(L()(n),"handlers",void 0),q()(L()(n),"hasFired",void 0),q()(L()(n),"clone",function(){return n.hasFired?(J("Cannot clone an event after it's been fired."),null):new t({context:V()(n.context),handlers:V()(n.handlers),payload:JSON.parse(JSON.stringify(n.payload))})}),q()(L()(n),"fire",function(e){n.hasFired?J("Cannot fire an event twice."):(n.handlers.forEach(function(t){t(L()(n),e)}),n.hasFired=!0)}),n.context=e.context||[],n.handlers=e.handlers||[],n.hasFired=!1,n}return B()(t,e),I()(t,[{key:"update",value:function(e){return this.hasFired?(J("Cannot update an event after it's been fired."),this):K()(R()(t.prototype),"update",this).call(this,e)}}]),t}($),Q=function(e){function t(e){var n;return M()(this,t),n=A()(this,R()(t).call(this,e)),q()(L()(n),"originalEventProps",{}),q()(L()(n),"patchedEventProps",{}),q()(L()(n),"updatePatchedEventProps",function(e){var t=Object.keys(n.props.createEventMap).filter(function(t){return n.originalEventProps[t]!==e[t]});return t.length>0&&(n.patchedEventProps=j()({},n.patchedEventProps,n.mapCreateEventsToProps(t,e)),t.forEach(function(t){n.originalEventProps[t]=e[t]})),n.patchedEventProps}),q()(L()(n),"mapCreateEventsToProps",function(e,t){return e.reduce(function(e,r){var o=n.props.createEventMap[r],i=t[r];if(!["object","function"].includes(C()(o)))return e;return j()({},e,q()({},r,function(){var e="function"==typeof o?o(n.createAnalyticsEvent,t):n.createAnalyticsEvent(o);if(i){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];i.apply(void 0,a.concat([e]))}}))},{})}),q()(L()(n),"createAnalyticsEvent",function(e){var t=n.context,r=t.getAtlaskitAnalyticsEventHandlers,o=t.getAtlaskitAnalyticsContext,i="function"==typeof o&&o()||[],a="function"==typeof r&&r()||[];return new Y({context:i,handlers:a,payload:e})}),Object.keys(n.props.createEventMap).forEach(function(t){n.originalEventProps[t]=e.wrappedComponentProps[t]}),n.patchedEventProps=n.mapCreateEventsToProps(Object.keys(n.props.createEventMap),e.wrappedComponentProps),n}return B()(t,e),I()(t,[{key:"render",value:function(){var e=this.updatePatchedEventProps(this.props.wrappedComponentProps);return this.props.children({createAnalyticsEvent:this.createAnalyticsEvent,patchedEventProps:e})}}]),t}(a.Component);function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=s.a.forwardRef(function(n,r){return s.a.createElement(Q,{createEventMap:e,wrappedComponentProps:n},function(e){var o=e.createAnalyticsEvent,i=e.patchedEventProps;return s.a.createElement(t,x()({},n,i,{createAnalyticsEvent:o,ref:r}))})});return n.displayName="WithAnalyticsEvents(".concat(t.displayName||t.name,")"),n}}q()(Q,"contextTypes",{getAtlaskitAnalyticsEventHandlers:U.a.func,getAtlaskitAnalyticsContext:U.a.func}),q()(Q,"defaultProps",{createEventMap:{}});var Z=1e3,ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleOnClick=function(e){var n=t.props,r=n.id,o=n.text,i=n.onClick;i&&i(r,o,e)},t.handleOnMouseEnter=function(e){var n=t.props,r=n.id,o=n.text,i=n.onMouseEnter,a=n.onHover;i&&i(r,o,e),t.hoverTimeout=window.setTimeout(function(){a&&a(),t.hoverTimeout=void 0},Z)},t.handleOnMouseLeave=function(e){var n=t.props,r=n.id,o=n.text,i=n.onMouseLeave;i&&i(r,o,e),t.hoverTimeout&&clearTimeout(t.hoverTimeout)},t.getMentionType=function(){var e=t.props,n=e.accessLevel;return e.isHighlighted?l.b.SELF:Object(l.f)(n)?l.b.RESTRICTED:l.b.DEFAULT},t}return i.__extends(t,e),t.prototype.componentWillUnmount=function(){this.hoverTimeout&&clearTimeout(this.hoverTimeout)},t.prototype.render=function(){var e=this.handleOnClick,t=this.handleOnMouseEnter,n=this.handleOnMouseLeave,r=this.props,o=r.text,i=r.id,s=r.accessLevel,c=this.getMentionType(),u=a.createElement(m,{mentionType:c,onClick:e,onMouseEnter:t,onMouseLeave:n},o||"@...");return a.createElement("span",{"data-mention-id":i,"data-access-level":s,spellCheck:!1},c===l.b.RESTRICTED?a.createElement(g.a,{name:o},u):u)},t}(a.PureComponent),te=X({onClick:function(e,t){var n=t.id,r=t.text,o=t.accessLevel,i=t.firePrivateAnalyticsEvent,a=y(e)("mention","selected",r,n,o);return w(i)("lozenge.select",r,o),a},onHover:function(e,t){var n=t.id,r=t.text,o=t.accessLevel,i=t.firePrivateAnalyticsEvent,a=y(e)("mention","hovered",r,n,o);return w(i)("lozenge.hover",r,o),a}})(ee),ne=Object(O.a)(te,{},{}),re=function(e){function t(t){var n=e.call(this,t)||this;return n.handleMentionProvider=function(e){var t=e.id,r=e.mentionProvider,o=e.text;r?r.then(function(e){var r={isHighlighted:e.shouldHighlightMention({id:t})};if(!o&&Object(c.b)(e)){var i=e.resolveMentionName(t);Object(l.e)(i)?i.then(function(e){n.setState({resolvedMentionName:n.processName(e)})}):r.resolvedMentionName=n.processName(i)}n.setState(r)}).catch(function(){n.setState({isHighlighted:!1})}):n.setState({isHighlighted:!1})},n.state={isHighlighted:!1},n}return i.__extends(t,e),t.prototype.componentDidMount=function(){this.handleMentionProvider(this.props)},t.prototype.componentWillReceiveProps=function(e){var t=this.props;t.id===e.id&&t.mentionProvider===e.mentionProvider||this.handleMentionProvider(e)},t.prototype.processName=function(e){var t;switch(e.status){case l.a.OK:t=e.name||"";break;case l.a.SERVICE_ERROR:t="Error loading name";break;case l.a.UNKNOWN:default:t="Unknown"}return"@"+t},t.prototype.render=function(){var e=this.props,t=this.state;return a.createElement(ne,{id:e.id,text:t.resolvedMentionName||e.text,isHighlighted:t.isHighlighted,accessLevel:e.accessLevel,onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave})},t}(a.PureComponent);t.a=re},"5eIF":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M7 7h10a1 1 0 0 1 0 2H7a1 1 0 1 1 0-2zm0 4h10a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm0 4h5a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorAlignLeftIcon";var c=s;t.default=c},"5ezd":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("pkjM"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill="currentColor" fill-rule="evenodd"><rect x="10" y="15" width="8" height="2" rx="1"/><rect x="6" y="15" width="2" height="2" rx="1"/><rect x="10" y="11" width="8" height="2" rx="1"/><rect x="6" y="11" width="2" height="2" rx="1"/><rect x="10" y="7" width="8" height="2" rx="1"/><rect x="6" y="7" width="2" height="2" rx="1"/></g></svg>'},e))};s.displayName="BulletListIcon";var c=s;t.default=c},"5oxn":function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"d",function(){return h}),n.d(t,"e",function(){return m}),n.d(t,"g",function(){return g}),n.d(t,"f",function(){return v}),n.d(t,"h",function(){return b}),n.d(t,"B",function(){return y}),n.d(t,"r",function(){return w}),n.d(t,"n",function(){return O}),n.d(t,"p",function(){return E}),n.d(t,"k",function(){return x}),n.d(t,"i",function(){return k}),n.d(t,"j",function(){return C}),n.d(t,"A",function(){return S}),n.d(t,"s",function(){return j}),n.d(t,"t",function(){return T}),n.d(t,"y",function(){return M}),n.d(t,"z",function(){return _}),n.d(t,"u",function(){return I}),n.d(t,"l",function(){return P}),n.d(t,"c",function(){return A}),n.d(t,"C",function(){return N}),n.d(t,"m",function(){return R}),n.d(t,"x",function(){return D}),n.d(t,"b",function(){return L}),n.d(t,"o",function(){return z}),n.d(t,"q",function(){return B}),n.d(t,"v",function(){return F}),n.d(t,"w",function(){return q}),n.d(t,"G",function(){return W}),n.d(t,"E",function(){return U}),n.d(t,"F",function(){return H}),n.d(t,"H",function(){return V}),n.d(t,"D",function(){return G});var r=n("b0Qh"),o=n("gxo2"),i=(r.colors.B100,r.colors.B300,r.colors.B400,r.colors.B50,r.colors.B75,r.colors.N0,r.colors.N20),a=r.colors.N40,s=r.colors.N50,c=(r.colors.N100,r.colors.N500,r.colors.N700,r.colors.N900,r.colors.R300),l=r.colors.R400,u=r.colors.R50,d=(r.colors.R75,r.colors.DN50),p=r.colors.DN70,f=(Object(o.g)(),a),h=u,m=c,g=1,v=2,b=l,y=1,w=2,O=9999,E=o.m.blanket(),x=o.m.layer(),k=x+10,C=x+5,S=11,j=s,T=p,M=i,_=d,I=.5,P=680,A=680,N=960,R=1800,D=42,L=96,z=32,B=720,F=48,q=128,W=1024,U=1.33,H=function(e){var t=e.theme;return t&&t.baseFontSize?t.baseFontSize:Object(o.j)()},V=function(e){return function(t){var n=t.theme;return H({theme:n})*e}},G=1.143},"60f9":function(e,t,n){"use strict";var r,o=n("mrSG"),i=n("b/sn"),a=n("7UM5"),s=n("COqE");function c(e){return e.toLowerCase().replace(/\s/g,"")}function l(e){return!e.includes(" ")}function u(e,t){return"number"==typeof e&&"number"==typeof t?e-t:String.prototype.localeCompare.call(e,t)}function d(e,t,n,i){return void 0===i&&(i=u),function(a,s){var c=o.__read([e(a),e(s),t(a),t(s)],4),l=c[0],u=c[1],d=c[2],p=c[3],f=i(d,p);return n===r.PRIORITY_FIRST&&f?f:n===r.PRIORITY_FIRST?i(l,u):f}}function p(e,t){return c(e).split("").reduce(function(e,n,r){var o=e.distance,i=e.offset;if(o===1/0)return e;var a=t.indexOf(n,i);return-1===a?{distance:1/0,offset:0}:{offset:a+1,distance:o+(r!==a?Math.abs(r-a):0)}},{distance:0,offset:0}).distance}function f(e,t){return t.sort(d(function(e){return e.title},function(e){return e.priority||Number.POSITIVE_INFINITY},r.PRIORITY_FIRST)).map(function(t){return{item:t,distance:(n=t,r=n.keywords,o=n.title,r?[o].concat(r):[o]).reduce(function(t,n){var r=function(e,t){if(""===e)return 0;if(!l(e))return p(e,c(t));var n=c(e);return t.replace(/\s/g," ").toLowerCase().split(" ").filter(function(e){return n[0]===e[0]}).map(function(e){return c(e)}).reduce(function(e,t){return Math.min(e,p(n,t))},1/0)}(e,n);return r<t?r:t},1/0)};var n,r,o}).filter(function(t){var n=t.distance;return l(e)?n!==1/0:0===n}).sort(d(function(e){return e.distance},function(e){return e.item.priority||Number.POSITIVE_INFINITY},r.PRIORITY_LAST)).map(function(e){return e.item})}!function(e){e.PRIORITY_FIRST="first",e.PRIORITY_LAST="last"}(r||(r={}));var h=n("96nE"),m=n("hkcA");n.d(t,"b",function(){return y});var g={name:"quickInsert",pmPlugins:function(e){return[{name:"quickInsert",plugin:function(t){var n=t.providerFactory;return function(e,t){return new i.Plugin({key:y,state:{init:function(){return{items:e||[]}},apply:function(e,t){var n=e.getMeta(y);return n?o.__assign({},t,{provider:n}):t}},view:function(e){var n=function(t,n){n&&w(n.then(function(e){return e.getItems()}))(e.state,e.dispatch)};return t.subscribe("quickInsertProvider",n),{destroy:function(){t.unsubscribe("quickInsertProvider",n)}}}})}(e,n)}}]},pluginsOptions:{typeAhead:{trigger:"/",getItems:function(e,t,n,r,i,c){var l=r.prevActive,u=r.queryChanged;a.a.trackEvent("atlassian.editor.quickinsert.query"),!l&&u&&c(h.a,{payload:{action:m.a.INVOKED,actionSubject:m.b.TYPEAHEAD,actionSubjectId:m.c.TYPEAHEAD_QUICK_INSERT,attributes:{inputMethod:m.e.KEYBOARD},eventType:m.d.UI}});var d=y.getState(t),p=b(d.items,n),g=function(){return f(e,p)};return d.provider?d.provider.then(function(t){return f(e,Object(s.l)(o.__spread(p,t),function(e){return e.title}))}).catch(function(e){return console.error(e),g()}):g()},selectItem:function(e,t,n){return a.a.trackEvent("atlassian.editor.quickinsert.select",{item:t.title}),t.action(n,e)}}}},v=(t.a=g,{}),b=function(e,t){return v[t.locale]||(v[t.locale]=e.reduce(function(e,n){return"function"==typeof n?e.concat(n(t)):e.concat(n)},[])),v[t.locale]},y=new i.PluginKey("quickInsertPluginKey"),w=function(e){return function(t,n){return n&&n(t.tr.setMeta(y,e)),!0}}},"69ki":function(e,t,n){e.exports=n.p+"pipelines-promotion-icon.acb4e241eab5.png"},"6DAA":function(e,t,n){var r=n("kOWh");e.exports=function(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return o[e.getDay()]},dddd:function(e){return i[e.getDay()]},A:function(e){return e.getHours()/12>=1?a[1]:a[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return function(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}(n[e](t))}}),{formatters:l,formattingTokensRegExp:r(l)}}},"6Fzs":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M7.356 10.942a.497.497 0 0 0-.713 0l-.7.701a.501.501 0 0 0-.003.71l3.706 3.707a.501.501 0 0 0 .705.003l7.712-7.712a.493.493 0 0 0-.006-.708l-.7-.7a.504.504 0 0 0-.714 0l-6.286 6.286a.506.506 0 0 1-.713 0l-2.288-2.287z" fill="currentColor"/></svg>'},e))};s.displayName="EditorDoneIcon";var c=s;t.default=c},"6m61":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("mrSG"),o=n("q1tI"),i=function(e){function t(t){var n=e.call(this,t)||this;n.handleProvider=function(e,t){n.setState(function(n){var o,i=n.providers;return{providers:r.__assign({},i,(o={},o[e]=t,o))}})};var o={};return n.props.providers.forEach(function(e){o[e]=void 0}),n.state={providers:o},n}return r.__extends(t,e),t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.providers,r=t.providerFactory;n.forEach(function(t){r.subscribe(t,e.handleProvider)})},t.prototype.componentWillUnmount=function(){var e=this,t=this.props,n=t.providers,r=t.providerFactory;n.forEach(function(t){r.unsubscribe(t,e.handleProvider)})},t.prototype.render=function(){var e=this.state;return(0,this.props.renderNode)(e.providers)},t}(o.PureComponent)},"6p50":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="fabric-elements"},"6rBg":function(e,t,n){"use strict";var r=n("pVnL"),o=n.n(r),i=n("lwsE"),a=n.n(i),s=n("W8MJ"),c=n.n(s),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),p=n.n(d),f=n("7W2i"),h=n.n(f),m=n("PJYZ"),g=n.n(m),v=n("lSNA"),b=n.n(v),y=n("q1tI"),w=n.n(y),O=n("JRPe"),E=n("abTI"),x=n("grSP"),k=n("wTIg"),C=n("b0Qh"),S=n("gxo2"),j=C.colors.N500,T=Object(k.a)("div",{target:"enrhfqu0"})("display:flex;height:100vh;justify-content:center;align-items:center;color:",j,";"),M=Object(k.a)("div",{target:"enrhfqu1"})({name:"xi606m",styles:"text-align:center;"}),_=Object(k.a)("div",{target:"enrhfqu2"})("margin-top:",4*Object(S.l)(),"px;"),I=Object(k.a)("div",{target:"enrhfqu3"})("width:",10*Object(S.l)(),"px;margin:auto;"),P=Object(O.e)({alertSymbol:{id:"frontbucket.globalErrorBoundary.alertSymbol",defaultMessage:"An alert symbol, indicating a general error."},notice:{id:"frontbucket.globalErrorBoundary.notice",defaultMessage:"We stumbled a bit here."},keepsHappening:{id:"frontbucket.globalErrorBoundary.keepsHappening",defaultMessage:"Try again or {supportResourcesLink} if this keeps happening."},supportResourcesLink:{id:"frontbucket.globalErrorBoundary.supportResourcesLink",defaultMessage:"contact support"},tryAgainButton:{id:"frontbucket.globalErrorBoundary.tryAgainButton",defaultMessage:"Try again"}}),A=n("92Wg"),N=n.n(A),R=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(o))),b()(g()(g()(n)),"state",{hasError:!1}),n}return h()(t,e),c()(t,[{key:"componentDidCatch",value:function(e){E.captureException(e)}},{key:"render",value:function(){var e=this.state.hasError,t=this.props.children;return e?w.a.createElement(T,null,w.a.createElement(M,null,w.a.createElement(I,null,w.a.createElement("img",{alt:P.alertSymbol.defaultMessage,src:N.a})),w.a.createElement(O.a,o()({},P.notice,{tagName:"p"})),w.a.createElement(O.a,o()({},P.keepsHappening,{values:{supportResourcesLink:w.a.createElement("a",{href:"https://support.atlassian.com/bitbucket-cloud/"},w.a.createElement(O.a,P.supportResourcesLink))},tagName:"p"})),w.a.createElement(_,null,w.a.createElement(x.a,{onClick:function(){return window.location.reload(!0)}},w.a.createElement(O.a,P.tryAgainButton))))):t}}],[{key:"getDerivedStateFromError",value:function(e){return console.error(e),{hasError:!0}}}]),t}(y.PureComponent);n.d(t,"a",function(){return R})},"74nx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M8.292 10.293a1.009 1.009 0 0 0 0 1.419l2.939 2.965c.218.215.5.322.779.322s.556-.107.769-.322l2.93-2.955a1.01 1.01 0 0 0 0-1.419.987.987 0 0 0-1.406 0l-2.298 2.317-2.307-2.327a.99.99 0 0 0-1.406 0z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="ChevronDownIcon";var c=s;t.default=c},"755M":function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"b",function(){return p});var r=n("mrSG"),o=n("/IjO"),i=n("mG1W"),a=n("tQKV"),s=function(e){switch(e){case"default":return"wide";case"wide":return"full-width";case"full-width":default:return"default"}},c=function(e,t){return Object(o.toggleHeader)("row")(e,function(n){return Object(a.a)({type:"TOGGLE_HEADER_ROW"},function(){return n})(e,t)})},l=function(e,t){return Object(o.toggleHeader)("column")(e,function(n){return Object(a.a)({type:"TOGGLE_HEADER_COLUMN"},function(){return n})(e,t)})},u=function(e,t){var n=e.tr,o=Object(i.findTable)(e.selection),a=o.node,s=o.pos;return n.setNodeMarkup(s,e.schema.nodes.table,r.__assign({},a.attrs,{isNumberColumnEnabled:!a.attrs.isNumberColumnEnabled})),t&&t(n),!0},d=function(e,t){var n=Object(i.findTable)(e.selection);if(!n)return!1;var o=s(n.node.attrs.layout);return t&&t(e.tr.setNodeMarkup(n.pos,e.schema.nodes.table,r.__assign({},n.node.attrs,{layout:o}))),!0},p=function(){return Object(a.a)({type:"TOGGLE_CONTEXTUAL_MENU"},function(e){return e.setMeta("addToHistory",!1)})}},"7P7x":function(e,t,n){"use strict";n.d(t,"a",function(){return v}),n.d(t,"d",function(){return b}),n.d(t,"g",function(){return y}),n.d(t,"c",function(){return w}),n.d(t,"b",function(){return O}),n.d(t,"j",function(){return E}),n.d(t,"p",function(){return x}),n.d(t,"o",function(){return k}),n.d(t,"m",function(){return C}),n.d(t,"n",function(){return S}),n.d(t,"l",function(){return j}),n.d(t,"k",function(){return T}),n.d(t,"e",function(){return M}),n.d(t,"f",function(){return _}),n.d(t,"h",function(){return I}),n.d(t,"i",function(){return P});var r,o,i,a,s,c,l,u,d=n("GP6N"),p=n("gxo2"),f=n("b0Qh"),h=n("Zkmr"),m=n("WAI7"),g=n("Ntz7"),v="emoji-picker-active",b="emoji-picker-disable",y=Object(d.b)({display:"flex",flexDirection:"column",justifyContent:"space-between",background:"white",border:h.c+" 1px solid",borderRadius:Object(p.f)()+"px",boxShadow:h.d,height:g.i+"px",width:g.j+"px",marginBottom:"8px",minWidth:g.j+"px"}),w=Object(d.b)({flex:"0 0 auto",backgroundColor:f.colors.N30,$nest:(r={ul:{listStyle:"none",margin:"0 4px",padding:"3px 0",display:"flex",flexDirection:"row",justifyContent:"space-around"},li:{display:"inline-block",margin:0,padding:0,$nest:{button:{verticalAlign:"middle"}}}},r[".emoji-picker-add-button"]={color:f.colors.N200,margin:"0 0 0 5px",verticalAlign:"middle"},r)}),O=Object(d.b)({backgroundColor:"transparent",border:0,color:f.colors.N100A,cursor:"pointer",margin:"2px 0",padding:0,transition:"color 0.2s ease",$nest:(o={},o["&::-moz-focus-inner"]={border:"0 none",padding:0},o["&."+v]={color:f.colors.B300,$nest:(i={},i["&:hover"]={color:f.colors.B300},i)},o["&:hover"]={color:f.colors.B100},o["&."+b]={color:f.colors.N50,cursor:"default",$nest:(a={},a["&:hover"]={color:f.colors.N50},a)},o["&:focus"]={outline:"0"},o)}),E=Object(d.b)({display:"flex",flexDirection:"column",flex:"1 1 auto",height:"0"}),x=Object(d.b)({$nest:{"&:focus":{outline:"none"}}}),k="search-icon",C="input",S=Object(d.b)({boxSizing:"border-box",padding:"10px",flex:"0 0 auto",$nest:(s={},s["."+k]={opacity:.5},s["."+C]={background:"transparent",border:0,boxSizing:"border-box",color:"inherit",cursor:"inherit",fontSize:"14px",outline:"none",padding:"1px 0 2px 10px",width:"100%",$nest:(c={},c["&:invalid"]={boxShadow:"none"},c["&::-ms-clear"]={display:"none"},c)},s)}),j=Object(d.b)({display:"flex",width:"100%",height:"150px",justifyContent:"center",alignItems:"center",$nest:{">div":{flex:"0 0 auto"}}}),T=Object(d.b)({marginLeft:"8px"}),M=Object(d.b)({boxSizing:"border-box",color:f.colors.N900,fontSize:"14px",padding:"5px 8px",textTransform:"lowercase",$nest:{"&:first-letter":{textTransform:"uppercase"}}}),_=Object(d.b)({display:"inline-block",textAlign:"center",width:"40px",$nest:(l={},l["&>."+m.p]={cursor:"pointer",padding:"8px",borderRadius:"5px",width:"24px",height:"24px",$nest:(u={"&>img":{position:"relative",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)",maxHeight:"24px",maxWidth:"24px",display:"block"}},u["&>."+m.u]={height:"24px",width:"24px"},u)},l["&>."+m.y]={padding:"0",margin:"7px",minWidth:"24px",maxWidth:"24px"},l)}),I=(Object(d.b)({border:"2px dashed #ccc",borderRadius:Object(p.f)()+"px",backgroundColor:"transparent",width:"32px",height:"32px",padding:0,margin:"4px",verticalAlign:"middle",$nest:{"&:hover":{backgroundColor:h.a},"&:focus":{outline:"0"},span:{backgroundColor:"inherit"}}}),Object(d.b)({flex:"0 0 auto"})),P=Object(d.b)({borderTop:"2px solid "+f.colors.N30A,boxShadow:h.b})},"7RGa":function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"e",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"c",function(){return f}),n.d(t,"b",function(){return h});var r=n("mrSG"),o=n("82gI"),i=n("JmIj"),a=n("Kxkh"),s=n("yxov"),c=function(e){var t=e.minWidth,n=e.maxSize,r=e.table,o=e.tableRef,i=e.start,c=e.domAtPos,l=Object(s.c)(o,r);return{cols:Array.from(l).map(function(e,n){var o=Object(a.c)(n,r,i,c);return Object(a.d)(o,n,t)}),maxSize:n,colgroupChildren:l}},l=function(e,t,n,r){var o=n>0?Object(i.a)(e,t,n,r):n<0?Object(i.c)(e,t,n,r):e;return u(o),o},u=function(e){e.cols.filter(function(e){return!!e.width}).forEach(function(t,n){e.colgroupChildren[n].style.width=t.width+"px"})},d=function(e){return e.cols.reduce(function(e,t){return e+t.width},0)},p=function(e,t){var n=t-d(e);if(n>0||n<0&&Math.abs(n)<o.d){var i=!1;return r.__assign({},e,{cols:e.cols.map(function(e){return!i&&e.width+n>e.minWidth?(i=!0,r.__assign({},e,{width:e.width+n})):e})})}return e},f=function(e){var t=d(e),n=Math.floor(t/e.cols.length),o=e.cols.map(function(e){return r.__assign({},e,{width:n})});return p(r.__assign({},e,{cols:o}),t)},h=function(e,t,n){var o=d(e),i=t.indexOf(n)>-1?n:n+1,a=e.cols[i],s={},c=[],l=e.cols.map(function(e){if(t.indexOf(e.index)>-1){var n=e.width-a.width;return 0!==n&&c.push(n),r.__assign({},e,{width:a.width})}return e}),u=r.__assign({},e,{cols:l.map(function(e){if(t.indexOf(e.index)>-1||t.indexOf(n)>-1&&e.index<i)return e;for(;c.length;){var o=c.shift()||0,a=s[e.index]||e,l=a.width+o;if(!(l>a.minWidth)){c.push(l-a.minWidth),s[a.index]=r.__assign({},a,{width:a.minWidth});break}s[a.index]=r.__assign({},a,{width:l})}return s[e.index]||e})}),f=e.maxSize,h=d(u);if(t.length===e.cols.length&&h<f){if(o===f)return e;var m=Math.floor((f-a.width)/(u.cols.length-1));u=r.__assign({},e,{cols:u.cols.map(function(e){return e.index===a.index?e:r.__assign({},e,{width:m})})})}return p(u,e.maxSize)}},"7UM5":function(e,t,n){"use strict";function r(e,t){try{window.AJS.EventQueue.push({name:e,properties:t})}catch(e){console.warn("Unable to send analytics event via Herment - has it been initialized?",e)}}var o=function(){function e(){this.trackEvent="undefined"!=typeof window&&window.AJS&&window.AJS.EventQueue&&"function"==typeof window.AJS.EventQueue.push?r:function(){return null}}return Object.defineProperty(e.prototype,"handler",{set:function(e){this.trackEvent=e||function(){}},enumerable:!0,configurable:!0}),e}();t.a=new o},"7WLx":function(e){e.exports={a:"@atlaskit/comment",b:"8.0.3"}},"7WM6":function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return f}),n.d(t,"a",function(){return h});var r=n("cD+i"),o=n("/IjO"),i=n("mG1W"),a=n("tQKV"),s=n("mIQt"),c=n("urQ4"),l=function(e,t,n){return o=e.doc,i=Object(a.d)(e).decorationSet,l=t.length?function(e,t){return e.map(function(e){var n=[s.a.HOVERED_CELL];return t&&n.push("danger"),r.Decoration.node(e.pos,e.pos+e.node.nodeSize,{class:n.join(" ")},{key:s.b.CONTROLS_HOVER})})}(t,n):[],u=c.a,l.length?i.add(o,l):i.remove(u(i));var o,i,l,u},u=function(e){return Array.from(Array(e).keys())},d=function(e,t){return Object(a.a)(function(n){var r=Object(i.getCellsInColumn)(e)(n.selection);return!!r&&{type:"HOVER_COLUMNS",data:{decorationSet:l(n,r,t),hoveredColumns:e,isInDanger:t}}},function(e){return e.setMeta("addToHistory",!1)})},p=function(e,t){return Object(a.a)(function(n){var r=Object(i.getCellsInRow)(e)(n.selection);return!!r&&{type:"HOVER_ROWS",data:{decorationSet:l(n,r,t),hoveredRows:e,isInDanger:t}}},function(e){return e.setMeta("addToHistory",!1)})},f=function(e){return Object(a.a)(function(t){var n=Object(i.findTable)(t.selection);if(!n)return!1;var r=o.TableMap.get(n.node),a=u(r.width),s=u(r.height),c=Object(i.getCellsInRow)(s)(t.selection);return!!c&&{type:"HOVER_TABLE",data:{decorationSet:l(t,c,e),hoveredColumns:a,hoveredRows:s,isInDanger:e}}},function(e){return e.setMeta("addToHistory",!1)})},h=function(){return Object(a.a)(function(e){return{type:"CLEAR_HOVER_SELECTION",data:{decorationSet:l(e,[])}}})}},"7bep":function(e){e.exports={a:"@atlaskit/tooltip",b:"15.1.1"}},"7qOd":function(e,t,n){"use strict";var r=n("mrSG"),o=n("q1tI"),i=n("eq3s"),a=n("grSP"),s=n("b0Qh"),c=n("FPHD"),l={danger:{default:{light:"inherit",dark:"inherit"},hover:{light:s.colors.N30A,dark:s.colors.N30A},active:{light:Object(c.a)(s.colors.B75,.6),dark:Object(c.a)(s.colors.B75,.6)}}},u={danger:{default:{light:s.colors.N400,dark:s.colors.DN400},hover:{light:s.colors.R300,dark:s.colors.R300},active:{light:s.colors.R300,dark:s.colors.R300}}},d=function(e,t){var n=t.appearance,r=void 0===n?"default":n,o=t.state,i=void 0===o?"default":o,a=t.mode,s=void 0===a?"light":a;return e[r]&&e[r][i]?e[r][i][s]:"initial"},p={padding:"0 2px","&[href]":{padding:"0 2px"}};t.a=function(e){var t=e.title,n=e.icon,s=e.iconAfter,c=e.onClick,f=e.onMouseEnter,h=e.onMouseLeave,m=e.selected,g=e.disabled,v=e.href,b=e.target,y=e.appearance,w=void 0===y?"subtle":y,O=e.children,E=e.className;return o.createElement(i.a,{content:t,hideTooltipOnClick:!0,position:"top"},o.createElement("div",{onMouseEnter:f,onMouseLeave:h},o.createElement(a.a,{className:E,theme:function(e,t){var n,o=e(t),i=o.buttonStyles,a=r.__rest(o,["buttonStyles"]);return r.__assign({buttonStyles:r.__assign({},i,p,"danger"===w&&(n={appearance:w,state:t.state,mode:t.mode},{background:d(l,n),color:d(u,n)}))},a)},"aria-label":t,spacing:"compact",href:v,target:b,appearance:w,"aria-haspopup":!0,iconBefore:n||void 0,iconAfter:s,onClick:c,isSelected:m,isDisabled:g},O)))}},"7rAk":function(e,t,n){"use strict";var r=n("pVnL"),o=n.n(r),i=n("QILm"),a=n.n(i),s=n("lwsE"),c=n.n(s),l=n("W8MJ"),u=n.n(l),d=n("a1gu"),p=n.n(d),f=n("Nsbk"),h=n.n(f),m=n("7W2i"),g=n.n(m),v=n("q1tI"),b=n.n(v),y=n("/MKj"),w=n("eRoQ"),O=n("PJYZ"),E=n.n(O),x=n("lSNA"),k=n.n(x),C=n("pMm4"),S=n("JRPe"),j=n("lJqg"),T=n("fVoa"),M=n("RIqP"),_=n.n(M),I=function(e,t){var n=e.author,r=e.participants,o=r.filter(function(e){return function(e){return"REVIEWER"===e.role||e.approved}(e)&&function(e){return!n||!e.user||e.user.uuid!==n.uuid}(e)}),i=o.filter(function(e){return e.approved}),a=o.filter(function(e){return!e.approved});if(t){var s=function(e){return t&&e.user&&e.user.uuid===t.uuid},c=function(e){e.sort(function(e,t){return s(e)?-1:s(t)?1:0})};c(i),c(a)}return[].concat(_()(i),_()(a))},P=Object(S.e)({noReviewers:{id:"frontbucket.components.reviewers.noReviewers",defaultMessage:"No reviewers"},approved:{id:"frontbucket.components.reviewers.approved",defaultMessage:"{display_name} approved {datetime}"}}),A=function(e){return"user"in e&&e.user?b.a.createElement(T.f,e):b.a.createElement(T.a,e)},N=function(e){function t(){var e,n;c()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=p()(this,(e=h()(t)).call.apply(e,[this].concat(o))),k()(E()(E()(n)),"transformAvatar",function(e,t){var r=n.props,o=r.intl,i=r.isDisabled,a=r.removeLinksToProfiles,s=e.user,c=function(t){return e.approved?o.formatMessage(P.approved,{display_name:t,datetime:Object(j.b)(e.participated_on,o)}):t},l=!a&&Object(T.l)(s)||void 0,u=c(Object(T.j)(s,o)),d=Object(T.i)(s)||void 0;return{appearance:"circle",enableTooltip:!0,href:l,isDisabled:i,key:s?s.uuid:t,name:u,renderName:c,size:n.props.size||"medium",src:d,status:e.approved?"approved":void 0,user:s}}),n}return g()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.currentUser,n=e.pullRequest,r=(e.intl,e.size),i=e.isDisabled,s=a()(e,["currentUser","pullRequest","intl","size","isDisabled"]),c=I(n,t);if(!c.length)return b.a.createElement(S.a,o()({tagName:"em"},P.noReviewers));var l=c.map(this.transformAvatar),u=i?{onMoreClick:function(){return null}}:{};return b.a.createElement(C.a,o()({avatar:A,data:l,size:r},u,s))}}]),t}(v.Component),R=Object(S.f)(N),D=function(e){function t(){return c()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.currentUser,n=e.isWorkspaceUiEnabled,r=a()(e,["currentUser","isWorkspaceUiEnabled"]);return b.a.createElement(R,o()({},r,{currentUser:t,removeLinksToProfiles:n}))}}]),t}(v.PureComponent);t.a=Object(y.c)(function(e){return{currentUser:Object(w.E)(e),isWorkspaceUiEnabled:Object(w.ab)(e)}})(D)},"7tJo":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M7 6.5c0-.276.228-.5.491-.5H13l4 4v7.5c0 .276-.228.5-.51.5H7.51a.508.508 0 0 1-.51-.5v-11zm5 1v2.999c0 .271.225.501.501.501H15.5L12 7.5z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorFileIcon";var c=s;t.default=c},"80QZ":function(e,t,n){"use strict";var r,o,i,a,s,c,l,u,d,p,f=n("mrSG"),h=n("q1tI"),m=n("TUgI"),g=n.n(m),v=n("/u5F"),b=n.n(v),y=n("sBL/"),w=n.n(y),O=n("vOnD"),E=n("b0Qh"),x=O.default.div(r||(r=Object(f.__makeTemplateObject)(["\n  position: relative;\n  padding: 3px 0;\n  border-radius: 3px;\n\n  &:hover .arrow {\n    opacity: 1;\n  }\n\n  .ellipsed-text {\n    white-space: initial;\n  }\n"],["\n  position: relative;\n  padding: 3px 0;\n  border-radius: 3px;\n\n  &:hover .arrow {\n    opacity: 1;\n  }\n\n  .ellipsed-text {\n    white-space: initial;\n  }\n"]))),k=O.default.div(o||(o=Object(f.__makeTemplateObject)(["\n  width: inherit;\n  overflow: hidden;\n  padding: 2px 0;\n"],["\n  width: inherit;\n  overflow: hidden;\n  padding: 2px 0;\n"]))),C=O.default.ul(i||(i=Object(f.__makeTemplateObject)(["\n  margin: 0;\n  padding: 0;\n  transition-property: transform;\n  transition-timing-function: cubic-bezier(0.77, 0, 0.175, 1);\n  white-space: nowrap;\n  display: inline-block;\n"],["\n  margin: 0;\n  padding: 0;\n  transition-property: transform;\n  transition-timing-function: cubic-bezier(0.77, 0, 0.175, 1);\n  white-space: nowrap;\n  display: inline-block;\n"]))),S=O.default.li(a||(a=Object(f.__makeTemplateObject)(["\n  list-style-type: none;\n  margin: 0;\n  padding: 0 4px;\n  display: inline-block;\n  vertical-align: middle;\n  /* Fixes issue with child Cards using inline-block */\n  font-size: 0;\n"],["\n  list-style-type: none;\n  margin: 0;\n  padding: 0 4px;\n  display: inline-block;\n  vertical-align: middle;\n  /* Fixes issue with child Cards using inline-block */\n  font-size: 0;\n"]))),j=O.default.div(s||(s=Object(f.__makeTemplateObject)(["\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  background-color: ",";\n  border-radius: 100%;\n  display: flex;\n  cursor: pointer;\n  transition: opacity 0.3s;\n  box-shadow: 0 1px 6px 0 rgba(0, 0, 0, 0.6);\n  color: black;\n  width: 30px;\n  height: 30px;\n  justify-content: center;\n  opacity: 0;\n\n  &:hover {\n    color: black;\n    background-color: ",";\n  }\n\n  &:active {\n    color: ",";\n    background-color: ",";\n  }\n\n  svg {\n    height: 30px;\n    width: 20px;\n  }\n"],["\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  background-color: ",";\n  border-radius: 100%;\n  display: flex;\n  cursor: pointer;\n  transition: opacity 0.3s;\n  box-shadow: 0 1px 6px 0 rgba(0, 0, 0, 0.6);\n  color: black;\n  width: 30px;\n  height: 30px;\n  justify-content: center;\n  opacity: 0;\n\n  &:hover {\n    color: black;\n    background-color: ",";\n  }\n\n  &:active {\n    color: ",";\n    background-color: ",";\n  }\n\n  svg {\n    height: 30px;\n    width: 20px;\n  }\n"])),E.colors.N20,E.colors.N40,E.colors.B400,E.colors.B50),T=Object(O.default)(j)(c||(c=Object(f.__makeTemplateObject)(["\n  left: 8px;\n\n  svg {\n    padding-right: 2px;\n  }\n"],["\n  left: 8px;\n\n  svg {\n    padding-right: 2px;\n  }\n"]))),M=Object(O.default)(j)(l||(l=Object(f.__makeTemplateObject)(["\n  right: 8px;\n\n  svg {\n    padding-left: 1px;\n  }\n"],["\n  right: 8px;\n\n  svg {\n    padding-left: 1px;\n  }\n"]))),_=O.default.div(u||(u=Object(f.__makeTemplateObject)(["\n  position: absolute;\n  z-index: 10;\n  height: 100%;\n  top: 0;\n  width: 2px;\n  background-color: rgba(0, 0, 0, 0.2);\n"],["\n  position: absolute;\n  z-index: 10;\n  height: 100%;\n  top: 0;\n  width: 2px;\n  background-color: rgba(0, 0, 0, 0.2);\n"]))),I=Object(O.default)(_)(d||(d=Object(f.__makeTemplateObject)(["\n  left: 0;\n"],["\n  left: 0;\n"]))),P=Object(O.default)(_)(p||(p=Object(f.__makeTemplateObject)(["\n  right: 0;\n"],["\n  right: 0;\n"])));n.d(t,"a",function(){return D});var A={attributes:!0,childList:!0,subtree:!0,characterData:!0},N=function(e){var t=e.onClick;return h.createElement(I,null,h.createElement(T,{className:"arrow",onClick:t},h.createElement(g.a,{label:"left"})))},R=function(e){var t=e.onClick;return h.createElement(P,null,h.createElement(M,{className:"arrow",onClick:t},h.createElement(b.a,{label:"right"})))},D=function(e){function t(t){var n=e.call(this,t)||this;n.previousOffset=0,n.state={bufferWidth:0,windowWidth:0},n.handleSizeChange=function(){var e=n,t=e.windowElement,r=e.bufferElement,o=0,i=0,a=[];if(t&&r){o=r.getBoundingClientRect().width,i=t.getBoundingClientRect().width;var s=Array.prototype.slice.call(r.children,0),c=0;a=s.map(function(e,t){var n=e.getBoundingClientRect().width,r={left:c,right:c+n-1};return c+=n,r})}var l=n.state,u=l.bufferWidth,d=l.windowWidth;o===u&&i===d||n.setState({bufferWidth:o,windowWidth:i},function(){n.childOffsets=a;var e=n.props.onSize;e&&e({offset:Math.min(n.maxOffset,n.offset),offsets:a,width:i,minOffset:n.minOffset,maxOffset:n.maxOffset})})},n.handleWindowElementChange=function(e){n.windowElement=e,n.handleSizeChange()},n.handleBufferElementChange=function(e){e&&(n.bufferElement=e,n.handleSizeChange(),n.initMutationObserver())},n.handleMutation=function(e){n.handleSizeChange()},n.handleLeftClick=function(e){e.stopPropagation();var t=n.props.onScroll;if(t){var r=n.state.windowWidth;t({direction:"left",offset:n.getClosestForLeft(n.offset-r),animate:!0})}},n.handleRightClick=function(e){e.stopPropagation();var t=n.props.onScroll;if(t){var r=n.state.windowWidth;t({direction:"right",offset:n.getClosestForRight(n.offset+r),animate:!0})}},n.handleScroll=function(e){var t=Math.abs(e.deltaX)>Math.abs(e.deltaY);if(t){e.preventDefault();var r=n.props.onScroll;if(r&&t){var o=Math.max(n.minOffset,Math.min(n.maxOffset,n.offset+e.deltaX));r({direction:e.deltaX<0?"left":"right",offset:o,animate:!1})}}},n.childOffsets=[];try{n.mutationObserver=new MutationObserver(w()(n.handleMutation,30,!0))}catch(e){}return n}return Object(f.__extends)(t,e),Object.defineProperty(t.prototype,"offset",{get:function(){var e=this.props.offset;return e?Math.min(this.maxOffset,Math.max(this.minOffset,e)):0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minOffset",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxOffset",{get:function(){var e=this.state,t=e.bufferWidth,n=e.windowWidth;return Math.max(this.minOffset,t-n-1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canGoLeft",{get:function(){return this.offset>this.minOffset},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canGoRight",{get:function(){return this.offset<this.maxOffset},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transitionDuration",{get:function(){var e=this.props.animate,t=this.state.windowWidth;if(!e)return 0;if(Math.abs(this.offset-this.previousOffset)<1e-6)return.5;var n=1-.5*(Math.abs(this.offset-this.previousOffset)/t);return Math.max(Math.min(n,1),.5)},enumerable:!0,configurable:!0}),t.prototype.initMutationObserver=function(){var e=this.mutationObserver;e&&this.bufferElement&&(e.disconnect(),e.observe(this.bufferElement,A))},t.prototype.triggerScrollEvent=function(){if(this.windowElement){var e=document.createEvent("MouseEvents");e.initEvent("scroll",!0,!0),this.windowElement.dispatchEvent(e)}},t.prototype.getClosestForLeft=function(e){for(var t=Math.min(this.maxOffset,Math.max(this.minOffset,e)),n=0;n<this.childOffsets.length;++n){var r=this.childOffsets[n];if(t>=r.left&&t<=r.right){var o=r.left;return o>=4?o-4:o}}return Math.min(this.maxOffset,Math.max(this.minOffset,e))},t.prototype.getClosestForRight=function(e){for(var t=this.state.windowWidth,n=Math.min(this.maxOffset,Math.max(this.minOffset,e))+t,r=0;r<this.childOffsets.length;++r){var o=this.childOffsets[r];if(n>=o.left&&n<=o.right){var i=o.right-t;return i+4<=this.maxOffset?i+4:i}}return Math.min(this.maxOffset,Math.max(this.minOffset,e))},t.prototype.renderLeftArrow=function(){return this.canGoLeft?h.createElement(N,{onClick:this.handleLeftClick}):null},t.prototype.renderRightArrow=function(){return this.canGoRight?h.createElement(R,{onClick:this.handleRightClick}):null},t.prototype.componentDidMount=function(){this.previousOffset=this.offset,window.addEventListener("resize",this.handleSizeChange)},t.prototype.componentWillUnmount=function(){var e=this.mutationObserver;window.removeEventListener("resize",this.handleSizeChange),e&&e.disconnect()},t.prototype.componentDidUpdate=function(){var e=this;this.previousOffset=this.offset,window.setTimeout(function(){return e.triggerScrollEvent()},1e3*this.transitionDuration)},t.prototype.render=function(){var e=this.props,t=e.animate,n=e.children,r="translateX("+-this.offset+"px)",o=t?"transform":"none",i=this.transitionDuration+"s";return h.createElement(x,null,this.renderLeftArrow(),h.createElement(k,{innerRef:this.handleWindowElementChange,onWheel:this.handleScroll},h.createElement(C,{innerRef:this.handleBufferElementChange,style:{transform:r,transitionProperty:o,transitionDuration:i}},h.Children.map(n,L))),this.renderRightArrow())},t.defaultProps={animate:!1,offset:0},t}(h.Component);function L(e,t){var n=function(e){return!!e.type}(e)&&e.key||t;return h.createElement(S,{key:n},e)}},"82gI":function(e,t,n){"use strict";n.d(t,"f",function(){return p}),n.d(t,"e",function(){return f}),n.d(t,"d",function(){return h}),n.d(t,"g",function(){return m}),n.d(t,"c",function(){return g}),n.d(t,"h",function(){return v}),n.d(t,"a",function(){return b}),n.d(t,"b",function(){return w}),n.d(t,"i",function(){return y});var r,o=n("mrSG"),i=n("vOnD"),a=n("5Ix2"),s=n("JaVE"),c=n("gxo2"),l=n("b0Qh"),u=n("5oxn"),d=n("MGaF"),p=24,f=16,h=48,m=140,g=1,v=6,b={TABLE_CONTAINER:a.m+"-container",TABLE_NODE_WRAPPER:a.m+"-wrapper",TABLE_LEFT_SHADOW:a.m+"-with-left-shadow",TABLE_RIGHT_SHADOW:a.m+"-with-right-shadow",TABLE_CELL_NODEVIEW_CONTENT_DOM:a.h},y=Object(i.css)(r||(r=o.__makeTemplateObject(["\n  ."," {\n    position: relative;\n    margin: 0 auto ","px;\n    box-sizing: border-box;\n\n    /**\n     * Fix block top alignment inside table cells.\n     */\n    .code-block,\n    .",",\n    .taskItemView-content-wrap > div,\n    .decisionItemView-content-wrap > div {\n      margin-top: 0;\n    }\n  }\n  .","[data-number-column='true'] {\n    padding-left: ","px;\n  }\n  /* avoid applying styles to nested tables (possible via extensions) */\n  ."," > table,\n  ."," > table {\n    border-collapse: collapse;\n    margin: ","px ","px 0;\n    border: ","px solid ",";\n    table-layout: fixed;\n    font-size: ","px;\n    width: 100%;\n\n    &[data-autosize='true'] {\n      table-layout: auto;\n    }\n\n    & {\n      * {\n        box-sizing: border-box;\n      }\n\n      tbody {\n        border-bottom: none;\n      }\n      th td {\n        background-color: white;\n      }\n      th,\n      td {\n        min-width: ","px;\n        font-weight: normal;\n        vertical-align: top;\n        border: 1px solid ",";\n        border-right-width: 0;\n        border-bottom-width: 0;\n        padding: ","px;\n        /* https://stackoverflow.com/questions/7517127/borders-not-shown-in-firefox-with-border-collapse-on-table-position-relative-o */\n        background-clip: padding-box;\n\n        th p:not(:first-of-type),\n        td p:not(:first-of-type) {\n          margin-top: 12px;\n        }\n      }\n      th {\n        background-color: ",";\n        text-align: left;\n\n        .code-block {\n          /*\n            Add a background color tint to code blocks inside a table heading since they both\n            share the same background colour. This prevents them visually blending together.\n          */\n          background: ",";\n\n          > span {\n            /*\n              The codeblock inside @atlaskit/code uses inline styles so we disable the default\n              background color because editor/renderer provides it's own background colours.\n            */\n            background: transparent !important;\n          }\n        }\n      }\n    }\n  }\n"],["\n  ."," {\n    position: relative;\n    margin: 0 auto ","px;\n    box-sizing: border-box;\n\n    /**\n     * Fix block top alignment inside table cells.\n     */\n    .code-block,\n    .",",\n    .taskItemView-content-wrap > div,\n    .decisionItemView-content-wrap > div {\n      margin-top: 0;\n    }\n  }\n  .","[data-number-column='true'] {\n    padding-left: ","px;\n  }\n  /* avoid applying styles to nested tables (possible via extensions) */\n  ."," > table,\n  ."," > table {\n    border-collapse: collapse;\n    margin: ","px ","px 0;\n    border: ","px solid ",";\n    table-layout: fixed;\n    font-size: ","px;\n    width: 100%;\n\n    &[data-autosize='true'] {\n      table-layout: auto;\n    }\n\n    & {\n      * {\n        box-sizing: border-box;\n      }\n\n      tbody {\n        border-bottom: none;\n      }\n      th td {\n        background-color: white;\n      }\n      th,\n      td {\n        min-width: ","px;\n        font-weight: normal;\n        vertical-align: top;\n        border: 1px solid ",";\n        border-right-width: 0;\n        border-bottom-width: 0;\n        padding: ","px;\n        /* https://stackoverflow.com/questions/7517127/borders-not-shown-in-firefox-with-border-collapse-on-table-position-relative-o */\n        background-clip: padding-box;\n\n        th p:not(:first-of-type),\n        td p:not(:first-of-type) {\n          margin-top: 12px;\n        }\n      }\n      th {\n        background-color: ",";\n        text-align: left;\n\n        .code-block {\n          /*\n            Add a background color tint to code blocks inside a table heading since they both\n            share the same background colour. This prevents them visually blending together.\n          */\n          background: ",";\n\n          > span {\n            /*\n              The codeblock inside @atlaskit/code uses inline styles so we disable the default\n              background color because editor/renderer provides it's own background colours.\n            */\n            background: transparent !important;\n          }\n        }\n      }\n    }\n  }\n"])),b.TABLE_CONTAINER,f,d.a.PANEL_CONTAINER,b.TABLE_CONTAINER,u.x-1,b.TABLE_CONTAINER,b.TABLE_NODE_WRAPPER,p,8,g,Object(s.a)({light:u.s,dark:u.t}),Object(c.j)(),h,Object(s.a)({light:u.s,dark:u.t}),8,Object(s.a)({light:u.y,dark:u.z}),Object(s.a)({light:l.colors.N20A,dark:l.colors.DN700A})),w=function(e,t,n){switch(void 0===n&&(n=!0),e){case"full-width":return t?Math.min(t-(n?u.b:0),u.m)+"px":u.m+"px";case"wide":return t?Math.min(t-(n?u.b:0),u.C)+"px":u.C+"px";default:return"inherit"}}},"82ng":function(e,t){function n(e){switch(e){case 9:case 32:return!0}return!1}function r(e,t){var n=e.bMarks[t]+e.blkIndent,r=e.eMarks[t];return e.src.substr(n,r-n)}function o(e){var t,n=[],r=0,o=e.length,i=0,a=0,s=!1,c=0;for(t=e.charCodeAt(r);r<o;)96===t?s?(s=!1,c=r):i%2==0&&(s=!0,c=r):124!==t||i%2!=0||s||(n.push(e.substring(a,r)),a=r+1),92===t?i++:i=0,++r===o&&s&&(s=!1,r=c+1),t=e.charCodeAt(r);return n.push(e.substring(a)),n}e.exports=function(e,t,i,a){var s,c,l,u,d,p,f,h,m,g,v;if(t+2>i)return!1;if(d=t+1,e.sCount[d]<e.blkIndent)return!1;if(e.sCount[d]-e.blkIndent>=4)return!1;if((l=e.bMarks[d]+e.tShift[d])>=e.eMarks[d])return!1;if(124!==(s=e.src.charCodeAt(l++))&&45!==s&&58!==s)return!1;for(;l<e.eMarks[d];){if(124!==(s=e.src.charCodeAt(l))&&45!==s&&58!==s&&!n(s))return!1;l++}for(p=(c=r(e,t+1)).split("|"),h=[],u=0;u<p.length;u++){if(!(m=p[u].trim())){if(0===u||u===p.length-1)continue;return!1}if(!/^:?-+:?$/.test(m))return!1;58===m.charCodeAt(m.length-1)?h.push(58===m.charCodeAt(0)?"center":"right"):58===m.charCodeAt(0)?h.push("left"):h.push("")}if(-1===(c=r(e,t).trim()).indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if((p=o(c.replace(/^\||\|$/g,""))).length>h.length)return!1;if(a)return!0;for((f=e.push("table_open","table",1)).map=g=[t,0],(f=e.push("tr_open","tr",1)).map=[t,t+1],u=0;u<p.length;u++)(f=e.push("th_open","th",1)).map=[t,t+1],h[u]&&(f.attrs=[["style","text-align:"+h[u]]]),f=e.push("paragraph_open","p",1),(f=e.push("inline","",0)).content=p[u].trim(),f.map=[t,t+1],f.children=[],f=e.push("paragraph_close","p",-1),f=e.push("th_close","th",-1);for((f=e.push("tr_close","tr",-1)).map=v=[t+2,0],d=t+2;d<i&&!(e.sCount[d]<e.blkIndent)&&-1!==(c=r(e,d).trim()).indexOf("|")&&!(e.sCount[d]-e.blkIndent>=4);d++){p=o(c.replace(/^\||\|$/g,"")),f=e.push("tr_open","tr",1);for(var b=0,y=1;b<p.length;b++){f=e.push("td_open","td",1),h[b]&&(f.attrs=[["style","text-align:"+h[b]]]);var w=" "===p[b][0]||/^(\d+\.|\*|-)$/.test(p[b].trim())?1:0;e.bMarks[d]+=y+w,y=(p[b]||"").length+(w?0:1),e.eMarks[d]=e.bMarks[d]+y-1,e.lineMax=1,e.md.block.tokenize(e,d,d+1),f=e.push("td_close","td",-1)}f=e.push("tr_close","tr",-1)}return f=e.push("table_close","table",-1),g[1]=v[1]=d,e.line=d,!0}},"8FmZ":function(e,t,n){"use strict";n.r(t);var r=n("6GRz");n.d(t,"confluenceJiraIssue",function(){return r.a});var o=n("I71n");n.d(t,"confluenceUnsupportedBlock",function(){return o.a});var i=n("rnLG");n.d(t,"confluenceUnsupportedInline",function(){return i.a});var a=n("a/Ws");n.d(t,"doc",function(){return a.a});var s=n("6sAf");n.d(t,"blockquote",function(){return s.a});var c=n("RRdR");n.d(t,"bulletList",function(){return c.a}),n.d(t,"bulletListSelector",function(){return c.b});var l=n("z7f4");n.d(t,"codeBlock",function(){return l.a}),n.d(t,"codeBlockToJSON",function(){return l.b});var u=n("5QZs");n.d(t,"hardBreak",function(){return u.a});var d=n("2M5u");n.d(t,"heading",function(){return d.a});var p=n("wynb");n.d(t,"rule",function(){return p.a});var f=n("R30j");n.d(t,"orderedList",function(){return f.a}),n.d(t,"orderedListSelector",function(){return f.b});var h=n("mP+C");n.d(t,"paragraph",function(){return h.a});var m=n("Ufjz");n.d(t,"emoji",function(){return m.a});var g=n("l3ol");n.d(t,"image",function(){return g.a});var v=n("wmsK");n.d(t,"mention",function(){return v.a}),n.d(t,"mentionToJSON",function(){return v.b});var b=n("gEpm");n.d(t,"listItem",function(){return b.a});var y=n("sHEh");n.d(t,"panel",function(){return y.a});var w=n("Gf2q");n.d(t,"text",function(){return w.a});var O=n("+/Ig");n.d(t,"unknownBlock",function(){return O.a});var E=n("XQtJ");n.d(t,"media",function(){return E.b}),n.d(t,"copyPrivateMediaAttributes",function(){return E.a}),n.d(t,"mediaToJSON",function(){return E.c});var x=n("SnLI");n.d(t,"mediaGroup",function(){return x.a});var k=n("CZ5B");n.d(t,"mediaSingle",function(){return k.a}),n.d(t,"mediaSingleToJSON",function(){return k.b});var C=n("5Ix2");n.d(t,"table",function(){return C.c}),n.d(t,"tableToJSON",function(){return C.o}),n.d(t,"tableCell",function(){return C.g}),n.d(t,"toJSONTableCell",function(){return C.p}),n.d(t,"tableHeader",function(){return C.k}),n.d(t,"toJSONTableHeader",function(){return C.q}),n.d(t,"tableRow",function(){return C.n}),n.d(t,"tableBackgroundColorPalette",function(){return C.f}),n.d(t,"tableBackgroundBorderColors",function(){return C.d}),n.d(t,"tableBackgroundColorNames",function(){return C.e}),n.d(t,"calcTableColumnWidths",function(){return C.a}),n.d(t,"setCellAttrs",function(){return C.b}),n.d(t,"tablePrefixSelector",function(){return C.m}),n.d(t,"tableCellSelector",function(){return C.j}),n.d(t,"tableHeaderSelector",function(){return C.l}),n.d(t,"tableCellContentWrapperSelector",function(){return C.i}),n.d(t,"tableCellContentDomSelector",function(){return C.h});var S=n("IJ6a");n.d(t,"applicationCard",function(){return S.a});var j=n("Dn/2");n.d(t,"decisionList",function(){return j.a}),n.d(t,"decisionListSelector",function(){return j.b});var T=n("efau");n.d(t,"decisionItem",function(){return T.a});var M=n("vkjo");n.d(t,"taskList",function(){return M.a}),n.d(t,"taskListSelector",function(){return M.b});var _=n("wQnW");n.d(t,"taskItem",function(){return _.a});var I=n("ojWS");n.d(t,"extension",function(){return I.a});var P=n("nvRj");n.d(t,"inlineExtension",function(){return P.a});var A=n("b5B0");n.d(t,"bodiedExtension",function(){return A.a});var N=n("E3Wq");n.d(t,"date",function(){return N.a});var R=n("uh4H");n.d(t,"placeholder",function(){return R.a});var D=n("LCRF");n.d(t,"layoutSection",function(){return D.a});var L=n("X2sz");n.d(t,"layoutColumn",function(){return L.a});var z=n("L9hn");n.d(t,"inlineCard",function(){return z.a});var B=n("UcTx");n.d(t,"blockCard",function(){return B.a});var F=n("Kn9b");n.d(t,"unsupportedBlock",function(){return F.a});var q=n("yalb");n.d(t,"unsupportedInline",function(){return q.a});var W=n("VNUP");n.d(t,"status",function(){return W.a})},"8S2X":function(e,t,n){"use strict";var r,o,i=n("mrSG"),a=n("mG1W"),s=n("byeC"),c=n("ZlG8"),l=n("b/sn"),u=n("s7yy"),d=n("qa+B"),p=n("w9Yk"),f=n("hkcA");!function(e){e.INFO="info",e.SUCCESS="success",e.NOTE="note",e.WARNING="warning",e.ERROR="error"}(r||(r={})),function(e){e.TWO_COLS_EQUAL="twoColumnsEqual",e.THREE_COLS_EQUAL="threeColumnsEqual",e.LEFT_SIDEBAR="twoColumnsLeftSidebar",e.RIGHT_SIDEBAR="twoColumnsRightSidebar",e.THREE_WITH_SIDEBARS="threeColumnsWithSidebars "}(o||(o={})),n.d(t,"e",function(){return v}),n.d(t,"f",function(){return b}),n.d(t,"a",function(){return y}),n.d(t,"g",function(){return w}),n.d(t,"h",function(){return x}),n.d(t,"c",function(){return k}),n.d(t,"d",function(){return C}),n.d(t,"b",function(){return S});var h=["two_equal","two_left_sidebar","two_right_sidebar"],m=["three_equal","three_with_sidebars"],g=function(e){switch(e){case"two_equal":return[50,50];case"three_equal":return[33.33,33.33,33.33];case"two_left_sidebar":return[33.33,66.66];case"two_right_sidebar":return[66.66,33.33];case"three_with_sidebars":return[25,50,25]}},v=function(e){switch(Object(u.c)(e,function(e){return e.attrs.width}).join(",")){case"33.33,33.33,33.33":return"three_equal";case"25,50,25":return"three_with_sidebars";case"50,50":return"two_equal";case"33.33,66.66":return"two_left_sidebar";case"66.66,33.33":return"two_right_sidebar"}},b=function(e,t){return e&&v(e)&&v(e)||t},y=function(e){var t=e.schema.nodes,n=t.layoutSection,r=t.layoutColumn,o=s.Fragment.fromArray([r.createAndFill({width:50}),r.createAndFill({width:50})]);return n.createAndFill(void 0,o)},w=function(e,t){return t&&t(Object(a.safeInsert)(y(e))(e.tr)),!0};function O(e,t,n){var r=t.nodes.layoutColumn,o=n.map(function(e){return Number(e.toFixed(2))});return Object(u.a)(e.content,function(e,t){return r.create(i.__assign({},e.attrs,{width:o[t]}),e.content,e.marks)})}function E(e,t,n,r){var o=function(e,t,n,r){var o=e.tr,i=n+t.nodeSize-1,a=t.childCount;if(h.indexOf(r)>=0&&3===a){var c=t.content.child(2),l=i-c.nodeSize;Object(d.d)(c)?o.replaceRange(o.mapping.map(l-1),o.mapping.map(i),s.Slice.empty):o.replaceRange(o.mapping.map(l-1),o.mapping.map(l+1),s.Slice.empty)}else m.indexOf(r)>=0&&2===a&&o.replaceWith(o.mapping.map(i),o.mapping.map(i),e.schema.nodes.layoutColumn.createAndFill());return o}(e,t,n,r),i=o.selection;return(o=function(e,t,n,r){var o=t.doc.nodeAt(n);return o?t.replaceWith(n+1,n+o.nodeSize-1,O(o,e.schema,g(r))):t}(e,o,n,r)).setSelection(new l.TextSelection(o.doc.resolve(i.$from.pos)))}var x=function(e){return function(t,n){var r=c.b.getState(t),o=r.pos,i=r.selectedLayout;if(i===e||null===o)return!1;var a=t.doc.nodeAt(o);if(!a)return!1;var s=E(t,a,o,e);return!!s&&(s=Object(p.a)(s,{action:f.a.CHANGED_LAYOUT,actionSubject:f.b.LAYOUT,attributes:{previousLayout:j(i),newLayout:j(e)},eventType:f.d.TRACK}),n&&n(s.scrollIntoView()),!0)}},k=function(e,t){var n,r=t.schema.nodes.layoutSection,o=Object(d.b)(e);if(o)return e.doc.nodesBetween(o.from,o.to,function(e,o){if(e.type===r){if(v(e))return!1;var i=2===e.childCount?"two_equal":"three_equal",a=O(e,t.schema,g(i));return n={from:o+1,to:o+e.nodeSize-1,slice:new s.Slice(a,0,0)},!1}return!0}),n},C=function(e){var t=c.b.getState(e),n=t.pos,r=t.selectedLayout;if(null!==n&&r){var o=e.doc.nodeAt(n);if(o&&o.childCount!==g(r).length)return E(e,o,n,r)}},S=function(e,t){var n=c.b.getState(e),r=n.pos,o=n.selectedLayout;if(null!==r){var i=e.doc.nodeAt(r);if(t){var a=e.tr.delete(r,r+i.nodeSize);t(a=Object(p.a)(a,{action:f.a.DELETED,actionSubject:f.b.LAYOUT,attributes:{layout:j(o)},eventType:f.d.TRACK}))}return!0}return!1},j=function(e){switch(e){case"two_equal":return o.TWO_COLS_EQUAL;case"three_equal":return o.THREE_COLS_EQUAL;case"two_left_sidebar":return o.LEFT_SIDEBAR;case"two_right_sidebar":return o.RIGHT_SIDEBAR;case"three_with_sidebars":return o.THREE_WITH_SIDEBARS}}},"8Shu":function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var r=n("fVoa"),o=n("hy2o"),i=n("ErOA"),a=n("AVV5"),s=(new r.c({cacheMaxAge:3e5,fetchUser:function(e){return fetch(Object(i.a)(o.a.api.v20.team(e),{headers:i.b})).then(function(e){return e.ok?e.json():Promise.reject()})}}),new r.c({cacheMaxAge:3e5,fetchUser:function(e){return fetch(Object(i.a)(o.a.api.v20.user(e),{headers:i.b})).then(function(e){return e.ok?e.json():Promise.reject()})}})),c=new r.c({cacheMaxAge:3e5,fetchUser:function(e){var t=Object(a.a)(e)||e;return fetch(Object(i.a)(o.a.api.v20.user(t),{headers:i.b})).then(function(e){return e.ok?e.json():Promise.reject()})}})},"8VOq":function(e,t,n){"use strict";var r=n("284h"),o=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.size=t.default=t.IconWrapper=void 0;var i=o(n("lSNA")),a=o(n("lwsE")),s=o(n("W8MJ")),c=o(n("a1gu")),l=o(n("Nsbk")),u=o(n("7W2i")),d=r(n("q1tI")),p=o(n("vOnD")),f=o(n("EcEN")),h=n("b0Qh"),m=n("wWCi"),g=function(e){return e.size?"height: ".concat(m.sizes[e.size],"; width: ").concat(m.sizes[e.size],";"):null},v=p.default.span.withConfig({displayName:"Icon__IconWrapper",componentId:"dyhwwi-0"})(["\n  "," color: ",";\n  display: inline-block;\n  fill: ",";\n  flex-shrink: 0;\n  line-height: 1;\n\n  > svg {\n    "," max-height: 100%;\n    max-width: 100%;\n    overflow: hidden;\n    pointer-events: none;\n    vertical-align: bottom;\n  }\n  /* Stop-color doesn't properly apply in chrome when the inherited/current color changes.\n   * We have to initially set stop-color to inherit (either via DOM attribute or an initial CSS\n   * rule) and then override it with currentColor for the color changes to be picked up.\n   */\n  stop {\n    stop-color: currentColor;\n  }\n"],g,function(e){return e.primaryColor||"currentColor"},function(e){return e.secondaryColor||h.colors.background},g);t.IconWrapper=v;var b=function(e){function t(){return(0,a.default)(this,t),(0,c.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,n=e.glyph,r=e.dangerouslySetGlyph,o=e.primaryColor,i=e.secondaryColor,a=e.size;return r?d.default.createElement(v,{primaryColor:o,secondaryColor:i,size:a,"aria-label":this.props.label,dangerouslySetInnerHTML:{__html:t.insertDynamicGradientID(r)}}):d.default.createElement(v,{primaryColor:o,secondaryColor:i,size:a,"aria-label":this.props.label},n?d.default.createElement(n,{role:"presentation"}):null)}}],[{key:"insertDynamicGradientID",value:function(e){var t=(0,f.default)();return e.replace(/id="([^"]+)-idPlaceholder"/g,"id=$1-".concat(t)).replace(/fill="url\(#([^"]+)-idPlaceholder\)"/g,'fill="url(#$1-'.concat(t,')"'))}}]),t}(d.Component);t.default=b;var y=Object.keys(m.sizes).reduce(function(e,t){return Object.assign(e,(0,i.default)({},t,t))},{});t.size=y},"8Wc3":function(e,t,n){"use strict";var r,o=n("mrSG"),i=n("q1tI"),a=n("vOnD"),s=n("73wN"),c=n("gxo2"),l=n("iZxw"),u="\n  cursor: pointer;\n  box-shadow: 0 0 0 2px "+s.B100+";\n  outline: none;\n  user-select: none;\n  &, :hover, :focus, :active {\n    text-decoration: none;\n  }\n",d=a.default.a(r||(r=Object(o.__makeTemplateObject)(["\n  line-height: ",";\n  padding: 0px 0.24em 2px 0.24em;\n  display: inline;\n  box-decoration-break: clone;\n  border-radius: ","px;\n  ",";\n  ","\n  ",";\n  transition: 0.1s all ease-in-out;\n"],["\n  line-height: ",";\n  padding: 0px 0.24em 2px 0.24em;\n  display: inline;\n  box-decoration-break: clone;\n  border-radius: ","px;\n  ",";\n  ","\n  ",";\n  transition: 0.1s all ease-in-out;\n"])),16/14,Object(c.f)(),function(e){return e.withoutBackground?"":"\n    background-color: white; \n    "+Object(l.e100)()+"\n  "},function(e){return e.isInteractive?"\n      cursor: pointer;\n      :hover {\n        background-color: "+s.N20+";\n        text-decoration: none;\n      }\n      :active {\n        background-color: "+s.B50+";\n        text-decoration: none;\n      }\n      :focus {\n        "+u+"\n        text-decoration: none;\n      }\n    ":""},function(e){return e.isSelected?u:"user-select: text"});n.d(t,"a",function(){return p});var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){var n=t.props.onClick;n&&(e.preventDefault(),e.stopPropagation(),n(e))},t.handleKeyPress=function(e){if(" "===e.key||"Enter"===e.key){var n=t.props.onClick;n&&(e.preventDefault(),e.stopPropagation(),n(e))}},t}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.isSelected,n=e.children,r=e.onClick,o=e.link,a=e.withoutBackground,s=Boolean(r);return i.createElement(d,{href:o,withoutBackground:a,isSelected:t,isInteractive:s,tabIndex:s?0:void 0,role:s?"button":void 0,onClick:this.handleClick,onKeyPress:this.handleKeyPress},n)},t}(i.Component)},"8ZH3":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("cqjR"),o=n("byeC"),i=n("7UM5"),a=n("I2Uo"),s=n("w9Yk"),c=n("hkcA"),l=function(e,t,n,r){if(!e.selection.empty)return null;var i=e.selection.$from,a=e.doc.resolve(i.after()),l=e.schema.nodes.paragraph;a.nodeAfter&&a.nodeAfter.type===l&&(n+=1);var u=e.tr.replaceWith(t,n,o.Fragment.from(e.schema.nodes.rule.createChecked()));return Object(s.a)(u,{action:c.a.INSERTED,actionSubject:c.b.DOCUMENT,actionSubjectId:c.c.DIVIDER,attributes:{inputMethod:r},eventType:c.d.TRACK})},u=function(e,t,n){return i.a.trackEvent("atlassian.editor.format.horizontalrule.autoformatting"),l(e,t,n,c.e.FORMATTING)};t.b=function(e){var t=[];if(e.nodes.rule&&(t.push(Object(a.a)(/^(\-\-\-|\*\*\*)$/,function(e,t,n,r){return u(e,n-1,r)},!0)),t.push(Object(a.a)(new RegExp(a.c+"(\\-\\-\\-|\\*\\*\\*)"),function(e,t,n,r){var o=e.schema.nodes.hardBreak;return e.doc.resolve(n).nodeAfter.type!==o?null:u(e,n,r)},!0))),0!==t.length)return Object(r.inputRules)({rules:t})}},"9+oj":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M16.051 6c-1.571 0-2.847 1.312-2.847 2.93 0 1.617 1.276 2.93 2.847 2.93 2.699 0 1.135 5.088-2.269 5.618a.68.68 0 0 0-.578.671c0 .416.372.745.784.682 6.187-.938 8.387-12.83 2.063-12.83M7.848 6C6.275 6 5 7.311 5 8.93c0 1.616 1.275 2.928 2.848 2.928 2.698 0 1.134 5.09-2.27 5.62a.68.68 0 0 0-.578.67c0 .416.372.745.783.682C11.972 17.892 14.172 6 7.848 6" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="QuoteIcon";var c=s;t.default=c},"9/5/":function(e,t,n){(function(t){var n="Expected a function",r=NaN,o="[object Symbol]",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt,u="object"==typeof t&&t&&t.Object===Object&&t,d="object"==typeof self&&self&&self.Object===Object&&self,p=u||d||Function("return this")(),f=Object.prototype.toString,h=Math.max,m=Math.min,g=function(){return p.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&f.call(e)==o}(e))return r;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=s.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):a.test(e)?r:+e}e.exports=function(e,t,r){var o,i,a,s,c,l,u=0,d=!1,p=!1,f=!0;if("function"!=typeof e)throw new TypeError(n);function y(t){var n=o,r=i;return o=i=void 0,u=t,s=e.apply(r,n)}function w(e){var n=e-l;return void 0===l||n>=t||n<0||p&&e-u>=a}function O(){var e=g();if(w(e))return E(e);c=setTimeout(O,function(e){var n=t-(e-l);return p?m(n,a-(e-u)):n}(e))}function E(e){return c=void 0,f&&o?y(e):(o=i=void 0,s)}function x(){var e=g(),n=w(e);if(o=arguments,i=this,l=e,n){if(void 0===c)return function(e){return u=e,c=setTimeout(O,t),d?y(e):s}(l);if(p)return c=setTimeout(O,t),y(l)}return void 0===c&&(c=setTimeout(O,t)),s}return t=b(t)||0,v(r)&&(d=!!r.leading,a=(p="maxWait"in r)?h(b(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f),x.cancel=function(){void 0!==c&&clearTimeout(c),u=0,o=l=i=c=void 0},x.flush=function(){return void 0===c?s:E(g())},x}}).call(this,n("yLpj"))},"92Wg":function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODIiIGhlaWdodD0iMTEwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZD0iTTQ3LjYwMSA0MC44MWwzMy4zNzcgNTcuNzY1YTcuNjEgNy42MSAwIDAgMSAuMDAxIDcuNjE4QTcuNjIyIDcuNjIyIDAgMCAxIDc0LjM3NyAxMTBINy42MjNhNy42MjIgNy42MjIgMCAwIDEtNi42MDItMy44MDcgNy42MSA3LjYxIDAgMCAxIC4wMDEtNy42MThMMzQuNCA0MC44MWE3LjYyMiA3LjYyMiAwIDAgMSAxMy4yMDIgMHpNNDUuMjUgNjAuNDg1YTQuNjA2IDQuNjA2IDAgMCAwLTQuNjAyLTQuOTA5IDQuNjEzIDQuNjEzIDAgMCAwLTQuNjAxIDQuOTFsMS40NDcgMjIuMjYxYTMuMTY0IDMuMTY0IDAgMCAwIDMuMTU0IDIuOTU3IDMuMTY0IDMuMTY0IDAgMCAwIDMuMTU1LTIuOTU3bDEuNDQ3LTIyLjI2MnptLTkuNDA0IDM0LjA3OWE0Ljc4MiA0Ljc4MiAwIDAgMCAxLjU0MiAzLjU2MSA0Ljc5IDQuNzkgMCAwIDAgMy42NzcgMS4yNDcgNC44NiA0Ljg2IDAgMCAwIDQuNDE2LTUuMDY1IDQuODYxIDQuODYxIDAgMCAwLTQuODY4LTQuNjMyIDQuODQgNC44NCAwIDAgMC00Ljc2NyA0Ljg4OXoiIGZpbGw9IiNDMEM3RDEiIGZpbGwtcnVsZT0ibm9uemVybyIvPjxwYXRoIGQ9Ik00NS45OSAxMy40NjNMNDIuMjQ2LjIyNGEuMzA3LjMwNyAwIDAgMC0uMzEtLjIyNC4zMDYuMzA2IDAgMCAwLS4yOS4yNWwtMi4zNTQgMTIuNDM1LTIuOTI5LS41MzVhLjMxMi4zMTIgMCAwIDAtLjI4My4wOTIuMjk4LjI5OCAwIDAgMC0uMDcuMjg0bDMuNzQyIDEzLjIzOGEuMzA3LjMwNyAwIDAgMCAuMy4yMzYuMzA3LjMwNyAwIDAgMCAuMy0uMjM2bDIuMzU0LTEyLjQzNSAyLjkyOS41MWEuMzEyLjMxMiAwIDAgMCAuMjgzLS4wOTIuMjk4LjI5OCAwIDAgMCAuMDctLjI4NHpNMzIuNTc3IDIxLjI3MmwtNS4zNjItNC4yNDNhLjEzMi4xMzIgMCAwIDAtLjE2NSAwIC4xMzUuMTM1IDAgMCAwLS4wMzcuMTY0bDIuNzI2IDUuNjYyLTEuMzExLjY1YS4xMzQuMTM0IDAgMCAwIDAgLjIyM2w1LjM1NyA0LjI0M2EuMTMyLjEzMiAwIDAgMCAuMTY1IDAgLjEzNS4xMzUgMCAwIDAgLjAzNy0uMTY0bC0yLjc0NS01LjY3MiAxLjMxLS42NGEuMTM0LjEzNCAwIDAgMCAuMDI1LS4yMjN6IiBmaWxsPSIjRThFQUVFIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48cGF0aCBkPSJNNTggMTkuMTdjLS41OTYuODE2LTUuNi0yLjg3LTYuMTktMi4wNS0uNTkxLjgyIDQuNDA4IDQuNTA3IDMuODE4IDUuMzI3LS41OS44Mi01LjYtMi44NzEtNi4xOTYtMi4wNS0uNTk2LjgyIDQuNDA5IDQuNTA2IDMuODEzIDUuMzI3LS41OTYuODItNS42LTIuODcyLTYuMTk2LTIuMDUxLS41OTUuODIgNC40MSA0LjUwNyAzLjgxMyA1LjMyN002MCAzMi45MDZjLS43LjY5Ny0zLjM4LTIuNTA3LTQuMDgxLTEuODA1LS43LjcwMyAxLjk4IDMuOTA4IDEuMjggNC42MDUtLjcuNjk4LTMuMzgtMi41MDctNC4wOC0xLjgwNC0uMzI3LjMyNS4wNzYgMS4xOS41MzIgMi4wOThNMjIgMzIuMzE2Yy44NjUuNDE1IDIuMzc1LTMuNzAxIDMuMjYtMy4yODcuODgzLjQxNS0uNjYxIDQuNTI3LjIwMyA0Ljk0Mi44NjUuNDE0IDIuMzc2LTMuNzAyIDMuMjYtMy4yODcuNDAzLjE5NC4yOSAxLjE4LjEzNyAyLjIyNSIgc3Ryb2tlPSIjRThFQUVFIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPjwvZz48L3N2Zz4K"},"95U1":function(e,t,n){"use strict";var r=n("pVnL"),o=n.n(r),i=n("lwsE"),a=n.n(i),s=n("W8MJ"),c=n.n(s),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),p=n.n(d),f=n("7W2i"),h=n.n(f),m=n("PJYZ"),g=n.n(m),v=n("lSNA"),b=n.n(v),y=n("J4zp"),w=n.n(y),O=n("q1tI"),E=n.n(O),x=n("/MKj"),k=n("EC67"),C=n("7EGn"),S=n("JjJU"),j=n("eRoQ"),T=n("RIqP"),M=n.n(T),_=n("JRPe"),I=n("+WM3"),P=n("Ld6T"),A=n.n(P),N=n("lTRq"),R=n.n(N),D=n("y+en"),L=n("sJKt"),z=n("wTIg"),B=n("gxo2"),F=Object(z.a)("div",{target:"e1hmmw50"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),q=Object(z.a)("div",{target:"e1hmmw51"})("padding-left:",Object(B.l)(),"px;"),W=Object(z.a)("small",{target:"e1hmmw52"})({name:"1mtlxt1",styles:"display:block;margin-top:0;"}),U=Object(_.e)({annotationsLabel:{id:"frontbucket.source.annotations.label",defaultMessage:"Annotations"},infoCount:{id:"frontbucket.source.annotations.infoCount",defaultMessage:"{count} info"},warningCount:{id:"frontbucket.source.annotations.warningCount",defaultMessage:"{count} warnings"},errorCount:{id:"frontbucket.source.annotations.errorCount",defaultMessage:"{count} errors"},fileCountLabel:{id:"frontbucket.source.annotations.fileCount",defaultMessage:"{count} files"},allFilesLabel:{id:"frontbucket.source.annotations.allFiles",defaultMessage:"all files"}}),H=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(o))),b()(g()(g()(n)),"renderAnnotationCounts",function(){var e=n.props,t=e.annotations,r=e.intl,o=function(e){return t.filter(function(t){return t.style===e}).length},i={info:o("info"),warning:o("warning"),error:o("error")};return i&&E.a.createElement(W,null,[].concat(M()(i.error?[r.formatMessage(U.errorCount,{count:i.error})]:[]),M()(i.warning?[r.formatMessage(U.warningCount,{count:i.warning})]:[]),M()(i.info?[r.formatMessage(U.infoCount,{count:i.info})]:[])).join(", "))}),n}return h()(t,e),c()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.isAnnotationsFeatureEnabled,r=t.annotators,o=t.isLoadingAnnotations,i=t.intl;return n&&r&&r.length?E.a.createElement(L.a,null,E.a.createElement(D.Expander,{icon:E.a.createElement(R.a,{label:""}),label:i.formatMessage(U.annotationsLabel)},r.map(function(t){return E.a.createElement(F,{key:t.id},o?E.a.createElement(I.a,{size:"small"}):E.a.createElement(A.a,{size:"medium",label:""}),E.a.createElement(q,null,t.descriptor.name.value," (",t.descriptor.conditions&&t.descriptor.conditions.length?i.formatMessage(U.fileCountLabel,{count:t.descriptor.conditions[0].params.extension}):i.formatMessage(U.allFilesLabel),")",e.renderAnnotationCounts()))}))):null}}]),t}(O.PureComponent);b()(H,"defaultProps",{isCollapsed:!1,annotations:[],annotators:[],isAnnotationsFeatureEnabled:!1,isLoadingAnnotations:!0});var V=Object(_.f)(H),G=Object(x.c)(function(e){return{isAnnotationsFeatureEnabled:e.global.features["connect-source-annotations"],annotators:e.repository.source.annotations.annotators,annotations:e.repository.source.annotations.annotations,isLoadingAnnotations:e.repository.source.annotations.isLoadingAnnotations}})(V),K=n("5Q14"),$=n("eq3s"),J=n("W5a9"),Y=Object(z.a)("span",{target:"e408k2m0"})({name:"96j35y",styles:"height:24px;width:24px;&::before{font-size:20px;margin-left:2px;margin-top:-10px;}"}),Q=function(e){function t(){return a()(this,t),u()(this,p()(t).apply(this,arguments))}return h()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.className,r=e.url;if(r)return E.a.createElement("img",{src:r,alt:t,width:"24",height:"24"});var o=["aui-icon","aui-icon-large",n].join(" ").trim();return E.a.createElement(Y,{className:o})}}]),t}(O.PureComponent),X=n("grSP"),Z=n("41DU"),ee=Object(z.a)("small",{target:"ey323gi0"})({name:"rmxqah",styles:"display:flex;justify-content:center;align-items:center;margin:0;"}),te=Object(z.a)("div",{target:"ey323gi1"})("margin:",Object(B.l)(),"px 0;"),ne=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(o))),b()(g()(g()(n)),"timeout",void 0),b()(g()(g()(n)),"state",{delay:n.props.delay}),n}return h()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.delay;t&&(this.timeout=setTimeout(function(){return e.setState({delay:0})},t))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this.state.delay,t=this.props,n=t.action,r=t.module,i=t.failedCallback;if("loading"===n&&e)return!1;var a=Object(C.a)(r,"app_name",Object(C.a)(r,"app_key","")),s=Object(C.a)(r,"app_base_url",Object(C.a)(r,"source.url",""));return E.a.createElement(ee,null,"loading"===n?E.a.createElement(te,null,E.a.createElement(I.a,{size:"medium",delay:0})):a&&s&&E.a.createElement(_.a,o()({},Z.a[n],{values:{link:E.a.createElement("a",{href:s,target:"_blank"},a),action:"timeout"===n&&E.a.createElement(X.a,{appearance:"link",spacing:"none",onClick:i},E.a.createElement(_.a,Z.a.cancelText))}})))}}]),t}(O.PureComponent);b()(ne,"defaultProps",{action:"loading",delay:0});var re=Object(z.a)("div",{target:"ejd26n00"})("& + &{margin-top:",1.5*Object(B.l)(),"px;}"),oe=function(e){function t(){return a()(this,t),u()(this,p()(t).apply(this,arguments))}return h()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.principalId,n=e.target,r=e.location,i=e.isCollapsed;return E.a.createElement(J.c,{moduleType:"webCards",principalId:t,target:n,location:r,width:"100%",loadingComponent:function(){return null},loadingFailedComponent:function(){return null}},function(e){return e.length>0&&e.map(function(e){var t=e.Component,n=e.module,r=Object(C.a)(n,"descriptor.name.value"),a=E.a.createElement(Q,{label:r,url:Object(C.a)(n,"descriptor.icon.url"),className:Object(C.a)(n,"descriptor.params.auiIcon")});return i?E.a.createElement($.a,{key:n.id,position:"left",content:r},a):E.a.createElement(re,{key:n.id,"data-qa":"connect-webcard"},E.a.createElement(D.Expander,{initialIsCollapsed:!0,icon:a,isLoading:!1,label:r},E.a.createElement(t,{loadingComponent:function(){return E.a.createElement(ne,{module:n,delay:300})},loadingTimeoutComponent:function(e){return E.a.createElement(ne,o()({action:"timeout"},e,{module:n}))},loadingFailedComponent:function(){return E.a.createElement(ne,{action:"failed",module:n})}})))})})}}]),t}(O.PureComponent),ie=Object(x.c)(function(e){return{principalId:Object(S.e)(e),repository:Object(j.v)(e),hash:Object(C.a)(e,"repository.source.section.hash"),sourceObject:e.repository.source.section.sourceObject}})(function(e){var t=e.principalId,n=e.repository,r=e.hash,o=e.sourceObject,i=e.isCollapsed;if(!t||!n||!o||o.isLoading)return null;var a=n.full_name.split("/"),s=w()(a,2),c=s[0],l=s[1],u=o.path,d=o.treeEntry;return""===u?E.a.createElement(oe,{principalId:t,location:"org.bitbucket.source",isCollapsed:i,target:Object(K.e)({repositoryOwner:c,repositorySlug:l})}):u&&r&&d?"directory"===d.type?E.a.createElement(oe,{principalId:t,location:"org.bitbucket.source.directory",isCollapsed:i,target:Object(K.b)({repositoryOwner:c,repositorySlug:l,path:"".concat(u,"/"),hash:r})}):E.a.createElement(O.Fragment,null,E.a.createElement(G,null),E.a.createElement(oe,{principalId:t,location:"org.bitbucket.source.file",isCollapsed:i,target:Object(K.c)({repositoryOwner:c,repositorySlug:l,path:u,hash:r})})):null}),ae=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(i))),b()(g()(g()(n)),"renderWebCard",function(e){return E.a.createElement(ie,o()({},e,{isCollapsed:n.props.isCollapsed}))}),n}return h()(t,e),c()(t,[{key:"render",value:function(){return E.a.createElement(k.d,null,E.a.createElement(k.b,{exact:!0,path:"/:repositoryOwner/:repositorySlug/src/:ref/:path+",render:this.renderWebCard}),E.a.createElement(k.b,{path:["/:repositoryOwner/:repositorySlug/diff/:path+","/:repositoryOwner/:repositorySlug/history/:path+","/:repositoryOwner/:repositorySlug/history-node/:ref/:path+","/:repositoryOwner/:repositorySlug/src/:refOrHash"],render:this.renderWebCard}))}}]),t}(O.PureComponent),se=n("Xwpv"),ce=function(e){function t(){return a()(this,t),u()(this,p()(t).apply(this,arguments))}return h()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.principalId,n=e.target,r=e.isCollapsed;return t&&n?E.a.createElement(oe,{principalId:t,target:n,isCollapsed:r,location:"org.bitbucket.pullrequest"}):null}}]),t}(O.PureComponent),le=Object(x.c)(function(e){return{principalId:Object(S.e)(e),target:Object(se.i)(e)}})(ce);n.d(t,"b",function(){return ae}),n.d(t,"a",function(){return le})},"96nE":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return s});var r=n("flnf"),o=n("ORyO"),i="EDITOR_ANALYTICS_EVENT",a=o.a.editor,s=r.a;t.c=r.b},"9N/3":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l});var r,o=n("mrSG"),i=n("b/sn"),a=n("byeC"),s=n("fVm0");!function(e){e.LEFT="left",e.RIGHT="right"}(r||(r={}));var c="gapcursor",l=function(e){function t(t,n){void 0===n&&(n=r.LEFT);var o=e.call(this,t,t)||this;return o.side=n,o.visible=!1,o}return o.__extends(t,e),t.valid=function(e){var t=e.parent,n=e.nodeBefore,r=e.nodeAfter;if(!(Object(s.e)(n)?n:Object(s.e)(r)?r:null)||t.isTextblock)return!1;var o=t.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock},t.findFrom=function(e,n,o){void 0===o&&(o=!1);var i=1===n?r.RIGHT:r.LEFT;if(!o&&t.valid(e))return new t(e,i);for(var a=e.pos,s=null,c=e.depth;;c--){var l=e.node(c);if(i===r.RIGHT?e.indexAfter(c)<l.childCount:e.index(c)>0){s=l.maybeChild(i===r.RIGHT?e.indexAfter(c):e.index(c)-1);break}if(0===c)return null;a+=n;var u=e.doc.resolve(a);if(t.valid(u))return new t(u,i)}for(;null!==(s=i===r.RIGHT?s.firstChild:s.lastChild);){a+=n;u=e.doc.resolve(a);if(t.valid(u))return new t(u,i)}return null},t.fromJSON=function(e,n){return new t(e.resolve(n.pos))},t.prototype.map=function(e,n){var r=e.resolve(n.map(this.head));return t.valid(r)?new t(r,this.side):i.Selection.near(r)},t.prototype.eq=function(e){return e instanceof t&&e.head===this.head},t.prototype.content=function(){return a.Slice.empty},t.prototype.getBookmark=function(){return new u(this.anchor)},t.prototype.toJSON=function(){return{pos:this.head,type:c}},t}(i.Selection);i.Selection.jsonID(c,l);var u=function(){function e(e){this.pos=e}return e.prototype.map=function(t){return new e(t.map(this.pos))},e.prototype.resolve=function(e){var t=e.resolve(this.pos);return l.valid(t)?new l(t):i.Selection.near(t)},e}()},"9URm":function(e,t,n){"use strict";var r=n("mrSG"),o=n("q1tI"),i=n("gxo2"),a=n("+WM3"),s=n("vOnD"),c=i.m.modal()+10,l=s.default.div(d||(d=Object(r.__makeTemplateObject)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: ",";\n"],["\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: ",";\n"])),c);l.displayName="Blanket";var u=s.default.div(p||(p=Object(r.__makeTemplateObject)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"],["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"])));u.displayName="SpinnerWrapper";var d,p,f="none",h=!1;t.a=function(e){var t=e.blankedColor,n=e.invertSpinnerColor;return o.createElement(l,{style:{backgroundColor:t||f}},o.createElement(u,null,o.createElement(a.a,{size:"large",invertColor:n||h})))}},"9YOO":function(e,t,n){"use strict";var r,o=n("mrSG"),i=n("cD+i"),a=n("b/sn"),s=n("q1tI"),c=n("JRPe"),l=n("vOnD"),u=n("2aFY"),d=n("b0Qh"),p=n("gxo2"),f=n("eV/v"),h=n("BTqz"),m=n("COqE"),g=n("OrOc"),v=Object(c.e)({placeholder:{id:"fabric.editor.statusPlaceholder",defaultMessage:"Set a status",description:"Placeholder description for an empty (new) status item in the editor"}}),b=l.default.span(r||(r=o.__makeTemplateObject(["\n  cursor: pointer;\n\n  display: inline-block;\n  opacity: ",";\n\n  max-width: 100%;\n\n  /* Prevent responsive layouts increasing height of container. */\n  line-height: 0;\n\n  * ::selection {\n    background-color: transparent;\n  }\n\n  .ProseMirror-selectednode & {\n    position: relative;\n    &::before {\n      content: '';\n      border: 2px solid ",";\n      background: transparent;\n      border-radius: ","px;\n      box-sizing: border-box;\n      position: absolute;\n      /* Size selection larger (around) status node */\n      top: -1px;\n      left: -1px;\n      width: calc(100% + 2px);\n      height: calc(100% + 2px);\n      pointer-events: none;\n    }\n  }\n"],["\n  cursor: pointer;\n\n  display: inline-block;\n  opacity: ",";\n\n  max-width: 100%;\n\n  /* Prevent responsive layouts increasing height of container. */\n  line-height: 0;\n\n  * ::selection {\n    background-color: transparent;\n  }\n\n  .ProseMirror-selectednode & {\n    position: relative;\n    &::before {\n      content: '';\n      border: 2px solid ",";\n      background: transparent;\n      border-radius: ","px;\n      box-sizing: border-box;\n      position: absolute;\n      /* Size selection larger (around) status node */\n      top: -1px;\n      left: -1px;\n      width: calc(100% + 2px);\n      height: calc(100% + 2px);\n      pointer-events: none;\n    }\n  }\n"])),function(e){return e.placeholderStyle?.5:1},d.colors.B200,Object(p.f)()),y=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClick=function(e){e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()},n}return o.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.eventDispatcher,r=t.view;return s.createElement(g.a,{plugins:{pluginState:k},editorView:r,eventDispatcher:n,render:function(){var t=e.props,n=t.text,r=t.color,o=t.localId,i=t.style,a=t.intl.formatMessage,c=n||a(v.placeholder);return s.createElement(b,{placeholderStyle:!n},s.createElement(u.a,{text:c,color:r,localId:o,style:i,onClick:e.handleClick}))}})},t}(s.Component),w=Object(c.f)(y),O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.createDomRef=function(){return"mobile"===this.reactComponentProps.editorAppearance?Object(h.a)():e.prototype.createDomRef.call(this)},t.prototype.setDomAttrs=function(e,t){var n=e.attrs,r=n.color,o=n.localId,i=n.style;t.dataset.color=r,t.dataset.localId=o,t.dataset.style=i},t.prototype.render=function(e){var t=e.editorAppearance,n=this.node.attrs,r=n.text,o=n.color,i=n.localId,a=n.style;return s.createElement(h.b,{appearance:t},s.createElement(w,{view:this.view,text:r,color:o,style:a,localId:i}),"mobile"!==t&&m.a)},t}(f.b);function E(e,t){return function(n,r,o){return new O(n,r,o,e,{editorAppearance:t}).init()}}var x=n("Aw7Y");n.d(t,"b",function(){return k});var k=new a.PluginKey("statusPlugin");t.a=function(e){var t=e.dispatch,n=e.portalProviderAPI,r=e.props.appearance;return new a.Plugin({state:{init:function(){return{isNew:!1,showStatusPickerAt:null}},apply:function(e,n,r){var i=e.getMeta(k);if(i){var a=o.__assign({},n,i);return t(k,a),a}if(e.docChanged&&n.showStatusPickerAt){var s=e.mapping.mapResult(n.showStatusPickerAt),c=s.pos,l=s.deleted?null:c;if((a=o.__assign({},n,{showStatusPickerAt:l})).showStatusPickerAt!==n.showStatusPickerAt)return t(k,a),a}if(!e.selection.eq(r.selection)){var u=e.selection.from,d=e.doc.nodeAt(u);if(l=null,d&&d.type===r.schema.nodes.status&&(l=u),l!==n.showStatusPickerAt)return a=o.__assign({},n,{isNew:!1,showStatusPickerAt:l}),t(k,a),a}return n}},appendTransaction:function(e,t,n){var r=!1,o=n.tr;if(e.find(function(e){return e.selectionSet})){var i=Object(x.b)(t.selection),a=Object(x.b)(n.selection);if(i&&(a&&i.localId!==a.localId||!a)&&Object(x.a)(i)){var s=t.selection.from;o.delete(o.mapping.map(s),o.mapping.map(s+1)),r=!0}}return r?o:void 0},key:k,props:{nodeViews:{status:E(n,r)},decorations:function(e){var t=e.tr,n=t.doc.nodeAt(t.selection.from);if("mobile"!==r&&n&&n.type===e.schema.nodes.status){var o=i.Decoration.widget(t.selection.from,function(){return document.createTextNode(m.a)},{side:1,key:"#status-zero-width-char-decoration"}),a=e.doc;return i.DecorationSet.create(a,[o])}return null}}})}},"9cBy":function(e,t,n){"use strict";var r=n("1Re5"),o=n("xA5P");t.async=new o.AsyncScheduler(r.AsyncAction)},"9fMZ":function(e,t,n){"use strict";var r,o,i,a,s,c,l,u,d,p=n("mrSG"),f=n("b/sn"),h=n("q1tI"),m=n("eV/v"),g=n("KbTZ"),v=n("6m61"),b=n("mG1W"),y=n("vOnD"),w=n("gxo2"),O=n("JaVE"),E=n("b0Qh"),x=y.default.div(r||(r=p.__makeTemplateObject(["\n  background: ",";\n  border-radius: ","px;\n  color: ",";\n  position: relative;\n  vertical-align: middle;\n  font-size: ","px;\n\n  .ProseMirror-selectednode > span > & > .extension-overlay {\n    box-shadow: inset 0px 0px 0px 2px ",";\n    opacity: 1;\n  }\n\n  &.with-overlay {\n    .extension-overlay {\n      background: ",";\n      color: transparent;\n    }\n\n    &:hover .extension-overlay {\n      opacity: 1;\n    }\n  }\n"],["\n  background: ",";\n  border-radius: ","px;\n  color: ",";\n  position: relative;\n  vertical-align: middle;\n  font-size: ","px;\n\n  .ProseMirror-selectednode > span > & > .extension-overlay {\n    box-shadow: inset 0px 0px 0px 2px ",";\n    opacity: 1;\n  }\n\n  &.with-overlay {\n    .extension-overlay {\n      background: ",";\n      color: transparent;\n    }\n\n    &:hover .extension-overlay {\n      opacity: 1;\n    }\n  }\n"])),Object(O.a)({light:E.colors.N20,dark:E.colors.DN50}),Object(w.f)(),Object(O.a)({dark:E.colors.DN700}),Object(w.j)(),E.colors.B200,E.colors.N20A),k=y.default.div(o||(o=p.__makeTemplateObject(["\n  border-radius: ","px;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  pointer-events: none;\n  transition: opacity 0.3s;\n"],["\n  border-radius: ","px;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  pointer-events: none;\n  transition: opacity 0.3s;\n"])),Object(w.f)()),C=y.default.div(i||(i=p.__makeTemplateObject(["\n  display: inline-flex;\n  align-items: center;\n\n  & > img {\n    margin: 0 4px;\n  }\n"],["\n  display: inline-flex;\n  align-items: center;\n\n  & > img {\n    margin: 0 4px;\n  }\n"]))),S=y.default.span(a||(a=p.__makeTemplateObject(["\n  display: inline-block;\n  max-width: 200px;\n  margin-left: 5px;\n  color: ",";\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"],["\n  display: inline-block;\n  max-width: 200px;\n  margin-left: 5px;\n  color: ",";\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"])),E.colors.N70),j=n("7tJo"),T=n.n(j),M=function(e){var t=e.node,n=e.type;if(t.attrs.parameters){var r,o=t.attrs.parameters.macroMetadata;if(o&&o.placeholder)return o.placeholder.forEach(function(e){e.type===n&&e.data&&e.data.url&&(r=e.data)}),r}},_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p.__extends(t,e),t.prototype.render=function(){var e=this.props.node,t=M({node:e,type:"image"});if(t)return this.renderImage(t);var n=M({node:e,type:"icon"});return this.renderFallback(n)},t.prototype.renderImage=function(e){var t=this.props.node.attrs.extensionKey,n=e.url,r=p.__rest(e,["url"]);return h.createElement("img",p.__assign({src:n},r,{alt:t}))},t.prototype.renderFallback=function(e){var t,n=this.props.node.attrs,r=n.parameters,o=n.extensionKey,i=r&&r.macroParams,a=r&&r.extensionTitle||o;return h.createElement(C,null,e?this.renderImage(p.__assign({height:24,width:24},e)):h.createElement(T.a,{label:a}),h.createElement("span",{className:"extension-title"},(t=a).charAt(0).toUpperCase()+t.slice(1)),i&&h.createElement(S,null,Object.keys(i).map(function(e){return e&&" | "+e+" = "+i[e].value})))},t}(h.Component),I=Object(y.default)(x)(s||(s=p.__makeTemplateObject(["\n  cursor: pointer;\n  display: inline-flex;\n  margin: 1px;\n\n  > img {\n    border-radius: ","px;\n  }\n\n  &::after,\n  &::before {\n    vertical-align: text-top;\n    display: inline-block;\n    width: 1px;\n    content: '';\n  }\n\n  &.with-children {\n    padding: 0;\n    background: white;\n  }\n"],["\n  cursor: pointer;\n  display: inline-flex;\n  margin: 1px;\n\n  > img {\n    border-radius: ","px;\n  }\n\n  &::after,\n  &::before {\n    vertical-align: text-top;\n    display: inline-block;\n    width: 1px;\n    content: '';\n  }\n\n  &.with-children {\n    padding: 0;\n    background: white;\n  }\n"])),Object(w.f)()),P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.node,n=e.children,r=!!n?"with-overlay with-children":"with-overlay";return h.createElement(I,{className:"extension-container "+r},h.createElement(k,{className:"extension-overlay"}),n||h.createElement(_,{node:t}))},t}(h.Component),A=n("5oxn"),N=Object(y.default)(x)(c||(c=p.__makeTemplateObject(["\n  margin: "," 0;\n\n  .extension-overflow-wrapper:not(.with-body) {\n    overflow-x: auto;\n  }\n\n  /* extension container breakout, only works on top level */\n  .ProseMirror > [extensiontype] &[data-layout='full-width'],\n  .ProseMirror > [extensiontype] &[data-layout='wide'] {\n    margin-left: 50%;\n    transform: translateX(-50%);\n  }\n  .ProseMirror > * [extensiontype] &[data-layout='wide'],\n  .ProseMirror > * [extensiontype] &[data-layout='wide'] {\n    width: 100% !important;\n  }\n"],["\n  margin: "," 0;\n\n  .extension-overflow-wrapper:not(.with-body) {\n    overflow-x: auto;\n  }\n\n  /* extension container breakout, only works on top level */\n  .ProseMirror > [extensiontype] &[data-layout='full-width'],\n  .ProseMirror > [extensiontype] &[data-layout='wide'] {\n    margin-left: 50%;\n    transform: translateX(-50%);\n  }\n  .ProseMirror > * [extensiontype] &[data-layout='wide'],\n  .ProseMirror > * [extensiontype] &[data-layout='wide'] {\n    width: 100% !important;\n  }\n"])),A.D),R=y.default.div(l||(l=p.__makeTemplateObject(["\n  cursor: pointer;\n  padding: ","px ","px ","px;\n  vertical-align: middle;\n\n  &.with-children {\n    padding: 0;\n    background: white;\n  }\n"],["\n  cursor: pointer;\n  padding: ","px ","px ","px;\n  vertical-align: middle;\n\n  &.with-children {\n    padding: 0;\n    background: white;\n  }\n"])),4,4,2),D=y.default.div(u||(u=p.__makeTemplateObject(["\n  padding: ","px;\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  border-radius: ","px;\n"],["\n  padding: ","px;\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  border-radius: ","px;\n"])),8,Object(O.a)({light:"white",dark:E.colors.DN30}),Object(O.a)({dark:E.colors.DN900}),E.colors.N30,Object(w.f)()),L=y.default.div(d||(d=p.__makeTemplateObject(["\n  padding: 0 ","px ","px;\n"],["\n  padding: 0 ","px ","px;\n"])),8,8),z=n("YehR"),B=n("vn11"),F=n("HPDH"),q=n("OrOc"),W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onSelectExtension=function(){var e=t.props;(0,e.onSelectExtension)("bodiedExtension"===e.node.type.name)},t}return p.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.node,r=t.handleContentDOMRef,o=t.children,i=t.view,a=t.handleRef,s=t.shadowClassNames,c="bodiedExtension"===n.type.name,l=!!o;return h.createElement(q.a,{editorView:i,plugins:{widthState:z.b},render:function(t){var i=t.widthState,u=void 0===i?{width:0}:i;return h.createElement(N,{innerRef:a,"data-layout":n.attrs.layout,className:"extension-container "+s+" "+(c?"":"with-overlay"),style:{width:Object(B.b)(n.attrs.layout,u.width)}},h.createElement("div",{className:"extension-overflow-wrapper "+(c?"with-body":"")},h.createElement(k,{className:"extension-overlay"}),h.createElement(R,{contentEditable:!1,onClick:e.onSelectExtension,className:l?"with-children":""},o||h.createElement(_,{node:n})),c&&h.createElement(L,null,h.createElement(D,{innerRef:r,className:"extension-content"}))))}})},t}(h.Component),U=Object(F.a)(W,{overflowSelector:".extension-overflow-wrapper"}),H=n("COqE"),V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.mounted=!1,t.handleMacroProvider=function(e){t.mounted&&t.setState({macroProvider:e})},t.handleSelectExtension=function(e){var n=t.props.editorView,r=n.state,o=n.state,i=o.selection,a=o.schema,s=n.dispatch;r.tr;e?s(Object(b.selectParentNodeOfType)([a.nodes.bodiedExtension])(r.tr)):Object(b.findSelectedNodeOfType)([a.nodes.inlineExtension,a.nodes.extension,a.nodes.bodiedExtension])(i)||Object(H.F)(t.props.editorView,i.$from.pos-1)},t.handleExtension=function(e){var n=t.props,r=n.extensionHandlers,o=n.editorView,i=e.attrs,a=i.extensionType,s=i.extensionKey,c=i.parameters,l=i.text,u="bodiedExtension"===e.type.name;if(r&&r[a]&&!u)return r[a]({type:e.type.name,extensionType:a,extensionKey:s,parameters:c,content:l},o.state.doc)},t}return p.__extends(t,e),t.prototype.componentWillMount=function(){this.mounted=!0},t.prototype.componentDidMount=function(){var e=this.props.macroProvider;e&&e.then(this.handleMacroProvider)},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.componentWillReceiveProps=function(e){var t=e.macroProvider;this.props.macroProvider!==t&&(t?t.then(this.handleMacroProvider):this.setState({macroProvider:t}))},t.prototype.render=function(){var e=this.state.macroProvider,t=this.props,n=t.node,r=t.handleContentDOMRef,o=t.editorView,i=this.tryExtensionHandler();switch(n.type.name){case"extension":case"bodiedExtension":return h.createElement(U,{node:n,macroProvider:e,handleContentDOMRef:r,onSelectExtension:this.handleSelectExtension,view:o},i);case"inlineExtension":return h.createElement(P,{node:n,macroProvider:e},i);default:return null}},t.prototype.tryExtensionHandler=function(){var e=this.props.node;try{var t=this.handleExtension(e);if(t&&h.isValidElement(t))return t}catch(e){console.error("Provided extension handler has thrown an error\n",e)}return null},t}(h.Component),G=function(e){function t(t){var n=e.call(this,t)||this;return n.renderWithProvider=function(e){var t=n.props,r=t.node,o=t.editorView,i=t.handleContentDOMRef,a=t.extensionHandlers,s=e.macroProvider;return h.createElement(V,{editorView:o,node:r,macroProvider:s,handleContentDOMRef:i,extensionHandlers:a})},n.providerFactory=t.providerFactory||new g.a,n}return p.__extends(t,e),t.prototype.componentWillUnmount=function(){this.props.providerFactory||this.providerFactory.destroy()},t.prototype.render=function(){return h.createElement(v.a,{providers:["macroProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})},t}(h.Component),K=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p.__extends(t,e),t.prototype.ignoreMutation=function(e){return"data-layout"!==e.attributeName},t.prototype.getContentDOM=function(){if(!this.node.isInline){var e=document.createElement("div");return e.className=this.node.type.name+"-content-dom-wrapper",{dom:e}}},t.prototype.render=function(e,t){return h.createElement("span",null,h.createElement(G,{editorView:this.view,node:this.node,providerFactory:e.providerFactory,handleContentDOMRef:t,extensionHandlers:e.extensionHandlers}),"inlineExtension"===this.node.type.name&&H.a)},t}(m.b);function $(e,t,n){return function(r,o,i){return new K(r,o,i,e,{providerFactory:t,extensionHandlers:n}).init()}}var J=n("KiBw");n.d(t,"b",function(){return Y});var Y=new f.PluginKey("extensionPlugin");t.a=function(e,t,n,r,o){return new f.Plugin({state:{init:function(){var e=!0,t=!1;return"object"==typeof o&&(e=!!o.stickToolbarToBottom,t=!!o.allowBreakout),{element:null,layout:"default",showLayoutOptions:!0,stickToolbarToBottom:e,node:null,allowBreakout:t}},apply:function(t,n){var r=t.getMeta(Y);return r?(e(Y,r),r):n}},view:function(t){var n=t.domAtPos.bind(t);return{update:function(t){var r=t.dispatch,o=t.state,i=t.state.schema,a=Object(J.a)(o),s=a&&Object(b.findDomRefAtPos)(a.pos,n),c=Y.getState(o);if(a||c.element){var l=i.nodes,u=l.extension,d=l.inlineExtension,f=Object(b.findSelectedNodeOfType)([d,u])(o.selection),h=a&&s.querySelector?f?s.querySelector(".extension-container")||s:Object(H.j)(s,".extension-container")||s.querySelector(".extension-container")||s:void 0;return c.element!==h?(r(o.tr.setMeta(Y,p.__assign({},c,{element:h,layout:a&&a.node.attrs.layout,node:a}))),!0):(e(Y,p.__assign({},c)),!0)}}}},key:Y,props:{nodeViews:{extension:$(r,t,n),bodiedExtension:$(r,t,n),inlineExtension:$(r,t,n)}}})}},"9l94":function(e,t,n){"use strict";var r=n("pVnL"),o=n.n(r),i=n("QILm"),a=n.n(i),s=n("lwsE"),c=n.n(s),l=n("W8MJ"),u=n.n(l),d=n("a1gu"),p=n.n(d),f=n("Nsbk"),h=n.n(f),m=n("7W2i"),g=n.n(m),v=n("PJYZ"),b=n.n(v),y=n("lSNA"),w=n.n(y),O=n("q1tI"),E=n.n(O),x=n("SxiB"),k=n("wTIg"),C=n("gxo2"),S=Object(k.a)("div",{target:"e1404jix0"})({name:"87uc0g",styles:"align-items:flex-end;display:flex;"}),j=Object(k.a)("div",{target:"e1404jix1"})("margin-left:","".concat(Object(C.l)(),"px"),";& button{height:39px;}"),T=Object(k.a)("div",{target:"e1404jix2"})({name:"1rr4qq7",styles:"flex:1;"}),M=n("JRPe"),_=n("grSP"),I=n("JyIQ"),P=n.n(I),A=n("eq3s"),N=Object(M.e)({buttonClickedTooltip:{id:"bitkit.copy.buttonClickedTooltip",defaultMessage:"Copied to clipboard"},buttonTooltip:{id:"bitkit.copy.buttonTooltip",defaultMessage:"Copy"},buttonLabel:{id:"bitkit.copy.buttonClickedLabel",defaultMessage:"Copy"}});var R=function(e){function t(){var e,n;c()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=p()(this,(e=h()(t)).call.apply(e,[this].concat(o))),w()(b()(b()(n)),"state",{textIsCopied:!1}),w()(b()(b()(n)),"handleClick",function(){var e=n.props.value||"";!function(e){var t=document.createElement("span");t.textContent=e,t.style.whiteSpace="pre";var n=document.createElement("iframe");n.sandbox.add("allow-same-origin"),document.body&&document.body.appendChild(n);var r=n.contentWindow;r.document.body.appendChild(t);var o=r.getSelection();(o&&0===o.rangeCount||!o)&&(o=(r=window).getSelection(),document.body&&document.body.appendChild(t));var i=r.document.createRange();o.removeAllRanges(),i.selectNode(t),o.addRange(i),document.activeElement&&document.activeElement.blur();var a=!1;try{a=r.document.execCommand("copy")}catch(e){}o.removeAllRanges(),r.document.body.removeChild(t),document.body&&document.body.removeChild(n)}(e),n.props.onCopy(e),n.setState({textIsCopied:!0})}),w()(b()(b()(n)),"renderButton",function(){return E.a.createElement(_.a,{onClick:n.handleClick,iconBefore:E.a.createElement(P.a,{label:n.props.intl.formatMessage(N.buttonLabel)})})}),n}return g()(t,e),u()(t,[{key:"render",value:function(){return E.a.createElement(j,null,E.a.createElement(A.a,{content:this.props.intl.formatMessage(this.state.textIsCopied?N.buttonClickedTooltip:N.buttonTooltip),position:"right"},this.renderButton()))}}]),t}(O.PureComponent);w()(R,"defaultProps",{onCopy:function(){}});var D=Object(M.f)(R),L=function(e){function t(){var e,n;c()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=p()(this,(e=h()(t)).call.apply(e,[this].concat(o))),w()(b()(b()(n)),"textField",void 0),w()(b()(b()(n)),"handleCopy",function(e){n.select(),n.focus(),n.props.onCopy(e)}),w()(b()(b()(n)),"handleTextFieldRef",function(e){n.textField=e}),n}return g()(t,e),u()(t,[{key:"focus",value:function(){this.textField&&this.textField.focus()}},{key:"select",value:function(){this.textField&&this.textField&&this.textField.select()}},{key:"render",value:function(){var e=this.props,t=e.value,n=(e.onCopy,e.initialValue,a()(e,["value","onCopy","initialValue"]));return E.a.createElement(S,null,E.a.createElement(T,null,E.a.createElement(x.a,o()({},n,{innerRef:this.handleTextFieldRef,shouldFitContainer:!0,value:t}))),E.a.createElement(D,{onCopy:this.handleCopy,value:"number"==typeof t?t.toString():t}))}}]),t}(O.PureComponent);w()(L,"defaultProps",{onChange:function(){},onCopy:function(){},value:""});var z=function(e){function t(){var e,n;c()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=p()(this,(e=h()(t)).call.apply(e,[this].concat(o))),w()(b()(b()(n)),"textField",void 0),w()(b()(b()(n)),"state",{value:n.props.initialValue}),w()(b()(b()(n)),"handleTextFieldRef",function(e){n.textField=e}),w()(b()(b()(n)),"handleOnChange",function(e){e.target instanceof HTMLInputElement&&n.setState({value:e.target.value}),n.props.onChange(e)}),n}return g()(t,e),u()(t,[{key:"focus",value:function(){this.textField&&this.textField.focus()}},{key:"select",value:function(){this.textField&&this.textField.select()}},{key:"render",value:function(){var e=this.props,t=e.onCopy,n=a()(e,["onCopy"]);return E.a.createElement(L,o()({},n,{onChange:this.handleOnChange,onCopy:t,forwardedRef:this.handleTextFieldRef,value:this.state.value}))}}]),t}(O.PureComponent);w()(z,"defaultProps",{onChange:function(){},onCopy:function(){}}),n.d(t,"a",function(){return L})},"9lTW":function(e,t,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0}function o(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var i=n("MCLT"),a=Object.prototype.hasOwnProperty,s=Array.prototype.slice,c="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function u(e){return!o(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var d=e.exports=v,p=/\s*function\s+([^\(\s]*)\s*/;function f(e){if(i.isFunction(e)){if(c)return e.name;var t=e.toString().match(p);return t&&t[1]}}function h(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function m(e){if(c||!i.isFunction(e))return i.inspect(e);var t=f(e);return"[Function"+(t?": "+t:"")+"]"}function g(e,t,n,r,o){throw new d.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:o})}function v(e,t){e||g(e,!0,t,"==",d.ok)}function b(e,t,n,a){if(e===t)return!0;if(o(e)&&o(t))return 0===r(e,t);if(i.isDate(e)&&i.isDate(t))return e.getTime()===t.getTime();if(i.isRegExp(e)&&i.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(u(e)&&u(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var c=(a=a||{actual:[],expected:[]}).actual.indexOf(e);return-1!==c&&c===a.expected.indexOf(t)||(a.actual.push(e),a.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(i.isPrimitive(e)||i.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var o=y(e),a=y(t);if(o&&!a||!o&&a)return!1;if(o)return e=s.call(e),t=s.call(t),b(e,t,n);var c,l,u=E(e),d=E(t);if(u.length!==d.length)return!1;for(u.sort(),d.sort(),l=u.length-1;l>=0;l--)if(u[l]!==d[l])return!1;for(l=u.length-1;l>=0;l--)if(c=u[l],!b(e[c],t[c],n,r))return!1;return!0}(e,t,n,a))}return n?e===t:e==t}function y(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function w(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function O(e,t,n,r){var o;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),o=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!o&&g(o,n,"Missing expected exception"+r);var a="string"==typeof r,s=!e&&o&&!n;if((!e&&i.isError(o)&&a&&w(o,n)||s)&&g(o,n,"Got unwanted exception"+r),e&&o&&n&&!w(o,n)||!e&&o)throw o}d.AssertionError=function(e){var t;this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=h(m((t=this).actual),128)+" "+t.operator+" "+h(m(t.expected),128),this.generatedMessage=!0);var n=e.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else{var r=new Error;if(r.stack){var o=r.stack,i=f(n),a=o.indexOf("\n"+i);if(a>=0){var s=o.indexOf("\n",a+1);o=o.substring(s+1)}this.stack=o}}},i.inherits(d.AssertionError,Error),d.fail=g,d.ok=v,d.equal=function(e,t,n){e!=t&&g(e,t,n,"==",d.equal)},d.notEqual=function(e,t,n){e==t&&g(e,t,n,"!=",d.notEqual)},d.deepEqual=function(e,t,n){b(e,t,!1)||g(e,t,n,"deepEqual",d.deepEqual)},d.deepStrictEqual=function(e,t,n){b(e,t,!0)||g(e,t,n,"deepStrictEqual",d.deepStrictEqual)},d.notDeepEqual=function(e,t,n){b(e,t,!1)&&g(e,t,n,"notDeepEqual",d.notDeepEqual)},d.notDeepStrictEqual=function e(t,n,r){b(t,n,!0)&&g(t,n,r,"notDeepStrictEqual",e)},d.strictEqual=function(e,t,n){e!==t&&g(e,t,n,"===",d.strictEqual)},d.notStrictEqual=function(e,t,n){e===t&&g(e,t,n,"!==",d.notStrictEqual)},d.throws=function(e,t,n){O(!0,e,t,n)},d.doesNotThrow=function(e,t,n){O(!1,e,t,n)},d.ifError=function(e){if(e)throw e};var E=Object.keys||function(e){var t=[];for(var n in e)a.call(e,n)&&t.push(n);return t}}).call(this,n("yLpj"))},"9oG3":function(e,t,n){"use strict";n.d(t,"d",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"b",function(){return p}),n.d(t,"e",function(){return h}),n.d(t,"g",function(){return m}),n.d(t,"h",function(){return g}),n.d(t,"a",function(){return b});var r=n("++pP"),o=(n("byeC"),n("b/sn")),i=n("Cb2O"),a=n("COqE"),s=function(e){return h(e)||u(e)||l(e)},c=function(e){var t=e.selection.node;return t&&t.type!==e.schema.nodes.media&&t.isBlock},l=function(e){if(Object(a.c)(e))return d(e,e.selection.$from)},u=function(e){if(Object(a.e)(e))return f(e,e.selection.$to)},d=function(e,t){var n,r;if(c(e)?(n=t.pos,r=t.nodeBefore):(n=Object(a.H)(t)-1,r=e.doc.resolve(n).nodeBefore),r&&r.type===e.schema.nodes.mediaGroup)return n-r.nodeSize+1},p=function(e){return e.selection.$from.parent.type===e.schema.nodes.paragraph&&Object(a.c)(e)&&Object(a.e)(e)},f=function(e,t,n){var r,o;if(void 0===n&&(n=!0),c(e)?(r=t.pos,o=t.nodeAfter):(r=Object(a.m)(t),o=e.doc.nodeAt(r)),o&&o.type===e.schema.nodes.mediaGroup)return n?r+1:r+o.nodeSize-1},h=function(e,t,n){void 0===n&&(n=!1);var r=e.selection.$from;if((t=t||r).parent.type===e.schema.nodes.mediaGroup)return n?Object(a.H)(t):Object(a.m)(t)-1};var m=function(e,t,n){var r=t.attrs.id,o=e.state,i=o.tr,s=o.selection,c=o.doc,l=n();i.deleteRange(l,l+t.nodeSize),Object(a.A)(r)&&i.setMeta("addToHistory",!1),e.dispatch(i);var u=c.resolve(l),d=u.index()===u.parent.childCount-1;s.from!==l||d||Object(a.d)(o)||Object(a.C)(e)},g=function(e){var t=e.state.selection;return t instanceof o.NodeSelection&&t.node.type===e.state.schema.nodes.media&&(Object(r.deleteSelection)(e.state,e.dispatch),t.$to.nodeAfter?(Object(r.splitBlock)(e.state,e.dispatch),Object(i.e)(!1)(e.state,e.dispatch)):Object(i.c)(e.state,e.dispatch),!0)},v=function(e){return e.length>1&&"_"===e[0]&&"_"===e[1]},b=function(e,t){Object.keys(t.attrs).filter(v).forEach(function(n){var r=n.substring(2),o=e[r];void 0!==o&&(t.attrs[n]=o)})}},AB90:function(e,t,n){"use strict";var r=n("RIqP"),o=n.n(r),i=n("lwsE"),a=n.n(i),s=n("W8MJ"),c=n.n(s),l=n("a1gu"),u=n.n(l),d=n("PJYZ"),p=n.n(d),f=n("Nsbk"),h=n.n(f),m=n("iWIM"),g=n.n(m),v=n("7W2i"),b=n.n(v),y=n("lSNA"),w=n.n(y),O=n("MVZn"),E=n.n(O),x=n("cDf5"),k=n.n(x),C=function(){function e(t){var n=this;a()(this,e),w()(this,"payload",void 0),w()(this,"clone",function(){return new e({payload:JSON.parse(JSON.stringify(n.payload))})}),this.payload=t.payload}return c()(e,[{key:"update",value:function(e){return"function"==typeof e?this.payload=e(this.payload):"object"===k()(e)&&(this.payload=E()({},this.payload,e)),this}}]),e}();n.d(t,"a",function(){return j});var S=console.warn,j=function(e){function t(e){var n;return a()(this,t),n=u()(this,h()(t).call(this,e)),w()(p()(n),"context",void 0),w()(p()(n),"handlers",void 0),w()(p()(n),"hasFired",void 0),w()(p()(n),"clone",function(){return n.hasFired?(S("Cannot clone an event after it's been fired."),null):new t({context:o()(n.context),handlers:o()(n.handlers),payload:JSON.parse(JSON.stringify(n.payload))})}),w()(p()(n),"fire",function(e){n.hasFired?S("Cannot fire an event twice."):(n.handlers.forEach(function(t){t(p()(n),e)}),n.hasFired=!0)}),n.context=e.context||[],n.handlers=e.handlers||[],n.hasFired=!1,n}return b()(t,e),c()(t,[{key:"update",value:function(e){return this.hasFired?(S("Cannot update an event after it's been fired."),this):g()(h()(t.prototype),"update",this).call(this,e)}}]),t}(C)},"AIp+":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return new Promise(function(t){var n=e.subscribe({next:function(e){t(e),setTimeout(function(){return n.unsubscribe()},0)}})})}},AVV5:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=new RegExp("^{([^}]+)}$"),o=function(e){var t=r.exec(e);return t?t[1]:null}},AaNc:function(e,t,n){"use strict";var r=n("mrSG"),o=n("q1tI"),i=n("eq3s"),a=n("grSP"),s=function(e){return o.createElement(a.a,r.__assign({},e,{theme:function(t,n){var o=t(n),i=o.buttonStyles,a=r.__rest(o,["buttonStyles"]);return r.__assign({buttonStyles:r.__assign({},i,{lineHeight:0,justifyContent:"center","> span":{margin:"0 "+("none"===e.spacing?"0":"-2px")},"& + &":{marginLeft:"none"===e.spacing?"4px":"0px"},"&[disabled]":{pointerEvents:"none"}})},a)}}))},c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){var n=t.props,r=n.disabled,o=n.onClick;!r&&o&&o(e)},t}return r.__extends(t,e),t.prototype.render=function(){var e=o.createElement(s,{appearance:"subtle","aria-haspopup":!0,className:this.props.className,href:this.props.href,"aria-label":this.props["aria-label"],iconAfter:this.props.iconAfter,iconBefore:this.props.iconBefore,isDisabled:this.props.disabled,isSelected:this.props.selected,onClick:this.handleClick,spacing:this.props.spacing||"default",target:this.props.target,theme:this.props.theme,shouldFitContainer:!0},this.props.children),t=this.props.titlePosition||"top",n=this.props.hideTooltip?null:this.props.title;return this.props.title?o.createElement(i.a,{content:n,hideTooltipOnClick:!0,position:t},e):e},t.defaultProps={className:""},t}(o.PureComponent);t.a=c},Ag6W:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M13 11V7a1 1 0 0 0-2 0v4H7a1 1 0 0 0 0 2h4v4a1 1 0 0 0 2 0v-4h4a1 1 0 0 0 0-2h-4z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorAddIcon";var c=s;t.default=c},AgaO:function(e){e.exports={a:"@atlaskit/status",b:"0.9.1"}},Amlx:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return l});var r=n("wTIg"),o=n("b0Qh"),i=n("gxo2"),a=n("E1Xi"),s=Object(r.a)("div",{target:"ef7do440"})("align-items:center;display:flex;flex-wrap:wrap;",a.a.upToXLarge("flex-wrap: wrap;"),""),c=Object(r.a)("span",{target:"ef7do441"})("background:",o.colors.N20,";border-radius:",Object(i.f)(),"px;color:",o.colors.N500,";cursor:default;display:inline-block;font-size:12px;font-weight:500;line-height:1;max-width:","180","px;overflow:hidden;padding:",Object(i.l)()/2,"px ",Object(i.l)(),"px;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap;"),l=Object(r.a)("div",{target:"ef7do442"})("margin-right:",Object(i.l)()/2,"px;")},Aoej:function(e){e.exports={a:"@atlaskit/field-text-area",b:"6.0.12"}},Aood:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l});var r=n("QatU"),o=n("iS3C"),i=n("byeC"),a=window.performance&&performance.now,s=function(e){var t=a?performance.now():Date.now();return{output:e(),time:(a?performance.now():Date.now())-t}},c=function(e,t,n,i){void 0===n&&(n=r.a),void 0===i&&(i="final");var a={sanitizeTime:0},c=s(function(){return Object(o.b)(e,n,i)}),l=c.output,u=c.time;if(a.sanitizeTime=u,!l)return{stat:a,result:null};var d=s(function(){var e=n.nodeFromJSON(l);return e.check(),e}),p=d.output,f=d.time;a.buildTreeTime=f;var h=s(function(){return t.serializeFragment(p.content)}),m=h.output,g=h.time;return a.serializeTime=g,{result:m,stat:a}},l=function(e,t,n,a,s){void 0===n&&(n=r.a),void 0===s&&(s="final");var c=e.map(function(e){return Object(o.c)(e,n,s)}),l=i.Fragment.fromJSON(n,c);return t.serializeFragment(l,{},a,"node-0")}},ApEx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M12 20a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm1.364-10.964l-2.152 4.11-1.543-1.39a1 1 0 1 0-1.338 1.487l2.5 2.25a1 1 0 0 0 1.555-.279l2.75-5.25a1 1 0 0 0-1.772-.928z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorSuccessIcon";var c=s;t.default=c},Aw7Y:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var r=n("b/sn"),o=function(e){if(e&&e instanceof r.NodeSelection&&"status"===e.node.type.name)return e.node.attrs||null;return null},i=function(e){return e&&(e.text&&0===e.text.trim().length||""===e.text)}},AwKd:function(e,t,n){"use strict";var r=n("/IjO"),o=n("mG1W"),i=n("5Ix2"),a=n("dvq/"),s=n("7UM5"),c=n("knDx"),l=n("w9Yk"),u=n("hkcA"),d=n("b/sn"),p=n("BCfg"),f=n("VV6X"),h=n("755M"),m=n("KiAB"),g=n("cXlQ"),v=n("tQKV"),b=n("dqnb"),y=n("OzeT"),w=n("BbRl");n.d(t,"d",function(){return E}),n.d(t,"g",function(){return x}),n.d(t,"i",function(){return k}),n.d(t,"h",function(){return C}),n.d(t,"f",function(){return S}),n.d(t,"e",function(){return j}),n.d(t,"b",function(){return T}),n.d(t,"a",function(){return M}),n.d(t,"c",function(){return _}),n.d(t,"k",function(){return I}),n.d(t,"j",function(){return P}),n.d(t,"l",function(){return A}),n.d(t,"m",function(){return N});var O={default:c.b.NORMAL,wide:c.b.WIDE,"full-width":c.b.FULL_WIDTH},E=function(e,t){return Object(l.d)(function(t){var n=t.selection,r=Object(m.a)(n),o=r.horizontalCells,i=r.verticalCells,a=r.totalRowCount,s=r.totalColumnCount;return{action:c.a.CLEARED,actionSubject:u.b.TABLE,actionSubjectId:null,attributes:{inputMethod:e,horizontalCells:o,verticalCells:i,totalRowCount:a,totalColumnCount:s},eventType:u.d.TRACK}})(Object(a.a)("atlassian.editor.format.table.delete_content."+(e===u.e.KEYBOARD?"keyboard":"button"),function(e){return function(t,n){var r,i=t.tr;if(Object(o.isCellSelection)(i.selection)){var a=i.selection;a.forEachCell(function(e,n){var r=i.doc.resolve(i.mapping.map(n+1));i=Object(o.emptyCell)(Object(o.findCellClosestToPos)(r),t.schema)(i)}),r=a.$headCell.pos}else if(e){var s=Object(o.findCellClosestToPos)(i.doc.resolve(e+1));i=Object(o.emptyCell)(s,t.schema)(i),r=s.pos}if(i.docChanged&&r){var c=i.doc.resolve(i.mapping.map(r)),l=d.Selection.findFrom(c,1,!0);return l&&i.setSelection(l),n&&n(i),!0}return!1}}(t)))},x=function(){return Object(l.d)(function(e){var t=e.selection,n=Object(m.a)(t),r=n.horizontalCells,o=n.verticalCells,i=n.totalCells,a=n.totalRowCount,s=n.totalColumnCount;return{action:c.a.MERGED,actionSubject:u.b.TABLE,actionSubjectId:null,attributes:{horizontalCells:r,verticalCells:o,totalCells:i,totalRowCount:a,totalColumnCount:s},eventType:u.d.TRACK}})(function(e,t){return t&&(s.a.trackEvent("atlassian.editor.format.table.merge.button"),t(Object(b.b)(e.tr))),!0})},k=function(){return Object(l.d)(function(e){var t=e.selection,n=Object(m.a)(t),r=n.totalRowCount,i=n.totalColumnCount,a=Object(o.findCellClosestToPos)(t.$anchor);if(a){var s=a.node.attrs,l=s.rowspan,d=s.colspan;return{action:c.a.SPLIT,actionSubject:u.b.TABLE,actionSubjectId:null,attributes:{horizontalCells:d,verticalCells:l,totalCells:d*l,totalRowCount:r,totalColumnCount:i},eventType:u.d.TRACK}}})(Object(a.a)("atlassian.editor.format.table.split.button",r.splitCell))},C=function(e,t){return Object(l.d)(function(t){var n=t.selection,r=Object(m.a)(n),o=r.horizontalCells,a=r.verticalCells,s=r.totalCells,l=r.totalRowCount,d=r.totalColumnCount;return{action:c.a.COLORED,actionSubject:u.b.TABLE,actionSubjectId:null,attributes:{cellColor:(i.f.get(e.toLowerCase())||e).toLowerCase(),horizontalCells:o,verticalCells:a,totalCells:s,totalRowCount:l,totalColumnCount:d},eventType:u.d.TRACK}})(Object(a.a)("atlassian.editor.format.table.backgroundColor.button",Object(p.j)({background:e},t)))},S=function(e,t){return Object(l.d)(function(n){var r=Object(m.b)(n.selection),o=r.totalRowCount,i=r.totalColumnCount;return{action:c.a.ADDED_ROW,actionSubject:u.b.TABLE,actionSubjectId:null,attributes:{inputMethod:e,position:t,totalRowCount:o,totalColumnCount:i},eventType:u.d.TRACK}})(Object(a.a)("atlassian.editor.format.table.row."+(e===u.e.KEYBOARD?"keyboard":"button"),Object(f.c)(t)))},j=function(e,t){return Object(l.d)(function(n){var r=Object(m.b)(n.selection),o=r.totalRowCount,i=r.totalColumnCount;return{action:c.a.ADDED_COLUMN,actionSubject:u.b.TABLE,actionSubjectId:null,attributes:{inputMethod:e,position:t,totalRowCount:o,totalColumnCount:i},eventType:u.d.TRACK}})(Object(a.a)("atlassian.editor.format.table.column.button",Object(f.b)(t)))},T=function(e,t,n){return Object(l.d)(function(n){var r=n.selection,o=Object(m.b)(r),i=o.totalRowCount,a=o.totalColumnCount;return{action:c.a.DELETED_ROW,actionSubject:u.b.TABLE,actionSubjectId:null,attributes:{inputMethod:e,position:t.top,count:t.bottom-t.top,totalRowCount:i,totalColumnCount:a},eventType:u.d.TRACK}})(function(e,r){return r&&(s.a.trackEvent("atlassian.editor.format.table.delete_row.button"),r(Object(y.a)(t,n)(e.tr))),!0})},M=function(e,t){return Object(l.d)(function(n){var r=n.selection,o=Object(m.b)(r),i=o.totalRowCount,a=o.totalColumnCount;return{action:c.a.DELETED_COLUMN,actionSubject:u.b.TABLE,actionSubjectId:null,attributes:{inputMethod:e,position:t.left,count:t.right-t.left,totalRowCount:i,totalColumnCount:a},eventType:u.d.TRACK}})(function(e,n){return n&&(s.a.trackEvent("atlassian.editor.format.table.delete_column.button"),n(Object(w.a)(t)(e.tr))),!0})},_=function(){return Object(l.d)(function(e){var t=e.selection,n=Object(m.b)(t),r=n.totalRowCount,o=n.totalColumnCount;return{action:c.a.DELETED,actionSubject:u.b.TABLE,actionSubjectId:null,attributes:{inputMethod:u.e.FLOATING_TB,totalRowCount:r,totalColumnCount:o},eventType:u.d.TRACK}})(Object(a.a)("atlassian.editor.format.table.delete.button",p.c))},I=function(){return Object(l.d)(function(e){var t=Object(m.b)(e.selection),n=t.totalRowCount,r=t.totalColumnCount,o=Object(v.d)(e).isHeaderRowEnabled;return{action:c.a.TOGGLED_HEADER_ROW,actionSubject:u.b.TABLE,actionSubjectId:null,attributes:{newState:!o,totalRowCount:n,totalColumnCount:r},eventType:u.d.TRACK}})(Object(a.a)("atlassian.editor.format.table.toggleHeaderRow.button",h.d))},P=function(){return Object(l.d)(function(e){var t=Object(m.b)(e.selection),n=t.totalRowCount,r=t.totalColumnCount,o=Object(v.d)(e).isHeaderColumnEnabled;return{action:c.a.TOGGLED_HEADER_COLUMN,actionSubject:u.b.TABLE,actionSubjectId:null,attributes:{newState:!o,totalRowCount:n,totalColumnCount:r},eventType:u.d.TRACK}})(Object(a.a)("atlassian.editor.format.table.toggleHeaderColumn.button",h.c))},A=function(){return Object(l.d)(function(e){var t=Object(m.b)(e.selection),n=t.totalRowCount,r=t.totalColumnCount;return{action:c.a.TOGGLED_NUMBER_COLUMN,actionSubject:u.b.TABLE,actionSubjectId:null,attributes:{newState:!Object(g.c)(e),totalRowCount:n,totalColumnCount:r},eventType:u.d.TRACK}})(Object(a.a)("atlassian.editor.format.table.toggleNumberColumn.button",h.e))},N=function(){return Object(l.d)(function(e){var t=Object(m.b)(e.selection),n=t.table,r=t.totalRowCount,o=t.totalColumnCount;if(n){var i=n.node.attrs.layout;return{action:c.a.CHANGED_BREAKOUT_MODE,actionSubject:u.b.TABLE,actionSubjectId:null,attributes:{newBreakoutMode:O[Object(h.a)(i)],previousBreakoutMode:O[i],totalRowCount:r,totalColumnCount:o},eventType:u.d.TRACK}}})(h.f)}},BCfg:function(e,t,n){"use strict";n.d(t,"i",function(){return v}),n.d(t,"k",function(){return b}),n.d(t,"o",function(){return y}),n.d(t,"n",function(){return w}),n.d(t,"c",function(){return O}),n.d(t,"d",function(){return E}),n.d(t,"f",function(){return x}),n.d(t,"j",function(){return k}),n.d(t,"g",function(){return C}),n.d(t,"h",function(){return S}),n.d(t,"l",function(){return j}),n.d(t,"m",function(){return T}),n.d(t,"e",function(){return M}),n.d(t,"b",function(){return _}),n.d(t,"a",function(){return I});n("mrSG");var r=n("b/sn"),o=n("/IjO"),i=n("mG1W"),a=n("tQKV"),s=n("cXlQ"),c=n("7UM5"),l=n("OlUn"),u=n("s7yy"),d=n("COqE"),p=n("PE//"),f=n("xn/V"),h=n("hkcA"),m=n("AwKd"),g=n("mIQt"),v=function(e){return Object(a.a)({type:"SET_EDITOR_FOCUS",data:{editorHasFocus:e}})},b=function(e){return Object(a.a)(function(t){var n=e||void 0;return{type:"SET_TABLE_REF",data:{tableRef:n,tableNode:e?Object(i.findTable)(t.selection).node:void 0,tableWrapperTarget:Object(d.j)(n,"."+g.a.TABLE_NODE_WRAPPER)||void 0,isHeaderRowEnabled:Object(s.b)(t),isHeaderColumnEnabled:Object(s.a)(t)}}},function(e){return e.setMeta("addToHistory",!1)})},y=function(e){return function(t,n){var a=t.selection,c=t.schema.nodes.tableHeader;if(a instanceof r.TextSelection){var l=Object(i.findCellClosestToPos)(a.$from);if(l&&l.node.type!==c)return e(t,n)}if(a instanceof o.CellSelection){var u=Object(i.getSelectionRect)(a);if(!Object(s.b)(t)||u&&u.top>0)return e(t,n)}return!1}},w=function(e,t){var n=t.nodes,r=n.table,o=n.tableHeader,i=n.tableRow;return Object(u.e)(e,function(e){if(e.type===r){var t=e.firstChild;if(t){var n=[];t.forEach(function(e){n.push(o.createChecked(e.attrs,e.content,e.marks))});var a=i.createChecked(t.attrs,n,t.marks);return e.copy(e.content.replaceChild(0,a))}}return e})},O=function(e,t){return t&&t(Object(i.removeTable)(e.tr)),!0},E=function(e){return function(t,n){var r=Object(i.findTable)(t.selection);if(!r)return!1;var a=o.TableMap.get(r.node),s=t.schema.nodes,l=s.tableCell,u=s.tableHeader,d=Object(i.findParentNodeOfType)([l,u])(t.selection),p=a.positionAt(0,0,r.node)+r.start,f=a.positionAt(a.height-1,a.width-1,r.node)+r.start;if(p===d.pos&&-1===e)return Object(m.f)(h.e.KEYBOARD,0)(t,n),!0;if(f===d.pos&&1===e)return Object(m.f)(h.e.KEYBOARD,a.height)(t,n),!0;var g=1===e?"next_cell":"previous_cell";return c.a.trackEvent("atlassian.editor.format.table."+g+".keyboard"),Object(o.goToNextCell)(e)(t,n)}},x=function(e,t){var n,o,i=e.selection.$cursor;if(!i||i.parentOffset>0)return!1;if(!Object(s.f)(i.parent))for(var a=i.depth-1;!n&&a>=0&&(i.index(a)>0&&(o=i.before(a+1),n=i.node(a).child(i.index(a)-1)),!Object(s.f)(i.node(a)));a--);if(!n||n.type!==e.schema.nodes.table)return!1;var c=i.node(i.depth-1),u=e.schema.nodes.listItem;if(i.parent.type!==e.schema.nodes.paragraph||c&&c.type!==e.schema.nodes.doc)return!(!c||c.type!==u)&&Object(l.d)()(e,t);var d=e.tr,p=(o||0)-4;d.setSelection(new r.TextSelection(e.doc.resolve(p)));var f=d.selection.$from,h=f.start(-1)+f.parent.nodeSize-1;return t&&t(d.setSelection(new r.TextSelection(e.doc.resolve(h)))),!0},k=function(e,t){return function(n,o){var a,s=n.tr;if(Object(i.isCellSelection)(s.selection)){var c=s.selection;c.forEachCell(function(t,n){var r=s.doc.resolve(s.mapping.map(n+1));s=Object(i.setCellAttrs)(Object(i.findCellClosestToPos)(r),e)(s)}),a=c.$headCell.pos}else if(t){var l=Object(i.findCellClosestToPos)(s.doc.resolve(t+1));s=Object(i.setCellAttrs)(l,e)(s),a=l.pos}if(s.docChanged&&void 0!==a){var u=s.doc.resolve(s.mapping.map(a));return o&&o(s.setSelection(r.Selection.near(u))),!0}return!1}},C=function(e,t){return Object(a.a)(function(t){var n,r=Object(i.getCellsInColumn)(e)(t.tr.selection);return r&&r.length&&(n=r[0].pos),{type:"SET_TARGET_CELL_POSITION",data:{targetCellPosition:n}}},function(n){return Object(i.selectColumn)(e,t)(n).setMeta("addToHistory",!1)})},S=function(e,t){return Object(a.a)(function(t){var n,r=Object(i.getCellsInRow)(e)(t.tr.selection);return r&&r.length&&(n=r[0].pos),{type:"SET_TARGET_CELL_POSITION",data:{targetCellPosition:n}}},function(n){return Object(i.selectRow)(e,t)(n).setMeta("addToHistory",!1)})},j=function(e){return Object(a.a)(function(t){return e>-1&&{type:"SHOW_INSERT_COLUMN_BUTTON",data:{insertColumnButtonIndex:e}}},function(e){return e.setMeta("addToHistory",!1)})},T=function(e){return Object(a.a)(function(t){return e>-1&&{type:"SHOW_INSERT_ROW_BUTTON",data:{insertRowButtonIndex:e}}},function(e){return e.setMeta("addToHistory",!1)})},M=function(){return Object(a.a)({type:"HIDE_INSERT_COLUMN_OR_ROW_BUTTON"},function(e){return e.setMeta("addToHistory",!1)})},_=function(e,t,n,r,o){return e.dispatch(Object(f.b)(e,t,n,r,o)),!0},I=function(e){return function(t,n){var r=t.tr;if(Object(d.B)(r.selection)&&null==r.storedMarks&&r.selection.$from.depth===e.depth+1&&4===e.node.nodeSize&&Object(p.b)(e.node.firstChild)){var o=t.schema.marks.strong;return r.setStoredMarks([o.create()]).setMeta("addToHistory",!1),n&&n(r),!0}return!1}}},BGDq:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxOTUuMiAxNDcuMjUiPjxkZWZzPjxzdHlsZT4uY2xzLTEsLmNscy0yLC5jbHMtNiwuY2xzLTd7ZmlsbDpub25lO3N0cm9rZS13aWR0aDoycHg7fS5jbHMtMSwuY2xzLTd7c3Ryb2tlOiMwMDY1ZmY7fS5jbHMtMSwuY2xzLTIsLmNscy02e3N0cm9rZS1taXRlcmxpbWl0OjEwO30uY2xzLTIsLmNscy02e3N0cm9rZTojZmY1NjMwO30uY2xzLTN7ZmlsbDojMjUzODU4O30uY2xzLTR7ZmlsbDojMDA2NWZmO30uY2xzLTV7ZmlsbDojZmY1NjMwO30uY2xzLTYsLmNscy03e3N0cm9rZS1saW5lY2FwOnJvdW5kO30uY2xzLTd7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO308L3N0eWxlPjwvZGVmcz48dGl0bGU+U2ltcGxlIFdvcmtmbG93PC90aXRsZT48ZyBpZD0iTGF5ZXJfMiIgZGF0YS1uYW1lPSJMYXllciAyIj48ZyBpZD0iU29mdHdhcmUiPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTIxLjEzLDEzMi42N1Y3OC40M2E1LDUsMCwwLDEsNS01aDE0Ny4zIi8+PGxpbmUgY2xhc3M9ImNscy0yIiB4MT0iMTQuNTIiIHkxPSIxMjcuMzkiIHgyPSI5OC42MyIgeTI9IjEyNy4zOSIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMyIgcG9pbnRzPSI2OC43NSAxNDcuMjUgOTguNjMgMTA0Ljk5IDEyOC41MiAxNDcuMjUgNjguNzUgMTQ3LjI1Ii8+PHJlY3QgY2xhc3M9ImNscy00IiB5PSIxMDQuOTkiIHdpZHRoPSI0Mi4yNyIgaGVpZ2h0PSI0Mi4yNyIvPjxyZWN0IGNsYXNzPSJjbHMtNCIgeD0iNzcuNSIgd2lkdGg9IjQyLjI3IiBoZWlnaHQ9IjQyLjI3IiByeD0iMjEuMTMiIHJ5PSIyMS4xMyIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTk4LjYzLDIyLjI4aDcwLjU2YTUuNTgsNS41OCwwLDAsMSw1LjU4LDUuNThWNjMuNjMiLz48bGluZSBjbGFzcz0iY2xzLTIiIHgxPSIyMS4xMyIgeTE9IjIyLjI4IiB4Mj0iNzcuNSIgeTI9IjIyLjI4Ii8+PHJlY3QgY2xhc3M9ImNscy01IiB5PSIxLjE1IiB3aWR0aD0iNDIuMjciIGhlaWdodD0iNDIuMjciIHJ4PSIyMS4xMyIgcnk9IjIxLjEzIi8+PHJlY3QgY2xhc3M9ImNscy01IiB4PSIxNTIuOTMiIHk9IjUyLjMyIiB3aWR0aD0iNDIuMjciIGhlaWdodD0iNDIuMjciLz48cG9seWxpbmUgY2xhc3M9ImNscy02IiBwb2ludHM9IjU2LjEzIDE1LjA0IDYzLjM3IDIyLjI4IDU2LjEzIDI5LjUzIi8+PHBvbHlsaW5lIGNsYXNzPSJjbHMtNiIgcG9pbnRzPSI1OC42IDEyMC4xNCA2NS44NSAxMjcuMzkgNTguNiAxMzQuNjMiLz48cG9seWxpbmUgY2xhc3M9ImNscy03IiBwb2ludHM9IjE4Mi4wMiA0MC42NyAxNzQuNzggNDcuOTIgMTY3LjUzIDQwLjY3Ii8+PHBvbHlsaW5lIGNsYXNzPSJjbHMtNyIgcG9pbnRzPSIxODIuMDIgMzIuMTMgMTc0Ljc4IDM5LjM4IDE2Ny41MyAzMi4xMyIvPjxwb2x5bGluZSBjbGFzcz0iY2xzLTciIHBvaW50cz0iMjguMzggODcuNzYgMjEuMTMgOTUgMTMuODkgODcuNzYiLz48L2c+PC9nPjwvc3ZnPg=="},BTqz:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("mrSG"),o=n("q1tI");function i(){var e=document.createElement("span");return e.contentEditable="false",e.classList.add("inline-node--mobile"),e}var a,s=n("vOnD").default.span(a||(a=r.__makeTemplateObject(["\n  display: block;\n"],["\n  display: block;\n"])));t.b=function(e){var t=e.appearance,n=e.children;return"mobile"===t?o.createElement(s,null,n):o.createElement(o.Fragment,null,n)}},BYS2:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("mrSG"),o=n("HDK4"),i=n("I+Ul"),a=n("DtPt"),s={},c=function(){function e(e){this.mediaStore=e}return e.prototype.createFileStateObserver=function(e,t){var n=new o.ReplaySubject(1),a=Object(r.__assign)({id:e},t),s=Object(i.c)({data:a});return n.next(s),n},e.prototype.populateCache=function(e){var t=this;e.forEach(function(e){var n=t.createFileStateObserver(e.id,e.details);Object(a.b)().set(e.id,n)})},e.prototype.removeFromCache=function(e,t){var n=s[t].items.findIndex(function(t){return t.id===e});-1!==n&&(Object(a.b)().remove(e),s[t].items.splice(n,1))},e.prototype.getItems=function(e,t){var n=this;s[e]||(s[e]={items:[],subject:new o.ReplaySubject(1),isLoadingNextPage:!1});var i=s[e],a=i.subject;return this.mediaStore.getCollectionItems(e,Object(r.__assign)(Object(r.__assign)({},t),{details:"full"})).then(function(e){var t=e.data,r=t.contents,o=t.nextInclusiveStartKey;n.populateCache(r),i.items=e.data.contents,i.nextInclusiveStartKey=o,a.next(i.items)}).catch(function(e){return a.error(e)}),a},e.prototype.removeFile=function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,this.mediaStore.removeCollectionFile(e,t,n)];case 1:return r.sent(),this.removeFromCache(e,t),(o=s[t]).subject.next(o.items),[2]}})})},e.prototype.loadNextPage=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,o,i,a,c,l,u,d,p,f,h,m;return Object(r.__generator)(this,function(g){switch(g.label){case 0:return n=s[e],o=!!n&&n.isLoadingNextPage,n&&n.nextInclusiveStartKey&&!o?(n.isLoadingNextPage=!0,i=s[e],a=i.nextInclusiveStartKey,c=i.items,l=i.subject,[4,this.mediaStore.getCollectionItems(e,Object(r.__assign)(Object(r.__assign)({},t),{inclusiveStartKey:a,details:"full"}))]):[2];case 1:return u=g.sent(),d=u.data,p=d.contents,f=d.nextInclusiveStartKey,this.populateCache(p),h=u.data.contents,m=Object(r.__spread)(c,h),l.next(m),s[e]={items:m,nextInclusiveStartKey:f,subject:l,isLoadingNextPage:!1},[2]}})})},e}()},BbRl:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("mrSG"),o=n("b/sn"),i=n("/IjO"),a=n("mG1W"),s=n("ClUl"),c=function(e){return function(t){var n=Object(a.findTable)(t.selection);if(!n)return t;for(var c=[],l=e.left;l<e.right;l++)c.push(l);if(!c.length)return t;for(var u=i.TableMap.get(n.node),d=[],p={},f={},h=0;h<u.height;h++){for(var m=[],g=n.node.child(h),v=function(e){var t=u.map[h*u.width+e],o=n.node.nodeAt(t);if(!o)return"continue";var i=u.cellsInRect({left:e,top:0,right:e+1,bottom:u.height});if(-1===c.indexOf(e)){if(i.indexOf(t)>-1&&!p[t]){var a=0;if(c.forEach(function(t){e<t&&o.attrs.colspan+e-1>=t&&(a+=1)}),a>0){var s=r.__assign({},o.attrs,{colspan:o.attrs.colspan-a});if(o.attrs.colwidth){var l=Math.min.apply(Math,r.__spread(c)),d=l>0?l-u.colCount(t):0,g=o.attrs.colwidth.slice()||[];g.splice(d,a),s.colwidth=g}var v=o.type.createChecked(s,o.content,o.marks);return m.push(v),p[t]=!0,"continue"}}else if(f[t]){s=r.__assign({},o.attrs,{colspan:1,rowspan:1});if(o.attrs.colwidth){d=e>0?e-u.colCount(t):0;s.colwidth=o.attrs.colwidth.slice().splice(d,1)}v=o.type.createChecked(s,o.type.schema.nodes.paragraph.createChecked(),o.marks);return m.push(v),"continue"}p[t]||(p[t]=!0,m.push(o))}else i.indexOf(t)>-1&&(f[t]=!0)},b=0;b<u.width;b++)v(b);m.length&&d.push(g.type.createChecked(g.attrs,m,g.marks))}if(!d.length)return Object(s.a)({type:"DELETE_COLUMNS",problem:"EMPTY_TABLE"})(t);var y=n.node.type.createChecked(n.node.attrs,d,n.node.marks),w=function(e){var t=i.TableMap.get(e),n=function(e){for(var t=[],n=0;n<e.childCount;n++){for(var o=[],i=e.child(n),a=0;a<i.childCount;a++){var s=i.child(a);o.push(s.attrs.rowspan)}t[n]=Math.min.apply(Math,r.__spread(o))}return t}(e);if(!n.some(function(e){return e>1}))return e;for(var o=[],a=0;a<t.height;a++){var s=e.child(a);if(1===n[a])o.push(s);else{for(var c=[],l=0;l<s.childCount;l++){var u=s.child(l),d=u.attrs.rowspan-n[a]+1;if(d<1)return null;var p=u.type.createChecked(r.__assign({},u.attrs,{rowspan:d}),u.content,u.marks);c.push(p)}o.push(s.type.createChecked(s.attrs,c,s.marks))}}if(!o.length)return null;return e.type.createChecked(e.attrs,o,e.marks)}(y);if(null===w)return Object(s.a)({type:"DELETE_COLUMNS",problem:"FIX_ROWSPANS"})(t);var O=function(e,t){var n=Math.min.apply(Math,r.__spread(t)),o=n>0?n-1:0;return i.TableMap.get(e).map[o]}(y,c);return Object(s.a)({type:"DELETE_COLUMNS"})(t.replaceWith(n.pos,n.pos+n.node.nodeSize,w).setSelection(o.Selection.near(t.doc.resolve(n.pos+O))))}}},Bmzh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><rect fill="currentColor" x="5" y="11" width="14" height="2" rx="1" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorHorizontalRuleIcon";var c=s;t.default=c},BvRm:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return d});var r=n("mrSG"),o=n("byeC"),i=n("b/sn"),a=n("hRjf"),s=n("9YOO"),c={text:"",color:"neutral"},l=function(e){return void 0===e&&(e=-2),function(t,n){var o=t(n.schema.nodes.status.createChecked(r.__assign({},c,{localId:a.b.generate()}))),l=o.selection.from+e;return o.setSelection(i.NodeSelection.create(o.doc,l)).setMeta(s.b,{showStatusPickerAt:l,isNew:!0})}},u=function(e){return function(t){var n=t.state,l=t.dispatch,u=n.schema,d=e?Object.assign(e,{text:e.text.trim(),localId:e.localId||a.b.generate()}):e,p=r.__assign({},c,d),f=n.tr,h=s.b.getState(n).showStatusPickerAt;if(!h){var m=u.nodes.status.createChecked(p),g=o.Fragment.fromArray([m,n.schema.text(" ")]),v=f.selection.from;return l(f=(f=(f=f.replaceWith(v,v,g)).setSelection(i.NodeSelection.create(f.doc,v))).setMeta(s.b,{showStatusPickerAt:v,isNew:!0}).scrollIntoView()),!0}return!!n.doc.nodeAt(h)&&(l(f=(f=(f=f.setNodeMarkup(h,u.nodes.status,p)).setSelection(i.NodeSelection.create(f.doc,h))).setMeta(s.b,{showStatusPickerAt:h}).scrollIntoView()),!0)}},d=function(){return function(e){var t=e.state,n=e.dispatch,r=s.b.getState(t).showStatusPickerAt;if(r){var o=t.tr.doc.nodeAt(r);if(o){var a=t.tr;a=a.setMeta(s.b,{showStatusPickerAt:null,isNew:!1}),o.attrs.text?a.selection.from===r&&(a=a.setSelection(i.Selection.near(t.tr.doc.resolve(r+2)))):a=a.delete(r,r+1),n(a),e.focus()}}}}},Bx2R:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("pkjM"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M12 4c-4.412 0-8 3.588-8 8s3.588 8 8 8 8-3.588 8-8-3.588-8-8-8zm0 14.222A6.23 6.23 0 0 1 5.778 12 6.23 6.23 0 0 1 12 5.778 6.23 6.23 0 0 1 18.222 12 6.23 6.23 0 0 1 12 18.222zm.889-6.59V8.448c0-.489-.4-.889-.889-.889s-.889.4-.889.89v3.555c0 .248.103.471.268.633l2.195 2.194a.891.891 0 0 0 1.257 0 .891.891 0 0 0 0-1.256l-1.942-1.943z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EmojiFrequentIcon";var c=s;t.default=c},"By+Q":function(e,t,n){"use strict";var r=n("/MKj"),o=n("MZCo"),i=n("lwsE"),a=n.n(i),s=n("W8MJ"),c=n.n(s),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),p=n.n(d),f=n("7W2i"),h=n.n(f),m=n("lSNA"),g=n.n(m),v=n("vJmp"),b=n("Yk3w"),y=n("q1tI"),w=n.n(y),O=n("HEF0"),E=n("IAlb"),x=n("wTIg"),k=n("b0Qh"),C=n("D+jC"),S=Object(x.a)(C.a,{target:"ea534y60"})("color:",k.colors.N200,";&:hover,&:focus{color:",k.colors.N90,";}"),j=function(e){function t(){return a()(this,t),u()(this,p()(t).apply(this,arguments))}return h()(t,e),c()(t,[{key:"projectUrl",value:function(){var e=this.props.repository;if(e){var t=e.owner,n=e.project;if(n)return n.links?n.links.html.href:t?E.a.ui.project(t.uuid,n.key):void 0}}},{key:"render",value:function(){var e=this.props,t=e.isRoot,n=e.repository;if(!n)return null;var r=n.project,o=n.slug;return w.a.createElement(v.a,null,w.a.createElement(b.a,{href:Object(O.c)(n),text:Object(O.b)(n)||""}),r&&w.a.createElement(b.a,{href:this.projectUrl(),text:r.name}),o&&!t&&w.a.createElement(b.a,{component:function(){return w.a.createElement(S,{repository:n})},href:n.links.html.href,text:o}),this.props.children)}}]),t}(y.PureComponent);g()(j,"defaultProps",{isRoot:!1});t.a=Object(r.c)(function(e){return{repository:Object(o.b)(e)}})(j)},C2Nt:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var r=n("+6V3"),o=["image/jpeg","image/gif","image/png"],i=o.join(","),a=function(e,t){return function(n){if(e){var i=function(e){return e.clipboardData?e.clipboardData.files[0]:e.dataTransfer?e.dataTransfer.files[0]:null}(e);i&&-1!==o.indexOf(i.type)&&n(Object(r.i)(i,t))}else n(Object(r.d)(t))}}},C9Jq:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r,o=n("mrSG"),i=n("vOnD"),a=n("b0Qh"),s=i.default.input(r||(r=o.__makeTemplateObject(["\n  input& {\n    background: transparent;\n    border: 0;\n    border-radius: 0;\n    box-sizing: content-box;\n    color: ",";\n    flex-grow: 1;\n    font-size: 13px;\n    line-height: 20px;\n    padding: 0;\n    ",";\n    min-width: 145px;\n\n    /* Hides IE10+ built-in [x] clear input button */\n    &::-ms-clear {\n      display: none;\n    }\n\n    &:focus {\n      outline: none;\n    }\n\n    &::placeholder {\n      color: ",";\n      opacity: 0.5;\n    }\n  }\n"],["\n  input& {\n    background: transparent;\n    border: 0;\n    border-radius: 0;\n    box-sizing: content-box;\n    color: ",";\n    flex-grow: 1;\n    font-size: 13px;\n    line-height: 20px;\n    padding: 0;\n    ",";\n    min-width: 145px;\n\n    /* Hides IE10+ built-in [x] clear input button */\n    &::-ms-clear {\n      display: none;\n    }\n\n    &:focus {\n      outline: none;\n    }\n\n    &::placeholder {\n      color: ",";\n      opacity: 0.5;\n    }\n  }\n"])),a.colors.N400,function(e){return e.width?"width: "+e.width+"px":""},a.colors.N800)},COqE:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"u",function(){return h}),n.d(t,"h",function(){return m}),n.d(t,"g",function(){return g}),n.d(t,"z",function(){return v}),n.d(t,"f",function(){return b}),n.d(t,"d",function(){return y}),n.d(t,"e",function(){return w}),n.d(t,"c",function(){return O}),n.d(t,"H",function(){return E}),n.d(t,"m",function(){return x}),n.d(t,"o",function(){return k}),n.d(t,"x",function(){return C}),n.d(t,"y",function(){return S}),n.d(t,"i",function(){return j}),n.d(t,"F",function(){return T}),n.d(t,"G",function(){return M}),n.d(t,"I",function(){return P}),n.d(t,"j",function(){return A}),n.d(t,"J",function(){return N}),n.d(t,"C",function(){return R}),n.d(t,"b",function(){return D}),n.d(t,"A",function(){return L}),n.d(t,"r",function(){return z}),n.d(t,"t",function(){return B}),n.d(t,"p",function(){return F}),n.d(t,"q",function(){return q}),n.d(t,"s",function(){return W}),n.d(t,"w",function(){return U}),n.d(t,"v",function(){return H}),n.d(t,"n",function(){return V}),n.d(t,"l",function(){return G}),n.d(t,"B",function(){return K}),n.d(t,"k",function(){return $}),n.d(t,"E",function(){return J}),n.d(t,"D",function(){return Y});var r=n("mrSG"),o=n("++pP"),i=(n("byeC"),n("b/sn")),a=(n("uSMm"),n("hksT")),s=n("4p0z"),c=n("QL7d"),l=n("mG1W"),u=n("9N/3"),d=n("qa+B"),p="";function f(e,t){var n=e;if(!n)return null;if(!document.documentElement||!document.documentElement.contains(n))return null;var r=n.matches?"matches":"msMatchesSelector";do{if(n[r]&&n[r](t))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null}var h=function(e){return!!e&&(e.indexOf("image/")>-1||e.indexOf("video/")>-1)};function m(e){var t=e.selection,n=e.doc;if(t instanceof i.NodeSelection){if("media"===t.node.type.name){var r=n.nodeAt(t.anchor-3);return!(!r||"paragraph"!==r.type.name)}if("mediaGroup"===t.node.type.name){var o=t.$anchor.nodeBefore;return!(!o||"paragraph"!==o.type.name)}}return t instanceof i.TextSelection&&!t.empty||!y(e)}function g(e){var t=e.selection,n=e.doc;if(t instanceof i.NodeSelection){if("media"===t.node.type.name){var r=n.nodeAt(t.$head.after());return!(!r||"paragraph"!==r.type.name)}if("mediaGroup"===t.node.type.name)return!(t.$head.parentOffset===t.$anchor.parent.content.size)}return t instanceof i.TextSelection&&!t.empty||!b(e)}function v(e){var t=e.$anchor.node(0),n=e.$anchor.node(1);return t.lastChild===n}function b(e){var t=e.selection;return e.doc.nodeSize-t.$to.pos-2===t.$to.depth}function y(e){var t=e.selection;return t.$from.pos===t.$from.depth}function w(e){var t=e.selection,n=t.$to;return!(t instanceof u.a)&&(!!(t instanceof i.NodeSelection&&t.node.isBlock)||x(n)===n.pos+1)}function O(e){var t=e.selection,n=t.$from;return!(t instanceof u.a)&&(!!(t instanceof i.NodeSelection&&t.node.isBlock)||E(n)===n.pos)}function E(e){return e.start(e.depth)}function x(e){return e.end(e.depth)+1}function k(e){return e.$cursor||void 0}function C(e,t){if(t.selection instanceof c.a)return!0;if(!function(e,t){return Object(o.toggleMark)(e)(t)}(e,t))return!1;var n=t.selection,r=n.empty,i=n.$cursor,a=n.ranges;if(r&&!i)return!1;var s=function(t){return function(e,t){return!t.type.excludes(e)&&!e.excludes(t.type)}(e,t)};return!(t.tr.storedMarks&&!t.tr.storedMarks.every(s))&&(i?i.marks().every(s):a.every(function(e){var n=e.$from,r=e.$to,o=0!==n.depth||t.doc.marks.every(s);return t.doc.nodesBetween(n.pos,r.pos,function(e){o=o&&e.marks.every(s)}),o}))}function S(e,t,n,r){return 0===function(e,t,n){var r=Array(),o=_(e,t).depth,i=e.resolve(t.start(o));for(;i.pos<=n.start(n.depth);){var a=Math.min(i.depth,o),s=i.node(a);if(s&&r.push(s),0===a)break;var c=e.resolve(i.after(a));if(c.start(a)>=e.nodeSize-2)break;c.depth!==i.depth&&(c=e.resolve(c.pos+2)),i=c.depth?e.resolve(c.start(c.depth)):e.resolve(c.end(c.depth))}return r}(e,t,n).filter(function(e){return e.type!==r}).length}function j(e,t,n){var r=t.resolve(e.$to.after(_(t,e.$to).depth));return!!r.nodeAfter&&n(r.nodeAfter)}var T=function(e,t){var n=e.state,r=e.dispatch;isFinite(t)&&r(n.tr.setSelection(i.NodeSelection.create(n.doc,t)))};function M(e,t,n){var r=e.state,o=r.tr.setSelection(i.TextSelection.create(r.doc,t,n));e.dispatch(o)}function _(e,t){var n=["blockquote","bulletList","orderedList"];if(1===t.depth)return t;for(var r=t.node(t.depth),o=t;t.depth>=1;)(r=(t=e.resolve(t.before(t.depth))).node(t.depth))&&-1!==n.indexOf(r.type.name)&&(o=t);return o}var I=new s.a;function P(e){return I.encode(e)}function A(e,t){return f(e,t)}function N(){var e=document.createElement("fakeelement"),t={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd"};for(var n in t)if(void 0!==e.style[n])return t[n]}function R(e){var t=new CustomEvent("keydown",{bubbles:!0,cancelable:!0});t.keyCode=a.a,e.dispatchEvent(t)}function D(e){var t=function(e){var t=[];if(e.selection){var n=e.selection,r=n.$from,o=n.$to,i=e.schema.nodes,a=i.blockquote,s=i.panel,c=i.orderedList,l=i.bulletList,u=i.listItem,d=i.codeBlock;e.doc.nodesBetween(r.pos,o.pos,function(e){(e.isBlock&&[a,s,c,l,u].indexOf(e.type)>=0||e.type===d)&&t.push(e.type)})}return t}(e),n=e.schema.nodes.panel;return t.filter(function(e){return e!==n}).length>0}var L=function(e){return 0===e.indexOf("temporary:")},z=parseInt((navigator.userAgent.match(/Chrome\/(\d{2})/)||[])[1],10)>=58,B=function(e){var t=e.nodes,n=t.doc,r=t.paragraph,o=t.codeBlock,i=t.blockquote,a=t.panel,s=t.heading,c=t.listItem,l=t.bulletList,u=t.orderedList,p=t.taskList,f=t.taskItem,h=t.decisionList,m=t.decisionItem,g=t.media,v=t.mediaGroup,b=t.mediaSingle,y=function(e){switch(e.type){case g:case v:case b:return!1;case r:case o:case s:case f:case m:return 0===e.content.size;case i:case a:case c:return 2===e.content.size&&y(e.content.firstChild);case l:case u:return 4===e.content.size&&y(e.content.firstChild);case p:case h:return 2===e.content.size&&y(e.content.firstChild);case n:var t=!0;return e.content.forEach(function(e){t=t&&y(e)}),t;default:return Object(d.f)(e)}};return y},F=function(e){var t=e.schema.nodes,n=t.table,r=t.tableCell;return Object(l.hasParentNodeOfType)([n,r])(e.selection)},q=function(e){var t=e.schema.nodes,n=t.tableCell,r=t.tableHeader;return Object(l.hasParentNodeOfType)([n,r])(e.selection)},W=function(e){return f(e,"td")||f(e,"th")},U=function(e){var t=e.content;return!!t.lastChild&&"mediaGroup"===t.lastChild.type.name},H=function(e){return Object(l.hasParentNodeOfType)(e.schema.nodes.listItem)(e.selection)};function V(e,t,n,r){var o=[];return e.nodesBetween(t,n,function(e,t,n){r(e,t,n)&&o.push({node:e,pos:t})}),o}function G(e,t){return void 0===e&&(e=[]),(t?e.map(t):e).map(function(e,t,n){return n.indexOf(e)===t?e:null}).reduce(function(t,n,r){return n?t.concat(e[r]):t},[])}var K=function(e){return e instanceof i.TextSelection};function $(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=r.__spread([e],t);return function(e){return o.reduceRight(function(e,t){return t(e)},e)}}function J(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return e}:1===e.length?e[0]:e.reduce(function(e,t){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return t(e.apply(void 0,r.__spread(n)))}})}var Y=function(e,t){if(e.selection.$from.depth>1){if(t.attrs.layout&&"default"!==t.attrs.layout)return t.type.createChecked(r.__assign({},t.attrs,{layout:"default"}),t.content,t.marks);var n=e.schema.marks.breakout;if(n&&n.isInSet(t.marks)){var o=n.removeFromSet(t.marks);return t.type.createChecked(t.attrs,t.content,o)}}return t}},CXN3:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("mrSG"),o=n("kG6L");function i(e){return r.__awaiter(this,void 0,void 0,function(){var t,n;return r.__generator(this,function(r){switch(r.label){case 0:return e?(t=e.state,(n=t&&o.b.getState(t))&&n.waitForMediaUpload?[4,n.waitForPendingTasks()]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2,e.state.doc]}})})}},Cb2O:function(e,t,n){"use strict";n.d(t,"h",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"g",function(){return p}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return h}),n.d(t,"e",function(){return g}),n.d(t,"d",function(){return v}),n.d(t,"a",function(){return b}),n.d(t,"i",function(){return y});var r=n("mrSG"),o=n("byeC"),i=n("b/sn"),a=n("/IjO"),s=n("COqE"),c=n("w9Yk"),l=n("hkcA");function u(){return function(){return!0}}var d=Object(c.d)({action:l.a.INSERTED,actionSubject:l.b.TEXT,actionSubjectId:l.c.LINE_BREAK,eventType:l.d.TRACK})(function(e,t){var n=e.selection.$from.parent,r=e.schema.nodes.hardBreak;if(r){var a=r.create();if(n&&n.type.validContent(o.Fragment.from(a)))return t&&t(e.tr.replaceSelectionWith(a)),!0}return e.selection instanceof i.TextSelection&&(t&&t(e.tr.insertText("\n")),!0)});function p(){return function(e,t){var n=e.selection.to,r=e.schema.nodes.rule;if(r){var o=r.create();return t&&t(e.tr.insert(n+1,o)),!0}return!1}}var f=function(e,t){return!(Object(s.h)(e)||!m(e))&&(g(!1)(e,t),!0)},h=function(e,t){return!(Object(s.g)(e)||!m(e))&&(g(!0)(e,t),!0)};function m(e){var t=e.selection.$from,n=t.node(t.depth),r=!!n&&n.type===e.schema.nodes.codeBlock,o=e.selection instanceof i.NodeSelection;return t.depth>1||o||r}function g(e){return void 0===e&&(e=!0),function(t,n){var r,o=t.schema.nodes.paragraph;if(!o)return!1;if(t.selection instanceof i.TextSelection){if(function(e){var t=e.selection.$from.node(1);return t.isTextblock&&t.type!==e.schema.nodes.codeBlock&&2===t.nodeSize}(t))return!1;r=function(e,t){var n,r=e.selection,o=r.$from,i=r.$to;n=t?i.end(0):o.start(0);return n}(t,e)}else r=function(e,t){var n,r=e.selection,o=r.$from,a=r.$to,s=e.selection instanceof i.NodeSelection&&e.doc.nodeAt(e.selection.$anchor.pos),c=s&&"mediaGroup"===s.type.name;t?(n=a.end(a.depth),n=a.depth>0&&!c?n+1:n):(n=o.start(o.depth),n=o.depth>0&&!c?n-1:n);return n}(t,e);var a=t.tr.insert(r,o.createAndFill());return a.setSelection(i.TextSelection.create(a.doc,r+1)),n&&n(a),!0}}function v(){return function(e,t){var n=e.doc,r=e.tr,o=e.schema.nodes;return!n.lastChild||n.lastChild.type===o.paragraph&&0===n.lastChild.content.size||r.insert(n.content.size,o.paragraph.createAndFill()),r.setSelection(i.TextSelection.create(r.doc,r.doc.content.size-1)),r.scrollIntoView(),t&&t(r),!0}}var b=function(e){return function(t,n){var o=t.selection,i=o.from,a=o.to,s=t.tr;return t.doc.nodesBetween(i,a,function(n,o){n.type===t.schema.nodes.mediaSingle&&s.setNodeMarkup(o,void 0,r.__assign({},n.attrs,{layout:"center"===e?"center":"align-"+e}))}),!(!s.docChanged||!n)&&(n(s.scrollIntoView()),!0)}},y=function(e,t,n){return function(r,o){var i=!1,s=r.tr,c=function(o,a,s){r.doc.nodesBetween(o,a,function(o,a,c){if(!o.type.isBlock)return!1;if((!n||(Array.isArray(n)?n.indexOf(o.type)>-1:n(r.schema,o,c)))&&c.type.allowsMarkType(e)){var l=o.marks.filter(function(t){return t.type===e}),u=l.length?l[0].attrs:void 0,d=t(u,o);void 0!==d&&(s.setNodeMarkup(a,o.type,o.attrs,o.marks.filter(function(t){return!e.excludes(t.type)}).concat(!1===d?[]:e.create(d))),i=!0)}})};if(r.selection instanceof a.CellSelection)r.selection.forEachCell(function(e,t){c(t,t+e.nodeSize,s)});else{var l=r.selection,u=l.from,d=l.to;c(u,d,s)}return!(!i||!s.docChanged)&&(o&&o(s.scrollIntoView()),!0)}}},ClUl:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("tQKV"),o=n("xn/V"),i=function(e){return function(t){return"problem"in e&&Object(o.a)(e),t.setMeta(r.e,e)}}},CrEW:function(e,t,n){"use strict";var r=n("/MKj"),o=Object(r.c)(function(e){return{features:e.global.features}})(function(e){var t=e.children,n=e.fallback,r=e.feature,o=e.features;return o?!!o[r]?t:n||null:null});o.displayName="FeatureToggle",n.d(t,"a",function(){return o})},"D4/y":function(e,t,n){"use strict";var r=n("/IjO"),o=n("mG1W"),i=n("82gI"),a=n("rriI"),s=n("HwHA"),c=n("Kxkh"),l=n("7RGa"),u=n("yxov"),d=n("mrSG"),p=n("5oxn"),f=n("cXlQ"),h=n("TKSH"),m=n("JmIj");function g(e,t){var n=t/Object(l.e)(e),r=d.__assign({},e,{maxSize:t,cols:e.cols.map(function(e){var t=e.minWidth,r=e.width,o=Math.floor(r*n);return o<t&&(o=t),d.__assign({},e,{width:o})})}),o=Object(l.e)(r);return o>t&&(r=Object(m.b)(r,o-t)),Object(l.a)(r,t)}var v=n("hN8D");n.d(t,"b",function(){return b}),n.d(t,"c",function(){return y}),n.d(t,"a",function(){return w}),n.d(t,"e",function(){return O}),n.d(t,"d",function(){return E});var b=function(e,t,n,o,s,u){return function(d,p){for(var f=r.TableMap.get(s).findCell(Math.max(t-n,1)),h=getComputedStyle(e),m=Object(c.a)(o-e.offsetWidth,h);"TABLE"!==e.nodeName;)e=e.parentNode;var g=Object(l.f)(Object(l.d)({minWidth:i.d,maxSize:e.offsetWidth,table:s,tableRef:e,start:n,domAtPos:u}),f.left,m),v=d.tr;return Object(a.a)(g,s,n)(v),p&&v.docChanged&&p(v),!0}},y=function(e,t,n){return function(r,o){if(!e)return!1;var s,c=t.node,d=t.start,m=t.parentWidth;if(!1===Object(u.b)(c))return Object(u.c)(e,c),!1;if(s=m?function(e,t,n,r,o){var a=Object(l.d)({minWidth:i.d,maxSize:t,table:n,tableRef:e,start:r,domAtPos:o});return n.attrs.isNumberColumnEnabled&&(t-=p.x),g(a,Math.floor(t))}(e,m,c,d,n):function(e,t,n){var r=t.node,o=t.containerWidth,a=t.previousContainerWidth,s=t.dynamicTextSizing,c=t.prevNode,u=t.start,d=t.isBreakoutEnabled,m=t.layoutChanged,v=Object(h.d)(r.attrs.layout,o,{dynamicTextSizing:s,isBreakoutEnabled:d}),b=Object(f.e)(c),y=Object(h.d)(c.attrs.layout,a,{dynamicTextSizing:s,isBreakoutEnabled:d}),w=v;if(m&&b>y){var O=b/y;w=Math.floor(w*O)}return r.attrs.isNumberColumnEnabled&&(w-=p.x),g(Object(l.d)({minWidth:i.d,maxSize:v,table:r,tableRef:e,start:u,domAtPos:n}),w)}(e,t,n)){var v=r.tr;if((v=Object(a.a)(s,c,d)(v)).docChanged&&o)return o(v),!0}return!1}},w=function(e){var t=e.resizeState,n=e.table,r=e.start,i=e.event;return function(e,c){if(!Object(o.isTableSelected)(e.selection))return!1;var u=Object(s.c)(e).lastClick,d=Date.now();if(u&&d-u.time<500&&Object(v.b)(i,u)){var p=Object(l.c)(t);return x(null,function(e){return Object(a.a)(p,n,r)(e)})(e,c),!0}return x({x:i.clientX,y:i.clientY,time:d})(e,c),!1}},O=function(e){return Object(s.a)({type:"SET_RESIZE_HANDLE_POSITION",data:{resizeHandlePos:e}})},E=function(e,t){return Object(s.a)({type:"SET_DRAGGING",data:{dragging:e}},function(e){return t||e})},x=function(e,t){return Object(s.a)({type:"SET_LAST_CLICK",data:{lastClick:e}},t)}},DJck:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("yxAO");Object.defineProperty(t,"AllSubstringsIndexStrategy",{enumerable:!0,get:function(){return r.AllSubstringsIndexStrategy}});var o=n("gOBv");Object.defineProperty(t,"ExactWordIndexStrategy",{enumerable:!0,get:function(){return o.ExactWordIndexStrategy}});var i=n("uB+j");Object.defineProperty(t,"PrefixIndexStrategy",{enumerable:!0,get:function(){return i.PrefixIndexStrategy}})},DfxL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M7 7h10a1 1 0 0 1 0 2H7a1 1 0 1 1 0-2zm2.78 11a1 1 0 0 1-.97-.757L7.156 10.62A.5.5 0 0 1 7.64 10h8.72a.5.5 0 0 1 .485.621l-1.656 6.622a1 1 0 0 1-.97.757H9.781zM11 6h2a1 1 0 0 1 1 1h-4a1 1 0 0 1 1-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorRemoveIcon";var c=s;t.default=c},DpjF:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return c}),n.d(t,"e",function(){return f}),n.d(t,"d",function(){return h});var r,o,i=n("mrSG"),a=n("b/sn"),s=n("0pSk");!function(e){e.SHOW_INSERT_TOOLBAR="SHOW_INSERT_TOOLBAR",e.HIDE_TOOLBAR="HIDE_TOOLBAR",e.SELECTION_CHANGE="SELECTION_CHANGE",e.INSERT_LINK_TOOLBAR="INSERT",e.EDIT_INSERTED_TOOLBAR="EDIT_INSERTED_TOOLBAR"}(r||(r={})),function(e){e.EDIT_LINK_TOOLBAR="EDIT",e.INSERT_LINK_TOOLBAR="INSERT",e.EDIT_INSERTED_TOOLBAR="EDIT_INSERTED"}(o||(o={}));var c=function(e,t){return function(n){if(!n.doc.rangeHasMark(e,t,n.schema.marks.link)){var r=n.doc.resolve(e),o=n.doc.resolve(t),i=n.schema.marks.link;if(r.parent===o.parent&&r.parent.isTextblock&&r.parent.type.allowsMarkType(i)){var a=!0;return n.doc.nodesBetween(e,t,function(e){return a=a&&!e.marks.some(function(e){return e.type.excludes(i)})}),a}}return!1}},l=function(e,t){if(e){if(e.type===o.EDIT_LINK_TOOLBAR||e.type===o.EDIT_INSERTED_TOOLBAR){var n=t.mapping.mapResult(e.pos,1),r=n.pos,a=n.deleted,s=t.doc.nodeAt(r);return!a&&s.type.schema.marks.link.isInSet(s.marks)?s===e.node&&r===e.pos?e:i.__assign({},e,{pos:r,node:s}):void 0}return e.type===o.INSERT_LINK_TOOLBAR?i.__assign({},e,{from:t.mapping.map(e.from),to:t.mapping.map(e.to)}):void 0}},u=function(e,t,n){if(!e)switch(t){case r.SHOW_INSERT_TOOLBAR:var a=n.selection,s=a.from,l=a.to;return c(s,l)(n)?{type:o.INSERT_LINK_TOOLBAR,from:s,to:l}:void 0;case r.SELECTION_CHANGE:return(p=d(n))?i.__assign({},p,{type:o.EDIT_LINK_TOOLBAR}):void 0;default:return}if(e.type===o.EDIT_LINK_TOOLBAR)switch(t){case r.EDIT_INSERTED_TOOLBAR:var u=d(n);return u?u.pos===e.pos&&u.node===e.node?i.__assign({},e,{type:o.EDIT_INSERTED_TOOLBAR}):i.__assign({},u,{type:o.EDIT_INSERTED_TOOLBAR}):void 0;case r.SELECTION_CHANGE:var p;return(p=d(n))?p.pos===e.pos&&p.node===e.node?e:i.__assign({},p,{type:o.EDIT_LINK_TOOLBAR}):void 0;case r.HIDE_TOOLBAR:return;default:return e}if(e.type===o.INSERT_LINK_TOOLBAR)switch(t){case r.SELECTION_CHANGE:case r.HIDE_TOOLBAR:return;default:return e}},d=function(e){var t=e.selection.$from;if(function(e){return!!e.doc.type.schema.marks.link.isInSet(e.selection.$from.marks())}(e)||function(e){var t=e.selection,n=t.$from,r=t.$to,o=n.nodeAfter;return!!o&&0===n.textOffset&&r.pos-n.pos===o.nodeSize&&!!e.doc.type.schema.marks.link.isInSet(o.marks)}(e)){var n=t.pos-t.textOffset,r=e.doc.nodeAt(n);return r&&r.isText?{node:r,pos:n}:void 0}},p=function(e,t){var n=t.content();if(0!==n.size)return 1===n.content.childCount&&-1!==[e.nodes.text,e.nodes.paragraph,e.nodes.heading,e.nodes.taskItem,e.nodes.decisionItem].indexOf(n.content.firstChild.type)?n.content.firstChild.textContent:void 0},f=new a.PluginKey("hyperlinkPlugin"),h=function(e){return new a.Plugin({state:{init:function(e,t){var n=c(t.selection.from,t.selection.to)(t);return{activeText:p(t.schema,t.selection),canInsertLink:n,activeLinkMark:u(void 0,r.SELECTION_CHANGE,t)}},apply:function(t,n,o,i){var a=n,d=t.getMeta(f)&&t.getMeta(f).type;return t.docChanged&&(a={activeText:a.activeText,canInsertLink:c(i.selection.from,i.selection.to)(i),activeLinkMark:l(a.activeLinkMark,t)}),d&&(a={activeText:a.activeText,canInsertLink:a.canInsertLink,activeLinkMark:u(a.activeLinkMark,d,i)}),t.selectionSet&&(a={activeText:p(i.schema,i.selection),canInsertLink:c(i.selection.from,i.selection.to)(i),activeLinkMark:u(a.activeLinkMark,r.SELECTION_CHANGE,i)}),Object(s.e)(a,n)||e(f,a),a}},key:f})}},DtPt:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r,o=function(){function e(e){this.streams=e}return e.prototype.has=function(e){return!!this.streams.find(e)},e.prototype.set=function(e,t){this.streams.set(e,t)},e.prototype.get=function(e){return this.streams.get(e)},e.prototype.getOrInsert=function(e,t){return this.has(e)||this.set(e,t()),this.get(e)},e.prototype.removeAll=function(){this.streams.removeAll()},e.prototype.remove=function(e){this.streams.remove(e)},Object.defineProperty(e.prototype,"size",{get:function(){return this.streams.size},enumerable:!0,configurable:!0}),e}(),i=function(){if(!r){var e=n("dlBi").mediaState;r=new o(e.streams)}return r}},E7QR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sizes=void 0;t.sizes={small:"16px",medium:"24px",large:"32px",xlarge:"48px"}},EDpw:function(e,t,n){e.exports=n.p+"build-favicon-failed.0d511adf6ce4.ico"},EEyq:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("fVoa"),o=n("8Shu"),i=n("AVV5"),a=function(e){return Promise.resolve({cloudId:"null",getActions:function(t){var n=Object(i.a)(t)||t;return Object(r.k)({intl:e.intl,profileUrl:"/".concat(n)})},resourceClient:o.a})}},EFLc:function(e,t,n){e.exports=n.p+"build-favicon-succeeded.f21ba720e51d.ico"},Eac2:function(e,t,n){"use strict";n.d(t,"a",function(){return E});var r=n("lwsE"),o=n.n(r),i=n("W8MJ"),a=n.n(i),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),u=n.n(l),d=n("7W2i"),p=n.n(d),f=n("PJYZ"),h=n.n(f),m=n("lSNA"),g=n.n(m),v=n("q1tI"),b=n.n(v),y=n("UXvI"),w=n("4R/P"),O=n("jDAM"),E=function(e){function t(e){var n;o()(this,t),n=c()(this,u()(t).call(this,e)),g()(h()(h()(n)),"debouncedMouseMove",void 0),n.state={offset:null};return n.onMouseDown=n.onMouseDown.bind(h()(h()(n))),n.onMouseMove=n.onMouseMove.bind(h()(h()(n))),n.onMouseUp=n.onMouseUp.bind(h()(h()(n))),n.debouncedMouseMove=Object(y.a)(n.onMouseMove,1e3/60,{leading:!0,trailing:!0}),n}return p()(t,e),a()(t,[{key:"onMouseMove",value:function(e){if(1===(e.buttons||e.which)){var t=this.computeOffset(e);this.props.onResize(t)}}},{key:"computeOffset",value:function(e){var t=this.state.offset,n=e.pageX;return this.setState({offset:n}),t?t-n:0}},{key:"onMouseDown",value:function(){window.document.addEventListener("mouseup",this.onMouseUp),window.document.addEventListener("mousemove",this.debouncedMouseMove)}},{key:"onMouseUp",value:function(){var e=this.props,t=e.onClick,n=e.onResizeComplete,r=this.state.offset;this.setState({offset:null}),window.document.removeEventListener("mouseup",this.onMouseUp),window.document.removeEventListener("mousemove",this.debouncedMouseMove),r?"function"==typeof n&&n():t()}},{key:"render",value:function(){return b.a.createElement(O.i,{onClick:w.a,onMouseDown:this.onMouseDown})}}]),t}(v.Component);g()(E,"defaultProps",{onClick:function(){}})},EhED:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M6 17h12a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-8h4a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0 4h4a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm8-4h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1zM6 5h12a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorMediaWrapRightIcon";var c=s;t.default=c},Ewgb:function(e){e.exports={a:"@atlaskit/editor-core",b:"112.11.17"}},EyNd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("v+ym"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M8 4h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm1.5 4a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-5zm0 4a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorNoteIcon";var c=s;t.default=c},F5zz:function(e,t,n){"use strict";var r=n("mrSG"),o=n("uqSJ"),i=n("q1tI"),a=n("+9JK"),s=n("WHpu"),c=n("7P7x"),l=function(){return n.e(243).then(n.bind(null,"iaaR")).then(function(e){return e.default})},u=function(e){function t(n){var r=e.call(this,n,{})||this;return r.state={asyncLoadedComponent:t.AsyncLoadedComponent},r}return Object(r.__extends)(t,e),t.prototype.asyncLoadComponent=function(){var e=this;l().then(function(n){t.AsyncLoadedComponent=n,e.setAsyncState(n)})},t.prototype.renderLoading=function(){var e=this,t=new s.c;return i.createElement("div",{className:c.g,ref:function(t){e.props.onPickerRef&&e.props.onPickerRef(t)}},t.renderItem())},t.prototype.renderLoaded=function(e,t){var n=this.props,o=(n.emojiProvider,Object(r.__rest)(n,["emojiProvider"]));return i.createElement(t,Object(r.__assign)({emojiProvider:e},o))},t}(a.a),d=Object(o.a)()(u);t.a=d},FPHD:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("mrSG"),o=n("8t0d"),i=n.t("8t0d",1);function a(e,t){if(!e)return null;if(c(e=e.trim().toLowerCase()))4===e.length&&(e=e.split("").map(function(e){return"#"===e?"#":""+e+e}).join(""));else{if(function(e){return/rgba?\(/.test(e)}(e))return function(e){var t=e.match(/(0?\.?\d{1,3})%?\b/g);if(t&&t.length>=3){var n=r.__read(t.map(Number),3),o=n[0],i=n[1],a=n[2];return"#"+(a|i<<8|o<<16|1<<24).toString(16).slice(1)}return null}(e);if(o&&o[e])e=o[e];else{if(!i||!i[e])return null;e=i[e]}}return e===t?null:e}function s(e,t){var n=a(e);if(!n)return null;return"rgba("+function(e){return e.match(/[a-z0-9]{2}/gi).map(function(e){return parseInt(e,16)})}(n).concat(t).join(",")+")"}function c(e){return/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)}},FXUh:function(e,t,n){"use strict";var r=n("mrSG"),o=n("b/sn"),i=n("hRjf"),a=n("mG1W"),s=n("q1tI"),c=n("JRPe"),l=n("TUxP"),u=Object(c.e)({placeholder:{id:"fabric.editor.decisionPlaceholder",defaultMessage:"Add a decision",description:"Placeholder description for an empty decision in the editor"}}),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.contentRef,n=e.showPlaceholder,r=(0,e.intl.formatMessage)(u.placeholder);return s.createElement(l.a,{contentRef:t,placeholder:r,showPlaceholder:n})},t}(s.Component),p=Object(c.f)(d),f=n("eV/v"),h=n("OrOc"),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.isContentEmpty=function(){return 0===this.node.content.childCount},t.prototype.createDomRef=function(){var e=document.createElement("li");return e.style["list-style-type"]="none",e},t.prototype.getContentDOM=function(){return{dom:document.createElement("div")}},t.prototype.render=function(e,t){var n=this;return s.createElement(h.a,{plugins:{taskDecisionPlugin:J},render:function(e){var r=e.taskDecisionPlugin,o=!1;return r&&r.currentTaskDecisionItem&&(o=n.node.eq(r.currentTaskDecisionItem)),s.createElement(p,{contentRef:t,showPlaceholder:!o&&n.isContentEmpty()})}})},t.prototype.viewShouldUpdate=function(){return!1},t.prototype.update=function(t,n){var r=this;return e.prototype.update.call(this,t,n,function(e,t){return!r.isContentEmpty()})},t}(f.b),g=function(e){return function(t,n,r){return new m(t,n,r,e).init()}},v=n("RIqP"),b=n.n(v),y=n("lwsE"),w=n.n(y),O=n("W8MJ"),E=n.n(O),x=n("a1gu"),k=n.n(x),C=n("Nsbk"),S=n.n(C),j=n("PJYZ"),T=n.n(j),M=n("7W2i"),_=n.n(M),I=n("lSNA"),P=n.n(I),A=n("17x9"),N={getAtlaskitAnalyticsEventHandlers:n.n(A).a.func},R=function(e){function t(){var e,n;w()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=k()(this,(e=S()(t)).call.apply(e,[this].concat(o))),P()(T()(n),"getChildContext",function(){return{getAtlaskitAnalyticsEventHandlers:n.getAnalyticsEventHandlers}}),P()(T()(n),"getAnalyticsEventHandlers",function(){var e=n.props,t=e.channel,r=e.onEvent,o=n.context.getAtlaskitAnalyticsEventHandlers,i="function"==typeof o&&o()||[];return[function(e,n){"*"!==t&&t!==n||r(e,n)}].concat(b()(i))}),n}return _()(t,e),E()(t,[{key:"render",value:function(){return this.props.children}}]),t}(s.Component);P()(R,"contextTypes",N),P()(R,"childContextTypes",N);var D=n("KbTZ"),L=n("6m61"),z=n("oKGv"),B=n("HQ3m"),F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={resolvedContextProvider:void 0},t}return r.__extends(t,e),t.prototype.componentWillMount=function(){this.updateContextIdentifierProvider(this.props)},t.prototype.componentWillReceiveProps=function(e){e.contextIdentifierProvider!==this.props.contextIdentifierProvider&&this.updateContextIdentifierProvider(e)},t.prototype.updateContextIdentifierProvider=function(e){return r.__awaiter(this,void 0,void 0,function(){var t;return r.__generator(this,function(n){switch(n.label){case 0:if(!e.contextIdentifierProvider)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.contextIdentifierProvider];case 2:return t=n.sent(),this.setState({resolvedContextProvider:t}),[3,4];case 3:return n.sent(),this.setState({resolvedContextProvider:void 0}),[3,4];case 4:return[3,6];case 5:this.setState({resolvedContextProvider:void 0}),n.label=6;case 6:return[2]}})})},t.prototype.render=function(){var e=this.props,t=(e.contextIdentifierProvider,r.__rest(e,["contextIdentifierProvider"])),n=this.state.resolvedContextProvider||{},o=n.objectId,i=n.containerId,a=o?"edit":"new";return s.createElement(B.e,{data:{userContext:a}},s.createElement(z.a,r.__assign({},t,{objectAri:o,containerAri:i})))},t}(s.Component),q=Object(c.e)({placeholder:{id:"fabric.editor.taskPlaceholder",defaultMessage:"Type your action, use '@' to assign to someone.",description:"Placeholder description for an empty action/task in the editor"}}),W=function(e){function t(t){var n=e.call(this,t)||this;return n.renderWithProvider=function(e){var t=n.props,o=(t.providers,t.intl.formatMessage),i=r.__rest(t,["providers","intl"]),a=e.taskDecisionProvider,c=e.contextIdentifierProvider,l=o(q.placeholder);return s.createElement(F,r.__assign({},i,{placeholder:l,taskDecisionProvider:a,contextIdentifierProvider:c}))},n.providerFactory=t.providers||new D.a,n}return r.__extends(t,e),t.prototype.componentWillUnmount=function(){this.props.providers||this.providerFactory.destroy()},t.prototype.render=function(){return s.createElement(L.a,{providers:["taskDecisionProvider","contextIdentifierProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})},t}(s.PureComponent),U=Object(c.f)(W),H=n("kghT"),V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleOnChange=function(e,n){var r=t.view.state.tr,o=t.getPos();r.setNodeMarkup(o,void 0,{state:n?"DONE":"TODO",localId:e}),t.view.dispatch(r)},t.addListAnalyticsData=function(e){try{var n=t.view.state.doc.resolve(t.getPos()),o=n.index(),i=n.parent.childCount,a=n.parent.attrs.localId;e.update(function(e){var t=e.attributes,n=void 0===t?{}:t;return"action"!==e.actionSubject?e:r.__assign({},e,{attributes:r.__assign({},n,{position:o,listSize:i,listLocalId:a})})})}catch(e){}},t}return r.__extends(t,e),t.prototype.isContentEmpty=function(){return 0===this.node.content.childCount},t.prototype.createDomRef=function(){var e=document.createElement("li");return e.style["list-style-type"]="none",e},t.prototype.getContentDOM=function(){return{dom:document.createElement("div")}},t.prototype.render=function(e,t){var n=this,r=this.node.attrs,o=r.localId,i=r.state;return s.createElement(R,{channel:"fabric-elements",onEvent:this.addListAnalyticsData},s.createElement(h.a,{plugins:{editorDisabledPlugin:H.b,taskDecisionPlugin:J},render:function(r){var a=r.editorDisabledPlugin,c=r.taskDecisionPlugin,l=!1;return c&&c.currentTaskDecisionItem&&(l=n.node.eq(c.currentTaskDecisionItem)),s.createElement(U,{taskId:o,contentRef:t,isDone:"DONE"===i,onChange:n.handleOnChange,showPlaceholder:!l&&n.isContentEmpty(),providers:e.providerFactory,disabled:(a||{}).editorDisabled})}}))},t.prototype.viewShouldUpdate=function(){return!1},t.prototype.update=function(t,n){var r=this;return e.prototype.update.call(this,t,n,function(e,t){return!(r.isContentEmpty()||e.attrs.state!==t.attrs.state)})},t}(f.b);function G(e,t){return function(n,r,o){return new V(n,r,o,e,{providerFactory:t}).init()}}var K=n("qa+B");n.d(t,"b",function(){return J}),n.d(t,"a",function(){return X});var $,J=new o.PluginKey("tasksAndDecisionsPlugin");!function(e){e[e.SET_CURRENT_TASK_DECISION_ITEM=0]="SET_CURRENT_TASK_DECISION_ITEM",e[e.SET_CONTEXT_PROVIDER=1]="SET_CONTEXT_PROVIDER"}($||($={}));var Y=function(e){return function(t,n){return n&&n(t.tr.setMeta(J,{action:$.SET_CURRENT_TASK_DECISION_ITEM,data:e})),!0}},Q=function(e){return function(t,n){return n&&n(t.tr.setMeta(J,{action:$.SET_CONTEXT_PROVIDER,data:e})),!0}};function X(e,t,n,s){return new o.Plugin({props:{nodeViews:{taskItem:G(e,t),decisionItem:g(e)}},state:{init:function(){return{insideTaskDecisionItem:!1}},apply:function(e,t){var o=e.getMeta(J)||{action:null,data:null},i=o.action,a=o.data,s=t;switch(i){case $.SET_CURRENT_TASK_DECISION_ITEM:s=r.__assign({},t,{currentTaskDecisionItem:a});break;case $.SET_CONTEXT_PROVIDER:s=r.__assign({},t,{contextIdentifierProvider:a})}return n(J,s),s}},view:function(e){return t.subscribe("contextIdentifierProvider",function(t,n){"contextIdentifierProvider"===t&&(n?n.then(function(t){Q(t)(e.state,e.dispatch)}):Q(void 0)(e.state,e.dispatch))}),{update:function(e){if("mobile"===s){var t=e.state,n=e.dispatch,r=t.selection,o=t.schema,i=J.getState(t).currentTaskDecisionItem,c=Object(a.findParentNodeOfType)([o.nodes.taskItem,o.nodes.decisionItem])(r);c||!i?c&&i&&!1===c.node.eq(i)?Y(c.node)(t,n):!c||i||Y(c.node)(t,n):Y(void 0)(t,n)}}}},key:J,appendTransaction:function(e,t,n){var o=n.tr,a=!1;if(e.forEach(function(e){e.docChanged&&Object(K.h)(e,function(e,t){var s=n.schema.nodes,c=s.decisionList,l=s.decisionItem,u=s.taskList,d=s.taskItem;if(e.type&&(e.type===c||e.type===l||e.type===u||e.type===d)){var p=e.attrs,f=p.localId,h=r.__rest(p,["localId"]);null!=f&&""!==f||(o.setNodeMarkup(t,void 0,r.__assign({localId:i.b.generate()},h)),a=!0)}})}),a)return o}})}},FeoY:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("mrSG"),o=n("q1tI"),i=function(e){return function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={imageStatus:"loading"},e.onLoad=function(){e.setState({imageStatus:"complete"});var t=e.props.onExternalImageLoaded;t&&e.img&&t({width:e.img.naturalWidth,height:e.img.naturalHeight})},e.onError=function(){e.setState({imageStatus:"error"})},e}return r.__extends(n,t),n.prototype.componentDidMount=function(){this.fetchImage(this.props)},n.prototype.componentWillReceiveProps=function(e){e.url!==this.props.url&&(this.setState({imageStatus:"loading"}),this.fetchImage(e))},n.prototype.componentWillUnmount=function(){this.img&&(this.img.removeEventListener("load",this.onLoad),this.img.removeEventListener("error",this.onError),this.img=null)},n.prototype.fetchImage=function(e){var t=e.url;t&&(this.img||(this.img=new Image,this.img.addEventListener("load",this.onLoad),this.img.addEventListener("error",this.onError)),this.img.src=t)},n.prototype.render=function(){var t=this.state.imageStatus;return o.createElement(e,r.__assign({},this.props,{imageStatus:t}))},n}(o.Component)}},FwBs:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l});var r=n("mrSG"),o=n("q1tI"),i=n("JRPe"),a=n("mrRf"),s=function(e){return function(t){return o.createElement(i.a,r.__assign({},t,e))}},c=function(e){var t=e.name,n=r.__rest(e,["name"]);return o.createElement(i.a,r.__assign({},n,{values:{name:t}},a.a.noAccessWarning))},l=s(a.a.noAccessLabel);s(a.a.defaultHeadline),s(a.a.defaultAdvisedAction),s(a.a.loginAgain),s(a.a.differentText)},G0d0:function(e,t,n){"use strict";var r,o=n("mrSG"),i=n("vOnD"),a=n("gxo2"),s={text:n("73wN").N100},c=i.default.div(r||(r=Object(o.__makeTemplateObject)(["\n  color: ",";\n  flex-shrink: 0;\n  padding: 0 ","px;\n  text-align: center;\n  width: ","px;\n"],["\n  color: ",";\n  flex-shrink: 0;\n  padding: 0 ","px;\n  text-align: center;\n  width: ","px;\n"])),s.text,a.l,a.l);c.displayName="Separator",t.a=c},G3Di:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=/[^a-z-0-9\-']+/i;t.SimpleTokenizer=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"tokenize",value:function(e){return e.split(o).filter(function(e){return e})}}]),e}()},G4OQ:function(e,t,n){"use strict";var r=n("rRE7");t.of=r.ArrayObservable.of},G7hI:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});var r=n("b/sn"),o=function(){function e(){this.changeHandlers=[],this.changeHandlers=[]}return e.prototype.subscribe=function(e){this.changeHandlers.push(e)},e.prototype.unsubscribe=function(e){this.changeHandlers=this.changeHandlers.filter(function(t){return t!==e})},e.prototype.notifyNewSelection=function(e,t){this.changeHandlers.forEach(function(n){return n(e,t)})},e}(),i=new r.PluginKey("reactNodeView"),a=new r.Plugin({state:{init:function(){return new o},apply:function(e,t){return t}},key:i,view:function(e){var t=i.getState(e.state);return{update:function(e){var n=e.state.selection,r=n.from,o=n.to;t.notifyNewSelection(r,o)}}}})},GJQz:function(e,t,n){"use strict";var r=n("JRPe");t.a=Object(r.e)({insertColumn:{id:"fabric.editor.insertColumn",defaultMessage:"Insert column",description:"Add a new column to your table."},removeColumns:{id:"fabric.editor.removeColumns",defaultMessage:"Remove {0, plural, one {column} other {columns}}",description:"Deletes a table column."},insertRow:{id:"fabric.editor.insertRow",defaultMessage:"Insert row",description:"Add a new row to your table."},removeRows:{id:"fabric.editor.removeRows",defaultMessage:"Remove {0, plural, one {row} other {rows}}",description:"Deletes a table row."},cellOptions:{id:"fabric.editor.cellOptions",defaultMessage:"Cell options",description:"Opens a menu with options for the current table cell."}})},GOZ2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("v+ym"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M14 16h-4s0-.5-1-2-2.5-3-2.5-5S7 4 12 4s5.5 3 5.5 5-1.5 3.5-2.5 5-1 2-1 2zm-4 1h4v1l-1.5 2h-1L10 18v-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorHintIcon";var c=s;t.default=c},GP6N:function(e,t,n){"use strict";var r=n("mzXR");function o(e){var t={},n="";for(var i in e){var a=e[i];if("$unique"===i)t[r.IS_UNIQUE]=a;else if("$nest"===i){var s=a;for(var c in s){var l=s[c];t[c]=o(l).result}}else"$debugName"===i?n=a:t[i]=a}return{result:t,debugName:n}}var i="undefined"==typeof requestAnimationFrame?function(e){return setTimeout(e)}:"undefined"==typeof window?requestAnimationFrame:requestAnimationFrame.bind(window);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},r=0,o=e;r<o.length;r++){var i=o[r];if(null!=i&&!1!==i)for(var s in i){var c=i[s];(c||0===c)&&("$nest"===s&&c?n[s]=n.$nest?a(n.$nest,c):c:-1!==s.indexOf("&")||0===s.indexOf("@media")?n[s]=n[s]?a(n[s],c):c:n[s]=c)}}return n}var s=function(){return r.create(void 0,!0)},c=function(){function e(e){var t=e.autoGenerateTag,n=this;this.cssRaw=function(e){e&&(n._raw+=e||"",n._pendingRawChange=!0,n._styleUpdated())},this.cssRule=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=o(a.apply(void 0,t)).result;n._freeStyle.registerRule(e,i),n._styleUpdated()},this.forceRenderStyles=function(){var e=n._getTag();e&&(e.textContent=n.getStyles())},this.fontFace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=n._freeStyle,o=0,i=e;o<i.length;o++){var a=i[o];r.registerRule("@font-face",a)}n._styleUpdated()},this.getStyles=function(){return(n._raw||"")+n._freeStyle.getStyles()},this.keyframes=function(e){var t=function(e){var t={$debugName:void 0,keyframes:{}};for(var n in e){var r=e[n];"$debugName"===n?t.$debugName=r:t.keyframes[n]=r}return t}(e),r=t.keyframes,o=t.$debugName,i=n._freeStyle.registerKeyframes(r,o);return n._styleUpdated(),i},this.reinit=function(){var e=s();n._freeStyle=e,n._lastFreeStyleChangeId=e.changeId,n._raw="",n._pendingRawChange=!1;var t=n._getTag();t&&(t.textContent="")},this.setStylesTarget=function(e){n._tag&&(n._tag.textContent=""),n._tag=e,n.forceRenderStyles()},this.style=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=n._freeStyle,i=o(a.apply(void 0,e)),s=i.result,c=i.debugName,l=c?r.registerStyle(s,c):r.registerStyle(s);return n._styleUpdated(),l},this.stylesheet=function(e){for(var t={},r=0,o=Object.getOwnPropertyNames(e);r<o.length;r++){var i=o[r],a=e[i];a&&(a.$debugName=i,t[i]=n.style(a))}return t};var r=s();this._autoGenerateTag=t,this._freeStyle=r,this._lastFreeStyleChangeId=r.changeId,this._pending=0,this._pendingRawChange=!1,this._raw="",this._tag=void 0}return e.prototype._afterAllSync=function(e){var t=this;this._pending++;var n=this._pending;i(function(){n===t._pending&&e()})},e.prototype._getTag=function(){if(this._tag)return this._tag;if(this._autoGenerateTag){var e="undefined"==typeof window?{textContent:""}:document.createElement("style");return"undefined"!=typeof document&&document.head.appendChild(e),this._tag=e,e}},e.prototype._styleUpdated=function(){var e=this,t=this._freeStyle.changeId,n=this._lastFreeStyleChangeId;(this._pendingRawChange||t!==n)&&(this._lastFreeStyleChangeId=t,this._pendingRawChange=!1,this._afterAllSync(function(){return e.forceRenderStyles()}))},e}();n("UHdS");n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d});var l=new c({autoGenerateTag:!0}),u=(l.setStylesTarget,l.cssRaw,l.cssRule,l.forceRenderStyles,l.fontFace,l.getStyles,l.keyframes),d=(l.reinit,l.style);l.stylesheet},H4Ui:function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"f",function(){return f}),n.d(t,"g",function(){return h}),n.d(t,"j",function(){return m}),n.d(t,"i",function(){return g}),n.d(t,"h",function(){return v}),n.d(t,"d",function(){return b}),n.d(t,"a",function(){return y});var r=n("b/sn"),o=n("0pSk"),i=n("7UM5"),a=n("w3vy"),s=n("w9Yk"),c=n("hkcA"),l=n("UzTl"),u=function(){return function(e,t){var n=e.schema.marks.code,r=e.selection,i=r.empty,a=r.$cursor;if(!i||!a)return!1;var s=e.tr.storedMarks;if(n){var c=Object(o.d)(e,n.create()),l=e.doc.rangeHasMark(a.pos,a.pos,n),u=e.doc.rangeHasMark(a.pos,a.pos+1,n),d=!(l||u||s&&!s.length),p=!l&&u&&(!s||!s.length);if(!c&&p)return t&&t(e.tr.addStoredMark(n.create())),!0;if(c&&d)return t&&t(e.tr.removeStoredMark(n)),!0}return!1}},d=function(){return function(e,t){var n=e.schema.marks.code,i=e.selection,a=i.empty,s=i.$cursor;if(!a||!s)return!1;var c=e.tr.storedMarks;if(n){var l=n&&Object(o.d)(e,n.create()),u=Object(o.c)(e,s.pos),d=Object(o.c)(e,s.pos-1),p=Object(o.c)(e,s.pos-2),f=u&&!d&&Array.isArray(c),h=d&&!p&&(null===c||Array.isArray(c)&&!!c.length),m=(f&&Array.isArray(c)&&!c.length||!f&&null===c)&&!d&&p,g=!u&&d&&Array.isArray(c)&&!c.length;if(!l&&m){var v=e.tr.setSelection(r.Selection.near(e.doc.resolve(s.pos-1)));return t&&t(v.removeStoredMark(n)),!0}if(!l&&g)return t&&t(e.tr.addStoredMark(n.create())),!0;if(l&&h){v=e.tr.setSelection(r.Selection.near(e.doc.resolve(s.pos-1)));return t&&t(v.addStoredMark(n.create())),!0}var b=0===s.index(s.depth-1);if(l&&(f||!s.nodeBefore&&b))return t&&t(e.tr.removeStoredMark(n)),!0}return!1}},p=function(e){var t=e.inputMethod;return Object(s.d)({action:c.a.FORMATTED,actionSubject:c.b.TEXT,eventType:c.d.TRACK,actionSubjectId:c.c.FORMAT_ITALIC,attributes:{inputMethod:t}})(function(e,t){var n=e.schema.marks.em;return!!n&&Object(a.e)(n)(e,t)})},f=function(e){var t=e.inputMethod;return Object(s.d)({action:c.a.FORMATTED,actionSubject:c.b.TEXT,eventType:c.d.TRACK,actionSubjectId:c.c.FORMAT_STRIKE,attributes:{inputMethod:t}})(function(e,t){var n=e.schema.marks.strike;return!!n&&Object(a.e)(n)(e,t)})},h=function(e){var t=e.inputMethod;return Object(s.d)({action:c.a.FORMATTED,actionSubject:c.b.TEXT,eventType:c.d.TRACK,actionSubjectId:c.c.FORMAT_STRONG,attributes:{inputMethod:t}})(function(e,t){var n=e.schema.marks.strong;return!!n&&Object(a.e)(n)(e,t)})},m=function(e){var t=e.inputMethod;return Object(s.d)({action:c.a.FORMATTED,actionSubject:c.b.TEXT,eventType:c.d.TRACK,actionSubjectId:c.c.FORMAT_UNDERLINE,attributes:{inputMethod:t}})(function(e,t){var n=e.schema.marks.underline;return!!n&&Object(a.e)(n)(e,t)})},g=function(){return Object(s.d)({action:c.a.FORMATTED,actionSubject:c.b.TEXT,eventType:c.d.TRACK,actionSubjectId:c.c.FORMAT_SUPER,attributes:{inputMethod:c.e.TOOLBAR}})(function(e,t){var n=e.schema.marks.subsup;return!!n&&Object(a.e)(n,{type:"sup"})(e,t)})},v=function(){return Object(s.d)({action:c.a.FORMATTED,actionSubject:c.b.TEXT,eventType:c.d.TRACK,actionSubjectId:c.c.FORMAT_SUB,attributes:{inputMethod:c.e.TOOLBAR}})(function(e,t){var n=e.schema.marks.subsup;return!!n&&Object(a.e)(n,{type:"sub"})(e,t)})},b=function(e){var t=e.inputMethod;return Object(s.d)({action:c.a.FORMATTED,actionSubject:c.b.TEXT,eventType:c.d.TRACK,actionSubjectId:c.c.FORMAT_CODE,attributes:{inputMethod:t}})(function(e,t){var n=e.schema.marks.code;return!!n&&Object(a.e)(n)(e,t)})},y=function(e,t,n){return Object(s.d)({action:c.a.FORMATTED,actionSubject:c.b.TEXT,eventType:c.d.TRACK,actionSubjectId:c.c.FORMAT_CODE,attributes:{inputMethod:c.e.FORMATTING}})(function(e,t,n){return function(r,o){if(r.selection.empty){var a=r.doc.resolve(e).nodeBefore,s=r.doc.resolve(t).nodeAfter,c=a&&a.text&&a.text.endsWith("`"),u=s&&s.text&&s.text.startsWith("`");if(c&&u){i.a.trackEvent("atlassian.editor.format.code.autoformatting");var d=r.tr.replaceRangeWith(e-1,t+1,r.schema.text(n));return o&&o(Object(l.b)(d.mapping.map(e-1),d.mapping.map(t+1),d)),!0}}return!1}}(e,t,n))}},HPDH:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l});var r=n("mrSG"),o=n("q1tI"),i=n("GsWa"),a=n("WLpT"),s={RIGHT_SHADOW:"right-shadow",LEFT_SHADOW:"left-shadow"},c=11===a.a.ie_version;function l(e,t){return function(n){function a(){var e=null!==n&&n.apply(this,arguments)||this;return e.state={showLeftShadow:!1,showRightShadow:!1},e.handleScroll=function(t){e.overflowContainer&&t.target===e.overflowContainer&&e.setState(function(){return{showLeftShadow:!!e.overflowContainer&&e.overflowContainer.scrollLeft>0}})},e.updateRightShadow=function(){if(e.overflowContainer){var t=e.calcOverflowDiff(),n=t>0&&t>e.overflowContainer.scrollLeft;n!==e.state.showRightShadow&&e.setState(function(){return{showRightShadow:n}})}},e.handleUpdateRightShadow=Object(i.a)(e.updateRightShadow),e.handleScrollDebounced=Object(i.a)(e.handleScroll),e.calcOverflowDiff=function(){return e.overflowContainer?(e.diff=e.calcScrollableWidth(),e.diff-e.overflowContainer.offsetWidth):0},e.calcScrollableWidth=function(){if(!e.scrollable&&e.overflowContainer)return e.overflowContainer.scrollWidth;if(!e.scrollable)return 0;for(var t=0,n=0;n<e.scrollable.length;n++){t+=e.scrollable[n].scrollWidth}return t},e.handleContainer=function(n){n&&!e.container&&(e.container=n,e.overflowContainer=n.querySelector(t.overflowSelector),e.overflowContainer||(e.overflowContainer=n),t.scrollableSelector&&(e.scrollable=n.querySelectorAll(t.scrollableSelector)),e.handleUpdateRightShadow(),c||e.overflowContainer.addEventListener("scroll",e.handleScrollDebounced))},e}return r.__extends(a,n),a.prototype.componentWillUnmount=function(){this.overflowContainer&&!c&&this.overflowContainer.removeEventListener("scroll",this.handleScrollDebounced),this.handleUpdateRightShadow.cancel(),this.handleScrollDebounced.cancel()},a.prototype.componentDidUpdate=function(){this.handleUpdateRightShadow()},a.prototype.render=function(){var t=this.state,n=t.showLeftShadow,i=[t.showRightShadow&&s.RIGHT_SHADOW,n&&s.LEFT_SHADOW].filter(Boolean).join(" ");return o.createElement(e,r.__assign({handleRef:this.handleContainer,shadowClassNames:i},this.props))},a}(o.Component)}},HSct:function(e,t,n){"use strict";var r=n("mrSG"),o=n("q1tI"),i=n.n(o),a=n("D5jW"),s=n("QYUE"),c=n("FuDz"),l=function(e,t){var n=Object(a.a)({iconGradientStart:t});return'<canvas height="32" width="32" aria-hidden="true"></canvas>\n  <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" focusable="false" aria-hidden="true">\n    <defs>\n      <linearGradient x1="94.092%" x2="56.535%" y1="6.033%" y2="43.087%" id="'+n+'">\n        <stop stop-color="'+e+'" '+("inherit"===e?'stop-opacity="0.4"':"")+' offset="18%"></stop>\n        <stop stop-color="'+t+'" offset="100%"></stop>\n      </linearGradient>\n    </defs>\n    <g stroke="none" stroke-width="1" fill-rule="nonzero">\n      <path d="M26.0406546,5 L14.9983562,5 C14.9983562,6.32163748 15.5233746,7.58914413 16.4579134,8.52368295 C17.3924523,9.45822178 18.6599589,9.98324022 19.9815964,9.98324022 L22.0151159,9.98324022 L22.0151159,11.9465283 C22.0168782,14.6974491 24.2474348,16.9265768 26.9983562,16.9265762 L26.9983562,5.95770152 C26.9983562,5.42877757 26.5695786,5 26.0406546,5 Z" fill="currentColor"></path>\n      <path d="M20.0420436,11 L9,11 C9.00176139,13.7504065 11.2309666,15.9796117 13.9813731,15.9813731 L16.0154337,15.9813731 L16.0154337,17.9451836 C16.0154337,19.2671728 16.5405919,20.5350167 17.4753794,21.4698042 C18.4101669,22.4045917 19.6780108,22.9297499 21,22.9297499 L21,11.9579564 C21,11.4288917 20.5711083,11 20.0420436,11 Z" fill="url(#'+n+')"></path>\n      <path d="M14.0420436,17 L3,17 C3.00176275,19.7516528 5.23291286,21.9813736 7.98456626,21.9813731 L10.0250133,21.9813731 L10.0250133,23.9451836 C10.0250082,26.6943468 12.2508419,28.9244664 15,28.9297499 L15,17.9579564 C15,17.4288917 14.5711083,17 14.0420436,17 Z" fill="url(#'+n+')"></path>\n    </g>\n  </svg>'},u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return i.a.createElement(c.a,Object(r.__assign)({},this.props,{svg:l}))},t.defaultProps=s.a,t}(o.Component);t.a=u},HTLT:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.MergeCommit="merge_commit",e.Squash="squash",e.FastForward="fast_forward"}(r||(r={}))},HWcm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M5 5h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1zm6 0h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1zm6 0h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorLayoutThreeEqualIcon";var c=s;t.default=c},HeSN:function(e,t,n){"use strict";var r=n("mrSG"),o=n("q1tI"),i=n("/IjO"),a=n("mG1W"),s=n("5Ix2"),c=n("JRPe"),l=n("TSYQ"),u=n.n(l),d=n("zOsC"),p=n("oNoR"),f=n.n(p),h=n("XrNb"),m=n.n(h),g=n("c/4u"),v=n("AaNc"),b=n("mIQt"),y=n("AwKd"),w=[0,-22],O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){var e=t.props.editorView,n=e.state,r=e.dispatch;Object(y.m)()(n,r)},t}return r.__extends(t,e),t.prototype.render=function(){var e,t=this.props,n=t.intl.formatMessage,r=t.mountPoint,i=t.boundariesElement,s=t.scrollableElement,c=t.targetRef,l=t.editorView,p=t.isResizing;if(!c)return null;var h=Object(a.findTable)(l.state.selection);if(!h)return!1;var y=h.node.attrs.layout,O=n(function(e){switch(e){case"default":return g.a.layoutWide;case"wide":return g.a.layoutFullWidth;default:return g.a.layoutFixedWidth}}(y));return o.createElement(d.a,{ariaLabel:O,offset:w,target:c,alignY:"start",alignX:"end",stick:!0,mountTo:r,boundariesElement:i,scrollableElement:s,forcePlacement:!0},o.createElement("div",{className:u()(b.a.LAYOUT_BUTTON,(e={},e[b.a.IS_RESIZING]=p,e))},o.createElement(v.a,{title:O,onClick:this.handleClick,iconBefore:"full-width"===y?o.createElement(m.a,{label:O}):o.createElement(f.a,{label:O})})))},t}(o.Component),E=Object(c.f)(O),x=n("OrOc"),k=n("TLA3"),C=n("tQKV"),S=n("VuzU"),j=n("VV6X"),T=n("BCfg"),M=n("hksT"),_=n("w9Yk"),I=n("hkcA"),P=function(){return Object(_.d)({action:I.a.INSERTED,actionSubject:I.b.DOCUMENT,actionSubjectId:I.c.TABLE,attributes:{inputMethod:I.e.SHORTCUT},eventType:I.d.TRACK})(j.a)};function A(){var e={};return M.h(M.y.common,Object(T.d)(1),e),M.h(M.D.common,Object(T.d)(-1),e),M.h(M.Q.common,P(),e),M.h(M.g.common,Object(y.d)(I.e.KEYBOARD),e),M.h(M.g.common,T.f,e),M.h(M.f.common,Object(T.o)(i.addRowBefore),e),M.h(M.e.common,i.addRowAfter,e),M.h(M.c.common,Object(T.o)(i.addColumnBefore),e),M.h(M.b.common,i.addColumnAfter,e),Object(S.keymap)(e)}var N,R,D=n("HwHA"),L=n("DfxL"),z=n.n(L),B=n("7WM6"),F=n("cXlQ"),q=Object(c.e)({tableOptions:{id:"fabric.editor.tableOptions",defaultMessage:"Table options",description:"Opens a menu with additional table options"},headerRow:{id:"fabric.editor.headerRow",defaultMessage:"Header row",description:"Marks the first table row as a header row"},headerColumn:{id:"fabric.editor.headerColumn",defaultMessage:"Header column",description:"Marks the first table column as a header row"},numberedColumn:{id:"fabric.editor.numberedColumn",defaultMessage:"Numbered column",description:"Adds an auto-numbering column to your table"}}),W=function(e,t){var n=t.formatMessage,r=C.e.getState(e),o=D.d.getState(e);if(r&&r.tableRef&&r.pluginConfig){var i=r.pluginConfig;return{title:"Table floating controls",getDomRef:function(){return r.tableWrapperTarget},nodeType:e.schema.nodes.table,offset:[0,3],items:[{type:"dropdown",title:n(q.tableOptions),hidden:!(i.allowHeaderRow&&i.allowHeaderColumn),options:[{title:n(q.headerRow),onClick:Object(y.k)(),selected:r.isHeaderRowEnabled,hidden:!i.allowHeaderRow},{title:n(q.headerColumn),onClick:Object(y.j)(),selected:r.isHeaderColumnEnabled,hidden:!i.allowHeaderColumn},{title:n(q.numberedColumn),onClick:Object(y.l)(),selected:Object(F.c)(e),hidden:!i.allowNumberColumn}]},{type:"separator",hidden:!(i.allowBackgroundColor&&i.allowHeaderRow&&i.allowHeaderColumn&&i.allowMergeCells)},{type:"button",appearance:"danger",icon:z.a,onClick:Object(y.c)(),disabled:!!o&&!!o.dragging,onMouseEnter:Object(B.d)(!0),onMouseLeave:Object(B.a)(),title:n(g.a.remove)}]}}},U=n("vOnD"),H=n("5oxn"),V=n("b0Qh"),G=n("dqnb"),K=n("755M"),$=n("SdOD"),J=n("x9Zv"),Y=n("RuAs"),Q=n("SgvK"),X=n("GJQz"),Z=n("COqE"),ee=n("koy1"),te=Object(c.e)({cellBackground:{id:"fabric.editor.cellBackground",defaultMessage:"Cell background",description:"Change the background color of a table cell."},mergeCells:{id:"fabric.editor.mergeCells",defaultMessage:"Merge cells",description:"Merge tables cells together."},splitCell:{id:"fabric.editor.splitCell",defaultMessage:"Split cell",description:"Split a merged table cell."},clearCells:{id:"fabric.editor.clearCells",defaultMessage:"Clear {0, plural, one {cell} other {cells}}",description:"Clears the contents of the selected cells (this does not delete the cells themselves)."}}),ne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isSubmenuOpen:!1},t.handleSubMenuRef=function(e){var n=Object(Z.j)(t.props.editorView.dom,".fabric-editor-popup-scroll-parent");if(n&&e){var r=n.getBoundingClientRect(),o=e.getBoundingClientRect();o.left+o.width>r.width&&(e.style.left="-"+o.width+"px")}},t.createItems=function(){var e=t.props,n=e.allowMergeCells,r=e.allowBackgroundColor,a=e.editorView.state,c=e.targetCellPosition,l=e.isOpen,u=e.selectionRect,d=e.intl.formatMessage,p=[],f=t.state.isSubmenuOpen;if(r){var h=l&&c?a.doc.nodeAt(c):null,m=h&&h.attrs.background?h.attrs.background:"#ffffff";p.push({content:d(te.cellBackground),value:{name:"background"},elemAfter:o.createElement("div",null,o.createElement("div",{className:b.a.CONTEXTUAL_MENU_ICON,style:{background:m}}),f&&o.createElement("div",{className:b.a.CONTEXTUAL_SUBMENU,ref:t.handleSubMenuRef},o.createElement(Q.a,{palette:s.f,borderColors:s.d,onClick:t.setColor,selectedColor:m,checkMarkColor:V.colors.N500})))})}p.push({content:d(X.a.insertColumn),value:{name:"insert_column"},elemAfter:o.createElement(J.g,null,"")}),p.push({content:d(X.a.insertRow),value:{name:"insert_row"},elemAfter:o.createElement(J.g,null,"")});var g=u.top,v=u.bottom,y=u.right-u.left,w=v-g;return p.push({content:d(X.a.removeColumns,{0:y}),value:{name:"delete_column"}}),p.push({content:d(X.a.removeRows,{0:w}),value:{name:"delete_row"}}),n&&(p.push({content:d(te.mergeCells),value:{name:"merge"},isDisabled:!Object(G.a)(a.tr)}),p.push({content:d(te.splitCell),value:{name:"split"},isDisabled:!Object(i.splitCell)(a)})),p.push({content:d(te.clearCells,{0:Math.max(y,w)}),value:{name:"clear"},elemAfter:o.createElement(J.g,null,"")}),p.length?[{items:p}]:null},t.onMenuItemActivated=function(e){var n=e.item,r=t.props,o=r.editorView,i=r.selectionRect,a=r.targetCellPosition,s=o.state,c=o.dispatch;switch(n.value.name){case"merge":Object(y.g)()(s,c),t.toggleOpen();break;case"split":Object(y.i)()(s,c),t.toggleOpen();break;case"clear":Object(y.d)(I.e.CONTEXT_MENU,a)(s,c),t.toggleOpen();break;case"insert_column":Object(y.e)(I.e.CONTEXT_MENU,i.right)(s,c),t.toggleOpen();break;case"insert_row":Object(y.f)(I.e.CONTEXT_MENU,i.bottom)(s,c),t.toggleOpen();break;case"delete_column":Object(y.a)(I.e.CONTEXT_MENU,i)(s,c),t.toggleOpen();break;case"delete_row":var l=Object(C.d)(s).pluginConfig.isHeaderRowRequired;Object(y.b)(I.e.CONTEXT_MENU,i,!!l)(s,c),t.toggleOpen()}},t.toggleOpen=function(){var e=t.props,n=e.isOpen,r=e.editorView,o=r.state,i=r.dispatch;Object(K.b)()(o,i),n||t.setState({isSubmenuOpen:!1})},t.handleOpenChange=function(){var e=t.props.editorView,n=e.state,r=e.dispatch;Object(K.b)()(n,r),t.setState({isSubmenuOpen:!1})},t.handleItemMouseEnter=function(e){var n=e.item,r=t.props,o=r.editorView,i=o.state,a=o.dispatch,s=r.selectionRect;"background"===n.value.name&&(t.state.isSubmenuOpen||t.setState({isSubmenuOpen:!0})),"delete_column"===n.value.name&&Object(B.b)(Object(ee.a)(s),!0)(i,a),"delete_row"===n.value.name&&Object(B.c)(Object(ee.b)(s),!0)(i,a)},t.handleItemMouseLeave=function(e){var n=e.item,r=t.props.editorView,o=r.state,i=r.dispatch;"background"===n.value.name&&t.closeSubmenu(),"delete_column"!==n.value.name&&"delete_row"!==n.value.name||Object(B.a)()(o,i)},t.closeSubmenu=function(){t.state.isSubmenuOpen&&t.setState({isSubmenuOpen:!1})},t.setColor=function(e){var n=t.props,r=n.targetCellPosition,o=n.editorView,i=o.state,a=o.dispatch;Object(y.h)(e,r)(i,a),t.toggleOpen()},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.isOpen,n=e.mountPoint,r=e.offset,i=e.boundariesElement,a=this.createItems();return a?o.createElement("div",{onMouseLeave:this.closeSubmenu},o.createElement(Y.a,{mountTo:n,items:a,isOpen:t,onOpenChange:this.handleOpenChange,onItemActivated:this.onMenuItemActivated,onMouseEnter:this.handleItemMouseEnter,onMouseLeave:this.handleItemMouseLeave,fitHeight:188,fitWidth:$.a,boundariesElement:i,offset:r})):null},t.defaultProps={boundariesElement:document.body},t}(o.Component),re=Object(c.f)(ne),oe=U.default.div(N||(N=r.__makeTemplateObject(["\n  ","\n"],["\n  ","\n"])),$.h),ie=function(e,t){var n=C.e.getState(t).tableRef,r=-$.b;if(n&&e){var o=e.getBoundingClientRect(),i=n.getBoundingClientRect(),a=o.top-i.top;a<200&&(r-=a+2)}return[$.b/2,r]},ae=function(e){var t=e.mountPoint,n=e.boundariesElement,r=e.scrollableElement,i=e.editorView,s=e.isOpen,c=e.targetCellPosition,l=e.pluginConfig;if(!s||!c)return null;var u=i.state.selection,p=Object(a.isCellSelection)(u)?Object(a.getSelectionRect)(u):Object(a.findCellRectClosestToPos)(u.$from);if(!p)return null;var f=i.domAtPos.bind(i),h=Object(a.findDomRefAtPos)(c,f);return h?o.createElement(d.a,{alignX:"right",alignY:"top",target:h,mountTo:t,boundariesElement:n,scrollableElement:r,fitHeight:188,fitWidth:$.a,zIndex:H.j,forcePlacement:!0},o.createElement(oe,null,o.createElement(re,{editorView:i,offset:ie(h,i.state),isOpen:s,targetCellPosition:c,allowMergeCells:l.allowMergeCells,allowBackgroundColor:l.allowBackgroundColor,selectionRect:p}))):null},se=n("74nx"),ce=n.n(se),le=U.default.div(R||(R=r.__makeTemplateObject(["\n  ","\n"],["\n  ","\n"])),$.e),ue=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){var e=t.props.editorView,n=e.state,r=e.dispatch;Object(K.b)()(n,r)},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.mountPoint,n=e.scrollableElement,r=e.editorView,i=e.targetCellPosition,s=e.isContextualMenuOpen,c=e.intl.formatMessage,l=r.domAtPos.bind(r),u=Object(a.findDomRefAtPos)(i,l);if(!(u&&u instanceof HTMLElement))return null;var p=Object(Z.j)(u,"."+b.a.TABLE_NODE_WRAPPER),f=c(X.a.cellOptions);return o.createElement(d.a,{alignX:"right",alignY:"start",target:u,mountTo:p||t,boundariesElement:u,scrollableElement:n,forcePlacement:!0,offset:[3,-3]},o.createElement(le,null,o.createElement(v.a,{className:b.a.CONTEXTUAL_MENU_BUTTON,selected:s,title:f,onClick:this.handleClick,iconBefore:o.createElement(ce.a,{label:f})})))},t}(o.Component),de=Object(c.f)(ue),pe=n("vAMc");n.d(t,"b",function(){return fe});var fe=function(e){var t=e&&"boolean"!=typeof e?e:{};return t.advanced?r.__assign({allowBackgroundColor:!0,allowColumnResizing:!0,allowHeaderColumn:!0,allowHeaderRow:!0,allowMergeCells:!0,allowNumberColumn:!0,stickToolbarToBottom:!0,permittedLayouts:"all",allowControls:!0},t):t};t.a=function(e){return{nodes:function(){return[{name:"table",node:s.c},{name:"tableHeader",node:s.k},{name:"tableRow",node:s.n},{name:"tableCell",node:s.g}]},pmPlugins:function(){return[{name:"table",plugin:function(e){var t=e.props,n=e.prevProps,r=e.dispatch,o=e.portalProviderAPI,i=t.allowTables,a=t.appearance,s=t.allowDynamicTextSizing,c="full-page"===a,l="full-width"===a,u=n&&"full-width"===n.appearance;return Object(C.b)(r,o,fe(i),c&&s,c,l,u)}},{name:"tablePMColResizing",plugin:function(e){var t=e.dispatch,n=e.props,r=n.appearance,o=n.allowTables,i=n.allowDynamicTextSizing;return fe(o).allowColumnResizing?Object(D.b)(t,{dynamicTextSizing:i&&"full-width"!==r,lastColumnResizable:"full-width"!==r}):void 0}},{name:"tableKeymap",plugin:function(){return A()}},{name:"tableEditing",plugin:function(){return Object(i.tableEditing)()}}]},contentComponent:function(t){var n=t.editorView,r=t.popupsMountPoint,i=t.popupsBoundariesElement,a=t.popupsScrollableElement,s=t.appearance;return o.createElement(x.a,{plugins:{pluginState:C.e,tableResizingPluginState:D.d},render:function(t){var c=n.state,l=C.e.getState(c),u=D.d.getState(c),d=u&&u.dragging,p="mobile"===s;return o.createElement(o.Fragment,null,l.targetCellPosition&&!d&&!p&&o.createElement(de,{editorView:n,mountPoint:r,targetCellPosition:l.targetCellPosition,scrollableElement:a,isContextualMenuOpen:l.isContextualMenuOpen}),o.createElement(ae,{editorView:n,mountPoint:r,boundariesElement:i,targetCellPosition:l.targetCellPosition,isOpen:l.isContextualMenuOpen,pluginConfig:l.pluginConfig}),"full-page"===s&&Object(F.g)(c)&&!e&&o.createElement(E,{editorView:n,mountPoint:r,boundariesElement:i,scrollableElement:a,targetRef:l.tableWrapperTarget,isResizing:!!u&&!!u.dragging}))}})},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{title:t(k.b.table),description:t(k.b.tableDescription),priority:600,keyshortcut:Object(M.S)(M.Q),icon:function(){return o.createElement(pe.t,{label:t(k.b.table)})},action:function(e,t){var n=e(Object(a.createTable)(t.schema));return Object(_.a)(n,{action:I.a.INSERTED,actionSubject:I.b.DOCUMENT,actionSubjectId:I.c.TABLE,attributes:{inputMethod:I.e.QUICK_INSERT},eventType:I.d.TRACK})}}]},floatingToolbar:W}}}},HwHA:function(e,t,n){"use strict";var r=n("b/sn"),o=n("TSYQ"),i=n.n(o),a=n("hN8D"),s=n("mIQt"),c=n("/IjO"),l=n("mG1W"),u=n("82gI"),d=n("5oxn"),p=n("kghT"),f=n("rriI"),h=n("TKSH"),m=n("7RGa"),g=n("koy1"),v=n("YehR"),b=n("D4/y"),y=function(e,t,n){var r=e.state,o=e.dispatch,i=j(r),a=i.dragging,s=i.resizeHandlePos;if(!a){var l=Object(h.b)(t.target),d=null;if(l){var p=l.getBoundingClientRect(),f=p.left,m=p.right;t.clientX-f<=u.h?d=Object(h.c)(e,t,"left",u.h):m-t.clientX<=u.h&&(d=Object(h.c)(e,t,"right",u.h))}if(d!==s){if(!n&&null!==d){var g=r.doc.resolve(d),v=c.TableMap.get(g.node(-1)),y=g.start(-1);if(v.colCount(g.pos-y)+g.nodeAfter.attrs.colspan-1===v.width-1)return}Object(b.e)(d)(r,o)}}},w=function(e,t,n){var r=e.state,o=e.dispatch,i=j(r).resizeHandlePos,s=p.b.getState(r).editorDisabled,y=e.domAtPos.bind(e);if(s||null===i||!Object(h.f)(r.doc.resolve(i)))return!1;t.preventDefault();for(var w=r.doc.nodeAt(i),O=r.doc.resolve(i),E=O.node(-1),x=O.start(-1),k=y(x).node;"TABLE"!==k.nodeName;)k=k.parentNode;var C=Object(a.a)(k),S=v.b.getState(r),T=Object(h.e)(x,r,S)||Object(h.d)(k.getAttribute("data-layout"),S.width,{dynamicTextSizing:n});E.attrs.isNumberColumnEnabled&&(T-=d.x);var M=Object(m.d)({minWidth:u.d,maxSize:T,table:E,tableRef:k,start:x,domAtPos:y});if(Object(b.a)({resizeState:M,table:E,start:x,event:t})(r,o))return I(t),!0;var _=Object(h.a)(e,i,w.attrs);function I(t){window.removeEventListener("mouseup",I),window.removeEventListener("mousemove",P),C&&C.parentNode&&(C.parentNode.removeChild(C),C=null);var n=t.clientX,r=e.state,o=e.dispatch,i=j(r),a=i.resizeHandlePos,s=i.dragging;if(null!==a&&Object(h.f)(r.doc.resolve(a))){var u=r.doc.resolve(a),d=u.start(-1),p=u.node(-1);if(s&&n===s.startX)Object(b.d)(null)(r,o);else{var v=r.tr;if(s){var y=s.startX;if(p.eq(E)){var w=c.TableMap.get(p).colCount(u.pos-d)+(u.nodeAfter?u.nodeAfter.attrs.colspan:1)-1,O=Object(l.getSelectionRect)(r.selection),x=O?Object(g.a)(O):[],k=x.indexOf(w)>-1||x.indexOf(w+1)>-1,S=Object(m.f)(M,w,n-y,k?x:void 0);v=Object(f.a)(S,p,d)(v)}Object(b.d)(null,v)(e.state,o)}}}}function P(t){var n=t.clientX,r=t.which,o=e.state,i=j(o),a=i.resizeHandlePos,s=i.dragging;if(!r||!s||null===a||!Object(h.f)(o.doc.resolve(a)))return I(t);var l=o.doc.resolve(a),u=l.node(-1),d=c.TableMap.get(u).colCount(l.pos-l.start(-1))+l.nodeAfter.attrs.colspan-1;Object(m.f)(M,d,n-s.startX)}return Object(b.d)({startX:t.clientX,startWidth:_})(r,o),window.addEventListener("mouseup",I),window.addEventListener("mousemove",P),!0},O=n("11LQ"),E=n("mrSG");n.d(t,"d",function(){return x}),n.d(t,"b",function(){return T}),n.d(t,"a",function(){return S}),n.d(t,"c",function(){return j});var x=new r.PluginKey("tableFlexiColumnResizing"),k=Object(O.a)(x,function(e,t){switch(t.type){case"SET_RESIZE_HANDLE_POSITION":return E.__assign({},e,{resizeHandlePos:t.data.resizeHandlePos});case"SET_DRAGGING":return E.__assign({},e,{dragging:t.data.dragging});case"SET_LAST_CLICK":var n=t.data.lastClick;return E.__assign({},e,{lastClick:n,resizeHandlePos:n?e.resizeHandlePos:null});default:return e}}),C=k.createPluginState,S=k.createCommand,j=k.getPluginState;function T(e,t){var n=t.lastColumnResizable,o=void 0===n||n,c=t.dynamicTextSizing,l=void 0!==c&&c;return new r.Plugin({key:x,state:C(e,{lastColumnResizable:o,dynamicTextSizing:l,resizeHandlePos:null,dragging:null,lastClick:null}),props:{attributes:function(e){var t,n=j(e);return{class:i()(s.a.RESIZING_PLUGIN,(t={},t[s.a.RESIZE_CURSOR]=null!==n.resizeHandlePos,t[s.a.IS_RESIZING]=!!n.dragging,t))}},handleDOMEvents:{mousemove:function(e,t){y(e,t,o);var n=e.state;if(j(n).dragging){var r=e.domAtPos.bind(e);Object(a.c)(n),Object(a.d)(n,r)}return!1},mouseleave:function(e){var t=e.state,n=e.dispatch,r=j(t),o=r.resizeHandlePos,i=r.dragging;return null===o||i||(Object(b.e)(null)(t,n),Object(a.c)(t)),!0},mousedown:function(e,t){var n=j(e.state),r=n.resizeHandlePos,o=n.dragging;if(null!==r&&!o){var i=e.domAtPos.bind(e);if(w(e,t,l))return Object(a.d)(e.state,i),!0}return!1}}}})}},Hxsl:function(e,t,n){"use strict";n.d(t,"e",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"f",function(){return f}),n.d(t,"c",function(){return h}),n.d(t,"d",function(){return m}),n.d(t,"a",function(){return g}),n.d(t,"g",function(){return v}),n.d(t,"b",function(){return b});var r=n("mrSG"),o=n("l8Zf"),i=n("DpjF"),a=n("b/sn"),s=n("w3vy"),c=n("hkcA"),l=n("w9Yk"),u=n("vuj9");function d(e,t,n,a){return Object(s.a)(function(e){return function(t){var n=t.doc.nodeAt(e);return!!n&&n.isText}}(t),function(s,c){var l=s.doc.resolve(t),u=s.doc.nodeAt(t),d=s.schema.marks.link,p=d.isInSet(u.marks),f=Object(o.e)(e);if(p&&p.attrs.href===f)return!1;var h=n&&t!==n?n:t-l.textOffset+u.nodeSize,m=s.tr.removeMark(t,h,d);return e.trim()&&m.addMark(t,h,d.create(r.__assign({},p&&p.attrs||{},{href:f}))),a||m.setMeta(i.e,{type:i.b.HIDE_TOOLBAR}),c&&c(m),!0})}function p(e,t,n,o){return function(a,s){var c=a.doc.resolve(n),l=a.doc.nodeAt(n);if(!l)return!1;var u=a.schema.marks.link.isInSet(l.marks),d=a.schema.marks.link,p=o&&n!==o?o:n-c.textOffset+l.nodeSize,f=a.tr;return f.insertText(t,n,p),f.addMark(n,n+t.length,d.create(r.__assign({},u&&u.attrs||{},{href:e}))),f.setMeta(i.e,{type:i.b.HIDE_TOOLBAR}),s&&s(f),!0}}function f(e,t,n){return Object(s.a)(function(e){return function(t){var n=t.doc.nodeAt(e);return!!n&&t.schema.marks.link.isInSet(n.marks)}}(t),function(r,o){var a=r.doc.resolve(t),s=r.doc.nodeAt(t),c=r.schema.marks.link.isInSet(s.marks);if(s&&e.length>0&&e!==s.text){var l=n&&t!==n?n:t-a.textOffset+s.nodeSize,u=r.tr;return u.insertText(e,t,l),u.addMark(t,t+e.length,c),u.setMeta(i.e,{type:i.b.HIDE_TOOLBAR}),o&&o(u),!0}return!1})}function h(e,t,n,r,c){return Object(s.a)(Object(i.c)(e,t),function(s,l){var d=s.schema.marks.link;if(n.trim()){var p=s.tr;if(e===t){var f=r||n;p.insertText(f,e,t),p.addMark(e,e+f.length,d.create({href:Object(o.e)(n)}))}else p.addMark(e,t,d.create({href:Object(o.e)(n)})),p.setSelection(a.Selection.near(p.doc.resolve(t)));return Object(u.b)(s,p,c,!1),p.setMeta(i.e,{type:i.b.HIDE_TOOLBAR}),l&&l(p),!0}return!1})}function m(e){return d("",e)}function g(){return function(e,t){return t&&t(e.tr.setMeta(i.e,{type:i.b.EDIT_INSERTED_TOOLBAR})),!0}}function v(e){return void 0===e&&(e=c.e.TOOLBAR),function(t,n){if(n){var r=t.tr.setMeta(i.e,{type:i.b.SHOW_INSERT_TOOLBAR});n(r=Object(l.a)(r,{action:c.a.INVOKED,actionSubject:c.b.TYPEAHEAD,actionSubjectId:c.c.TYPEAHEAD_LINK,attributes:{inputMethod:e},eventType:c.d.UI}))}return!0}}function b(){return function(e,t){return t&&t(e.tr.setMeta(i.e,{type:i.b.HIDE_TOOLBAR})),!0}}},"I+Ul":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s});var r=n("mrSG"),o=function(e){return"error"===e.status},i=function(e){switch(e.status){case"processing":case"processed":case"failed-processing":return!(!e.representations||!e.representations.image);default:return!1}},a=function(e){var t=e.data,n=t.id,o=t.name,i=t.size,a=t.processingStatus,s=t.artifacts,c={id:n,name:o,size:i,mediaType:t.mediaType,mimeType:t.mimeType,artifacts:s,representations:t.representations};switch(a){case"pending":case void 0:return Object(r.__assign)(Object(r.__assign)({},c),{status:"processing"});case"succeeded":return Object(r.__assign)(Object(r.__assign)({},c),{status:"processed"});case"failed":return Object(r.__assign)(Object(r.__assign)({},c),{status:"failed-processing"})}},s=function(e,t){return a({data:Object(r.__assign)({id:e},t)})}},I2Uo:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return a});var r=n("cqjR");function o(e,t){void 0===t&&(t=!1);var n=e.handler;return e.handler=function(e,r,o,i){var a=t?s(e,o,i):c(e,o,i);if(!e.selection.$from.parent.type.spec.code&&!a)return n(e,r,o,i)},e}function i(e,t,n){return void 0===n&&(n=!1),o(new r.InputRule(e,t),n)}var a="",s=function(e,t,n){var r=e.doc,o=e.schema.marks,i=!1,a=function(e){return e.type===o.code||e.type===o.link||e.type===o.typeAheadQuery};return r.nodesBetween(t,n,function(e){i=i||e.marks.filter(a).length>0}),i},c=function(e,t,n){var r=e.doc,o=e.schema.marks,i=!1,a=function(e){return e.type===o.code||e.type===o.typeAheadQuery};return r.nodesBetween(t,n,function(e){i=i||e.marks.filter(a).length>0}),i}},IAlb:function(e,t,n){"use strict";t.a={api:{internal:{toggleFeature:function(e,t){return"/!api/internal/account/".concat(e,"/features/").concat(t)},contentPreview:function(){return"/!api/internal/content-preview/"}},v10:{},v20:{}},external:{},ui:{addonDirectory:"/account/admin/addon-directory/",branch:function(e,t,n){return"/".concat(e,"/").concat(t,"/branch/").concat(n)},fullCommit:function(e,t,n){return"/".concat(e,"/full-commit/").concat(t,"/").concat(n)},project:function(e,t){return"/account/user/".concat(e,"/projects/").concat(t)},plansAndBilling:function(e){return"/account/user/".concat(e,"/plans-and-billing/")},repositoryMentions:function(e,t,n){return"/xhr/mentions/repositories/".concat(e,"/").concat(t,"?term=").concat(n)},pullRequest:function(e,t){return"/".concat(e,"/pull-requests/").concat(t)}}}},IJDW:function(e,t,n){"use strict";var r=n("lwsE"),o=n.n(r),i=n("W8MJ"),a=n.n(i),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),u=n.n(l),d=n("7W2i"),p=n.n(d),f=n("PJYZ"),h=n.n(f),m=n("lSNA"),g=n.n(m),v=n("q1tI"),b=n.n(v),y=n("JRPe"),w=n("FbrI"),O=n("eq3s"),E=n("lJqg"),x=Object(y.e)({pullRequestCreated:{id:"frontbucket.repository.pullRequest.pullRequestCreated",defaultMessage:"Pull request created {formattedDate}"},pullRequestMerged:{id:"frontbucket.repository.pullRequest.pullRequestMerged",defaultMessage:"Pull request merged {formattedDate}"},pullRequestDeclined:{id:"frontbucket.repository.pullRequest.pullRequestDeclined",defaultMessage:"Pull request declined {formattedDate}"},pullRequestOpenLabel:{id:"frontbucket.repository.pullRequest.pullRequestOpenLabel",defaultMessage:"Open"},pullRequestMergedLabel:{id:"frontbucket.repository.pullRequest.pullRequestMergedLabel",defaultMessage:"Merged"},pullRequestDeclinedLabel:{id:"frontbucket.repository.pullRequest.pullRequestDeclinedLabel",defaultMessage:"Declined"}}),k=n("wTIg"),C=Object(k.a)("div",{target:"e4jegc70"})({name:"1wkrjcz",styles:"margin-top:1px;display:inline-flex;"}),S={OPEN:"inprogress",MERGED:"success",DECLINED:"removed",SUPERSEDED:"moved",default:"default"},j=function(e){function t(){var e,n;o()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(h()(h()(n)),"pullRequestStateMessage",function(){var e=n.props,t=e.intl,r=e.pullRequestState,o=e.pullRequestStateDates.createdOn,i=n.props.pullRequestStateDates.closedOn||null;switch(r){case"MERGED":return t.formatMessage(x.pullRequestMerged,{formattedDate:Object(E.b)(i,t)});case"DECLINED":return t.formatMessage(x.pullRequestDeclined,{formattedDate:Object(E.b)(i,t)});case"OPEN":default:return t.formatMessage(x.pullRequestCreated,{formattedDate:Object(E.b)(o,t)})}}),g()(h()(h()(n)),"pullRequestStateLabel",function(){var e=n.props,t=e.intl,r=e.pullRequestState;switch(r){case"MERGED":return t.formatMessage(x.pullRequestMergedLabel);case"DECLINED":return t.formatMessage(x.pullRequestDeclinedLabel);case"OPEN":return t.formatMessage(x.pullRequestOpenLabel);default:return r}}),n}return p()(t,e),a()(t,[{key:"render",value:function(){var e=this.props.pullRequestState;return b.a.createElement(O.a,{content:this.pullRequestStateMessage()},b.a.createElement(C,null,b.a.createElement(w.a,{isBold:!0,appearance:S[e]},this.pullRequestStateLabel())))}}]),t}(v.PureComponent);t.a=Object(y.f)(j)},ILAn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M12 20a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm0-8.5a1 1 0 0 0-1 1V15a1 1 0 0 0 2 0v-2.5a1 1 0 0 0-1-1zm0-1.125a1.375 1.375 0 1 0 0-2.75 1.375 1.375 0 0 0 0 2.75z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorInfoIcon";var c=s;t.default=c},IP8J:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M5 5h5a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1zm9 0h5a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorLayoutTwoEqualIcon";var c=s;t.default=c},"Icd/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M7 11h10a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm5 4h5a1 1 0 0 1 0 2h-5a1 1 0 0 1 0-2zM7 7h10a1 1 0 0 1 0 2H7a1 1 0 1 1 0-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorAlignRightIcon";var c=s;t.default=c},Id4n:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("WtSs"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M12 14a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm-4.5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm9 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorMoreIcon";var c=s;t.default=c},IeDz:function(e,t,n){"use strict";var r=n("mrSG"),o=n("q1tI"),i=n("Ntz7"),a=n("L6cg"),s=n("+9JK"),c=function(){return n.e(54).then(n.bind(null,"w1lv")).then(function(e){return e.default})},l=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={asyncLoadedComponent:t.AsyncLoadedComponent},n}return Object(r.__extends)(t,e),t.prototype.asyncLoadComponent=function(){var e=this;c().then(function(n){t.AsyncLoadedComponent=n,e.setAsyncState(n)})},t.prototype.renderLoading=function(){var e=this.props,t=e.fitToHeight,n=e.emojiId,r=e.showTooltip;return o.createElement(a.a,{shortName:n.shortName,showTooltip:r,size:t||i.f})},t.prototype.renderLoaded=function(e,t){var n=this.props,i=(n.emojiProvider,Object(r.__rest)(n,["emojiProvider"]));return o.createElement(t,Object(r.__assign)({},i,{emojiProvider:e}))},t}(s.a);t.a=l},JKa8:function(e,t,n){"use strict";n.d(t,"a",function(){return O});var r=n("pVnL"),o=n.n(r),i=n("QILm"),a=n.n(i),s=n("lwsE"),c=n.n(s),l=n("W8MJ"),u=n.n(l),d=n("a1gu"),p=n.n(d),f=n("Nsbk"),h=n.n(f),m=n("7W2i"),g=n.n(m),v=n("+WM3"),b=n("q1tI"),y=n.n(b),w=n("bFe0"),O=function(e){function t(){return c()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=a()(e,["className"]);return y.a.createElement(w.b,{className:t},y.a.createElement(v.a,o()({size:"small"},n)))}}]),t}(b.PureComponent)},JWFn:function(e,t,n){"use strict";var r=n("lwsE"),o=n.n(r),i=n("W8MJ"),a=n.n(i),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),u=n.n(l),d=n("7W2i"),p=n.n(d),f=n("q1tI"),h=n("/MKj"),m=n("eRoQ"),g=n("eQiX"),v=function(e){function t(){return o()(this,t),c()(this,u()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"render",value:function(){var e=this.props,t=e.userLevel,n=e.requiredLevel;return Object(g.a)({userLevel:t,requiredLevel:n})?this.props.children:null}}]),t}(f.PureComponent),b=Object(h.c)(function(e){return{userLevel:Object(m.lb)(e)}})(v);t.a=b},JYy9:function(e,t,n){"use strict";var r;function o(e){return-1!==[r.UP,r.LEFT,r.BACKWARD].indexOf(e)}function i(e){return-1!==[r.RIGHT,r.DOWN,r.FORWARD].indexOf(e)}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i}),function(e){e.UP="up",e.RIGHT="right",e.DOWN="down",e.LEFT="left",e.BACKWARD="backward",e.FORWARD="forward"}(r||(r={}))},JaWS:function(e){e.exports={a:"@atlaskit/breadcrumbs",b:"9.1.0"}},JlQV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M6 8.51c0-.282.229-.51.5-.51h11c.276 0 .5.228.5.51v8.98c0 .282-.229.51-.5.51h-11a.505.505 0 0 1-.5-.51V8.51zm2 2.995v.99c0 .291.226.505.505.505h.99a.497.497 0 0 0 .505-.505v-.99A.497.497 0 0 0 9.495 11h-.99a.497.497 0 0 0-.505.505zm3 0v.99c0 .291.226.505.505.505h.99a.497.497 0 0 0 .505-.505v-.99a.497.497 0 0 0-.505-.505h-.99a.497.497 0 0 0-.505.505zm-3 3v.99c0 .291.226.505.505.505h.99a.497.497 0 0 0 .505-.505v-.99A.497.497 0 0 0 9.495 14h-.99a.497.497 0 0 0-.505.505zM7.5 8v1h3V8h-3zm6 0v1h3V8h-3zm.5-1.495c0-.279.214-.505.505-.505h.99c.279 0 .505.214.505.505V8h-2V6.505zm-6 0C8 6.226 8.214 6 8.505 6h.99c.279 0 .505.214.505.505V8H8V6.505z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorDateIcon";var c=s;t.default=c},JmIj:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return l});var r,o=n("mrSG"),i=n("Kxkh"),a=n("7RGa"),s=function(e,t,n,r){if(!e.cols[t+1])return e;var o=u(e,t+1,t,n),i=n-o.amount,s=o.state;return i>0&&(s=d(s,t,i).state),r?Object(a.b)(s,r,t):s},c=function(e,t,n,r){var o=u(e,t,t+1,-n),i=o.state,s=Object(a.e)(i)>i.maxSize;if(!i.cols[t+1]&&!s)return i;var c=n+o.amount;return c<0&&(i=d(i,t+1,c).state),r?Object(a.b)(i,r,t):i};function l(e,t,n){void 0===n&&(n=[]);for(var r=t,a=function(){var t=e.cols.filter(function(e){return Object(i.e)(e)&&-1===n.indexOf(e.index)});if(0===t.length)return"break";var a=Math.floor(r/t.length);if(0===a)return"break";t.forEach(function(t){var n=t.width-a;if(n<t.minWidth){var i=t.minWidth-n;n=t.minWidth,r=r-a+i}else r-=a;e=o.__assign({},e,{cols:o.__spread(e.cols.slice(0,t.index),[o.__assign({},t,{width:n})],e.cols.slice(t.index+1))})})};r>0;){if("break"===a())break}return e}function u(e,t,n,s,c){void 0===c&&(c=!0);var l=e.cols[t],u=e.cols[n];if(c){var d=Object(i.e)(l);p(r.DEST)(s)>d&&(s=s>0?d:-d)}p(r.SOURCE)(s)<0&&f(r.SOURCE)(s,l,u)<l.minWidth&&(s=l.width-l.minWidth);var h=u?o.__assign({},u,{width:f(r.DEST)(s,l,u)}):void 0;if(!h&&p(r.SOURCE)(s)<0){var m=Object(a.e)(e);m-l.width+f(r.SOURCE)(s,l,u)<e.maxSize&&(s=e.maxSize-(m-l.width)-l.width-1)}var g=o.__assign({},l,{width:f(r.SOURCE)(s,l,u)}),v=e.cols.map(function(e,r){return r===t?g:r===n?h:e}).filter(Boolean);return{state:o.__assign({},e,{cols:v}),amount:s}}function d(e,t,n){for(var r=function(e,t,n){var r=e.cols;return n<0?r.slice(0,t):r.slice(t+1)}(e,t,n),a=function(){var a=function(e,t){if(0===e.length)return-1;"left"==(t<0?"left":"right")&&(e=e.slice().reverse());var n=-1;if(e.forEach(function(e){Object(i.e)(e)&&-1===n&&(n=e.index)}),-1===n)return-1;return n}(r,n);if(-1===a)return n>0?{value:{state:o.__assign({},e,{cols:o.__spread(e.cols.slice(0,t),[o.__assign({},e.cols[t],{width:e.cols[t].width+n})],e.cols.slice(t+1))}),remaining:n}}:"break";var s=r.find(function(e){return e.index===a});if(!s||Object(i.e)(s)<=0)return"break";var c=u(e,s.index,t,n);e=c.state,n-=c.amount,r=r.filter(function(e){return e.index!==a})};r.length&&n;){var s=a();if("object"==typeof s)return s.value;if("break"===s)break}return{state:e,remaining:n}}function p(e){return function(t){return e===r.SOURCE?t>0?-t:t:t<0?-t:t}}function f(e){return function(t,n,o){return(e===r.SOURCE?n:o).width+p(e)(t)}}!function(e){e.SOURCE="src",e.DEST="dest"}(r||(r={}))},Jnbn:function(e,t,n){"use strict";n.d(t,"e",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return l});var r=24,o=["center","wrap-left","wrap-right","align-start","align-end"],i=function(e){return o.indexOf(e)>-1};function a(e,t,n){return(t+r)/n*e-r}function s(e,t,n){return(e+r)*n/(t+r)}function c(e,t){return(t+r)*e-r}function l(e,t){return(e+r)/(t+r)}},Jr4s:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M12 18a1 1 0 0 1 0-2 1 1 0 0 1 0 2m-2-9a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/><path d="M15.89 8.048a3.971 3.971 0 0 0-2.951-2.94A4.005 4.005 0 0 0 8 9.087a.073.073 0 0 0 .009.008l1.878.022.112-.116A2.002 2.002 0 0 1 12 7c1.103 0 2 .897 2 2 0 1.102-.897 2-2 2h.008a1 1 0 0 0-.998.987v2.014a1 1 0 1 0 2 0v-.782c0-.217.145-.399.349-.472a3.991 3.991 0 0 0 2.53-4.699"/></g></svg>'},e))};s.displayName="QuestionIcon";var c=s;t.default=c},Juz6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("q1tI")),a=n("3q0R");function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={inView:!1},r.node=null,r.handleNode=function(e){r.node&&(0,a.unobserve)(r.node),r.node=e,r.observeNode(),r.props.innerRef&&r.props.innerRef(e)},r.handleChange=function(e){r.setState({inView:e}),r.props.onChange&&r.props.onChange(e)},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidUpdate",value:function(e,t){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold||((0,a.unobserve)(this.node),this.observeNode()),t.inView!==this.state.inView&&this.state.inView&&this.props.triggerOnce&&((0,a.unobserve)(this.node),this.node=null)}},{key:"componentWillUnmount",value:function(){this.node&&((0,a.unobserve)(this.node),this.node=null)}},{key:"observeNode",value:function(){if(this.node){var e=this.props,t=e.threshold,n=e.root,r=e.rootMargin,o=e.rootId;(0,a.observe)(this.node,this.handleChange,{threshold:t,root:n,rootMargin:r},o)}}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.render,o=e.tag,a=(e.innerRef,e.triggerOnce,e.threshold,e.root,e.rootId,e.rootMargin,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","render","tag","innerRef","triggerOnce","threshold","root","rootId","rootMargin"])),s=this.state.inView;return i.createElement(o,r({},a,{ref:this.handleNode}),"function"==typeof n?n(s):null,"function"==typeof t?t(s):t)}}]),t}();c.defaultProps={tag:"div",threshold:0,triggerOnce:!1},t.default=c},JyIQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("pkjM"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill="currentColor"><path d="M10 19h8V8h-8v11zM8 7.992C8 6.892 8.902 6 10.009 6h7.982C19.101 6 20 6.893 20 7.992v11.016c0 1.1-.902 1.992-2.009 1.992H10.01A2.001 2.001 0 0 1 8 19.008V7.992z"/><path d="M5 16V4.992C5 3.892 5.902 3 7.009 3H15v13H5zm2 0h8V5H7v11z"/></g></svg>'},e))};s.displayName="CopyIcon";var c=s;t.default=c},KN8i:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill="currentColor"><path d="M19.005 19c-.003 0-.005.002-.005.002l.005-.002zM5 19.006c0-.004-.002-.006-.005-.006H5v.006zM5 4.994V5v-.006zM19 19v-6h2v6.002A1.996 1.996 0 0 1 19.005 21H4.995A1.996 1.996 0 0 1 3 19.006V4.994C3 3.893 3.896 3 4.997 3H11v2H5v14h14zM5 4.994V5v-.006zm0 14.012c0-.004-.002-.006-.005-.006H5v.006zM11 5H5v14h14v-6h2v6.002A1.996 1.996 0 0 1 19.005 21H4.995A1.996 1.996 0 0 1 3 19.006V4.994C3 3.893 3.896 3 4.997 3H11v2zm8 0v3a1 1 0 0 0 2 0V4a1 1 0 0 0-1-1h-4a1 1 0 0 0 0 2h3z"/><path d="M12.707 12.707l8-8a1 1 0 1 0-1.414-1.414l-8 8a1 1 0 0 0 1.414 1.414z"/></g></svg>'},e))};s.displayName="ShortcutIcon";var c=s;t.default=c},KR3n:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M9.864 10.736c.77-.746 1.893-.536 2.72.265.826.8 1.043 1.888.273 2.634-1.816 1.76-5.482 2.002-4.765 1.207 1.587-1.76.578-2.949 1.772-4.106zM19.968 4.03c.402.378-3.1 4.732-4.427 5.98-.659.62-1.012.826-1.276 1.016-.115.082-.15-.027-.177-.076a3.743 3.743 0 0 0-.63-.801c-.236-.222-.607-.445-.867-.572-.053-.025-.169-.058-.08-.166.201-.249.421-.58 1.08-1.2 1.327-1.247 5.974-4.56 6.377-4.181zM18.38 19.946a1.033 1.033 0 0 1-.332.054.946.946 0 0 1-.913-.628c-.343-.957-1.14-1.642-2.257-1.933-2.182-.568-3.22-.264-5.053.995l-.16.11a9.341 9.341 0 0 1-1.049.644c-1.477.755-2.632.825-3.482.419-.586-.28-.989-.794-1.1-1.407-.254-1.403.93-2.647 2.602-3.156a.906.906 0 0 1 1.155.601.92.92 0 0 1-.62 1.186c-.33.1-.717.311-.978.533-.195.165-.33.355-.306.434.042.138.088.185.16.214.155.063.445.029.818-.096.164-.055.34-.126.524-.21.196-.088.348-.165.58-.287.076-.04.177-.11.445-.303 1.09-.784 1.802-1.198 2.845-1.52 1.562-.482 3.18-.39 4.802.272 1.399.57 2.399 1.589 2.883 2.94.174.483-.07.97-.564 1.138z" fill="currentColor"/></svg>'},e))};s.displayName="MediaServicesAnnotateIcon";var c=s;t.default=c},KTSs:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=300},KbTZ:function(e,t,n){"use strict";var r=function(){function e(){this.providers=new Map,this.subscribers=new Map}return e.create=function(t){var n=new e;return Object.keys(t).forEach(function(e){n.setProvider(e,t[e])}),n},e.prototype.destroy=function(){this.providers.clear(),this.subscribers.clear()},e.prototype.isEmpty=function(){return!this.providers.size&&!this.subscribers.size},e.prototype.setProvider=function(e,t){this.providers.get(e)!==t&&(t?this.providers.set(e,t):this.providers.delete(e),this.notifyUpdated(e,t))},e.prototype.removeProvider=function(e){this.providers.delete(e),this.notifyUpdated(e)},e.prototype.subscribe=function(e,t){var n=this.subscribers.get(e)||[];n.push(t),this.subscribers.set(e,n);var r=this.providers.get(e);r&&t(e,r)},e.prototype.unsubscribe=function(e,t){var n=this.subscribers.get(e);if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1),0===n.length?this.subscribers.delete(e):this.subscribers.set(e,n)}},e.prototype.unsubscribeAll=function(e){this.subscribers.get(e)&&this.subscribers.delete(e)},e.prototype.hasProvider=function(e){return this.providers.has(e)},e.prototype.notifyUpdated=function(e,t){var n=this.subscribers.get(e);n&&n.forEach(function(n){n(e,t)})},e}();t.a=r},KiAB:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});var r=n("/IjO"),o=n("mG1W");function i(e){var t,n=0,i=0,a=Object(o.findTable)(e);return a&&(n=(t=r.TableMap.get(a.node)).height,i=t.width),{table:a,map:t,totalRowCount:n,totalColumnCount:i}}function a(e){var t=1,n=1,r=1,a=i(e),s=a.table,c=a.map,l=a.totalRowCount,u=a.totalColumnCount;if(s&&c){var d=Object(o.getSelectionRect)(e);d&&(r=c.cellsInRect(d).length,t=d.right-d.left,n=d.bottom-d.top)}return{totalRowCount:l,totalColumnCount:u,horizontalCells:t,verticalCells:n,totalCells:r}}},KiBw:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var r=n("b/sn"),o=n("mG1W"),i=function(e){var t=e.selection,n=e.schema.nodes,r=n.extension,i=n.inlineExtension,a=n.bodiedExtension;return Object(o.isNodeSelection)(t)&&Object(o.findSelectedNodeOfType)([r,a,i])(t)?{node:t.node,pos:t.$from.pos}:Object(o.findParentNodeOfType)([r,i,a])(t)},a=function(e,t){return e instanceof r.NodeSelection&&(e.node.type===t.nodes.inlineExtension||e.node.type===t.nodes.extension||e.node.type===t.nodes.bodiedExtension)}},Kltz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M8 6h4.832C13.908 6 16 6.5 16 9c0 1.333-.333 2.167-1 2.5 1.333.333 2 1.333 2 3 0 .5 0 3.5-4 3.5H8a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 10h3.5c1 0 2-.25 2-1.5s-1.104-1.5-2-1.5H9v3zm0-4.975h3c.504 0 2 0 2-1.525S12 8 12 8H9v3.025z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorBoldIcon";var c=s;t.default=c},KlyT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.StemmingTokenizer=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._stemmingFunction=t,this._tokenizer=n}return r(e,[{key:"tokenize",value:function(e){return this._tokenizer.tokenize(e).map(this._stemmingFunction)}}]),e}()},Kxkh:function(e,t,n){"use strict";n.d(t,"d",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"f",function(){return p});var r=n("/IjO"),o=n("mG1W"),i=n("82gI"),a=n("SqtV"),s=function(e,t,n){var r=u(e,f),o=r<n?i.g:u(e,function(e){return function(t,n,r){if(r&&r>1)return p(t.width);var o=Object(a.a)(n,n).minWidth;return Math.max(d(o,t),o,e)}}(n));return{index:t,width:r<n?i.g:r,minWidth:o}},c=function(e){return Math.max(e.width-e.minWidth,0)},l=function(e,t,n,i){var a=r.TableMap.get(t),s=a.cellsInRect({left:e,right:e+1,top:0,bottom:a.height}),c=[];return s.forEach(function(e){var t=Object(o.findDomRefAtPos)(e+n,i);t&&c.push(t)}),c},u=function(e,t){var n=0,r=0;return e.forEach(function(e){var o=getComputedStyle(e),i=Number(e.getAttribute("colspan")||1);if(i>1)r=t(o,e,i);else if(o){var a=t(o,e,i);n=Math.max(a,n)}}),n||r},d=function(e,t){return e+p(t.paddingLeft)+p(t.paddingRight)},p=function(e){return e?parseInt(e,10):0};function f(e){return p(e.width)}},KzRO:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("JRPe"),o=Object(r.e)({unorderedList:{id:"fabric.editor.unorderedList",defaultMessage:"Bullet list",description:"A list with bullets. Also known as an unordered list"},unorderedListDescription:{id:"fabric.editor.unorderedList.description",defaultMessage:"Create an unordered list",description:""},orderedList:{id:"fabric.editor.orderedList",defaultMessage:"Numbered list",description:"A list with ordered items 1 2 3"},orderedListDescription:{id:"fabric.editor.orderedList.description",defaultMessage:"Create an ordered list",description:""},lists:{id:"fabric.editor.lists",defaultMessage:"Lists",description:"Menu shows ordered/bullet list and unordered/numbered lists"}})},"L+yh":function(e,t,n){"use strict";var r,o,i,a,s,c=n("mrSG"),l=n("q1tI"),u=n.n(l),d=n("+Jjp"),p=n.n(d),f=n("bAuU"),h=n.n(f),m=n("Wwog"),g=n("I7VN"),v={auto:[],top:["top","bottom","top"],right:["right","left","right"],bottom:["bottom","top","bottom"],left:["left","right","left"]},b=function(e){return v[e]},y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getModifiers=Object(m.a)(function(e){var n={flip:{enabled:!0,behavior:b(e.split("-")[0]),boundariesElement:"viewport"},hide:{enabled:!0},offset:{enabled:!0,offset:t.props.offset},preventOverflow:{enabled:!0,escapeWithReference:!1,boundariesElement:"window"}};return t.props.modifiers?Object(c.__assign)(Object(c.__assign)({},n),t.props.modifiers):n}),t}return Object(c.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.placement,n=e.children,r=e.referenceElement,o=this.getModifiers(this.props.placement);return u.a.createElement(g.b,Object(c.__assign)({positionFixed:!0,modifiers:o,placement:t},r?{referenceElement:r}:{}),n)},t.defaultProps={children:function(){return null},offset:"0, 8px",placement:"bottom-start"},t}(u.a.Component),w=n("1doi"),O=n("gxo2"),E=n("i1yl"),x=n("1wD3"),k=n("uqSJ"),C=n("7bep"),S=n("vOnD"),j=n("JaVE"),T=n("73wN"),M=Object(j.a)({light:T.N800,dark:T.DN0}),_=Object(j.a)({light:T.N0,dark:T.DN600}),I=S.default.div(o||(o=Object(c.__makeTemplateObject)(["\n  z-index: ",";\n  pointer-events: none;\n  position: fixed;\n"],["\n  z-index: ",";\n  pointer-events: none;\n  position: fixed;\n"])),O.m.tooltip),P=Object(S.default)(I)(i||(i=Object(c.__makeTemplateObject)(["\n  background-color: ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  color: ",";\n  font-size: 12px;\n  left: 0;\n  line-height: 1.3;\n  max-width: 240px;\n  padding: 2px 6px;\n  top: 0;\n  /* Edge does not support overflow-wrap */\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n  ",";\n"],["\n  background-color: ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  color: ",";\n  font-size: 12px;\n  left: 0;\n  line-height: 1.3;\n  max-width: 240px;\n  padding: 2px 6px;\n  top: 0;\n  /* Edge does not support overflow-wrap */\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n  ",";\n"])),M,O.f,_,function(e){return e.truncate?Object(S.css)(r||(r=Object(c.__makeTemplateObject)(["\n        max-width: 420px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      "],["\n        max-width: 420px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      "]))):""}),A=(S.default.div(a||(a=Object(c.__makeTemplateObject)(["\n  display: inline-block;\n"],["\n  display: inline-block;\n"]))),n("1w3K")),N={left:8,right:-8,top:0,bottom:0},R={bottom:-8,top:8,left:0,right:0},D=function(e,t){return function(n){return Object(c.__assign)(Object(c.__assign)({},function(e){return{transition:"transform "+e.enter+"ms cubic-bezier(0.23, 1, 0.32, 1), opacity "+e.enter+"ms linear",opacity:0}}(e)),function(e,t,n){return{entering:{transform:"translate3d("+N[n]+"px, "+R[n]+"px, 0)"},entered:{opacity:1},exiting:{opacity:0,transition:e.exit+"ms linear",transform:"translate3d("+N[n]/2+"px, "+R[n]/2+"px, 0)"}}[t]}(e,t,n))}},L=function(e){var t=e.children,n=e.immediatelyHide,r=e.immediatelyShow,o=e.onExited,i=e.in,a={enter:r?1:120,exit:n?1:80};return u.a.createElement(A.Transition,{timeout:a,in:i,onExited:o,unmountOnExit:!0,appear:!0},function(e){return t(D(a,e))})},z={action:"displayed",actionSubject:"tooltip",attributes:{componentName:"tooltip",packageName:C.a,packageVersion:C.b}},B={action:"hidden",actionSubject:"tooltip",attributes:{componentName:"tooltip",packageName:C.a,packageVersion:C.b}},F={capture:!0,passive:!0};function q(e){var t=e||{top:0,left:0};return{getBoundingClientRect:function(){return{top:t.top,left:t.left,bottom:t.top,right:t.left,width:0,height:0}},clientWidth:0,clientHeight:0}}var W=function(e,t){var n=s&&s.pending();return n&&s.flush(),h()(function(){return e(n)},n?0:t).cancel},U=function(e,t){return(s=h()(function(t){return e(t)},t)).cancel},H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cancelPendingSetState=function(){},t.state={immediatelyHide:!1,immediatelyShow:!1,isVisible:!1,renderTooltip:!1},t.handleWindowScroll=function(){t.state.isVisible&&(t.cancelPendingSetState(),t.setState({isVisible:!1,immediatelyHide:!0}))},t.handleMouseClick=function(){t.props.hideTooltipOnClick&&(t.cancelPendingSetState(),t.setState({isVisible:!1,immediatelyHide:!0}))},t.handleMouseDown=function(){t.props.hideTooltipOnMouseDown&&(t.cancelPendingSetState(),t.setState({isVisible:!1,immediatelyHide:!0}))},t.handleMouseOver=function(e){e.target!==t.wrapperRef&&(t.fakeMouseElement||(t.fakeMouseElement=q({left:e.clientX,top:e.clientY})),t.cancelPendingSetState(),Boolean(t.props.content)&&!t.state.isVisible&&(t.cancelPendingSetState=W(function(e){t.setState({isVisible:!0,renderTooltip:!0,immediatelyShow:e})},t.props.delay||0)))},t.handleMouseLeave=function(e){e.target!==t.wrapperRef&&(t.cancelPendingSetState(),t.state.isVisible&&(t.cancelPendingSetState=U(function(e){t.setState({isVisible:!1,immediatelyHide:e})},t.props.delay||0)))},t.handleMouseMove=function(e){t.state.renderTooltip||(t.fakeMouseElement=q({left:e.clientX,top:e.clientY}))},t}return Object(c.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.cancelPendingSetState(),this.removeScrollListener()},t.prototype.componentDidUpdate=function(e,t){!t.isVisible&&this.state.isVisible?(this.props.onShow&&this.props.onShow(),window.addEventListener("scroll",this.handleWindowScroll,F)):t.isVisible&&!this.state.isVisible&&(this.props.onHide&&this.props.onHide(),this.removeScrollListener())},t.prototype.removeScrollListener=function(){window.removeEventListener("scroll",this.handleWindowScroll,F)},t.prototype.render=function(){var e=this,t=this.props,n=t.children,r=t.content,o=t.position,i=t.mousePosition,a=t.truncate,s=t.component,l=t.tag,d=t.testId,f=this.state,h=f.isVisible,m=f.renderTooltip,g=f.immediatelyShow,v=f.immediatelyHide;return u.a.createElement(u.a.Fragment,null,l&&u.a.createElement(l,{onClick:this.handleMouseClick,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseLeave,onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,ref:function(t){e.wrapperRef=t}},u.a.createElement(p.a,{innerRef:function(t){e.targetRef=t}},u.a.Children.only(n))),m&&this.targetRef&&this.fakeMouseElement?u.a.createElement(w.a,{zIndex:O.m.tooltip()},u.a.createElement(y,{referenceElement:"mouse"===o?this.fakeMouseElement:this.targetRef,placement:"mouse"===o?i:o},function(t){var n=t.ref,o=t.style,i=t.placement;return s&&u.a.createElement(L,{immediatelyShow:g,immediatelyHide:v,onExited:function(){return e.setState({renderTooltip:!1})},in:h},function(e){return u.a.createElement(s,{innerRef:n,className:"Tooltip",style:Object(c.__assign)(Object(c.__assign)({},e(i)),o),truncate:a||!1,"data-testid":d},r)})})):null)},t.defaultProps={component:P,delay:300,mousePosition:"bottom",position:"bottom",tag:"div"},t}(u.a.Component),V=Object(E.a)("atlaskit");t.a=Object(x.a)({componentName:"tooltip",packageName:C.a,packageVersion:C.b})(Object(k.a)({onHide:B,onShow:V(Object(c.__assign)({},z))})(H))},"L/lg":function(e,t,n){"use strict";var r=n("mrSG"),o=n("q1tI"),i=n("C9Jq"),a=function(e){function t(t){var n=e.call(this,t)||this;return n.onMouseDown=function(){var e=n.props.onMouseDown;e&&e()},n.onBlur=function(e){var t=n.props.onBlur;t&&t(e)},n.handleChange=function(){var e=n.props.onChange;n.input&&n.setState({value:n.input.value}),e&&n.input&&e(n.input.value)},n.handleKeydown=function(e){13===e.keyCode&&n.props.onSubmit?(e.preventDefault(),n.props.onSubmit(n.input.value)):27===e.keyCode&&n.props.onCancel&&n.props.onCancel(),n.props.onKeyDown&&n.props.onKeyDown(e)},n.handleRef=function(e){e instanceof HTMLInputElement?(n.input=e,n.props.autoFocus&&window.setTimeout(function(){return e.focus()})):n.input=void 0},n.state={value:t.defaultValue||""},n}return r.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){e.defaultValue!==this.props.defaultValue&&this.setState({value:e.defaultValue})},t.prototype.render=function(){var e=this.props,t=e.placeholder,n=e.width,r=this.state.value;return o.createElement(i.a,{type:"text",placeholder:t,value:r,onChange:this.handleChange,onKeyDown:this.handleKeydown,onMouseDown:this.onMouseDown,onBlur:this.onBlur,innerRef:this.handleRef,width:n})},t.prototype.focus=function(){var e=this.input;e&&e.focus()},t}(o.PureComponent);t.a=a},L2qB:function(e,t,n){"use strict";var r=n("mrSG"),o=n("0iNy"),i=n("UkFC"),a=!1;function s(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];a&&console.log.apply(console,r.__spread([e],t))}n.d(t,"b",function(){return u}),n.d(t,"a",function(){return l});var c=function(){return{params:{},headers:{}}},l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.shouldHighlightMention=function(e){return!1},t.prototype.filter=function(e){throw new Error("not yet implemented.\nParams: query="+e)},t.prototype.recordMentionSelection=function(e){},t.prototype.isFiltering=function(e){return!1},t.prototype._notifyListeners=function(e,t){s("ak-mention-resource._notifyListeners",e&&e.mentions&&e.mentions.length,this.changeListeners),this.changeListeners.forEach(function(n,r){try{n(e.mentions.slice(0,20),e.query,t)}catch(e){s("error from listener '"+r+"', ignoring",e)}})},t.prototype._notifyAllResultsListeners=function(e){s("ak-mention-resource._notifyAllResultsListeners",e&&e.mentions&&e.mentions.length,this.changeListeners),this.allResultsListeners.forEach(function(t,n){try{t(e.mentions.slice(0,20),e.query)}catch(e){s("error from listener '"+n+"', ignoring",e)}})},t.prototype._notifyErrorListeners=function(e,t){this.errListeners.forEach(function(n,r){try{n(e,t)}catch(e){s("error from listener '"+r+"', ignoring",e)}})},t.prototype._notifyInfoListeners=function(e){this.infoListeners.forEach(function(t,n){try{t(e)}catch(e){s("error from listener '"+n+"', ignoring",e)}})},t}(function(){function e(){this.changeListeners=new Map,this.allResultsListeners=new Map,this.errListeners=new Map,this.infoListeners=new Map}return e.prototype.subscribe=function(e,t,n,r,o){t&&this.changeListeners.set(e,t),n&&this.errListeners.set(e,n),r&&this.infoListeners.set(e,r),o&&this.allResultsListeners.set(e,o)},e.prototype.unsubscribe=function(e){this.changeListeners.delete(e),this.errListeners.delete(e),this.infoListeners.delete(e),this.allResultsListeners.delete(e)},e}()),u=(function(e){function t(t){var n=e.call(this)||this;return n.verifyMentionConfig(t),n.config=t,n.lastReturnedSearch=0,n.activeSearches=new Set,n}r.__extends(t,e),t.prototype.shouldHighlightMention=function(e){return!!this.config.shouldHighlightMention&&this.config.shouldHighlightMention(e)},t.prototype.notify=function(e,t,n){e>this.lastReturnedSearch?(this.lastReturnedSearch=e,this._notifyListeners(t,{duration:Date.now()-e})):s("Stale search result, skipping",new Date(e).toISOString().substr(17,6),n);this._notifyAllResultsListeners(t)},t.prototype.notifyError=function(e,t){this._notifyErrorListeners(e,t),t&&this.activeSearches.delete(t)},t.prototype.filter=function(e,t){var n=this,r=Date.now();e?(this.activeSearches.add(e),this.search(e,t).mentions.then(function(t){n.notify(r,t,e)},function(t){return n.notifyError(t,e)})):this.initialState(t).then(function(t){return n.notify(r,t,e)},function(t){return n.notifyError(t,e)})},t.prototype.recordMentionSelection=function(e,t){return this.recordSelection(e,t).then(function(){},function(e){return s("error recording mention selection: "+e,e)})},t.prototype.isFiltering=function(e){return this.activeSearches.has(e)},t.prototype.resolveMentionName=function(e){return this.config.mentionNameResolver?this.config.mentionNameResolver.lookupName(e):{id:e,name:"",status:i.a.UNKNOWN}},t.prototype.cacheMentionName=function(e,t){this.config.mentionNameResolver&&this.config.mentionNameResolver.cacheName(e,t)},t.prototype.supportsMentionNameResolving=function(){return!!this.config.mentionNameResolver},t.prototype.updateActiveSearches=function(e){this.activeSearches.add(e)},t.prototype.verifyMentionConfig=function(e){if(!e.url)throw new Error("config.url is a required parameter");e.securityProvider||(e.securityProvider=c)},t.prototype.initialState=function(e){return this.remoteInitialState(e)},t.prototype.getQueryParams=function(e){var t={};return this.config.containerId&&(t.containerId=this.config.containerId),this.config.productId&&(t.productIdentifier=this.config.productId),r.__assign({},t,e)},t.prototype.remoteInitialState=function(e){var t=this,n={path:"bootstrap",queryParams:this.getQueryParams(e)};return o.b.requestService(this.config,n).then(function(e){return t.transformServiceResponse(e,"")})},t.prototype.search=function(e,t){return{mentions:this.remoteSearch(e,t)}},t.prototype.remoteSearch=function(e,t){var n=this,i={path:"search",queryParams:r.__assign({query:e,limit:100},this.getQueryParams(t))};return o.b.requestService(this.config,i).then(function(t){return n.transformServiceResponse(t,e)})},t.prototype.transformServiceResponse=function(e,t){var n=e.mentions.map(function(e){var n;return Object(i.d)(e)?n=e.userType:Object(i.i)(e)&&(n=e.userType),r.__assign({},e,{lozenge:n,query:t})});return r.__assign({},e,{mentions:n,query:e.query||t})},t.prototype.recordSelection=function(e,t){var n={path:"record",queryParams:r.__assign({selectedUserId:e.id},this.getQueryParams(t)),requestInit:{method:"POST"}};return o.b.requestService(this.config,n)}}(l),function(){}(),function(e){return!!(e&&e.supportsMentionNameResolving&&e.supportsMentionNameResolving())})},L6CB:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l});var r=n("q1tI"),o=n("vOnD"),i=n("gxo2"),a=n("Wogn");function s(e){switch(e){case a.a.M:return Object(i.j)()+2;case a.a.L:return Object(i.j)()+4;default:return Object(i.j)()}}function c(e){switch(e){case a.a.M:return 760;case a.a.L:return 850;default:return 680}}function l(e){var t=e.children,n=e.dynamicTextSizing;return r.createElement(a.b,null,function(e){var i=e.breakpoint;return r.createElement(o.ThemeProvider,{theme:{baseFontSize:s(n?i:a.a.S),layoutMaxWidth:c(n?i:a.a.S)}},r.createElement(r.Fragment,null,t))})}},L6cg:function(e,t,n){"use strict";var r=n("q1tI"),o=n("TSYQ"),i=n.n(o),a=n("L+yh"),s=n("WAI7"),c=n("Ntz7"),l=n("anbf");t.a=function(e){var t,n,o,u=e.shortName,d=e.size,p=void 0===d?c.f:d,f=e.showTooltip,h=e.representation;if(h&&p&&(Object(l.i)(h)||Object(l.l)(h))){var m=h.width,g=h.height;m&&g&&(n=p/g*m,o=p)}var v={fill:"f7f7f7",width:(n||p)+"px",height:(o||p)+"px"},b=((t={})[s.y]=!0,t[s.z]=!0,t),y=r.createElement("span",{"aria-label":u,className:i()(b),style:v});return f?r.createElement(a.a,{tag:"span",content:u},y):y}},L8cg:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return fetch("https://analytics.atlassian.com/analytics/events",{method:"POST",headers:{Accept:"application/json, */*","Content-Type":"application/json"},body:JSON.stringify(e)})}},LZbM:function(e,t){e.exports=function(){var e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(t,n,r){var o;return r=r||{},o="string"==typeof e[t]?e[t]:1===n?e[t].one:e[t].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"in "+o:o+" ago":o}}}},Lq2z:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M5 10V9h2v1H5zm4-5h1v2H9V5zm7.646 12.354l.708-.708 2 2-.708.708-2-2zM17 15v-1h2v1h-2zm-3 2h1v2h-1v-2zM7.354 6.646l-.708.708-2-2 .708-.708 2 2zm3.567 9.037l1.061-1.062a.75.75 0 1 1 1.06 1.061l-1.06 1.061a3.249 3.249 0 0 1-4.596 0 3.247 3.247 0 0 1 0-4.596l1.06-1.061.703-.703c.793-.63 1.773.35 1.06 1.06l-.702.703-1.06 1.062a1.747 1.747 0 0 0 0 2.474 1.749 1.749 0 0 0 2.474 0zm2.658-7.608l-1.061 1.061a.75.75 0 0 1-1.06-1.06l1.06-1.062a3.249 3.249 0 0 1 4.596 0 3.247 3.247 0 0 1 0 4.596l-1.06 1.062-.703.702c-.565.565-1.581-.45-1.06-1.06l.702-.703 1.06-1.061a1.747 1.747 0 0 0 0-2.475 1.749 1.749 0 0 0-2.474 0z" fill="currentColor"/></svg>'},e))};s.displayName="EditorUnlinkIcon";var c=s;t.default=c},M5Z1:function(e,t,n){"use strict";var r=n("ZNST"),o=n("i5k1").a.EMOJI_STANDARD_BASE_URL,i=Promise.resolve(new r.a({providers:[{url:"".concat(o,"standard"),securityProvider:function(){return{params:{maxVersion:"VERSION_9_0"}}}}]})),a=new(n("KbTZ").a);a.setProvider("emojiProvider",i);var s=n("yDO6"),c=n("BNRs"),l=new s.a(c.a,{disableBitbucketLinkStripping:!0}),u=new(n("4p0z").a),d=n("xc5p"),p=n("q1tI"),f=n.n(p),h=n("fw8x"),m=n("xAiV"),g=n("EEyq"),v={html:l},b=function(e){var t=e.src,n=e.format,r=Object(h.b)(),o=Object(m.a)();Object(p.useEffect)(function(){e.areProfileCardsEnabled&&a.setProvider("profilecardProvider",Object(g.a)({intl:r}))},[]);var i=function(e){return u.encode(e)}((v[n]||v.html).parse(t));return f.a.createElement(d.a,{schema:c.a,dataProviders:a,document:i,portal:o})};n.d(t,"b",function(){return a}),n.d(t,"a",function(){return b})},MCLT:function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},o=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(e).replace(o,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),c=r[n];n<i;c=r[++n])m(c)||!w(c)?a+=" "+c:a+=" "+s(c);return a},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var i,a={};function s(e,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),u(r,e,r.depth)}function c(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function l(e,t){return e}function u(e,n,r){if(e.customInspect&&n&&x(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return v(o)||(o=u(e,o,r)),o}var i=function(e,t){if(b(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(g(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(i)return i;var a=Object.keys(n),s=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),E(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(n);if(0===a.length){if(x(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(y(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(O(n))return e.stylize(Date.prototype.toString.call(n),"date");if(E(n))return d(n)}var l,w="",k=!1,C=["{","}"];(f(n)&&(k=!0,C=["[","]"]),x(n))&&(w=" [Function"+(n.name?": "+n.name:"")+"]");return y(n)&&(w=" "+RegExp.prototype.toString.call(n)),O(n)&&(w=" "+Date.prototype.toUTCString.call(n)),E(n)&&(w=" "+d(n)),0!==a.length||k&&0!=n.length?r<0?y(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),l=k?function(e,t,n,r,o){for(var i=[],a=0,s=t.length;a<s;++a)j(t,String(a))?i.push(p(e,t,n,r,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(p(e,t,n,r,o,!0))}),i}(e,n,r,s,a):a.map(function(t){return p(e,n,r,s,t,k)}),e.seen.pop(),function(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(l,w,C)):C[0]+w+C[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,o,i){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),j(r,o)||(a="["+o+"]"),s||(e.seen.indexOf(c.value)<0?(s=m(n)?u(e,c.value,null):u(e,c.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),b(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function f(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function v(e){return"string"==typeof e}function b(e){return void 0===e}function y(e){return w(e)&&"[object RegExp]"===k(e)}function w(e){return"object"==typeof e&&null!==e}function O(e){return w(e)&&"[object Date]"===k(e)}function E(e){return w(e)&&("[object Error]"===k(e)||e instanceof Error)}function x(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(b(i)&&(i=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=h,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=b,t.isRegExp=y,t.isObject=w,t.isDate=O,t.isError=E,t.isFunction=x,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n("1gqn");var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function j(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,n;console.log("%s - %s",(e=new Date,n=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":"),[e.getDate(),S[e.getMonth()],n].join(" ")),t.format.apply(t,arguments))},t.inherits=n("P7XM"),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var T="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function M(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(T&&e[T]){var t;if("function"!=typeof(t=e[T]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,T,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise(function(e,r){t=e,n=r}),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push(function(e,r){e?n(e):t(r)});try{e.apply(this,o)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),T&&Object.defineProperty(t,T,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=T,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};t.apply(this,n).then(function(t){e.nextTick(a,null,t)},function(t){e.nextTick(M,t,a)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n("8oxB"))},MFod:function(e,t,n){"use strict";var r=n("lwsE"),o=n.n(r),i=n("W8MJ"),a=n.n(i),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),u=n.n(l),d=n("7W2i"),p=n.n(d),f=n("PJYZ"),h=n.n(f),m=n("lSNA"),g=n.n(m),v=n("q1tI"),b=n.n(v),y=n("4R/P"),w=n("jDAM"),O=n("grSP"),E=function(e){function t(){return o()(this,t),c()(this,u()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.isVisible,r=e.children,o=e.onToggle,i=e.width;return b.a.createElement(w.b,{isVisible:n,style:{width:"".concat(i,"px")}},t&&b.a.createElement(O.a,{appearance:"subtle",iconBefore:t,onClick:o}),r)}}]),t}(v.PureComponent);g()(E,"defaultProps",{children:[]});var x=function(e){function t(){return o()(this,t),c()(this,u()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"render",value:function(){var e=this.props,t=e.isVisible,n=e.children,r=e.width;return b.a.createElement(w.c,{isVisible:t,style:{width:"".concat(r,"px")}},n)}}]),t}(v.PureComponent);g()(x,"defaultProps",{children:[]});var k=n("Eac2");function C(e,t){return function(n,r,o){var i=o.length-r;return b.a.createElement(w.e,{key:"".concat(e,"-").concat(r),onClick:"expanded"===e?y.a:t,style:{zIndex:i}},n)}}n.d(t,"a",function(){return S});var S=function(e){function t(){var e,n;o()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(h()(h()(n)),"state",{isCollapsed:n.props.isCollapsed,shouldAnimate:!0,width:n.props.isCollapsed?n.props.collapsedWidth:n.props.expandedWidth}),g()(h()(h()(n)),"handleToggleSidebar",function(){n.toggleSidebar()}),g()(h()(h()(n)),"handleResize",function(e){n.setState(function(t){var r=n.props,o=r.collapsedWidth,i=r.maxExpandedWidth,a=r.minExpandedWidth,s=t.width+e,c=s<a;return s>i&&(s=i),s<o&&(s=o),{isCollapsed:c,shouldAnimate:!1,width:s}})}),g()(h()(h()(n)),"handleResizeComplete",function(){n.setState(function(e){var t=e.width,r=n.props,o=r.collapsedWidth;return{shouldAnimate:!0,width:t<r.minExpandedWidth?o:t}},n.fireOnResize)}),n}return p()(t,e),a()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.isCollapsed!==e.isCollapsed&&this.toggleSidebar(e.isCollapsed)}},{key:"fireOnResize",value:function(){var e=this.state,t=e.isCollapsed,n=e.width;this.props.onResize({isCollapsed:t,width:n})}},{key:"toggleSidebar",value:function(e){var t=this;this.setState(function(n){var r=t.props,o=r.collapsedWidth,i=r.expandedWidth,a=void 0!==e?e:!n.isCollapsed;return{isCollapsed:a,width:a?o:i}},this.fireOnResize)}},{key:"render",value:function(){var e=this.state.isCollapsed,t=this.props,n=t.toggleButtonCollapseLabel,r=t.toggleButtonExpandLabel,o=t.ariaLabel;return b.a.createElement(w.f,{"aria-label":o},b.a.createElement(w.h,null,b.a.createElement(w.a,{"aria-label":e?r:n,"aria-expanded":!e,isCollapsed:e,onClick:this.handleToggleSidebar,role:"button"}),this.props.resizable?b.a.createElement(k.a,{onClick:this.handleToggleSidebar,onResize:this.handleResize,onResizeComplete:this.handleResizeComplete}):null),b.a.createElement(w.d,{tabIndex:-1,shouldAnimate:this.state.shouldAnimate,style:{width:this.state.width}},b.a.createElement(w.g,null,b.a.createElement(E,{isVisible:e,icon:this.props.icon,onToggle:this.handleToggleSidebar,width:this.state.width},this.props.collapsedContent.map(C("collapsed",this.handleToggleSidebar))),b.a.createElement(x,{isVisible:!e,width:this.state.width},this.props.expandedContent.map(C("expanded"))))))}}]),t}(v.PureComponent);g()(S,"defaultProps",{collapsedContent:[],collapsedWidth:64,expandedContent:[],expandedWidth:264,isCollapsed:!1,maxExpandedWidth:800,minExpandedWidth:200,onResize:function(){},resizable:!0})},MGaF:function(e,t,n){"use strict";n.d(t,"a",function(){return v}),n.d(t,"b",function(){return w});var r,o=n("mrSG"),i=n("vOnD"),a=n("b0Qh"),s=n("JaVE"),c=n("gxo2"),l=n("FPHD"),u=n("5oxn"),d={info:a.colors.B50,note:a.colors.P50,tip:a.colors.G50,success:a.colors.G50,warning:a.colors.Y50,error:a.colors.R50},p={info:a.colors.B500,note:a.colors.P500,tip:a.colors.G500,success:a.colors.G500,warning:a.colors.Y500,error:a.colors.R500},f={info:a.colors.B400,note:a.colors.P400,tip:a.colors.G400,success:a.colors.G400,warning:a.colors.Y400,error:a.colors.R400},h={info:a.colors.B400,note:a.colors.P400,tip:a.colors.G400,success:a.colors.G400,warning:a.colors.Y400,error:a.colors.R400},m={info:a.colors.B100,note:a.colors.P100,tip:a.colors.G200,success:a.colors.G200,warning:a.colors.Y100,error:a.colors.R200},g={info:a.colors.B75,note:a.colors.P75,tip:a.colors.G75,success:a.colors.G75,warning:a.colors.Y75,error:a.colors.R75},v={PANEL_CONTAINER:"ak-editor-panel"},b=function(e){return function(t){var n=h[e],r=m[e];return"\n    color: "+Object(s.a)({light:n,dark:r})(t)+";\n  "}},y=function(e){return function(t){var n=d[e],r=Object(l.a)(p[e],.64),o=g[e],i=Object(s.a)({light:n,dark:r})(t),a="1px solid "+f[e];return"\n    background-color: "+i+";\n    border: "+Object(s.a)({light:"none",dark:a})(t)+";\n    color: "+Object(s.a)({light:"inherit",dark:o})(t)+";\n  "}},w=Object(i.css)(r||(r=o.__makeTemplateObject(["\n  ."," {\n    border-radius: ","px;\n    margin: ","px 0;\n    padding: ","px;\n    min-width: ","px;\n    display: flex;\n    align-items: baseline;\n    word-break: break-word;\n\n    ","\n\n    .ak-editor-panel__icon {\n      display: block;\n      flex-shrink: 0;\n      height: ","px;\n      width: ","px;\n      box-sizing: content-box;\n      padding-right: ","px;\n      ","\n\n      > span {\n        vertical-align: middle;\n        display: inline;\n      }\n    }\n\n    .ak-editor-panel__content {\n      margin: 1px 0 1px;\n      flex: 1 0 0;\n    }\n\n    &[data-panel-type='note'] {\n      ","\n\n      .ak-editor-panel__icon {\n        ","\n      }\n    }\n\n    &[data-panel-type='tip'] {\n      ","\n\n      .ak-editor-panel__icon {\n        ","\n      }\n    }\n\n    &[data-panel-type='warning'] {\n      ","\n\n      .ak-editor-panel__icon {\n        ","\n      }\n    }\n\n    &[data-panel-type='error'] {\n      ","\n\n      .ak-editor-panel__icon {\n        ","\n      }\n    }\n\n    &[data-panel-type='success'] {\n      ","\n\n      .ak-editor-panel__icon {\n        ","\n      }\n    }\n\n    /* Danger when top level node */\n    &.danger {\n      box-shadow: inset 0px 0px 0px ","px\n        ",";\n      background: "," !important;\n\n      .ak-editor-panel__icon {\n        color: "," !important;\n      }\n    }\n  }\n\n  /* Danger when nested node */\n  & .danger ."," {\n    background: rgb(255, 189, 173, 0.5) !important; /* R75 with 50% opactiy */\n\n    .ak-editor-panel__icon {\n      color: "," !important;\n    }\n  }\n"],["\n  ."," {\n    border-radius: ","px;\n    margin: ","px 0;\n    padding: ","px;\n    min-width: ","px;\n    display: flex;\n    align-items: baseline;\n    word-break: break-word;\n\n    ","\n\n    .ak-editor-panel__icon {\n      display: block;\n      flex-shrink: 0;\n      height: ","px;\n      width: ","px;\n      box-sizing: content-box;\n      padding-right: ","px;\n      ","\n\n      > span {\n        vertical-align: middle;\n        display: inline;\n      }\n    }\n\n    .ak-editor-panel__content {\n      margin: 1px 0 1px;\n      flex: 1 0 0;\n    }\n\n    &[data-panel-type='note'] {\n      ","\n\n      .ak-editor-panel__icon {\n        ","\n      }\n    }\n\n    &[data-panel-type='tip'] {\n      ","\n\n      .ak-editor-panel__icon {\n        ","\n      }\n    }\n\n    &[data-panel-type='warning'] {\n      ","\n\n      .ak-editor-panel__icon {\n        ","\n      }\n    }\n\n    &[data-panel-type='error'] {\n      ","\n\n      .ak-editor-panel__icon {\n        ","\n      }\n    }\n\n    &[data-panel-type='success'] {\n      ","\n\n      .ak-editor-panel__icon {\n        ","\n      }\n    }\n\n    /* Danger when top level node */\n    &.danger {\n      box-shadow: inset 0px 0px 0px ","px\n        ",";\n      background: "," !important;\n\n      .ak-editor-panel__icon {\n        color: "," !important;\n      }\n    }\n  }\n\n  /* Danger when nested node */\n  & .danger ."," {\n    background: rgb(255, 189, 173, 0.5) !important; /* R75 with 50% opactiy */\n\n    .ak-editor-panel__icon {\n      color: "," !important;\n    }\n  }\n"])),v.PANEL_CONTAINER,Object(c.f)(),Object(u.H)(1.142),Object(c.l)(),u.v,y("info"),3*Object(c.l)(),3*Object(c.l)(),Object(c.l)(),b("info"),y("note"),b("note"),y("tip"),b("tip"),y("warning"),b("warning"),y("error"),b("error"),y("success"),b("success"),u.g,u.e,u.d,u.h,v.PANEL_CONTAINER,u.h)},McWf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M17.222 11.557L12.11 16.64a3.012 3.012 0 0 1-4.238.004 2.97 2.97 0 0 1 .002-4.21L13.339 7a1.75 1.75 0 0 1 2.472-.002c.683.679.684 1.775.002 2.452l-5.126 5.095a.493.493 0 0 1-.699-.007.488.488 0 0 1 0-.701l4.764-4.735a.74.74 0 0 0 0-1.052.752.752 0 0 0-1.058 0L8.93 12.785a1.97 1.97 0 0 0 0 2.805c.781.777 2.038.78 2.816.007l5.126-5.094a3.206 3.206 0 0 0-.003-4.557 3.253 3.253 0 0 0-4.589.002l-5.466 5.433a4.451 4.451 0 0 0-.001 6.314 4.516 4.516 0 0 0 6.355-.004l5.113-5.081a.74.74 0 0 0 0-1.053.752.752 0 0 0-1.059 0z" fill="currentColor"/></svg>'},e))};s.displayName="EditorAttachmentIcon";var c=s;t.default=c},Mhoe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=(r=n("zdCk"))&&"object"==typeof r&&"default"in r?r.default:r,i=n("uSMm"),a=n("b/sn"),s=function(e,t){this.items=e,this.eventCount=t};s.prototype.popEvent=function(e,t){var n=this;if(0==this.eventCount)return null;for(var r,o,i=this.items.length;;i--){if(n.items.get(i-1).selection){--i;break}}t&&(r=this.remapping(i,this.items.length),o=r.maps.length);var a,l,u=e.tr,d=[],p=[];return this.items.forEach(function(e,t){if(!e.step)return r||(r=n.remapping(i,t+1),o=r.maps.length),o--,void p.push(e);if(r){p.push(new c(e.map));var f,h=e.step.map(r.slice(o));h&&u.maybeStep(h).doc&&(f=u.mapping.maps[u.mapping.maps.length-1],d.push(new c(f,null,null,d.length+p.length))),o--,f&&r.appendMap(f,o)}else u.maybeStep(e.step);return e.selection?(a=r?e.selection.map(r.slice(o)):e.selection,l=new s(n.items.slice(0,i).append(p.reverse().concat(d)),n.eventCount-1),!1):void 0},this.items.length,0),{remaining:l,transform:u,selection:a}},s.prototype.addTransform=function(e,t,n,r){for(var o=[],i=this.eventCount,a=this.items,l=!r&&a.length?a.get(a.length-1):null,d=0;d<e.steps.length;d++){var p,f=e.steps[d].invert(e.docs[d]),h=new c(e.mapping.maps[d],f,t);(p=l&&l.merge(h))&&(h=p,d?o.pop():a=a.slice(0,a.length-1)),o.push(h),t&&(i++,t=null),r||(l=h)}var m,g,v,b=i-n.depth;return b>u&&(g=b,(m=a).forEach(function(e,t){if(e.selection&&0==g--)return v=t,!1}),a=m.slice(v),i-=b),new s(a.append(o),i)},s.prototype.remapping=function(e,t){var n=new i.Mapping;return this.items.forEach(function(t,r){var o=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?o=n.maps.length-t.mirrorOffset:null;n.appendMap(t.map,o)},e,t),n},s.prototype.addMaps=function(e){return 0==this.eventCount?this:new s(this.items.append(e.map(function(e){return new c(e)})),this.eventCount)},s.prototype.rebased=function(e,t){if(!this.eventCount)return this;var n=[],r=Math.max(0,this.items.length-t),o=e.mapping,i=e.steps.length,a=this.eventCount;this.items.forEach(function(e){e.selection&&a--},r);var l=t;this.items.forEach(function(t){var r=o.getMirror(--l);if(null!=r){i=Math.min(i,r);var s=o.maps[r];if(t.step){var u=e.steps[r].invert(e.docs[r]),d=t.selection&&t.selection.map(o.slice(l+1,r));d&&a++,n.push(new c(s,u,d))}else n.push(new c(s))}},r);for(var u=[],d=t;d<i;d++)u.push(new c(o.maps[d]));var p=this.items.slice(0,r).append(u).append(n),f=new s(p,a);return f.emptyItemCount()>500&&(f=f.compress(this.items.length-n.length)),f},s.prototype.emptyItemCount=function(){var e=0;return this.items.forEach(function(t){t.step||e++}),e},s.prototype.compress=function(e){void 0===e&&(e=this.items.length);var t=this.remapping(0,e),n=t.maps.length,r=[],i=0;return this.items.forEach(function(o,a){if(a>=e)r.push(o),o.selection&&i++;else if(o.step){var s=o.step.map(t.slice(n)),l=s&&s.getMap();if(n--,l&&t.appendMap(l,n),s){var u=o.selection&&o.selection.map(t.slice(n));u&&i++;var d,p=new c(l.invert(),s,u),f=r.length-1;(d=r.length&&r[f].merge(p))?r[f]=d:r.push(p)}}else o.map&&n--},this.items.length,0),new s(o.from(r.reverse()),i)},s.empty=new s(o.empty,0);var c=function(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r};c.prototype.merge=function(e){if(this.step&&e.step&&!e.selection){var t=e.step.merge(this.step);if(t)return new c(t.getMap().invert(),t,this.selection)}};var l=function(e,t,n,r){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r},u=20;function d(e){var t=[];return e.forEach(function(e,n,r,o){return t.push(r,o)}),t}function p(e,t){if(!e)return null;for(var n=[],r=0;r<e.length;r+=2){var o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}function f(e,t,n,r){var o=g(t),i=v.get(t).spec.config,a=(r?e.undone:e.done).popEvent(t,o);if(a){var s=a.selection.resolve(a.transform.doc),c=(r?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),i,o),u=new l(r?c:a.remaining,r?a.remaining:c,null,0);n(a.transform.setSelection(s).setMeta(v,{redo:r,historyState:u}).scrollIntoView())}}var h=!1,m=null;function g(e){var t=e.plugins;if(m!=t){h=!1,m=t;for(var n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){h=!0;break}}return h}var v=new a.PluginKey("history"),b=new a.PluginKey("closeHistory");t.HistoryState=l,t.closeHistory=function(e){return e.setMeta(b,!0)},t.history=function(e){return e={depth:e&&e.depth||100,newGroupDelay:e&&e.newGroupDelay||500},new a.Plugin({key:v,state:{init:function(){return new l(s.empty,s.empty,null,0)},apply:function(t,n,r){return function(e,t,n,r){var o,i=n.getMeta(v);if(i)return i.historyState;n.getMeta(b)&&(e=new l(e.done,e.undone,null,0));var a=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(a&&a.getMeta(v))return a.getMeta(v).redo?new l(e.done.addTransform(n,null,r,g(t)),e.undone,d(n.mapping.maps[n.steps.length-1]),e.prevTime):new l(e.done,e.undone.addTransform(n,null,r,g(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new l(e.done.rebased(n,o),e.undone.rebased(n,o),p(e.prevRanges,n.mapping),e.prevTime):new l(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),p(e.prevRanges,n.mapping),e.prevTime);var c=e.prevTime<(n.time||0)-r.newGroupDelay||!a&&!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;var n=!1;return e.mapping.maps[0].forEach(function(e,r){for(var o=0;o<t.length;o+=2)e<=t[o+1]&&r>=t[o]&&(n=!0)}),n}(n,e.prevRanges),u=a?p(e.prevRanges,n.mapping):d(n.mapping.maps[n.steps.length-1]);return new l(e.done.addTransform(n,c?t.selection.getBookmark():null,r,g(t)),s.empty,u,n.time)}(n,r,t,e)}},config:e})},t.undo=function(e,t){var n=v.getState(e);return!(!n||0==n.done.eventCount||(t&&f(n,e,t,!1),0))},t.redo=function(e,t){var n=v.getState(e);return!(!n||0==n.undone.eventCount||(t&&f(n,e,t,!0),0))},t.undoDepth=function(e){var t=v.getState(e);return t?t.done.eventCount:0},t.redoDepth=function(e){var t=v.getState(e);return t?t.undone.eventCount:0}},Momi:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return void 0===e&&(e={width:"100%",height:"100%"}),{height:"number"==typeof e.height?e.height+"px":e.height,width:"number"==typeof e.width?e.width+"px":e.width}}},MqYR:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r,o=n("mrSG"),i=n("vOnD"),a=n("b0Qh"),s=Object(i.css)(r||(r=o.__makeTemplateObject(["\n  & hr {\n    border: none;\n    background-color: ",";\n    margin: 1.714em 0;\n    height: 2px;\n    border-radius: 1px;\n\n    &.ProseMirror-selectednode {\n      outline: none;\n      background-color: ",";\n    }\n  }\n"],["\n  & hr {\n    border: none;\n    background-color: ",";\n    margin: 1.714em 0;\n    height: 2px;\n    border-radius: 1px;\n\n    &.ProseMirror-selectednode {\n      outline: none;\n      background-color: ",";\n    }\n  }\n"])),a.colors.N30A,a.colors.B300)},N7ur:function(e,t,n){"use strict";var r=n("1M3H"),o=n.n(r),i=n("/IjO"),a=n("byeC"),s=n("b/sn"),c=n("QatU"),l=n("82ng"),u=n.n(l),d=function(e,t){e.block.ruler.before("paragraph","table",u.a,{alt:["paragraph","reference"]})},p=n("NFN2"),f=n("mrSG");function h(){var e=/!\[[^\]]*\]\([^)]+\)/g,t=["th_open","td_open","list_item_open"];return function(n){var r=function(e){var t=n.md.helpers.parseLinkDestination(e,e.indexOf("(")+1,e.length);if(t.ok){var r=n.md.normalizeLink(t.str);if(n.md.validateLink(r))return r}return""},o=function(e,t,r){if(!e||0===e.length)return[];var o=new n.Token("inline","",1);return o.content=e,o.children=[],f.__spread(t,[o],r)},i=[],a=n.tokens.reduce(function(a,s,c,l){if("inline"===s.type&&e.test(s.content)){for(var u=[],d=c-1,p=l[d],h=[];p&&p.level>0&&-1===t.indexOf(p.type);)u.unshift(p),p=l[--d];-1===t.indexOf(p.type)?u.unshift(p):d++;var m=u.map(function(e){return new n.Token(e.type.replace("_open","_close"),e.tag,-1)}).reverse(),g=s.content.match(e),v=s.content;g.forEach(function(e){var t,i,a,s=v.indexOf(e),c=v.substr(0,s);v=v.substr(s+e.length),h=f.__spread(h,o(c,u,m),(t=e,i=new n.Token("media_single_open","",1),(a=new n.Token("media","",0)).attrs=[["url",r(t)],["type","external"]],[i,a,new n.Token("media_single_close","",-1)]))}),v.length&&(h=f.__spread(h,o(v,u,m))),i=f.__spread(i,m.map(function(e){return e.type})),a=f.__spread(a.slice(0,d),h)}else-1!==i.indexOf(s.type)?i.splice(i.indexOf(s.type),1):a.push(s);return a},[]);return n.tokens=a,!0}}var m=function(e){e.core.ruler.before("inline","media",h())};var g={nodes:{blockquote:"blockquote",paragraph:"paragraph",rule:"hr",heading:["heading","lheading"],codeBlock:["code","fence"],listItem:"list",image:"image"},marks:{em:"emphasis",strong:"text",link:["link","autolink","reference","linkify"],strike:"strikethrough",code:"backticks"}},v={blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",attrs:function(e){return{href:e.attrGet("href"),title:e.attrGet("title")||null}}},hr:{node:"rule"},heading:{block:"heading",attrs:function(e){return{level:+e.tag.slice(1)}}},softbreak:{node:"hardBreak"},hardbreak:{node:"hardBreak"},code_block:{block:"codeBlock"},list_item:{block:"listItem"},bullet_list:{block:"bulletList"},ordered_list:{block:"orderedList",attrs:function(e){return{order:+e.attrGet("order")||1}}},code_inline:{mark:"code"},fence:{block:"codeBlock",attrs:function(e){return{language:e.info&&e.info.trim()||null}}},media_single:{block:"mediaSingle",attrs:function(){return{}}},media:{node:"media",attrs:function(e){return{url:e.attrGet("url"),type:"external"}}},emoji:{node:"emoji",attrs:function(e){return{shortName:":"+e.markup+":",text:e.content}}},table:{block:"table"},tr:{block:"tableRow"},th:{block:"tableHeader"},td:{block:"tableCell"},s:{mark:"strike"}},b=o()("zero",{html:!1,linkify:!0});b.enable(["entity","escape"]);var y=function(){function e(e,t){void 0===e&&(e=c.a),void 0===t&&(t=b),["nodes","marks"].forEach(function(n){for(var r in g[n])e[n][r]&&t.enable(g[n][r])}),e.nodes.table&&t.use(d),e.nodes.media&&e.nodes.mediaSingle&&t.use(m),this.markdownParser=new p.MarkdownParser(e,t,function(e,t){return Object.keys(t).reduce(function(n,r){var o=t[r],i=o.block||o.node,a=o.mark;return(i&&e.nodes[i]||a&&e.marks[a])&&(n[r]=o),n},{})}(e,v))}return e.prototype.encode=function(e){throw new Error("This is not implemented yet")},e.prototype.parse=function(e){return this.markdownParser.parse(e)},e}(),w=n("Y9st"),O=n("iVaR"),E=n("+80P"),x=n.n(E),k=n("l8Zf"),C=function(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))},S=function(e){return/^<\/a\s*>/i.test(e)},j=function(e){for(var t,n=e.tokens,r=new x.a,o=0,i=n.length;o<i;o++)if("inline"===n[o].type&&r.pretest(n[o].content))for(var a=n[o].children,s=0,c=a.length-1;c>=0;c--){var l=a[c];if("link_close"!==l.type){if("html_inline"===l.type&&(t=l.content,/^<a[>\s]/i.test(t)&&s>0&&s--,S(l.content)&&s++),!(s>0)&&"text"===l.type&&r.test(l.content)){var u=l.content,d=Object(k.d)(u);d.length||(d=r.match(u)||[]);for(var p=[],f=l.level,h=0,m=0;m<d.length;m++){var g=d[m].url,v=e.md.normalizeLink(g);if(e.md.validateLink(v)){var b=d[m].text;b=d[m].schema?"mailto:"!==d[m].schema||/^mailto:/i.test(b)?e.md.normalizeLinkText(b):e.md.normalizeLinkText("mailto:"+b).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+b).replace(/^http:\/\//,"");var y,w=d[m].index;if(w>h){var O=new e.Token("text","",0);O.content=u.slice(h,w),O.level=f,p.push(O)}(y=new e.Token("link_open","a",1)).attrs=[["href",v]],y.level=f++,y.markup="linkify",y.info="auto",p.push(y),(y=new e.Token("text","",0)).content=b,y.level=f,p.push(y),(y=new e.Token("link_close","a",-1)).level=--f,y.markup="linkify",y.info="auto",p.push(y),h=d[m].lastIndex}}if(h<u.length)(y=new e.Token("text","",0)).content=u.slice(h),y.level=f,p.push(y);n[o].children=a=C(a,c,p)}}else for(c--;a[c].level!==l.level&&"link_open"!==a[c].type;)c--}};function T(e){var t=e.clipboardData.getData("text/html");return function(e){return!!e&&!!e.match(/class=\"\s?author-d-.+"/gim)}(t)?"dropbox-paper":function(e){return!!e&&e.indexOf("urn:schemas-microsoft-com:office:word")>=0}(t)?"microsoft-word":function(e){return!!e&&e.indexOf("urn:schemas-microsoft-com:office:excel")>=0}(t)?"microsoft-excel":function(e){return!!e&&!!e.match(/id=\"docs-internal-guid-.+"/gim)}(t)?"google-docs":function(e){return!!e&&!!e.match(/data-sheets-.+=/gim)}(t)?"google-spreadsheets":function(e){return!!e&&e.indexOf('content="Cocoa HTML Writer"')>=0}(t)?"apple-pages":function(e){return!!e&&e.indexOf('data-pm-slice="')>=0}(t)?"fabric-editor":"uncategorized"}function M(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n=!0;return t.content.descendants(function(t){return n=n&&e.indexOf(t.type)>-1}),n}}function _(e,t){return function(n){var r=e.marks,o=r.code,i=r.link;if(!Array.isArray(t)||0===t.length)return n;var s=a.Slice.fromJSON(e,n.toJSON()||{});return s.content.descendants(function(e,n,r){return!(e.isText&&r&&r.isBlock)||(e.marks=f.__spread(e.marks&&!o.isInSet(t)&&e.marks.filter(function(e){return e.type===i})||[],r.type.allowedMarks(t).filter(function(e){return e.type!==i})),!1)}),s}}var I=n("t79S"),P=n("s7yy"),A=function(e){return e.type===e.type.schema.nodes.layoutSection||e.type===e.type.schema.nodes.layoutColumn};function N(e){var t=Object(P.d)(a.Fragment.from(e),function(e){return A(e)?e.content:e}),n=[];return t.forEach(function(e){return n.push(e)}),n}function R(e,t){return 0===t?N(e):e}function D(e,t,n){return t===n.childCount-1?N(e):e}var L=n("tQKV"),z=n("mG1W"),B=function(e){var t=e.type.schema;if(e.type===t.nodes.table){var n=[],r=t.nodes,o=r.tableCell,i=r.tableHeader;return e.descendants(function(e){return e.type!==o&&e.type!==i||n.push.apply(n,f.__spread(Object(z.flatten)(e,!1).map(function(e){return e.node}))),!0}),n}return e},F=function(e,t){return 0===t?B(e):e},q=function(e,t,n){return t===n.childCount-1?B(e):e},W=function(e,t){return e.openStart>=4&&e.openEnd>=4&&1===e.content.childCount&&e.content.firstChild.type===t.nodes.table?new a.Slice(Object(P.a)(e.content,B),e.openStart-3,e.openEnd-3):e.openStart>=4&&e.content.firstChild.type===t.nodes.table?new a.Slice(Object(P.a)(e.content,F),e.openStart-3,e.openEnd):e.openEnd>=4&&e.content.lastChild.type===t.nodes.table?new a.Slice(Object(P.a)(e.content,q),e.openStart,e.openEnd-3):e},U=n("BCfg"),H=function(e,t,n,r){return e.reduce(function(e,o){return t.has(o.type)?o.content?e.push(f.__assign({},o,{content:H(o.content,t)})):"text"===o.type?function(e,t){var n=t.text;if(n&&"text"===t.type)n.split("\n").reduce(function(e,n,r){return r>0&&e.push({type:"hardBreak"}),e.push(f.__assign({},t,{text:n})),e},e)}(e,o):e.push(o):o.content&&(r&&e.length>0&&function(e,t){if(!t)return!1;var n=t.nodes[e.type];return!!n&&n.isBlock}(o,n)&&e.push({type:"hardBreak"}),H(o.content,t).forEach(function(t){return e.push(t)})),e},[])},V=function(e,t,n,r){var o=e.toJSON();if(!o)return e;var i=o.content,s=H(i,t,n,r);return a.Slice.fromJSON(n,{content:s,openStart:e.openStart,openEnd:e.openEnd})},G=new Set(["text","emoji","mention","status","date","hardBreak"]);function K(e){return function(t){return V(t,G,e,!0)}}var $=n("Z5Sc"),J=n("Mhoe"),Y=n("vuj9"),Q=n("c6H0"),X=n("COqE"),Z=n("qa+B"),ee=n("hkcA");function te(e){return function(t,n){var r=t.schema,o=t.tr.selection,i=r.marks.code,a=r.nodes,c=a.decisionItem,l=a.decisionList,u=a.emoji,d=a.hardBreak,p=a.mention,f=a.paragraph,h=a.taskList,m=a.taskItem,g=a.text;if(!(c&&l&&h&&m&&Object(z.hasParentNodeOfType)([c,m])(t.selection)))return!1;var v=[Object(k.c)(r),K(r)],b=o.$head.marks(),y=Q.b.getState(t);o instanceof s.TextSelection&&Array.isArray(b)&&b.length>0&&M(f,g,u,p,d)(e)&&(!i.isInSet(b)||y.codeActive)&&v.push(_(r,o.$head.marks()));var w=X.k.apply(null,v)(e),O=Object(J.closeHistory)(t.tr).replaceSelection(w).scrollIntoView();return Object(Y.b)(t,O,ee.e.CLIPBOARD),n&&n(O),!0}}function ne(e,t){return function(t,n,r){if(r&&r.shiftKey){var o=Object(J.closeHistory)(t.tr);return o.replaceSelection(e),(t.storedMarks||[]).forEach(function(t){o.addMark(o.selection.from,o.selection.from+e.size,t)}),o.scrollIntoView(),n&&n(o),!0}return!1}}function re(e){return function(t,n){var r=t.schema,o=t.tr.selection,i=r.marks,a=i.code,c=i.link,l=r.nodes,u=l.bulletList,d=l.emoji,p=l.hardBreak,f=l.heading,h=l.listItem,m=l.mention,g=l.orderedList,v=l.paragraph,b=l.text;if(!(o instanceof s.TextSelection))return!1;var y=o.$head.marks();if(0===y.length)return!1;var w=Q.b.getState(t);if(a.isInSet(y)&&!w.codeActive)return!1;if(1===e.content.childCount&&e.content.firstChild.type===v&&1===e.content.firstChild.content.childCount&&e.content.firstChild.firstChild.type===b&&c.isInSet(y)&&1===y.length){var O=Object(J.closeHistory)(t.tr).replaceSelectionWith(e.content.firstChild.firstChild,!0).setStoredMarks(y).scrollIntoView();return Object(Y.b)(t,O,ee.e.CLIPBOARD),n&&n(O),!0}if(M(u,p,f,h,v,b,d,m,g)(e)){var E=_(r,y)(e);O=Object(J.closeHistory)(t.tr).replaceSelection(E).setStoredMarks(y).scrollIntoView();return Object(Y.b)(t,O,ee.e.CLIPBOARD),n&&n(O),!0}return!1}}function oe(e,t,n){if(n){var r=n.state.tr.selection,o=n.state.tr.replaceSelection(e),i=o.mapping.map(r.from,-1);return n.dispatch(o),n.dispatch(Object(J.closeHistory)(n.state.tr).replaceRangeWith(i,i+e.size,t).scrollIntoView()),!0}return!1}function ie(e,t,n){return function(r,o,i){var a=Object($.b)(r,e);return a?n&&n.resolveBeforeMacros&&n.resolveBeforeMacros.length?n.resolveBeforeMacros.indexOf(a.attrs.extensionKey)<0?oe(t,a,i):(function(e,t,n){return f.__awaiter(this,void 0,void 0,function(){return f.__generator(this,function(r){switch(r.label){case 0:return n.provider?[4,n.provider]:[2,!1];case 1:return[4,r.sent().resolve(e,t)];case 2:return[2,r.sent()]}})})}(e,"inline",n).then(function(e){if(!i)throw new Error("Missing view");var t=i.state,n=t.schema,r=t.tr,o=Object(Z.i)(n,e);if(!o)throw new Error("Received invalid ADF from CardProvider");i.dispatch(Object(Y.a)(r,o,n))}).catch(function(){return oe(t,a,i)}),!0):oe(t,a,i):!!a}}function ae(e){return function(t,n){var r=t.schema.nodes.codeBlock;if(e&&Object(z.hasParentNodeOfType)(r)(t.selection)){var o=Object(J.closeHistory)(t.tr);return o.scrollIntoView(),n&&n(o.insertText(e)),!0}return!1}}function se(e){return function(t,n,r){return!(!r||!function(e,t){var n=e.schema.nodes.media;return 1===t.content.childCount&&t.content.firstChild.type===n}(t,e))&&Object(O.b)(r,e.content.firstChild)}}function ce(e){return function(t,n){var r=Object(J.closeHistory)(t.tr);return r.replaceSelection(e),Object(Y.b)(t,r,ee.e.CLIPBOARD),n&&n(r.scrollIntoView()),!0}}function le(e){return function(t,n){var r=t.schema.nodes.codeBlock,o=t.tr;return function(e,t){return t.content.firstChild&&t.content.firstChild.marks.some(function(t){return t.type===e.schema.marks.code})}(t,e)&&function(e){var t=e.selection,n=t.$from.nodeBefore,r=t.from;n&&n.isText&&n.text.endsWith("`")&&e.delete(r-1,r)}(o),Object(J.closeHistory)(o),o.replaceSelection(e),o.setStoredMarks([]),o.selection.empty&&o.selection.$from.parent.type===r&&o.setSelection(s.TextSelection.near(o.selection.$from,1)),o.scrollIntoView(),n&&n(Object(Y.b)(t,o,ee.e.CLIPBOARD)),!0}}function ue(e){var t=[];return e.forEach(function(e){if(e.type===e.type.schema.nodes.codeBlock){var n=t[t.length-1];if(n&&n.type===e.type)return t.push((r=t.pop(),o=e,i=r.textContent+"\n"+o.textContent,r.type.create(r.attrs,r.type.schema.text(i))))}var r,o,i;return t.push(e)}),a.Fragment.from(t)}var de=function(e,t){if(1===e.content.childCount&&(e.openStart||e.openEnd)){var n=e.content.firstChild;if(n&&n.type===t.nodes.codeBlock&&n.textContent&&-1===n.textContent.indexOf("\n"))return new a.Slice(a.Fragment.from(t.text(n.textContent,[t.marks.code.create()])),0,0)}return e},pe={richText:"richText",plain:"plain",markdown:"markdown",binary:"binary"},fe={text:"text",url:"url",code:"code",mediaSingle:"mediaSingle",mediaCard:"mediaCard",tableCells:"tableCells",table:"table",mixed:"mixed",blockquote:"blockquote",blockCard:"blockCard",bodiedExtension:"bodiedExtension",bulletList:"bulletList",codeBlock:"codeBlock",decisionList:"decisionList",decisionItem:"decisionItem",extension:"extension",heading:"heading",orderedList:"orderedList",panel:"panel",rule:"rule",tableHeader:"tableHeader",tableRow:"tableRow",taskItem:"taskItem",uncategorized:"uncategorized"},he=n("w9Yk"),me=n("7UM5");function ge(e,t){return function(n){return function(r,o,i){return n(r,function(n){o&&(me.a.trackEvent(e,t),o(n))},i)}}}var ve={url:fe.url,paragraph:fe.text,bulletList:fe.bulletList,orderedList:fe.orderedList,heading:fe.heading,blockquote:fe.blockquote,codeBlock:fe.codeBlock,panel:fe.panel,rule:fe.rule,mediaSingle:fe.mediaSingle,table:fe.table,tableCells:fe.tableCells,tableHeader:fe.tableHeader,tableRow:fe.tableRow,decisionList:fe.decisionList,decisionItem:fe.decisionItem,taskList:fe.taskItem,extension:fe.extension,bodiedExtension:fe.bodiedExtension,blockCard:fe.blockCard},be={blockquote:ee.c.PASTE_BLOCKQUOTE,blockCard:ee.c.PASTE_BLOCK_CARD,bodiedExtension:ee.c.PASTE_BODIED_EXTENSION,bulletList:ee.c.PASTE_BULLET_LIST,codeBlock:ee.c.PASTE_CODE_BLOCK,decisionList:ee.c.PASTE_DECISION_LIST,extension:ee.c.PASTE_EXTENSION,heading:ee.c.PASTE_HEADING,mediaGroup:ee.c.PASTE_MEDIA_GROUP,mediaSingle:ee.c.PASTE_MEDIA_SINGLE,orderedList:ee.c.PASTE_ORDERED_LIST,panel:ee.c.PASTE_PANEL,rule:ee.c.PASTE_RULE,table:ee.c.PASTE_TABLE,tableCell:ee.c.PASTE_TABLE_CELL,tableHeader:ee.c.PASTE_TABLE_HEADER,tableRow:ee.c.PASTE_TABLE_ROW,taskList:ee.c.PASTE_TASK_LIST};function ye(e,t){return{action:ee.a.PASTED,actionSubject:ee.b.DOCUMENT,actionSubjectId:e,eventType:ee.d.TRACK,attributes:f.__assign({inputMethod:ee.e.KEYBOARD},t)}}function we(e,t,n,r){var o=t.clipboardData.getData("text/plain"),i=function(e){var t=e.state,n=t.selection,r=t.schema.nodes,o=r.paragraph,i=r.listItem,a=r.taskItem,s=r.decisionItem,c=Object(z.findParentNode)(function(e){return e.type!==o&&e.type!==i&&e.type!==a&&e.type!==s})(n);if(!c)return ee.c.PASTE_PARAGRAPH;var l=c.node.type,u=be[l.name];return u||ee.c.PASTE_PARAGRAPH}(e);if(r.asPlain)return function(e,t){return{action:ee.a.PASTED_AS_PLAIN,actionSubject:ee.b.DOCUMENT,actionSubjectId:e,eventType:ee.d.TRACK,attributes:{inputMethod:ee.e.KEYBOARD,pasteSize:t.length}}}(i,o);var a=T(t);if(r.type===pe.plain)return ye(i,{pasteSize:o.length,type:r.type,content:fe.text,source:a});var s=n.size,c=function(e,t){var n=e.schema,r=n.nodes.paragraph,o=n.marks.link,i=new Set;if(t.content.forEach(function(e){e.type===r&&0===e.content.size||(e.type===r&&e.rangeHasMark(0,e.nodeSize-2,o)?i.add("url"):i.add(e.type.name))}),i.size>1)return fe.mixed;if(0===i.size)return fe.uncategorized;var a=i.values().next().value,s=ve[a];return s||fe.uncategorized}(e.state,n);return ye(i,{type:r.type,pasteSize:s,content:c,source:a})}function Oe(e,t,n,r){var o=we(e,t,n,r);e.dispatch(Object(he.a)(e.state.tr,o))}function Ee(e,t,n,r){return Object(he.d)(function(){return we(e,t,n,r)})}var xe=function(e,t,n){return Object(X.E)(ne,Ee(e,t,n,{type:pe.plain,asPlain:!0}),ge("atlassian.editor.paste.alt",{source:T(t)}))(n,t)},ke=function(e,t,n,r){return Object(X.E)(te,ge("atlassian.fabric.action-decision.editor.paste"),Ee(e,t,n,{type:r}))(n)},Ce=function(e,t,n,r){return Object(X.E)(ae,Ee(e,t,n,{type:pe.plain}))(r)},Se=function(e,t,n,r){return Object(X.E)(se,ge("atlassian.editor.paste",{source:T(t)}),Ee(e,t,n,{type:r}))(n)},je=function(e,t,n,r){var o=ge("atlassian.editor.paste",{source:T(t)});return r===pe.markdown&&(o=ge("atlassian.editor.markdown")),Object(X.E)(re,o,Ee(e,t,n,{type:r}))(n)},Te=function(e,t,n){return Object(X.E)(ce,ge("atlassian.editor.markdown"),Ee(e,t,n,{type:pe.markdown}))(n)},Me=function(e,t,n){return Object(X.E)(le,ge("atlassian.editor.paste",{source:T(t)}),Ee(e,t,n,{type:pe.richText}))(n)};n.d(t,"b",function(){return Ie}),n.d(t,"a",function(){return Pe});var _e=new s.PluginKey("pastePlugin"),Ie=o()("zero",{html:!1});function Pe(e,t){var n=new y(e,Ie);return new s.Plugin({key:_e,props:{handlePaste:function(r,o,s){var c=o;if(!c.clipboardData)return!1;var l=c.clipboardData.getData("text/plain"),u=c.clipboardData.getData("text/html"),d=w.a(c),p=l&&!u,f=!!u;if(d){if(!u)return!0;c.stopPropagation()}var h,m=r.state,g=r.dispatch;return!!xe(r,c,s)(m,g,r)||(s=Object(O.e)(s,e)(m.selection),p&&(h=function(e,t,r){var o=n.parse(function(e){return e.replace(/(\[([^\]]+)\]\()?((https?|ftp):\/\/[^\s]+)/g,function(e){return e.match(/^(https?|ftp):\/\/[^\s]+$/)?"<"+e+">":e})}(e));if(o&&o.content)return new a.Slice(o.content,t,r)}(l,s.openStart,s.openEnd))&&ie(l,h,t)(m,g,r)?(Oe(r,c,h,{type:pe.markdown}),!0):!!ke(r,c,s,p?pe.plain:pe.richText)(m,g)||(!!Ce(r,c,s,l)(m,g)||(!!Se(r,c,s,d?pe.binary:pe.richText)(m,g,r)||(p&&h?!!je(r,c,h,pe.markdown)(m,g)||Te(r,c,h)(m,g):!!f&&(ie(l,s=Object(k.c)(m.schema)(s),t)(m,g,r)?(Oe(r,c,s,{type:pe.richText}),!0):(!Object(X.p)(m)&&function(e){var t=L.e.getState(e);return t&&t.pluginConfig.isHeaderRowRequired}(m)&&(s=Object(U.n)(s,m.schema)),Object(i.handlePaste)(r,null,s)?(Oe(r,c,s,{type:pe.richText}),!0):!!je(r,c,s,pe.richText)(m,g)||Me(r,c,s)(m,g)))))))},transformPasted:function(t){return t=function(e,t){return e.openStart&&e.openEnd&&1===e.content.childCount&&e.content.firstChild.type===t.nodes.layoutSection?new a.Slice(Object(P.a)(e.content,R),e.openStart-2,e.openEnd-2):(e.openStart&&e.content.firstChild.type===t.nodes.layoutSection&&(e=new a.Slice(Object(P.a)(e.content,R),e.openStart-2,e.openEnd)),e.openEnd&&e.content.lastChild.type===t.nodes.layoutSection&&(e=new a.Slice(Object(P.a)(e.content,D),e.openStart,e.openEnd-2)),e)}(t=W(t,e),e),t=function(e){return e=Object(P.e)(e,function(e){return e.isBlock&&!e.isTextblock?e.copy(ue(e.content)):e}),new a.Slice(ue(e.content),e.openStart,e.openEnd)}(t=Object(I.c)(t,e)),(t=de(t,e)).content.childCount&&t.content.lastChild.type===e.nodes.codeBlock&&(t=new a.Slice(t.content.append(a.Fragment.from(e.nodes.paragraph.createAndFill())),t.openStart,1)),t},transformPastedHTML:function(e){return e.indexOf('id="docs-internal-guid-')>=0&&(e=(e=e.replace(/white-space:pre/g,"")).replace(/white-space:pre-wrap/g,"")),e}}})}Ie.enable(["entity","escape","newline"]),Ie.use(function(e){return e.core.ruler.push("custom-linkify",j)})},NYRk:function(e,t,n){"use strict";var r=n("284h"),o=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.size=t.default=t.IconWrapper=void 0;var i=o(n("lSNA")),a=o(n("lwsE")),s=o(n("W8MJ")),c=o(n("a1gu")),l=o(n("Nsbk")),u=o(n("7W2i")),d=r(n("q1tI")),p=o(n("vOnD")),f=o(n("EcEN")),h=n("b0Qh"),m=n("eOH9"),g=function(e){return e.size?"height: ".concat(m.sizes[e.size],"; width: ").concat(m.sizes[e.size],";"):null},v=p.default.span.withConfig({displayName:"Icon__IconWrapper",componentId:"dyhwwi-0"})(["\n  "," color: ",";\n  display: inline-block;\n  fill: ",";\n  flex-shrink: 0;\n  line-height: 1;\n\n  > svg {\n    "," max-height: 100%;\n    max-width: 100%;\n    overflow: hidden;\n    pointer-events: none;\n    vertical-align: bottom;\n  }\n  /* Stop-color doesn't properly apply in chrome when the inherited/current color changes.\n   * We have to initially set stop-color to inherit (either via DOM attribute or an initial CSS\n   * rule) and then override it with currentColor for the color changes to be picked up.\n   */\n  stop {\n    stop-color: currentColor;\n  }\n"],g,function(e){return e.primaryColor||"currentColor"},function(e){return e.secondaryColor||h.colors.background},g);t.IconWrapper=v;var b=function(e){function t(){return(0,a.default)(this,t),(0,c.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,n=e.glyph,r=e.dangerouslySetGlyph,o=e.primaryColor,i=e.secondaryColor,a=e.size;return r?d.default.createElement(v,{primaryColor:o,secondaryColor:i,size:a,"aria-label":this.props.label,dangerouslySetInnerHTML:{__html:t.insertDynamicGradientID(r)}}):d.default.createElement(v,{primaryColor:o,secondaryColor:i,size:a,"aria-label":this.props.label},n?d.default.createElement(n,{role:"presentation"}):null)}}],[{key:"insertDynamicGradientID",value:function(e){var t=(0,f.default)();return e.replace(/id="([^"]+)-idPlaceholder"/g,"id=$1-".concat(t)).replace(/fill="url\(#([^"]+)-idPlaceholder\)"/g,'fill="url(#$1-'.concat(t,')"'))}}]),t}(d.Component);t.default=b;var y=Object.keys(m.sizes).reduce(function(e,t){return Object.assign(e,(0,i.default)({},t,t))},{});t.size=y},NmtT:function(e,t,n){var r=n("yHON"),o=n("yNUO"),i=n("4Toj"),a=n("F809"),s=n("Us+F"),c=1440,l=2520,u=43200,d=86400;e.exports=function(e,t,n){var p=n||{},f=r(e,t),h=p.locale,m=s.distanceInWords.localize;h&&h.distanceInWords&&h.distanceInWords.localize&&(m=h.distanceInWords.localize);var g,v,b={addSuffix:Boolean(p.addSuffix),comparison:f};f>0?(g=o(e),v=o(t)):(g=o(t),v=o(e));var y,w=i(v,g),O=v.getTimezoneOffset()-g.getTimezoneOffset(),E=Math.round(w/60)-O;if(E<2)return p.includeSeconds?w<5?m("lessThanXSeconds",5,b):w<10?m("lessThanXSeconds",10,b):w<20?m("lessThanXSeconds",20,b):w<40?m("halfAMinute",null,b):m(w<60?"lessThanXMinutes":"xMinutes",1,b):0===E?m("lessThanXMinutes",1,b):m("xMinutes",E,b);if(E<45)return m("xMinutes",E,b);if(E<90)return m("aboutXHours",1,b);if(E<c)return m("aboutXHours",Math.round(E/60),b);if(E<l)return m("xDays",1,b);if(E<u)return m("xDays",Math.round(E/c),b);if(E<d)return m("aboutXMonths",y=Math.round(E/u),b);if((y=a(v,g))<12)return m("xMonths",Math.round(E/u),b);var x=y%12,k=Math.floor(y/12);return x<3?m("aboutXYears",k,b):x<9?m("overXYears",k,b):m("almostXYears",k+1,b)}},Ntz7:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"k",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"n",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"h",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"j",function(){return d}),n.d(t,"i",function(){return p}),n.d(t,"l",function(){return f}),n.d(t,"m",function(){return h}),n.d(t,"e",function(){return m}),n.d(t,"g",function(){return g});var r="CUSTOM",o="FREQUENT",i="allUploadsCustomCategory",a="userUploadsCustomCategory",s="data:",c="delete-emoji",l=1e5,u=20,d=350,p=295,f="fabric.emoji",h=f+".selectedTone",m=["PEOPLE","NATURE","FOODS","ACTIVITY","PLACES","OBJECTS","SYMBOLS","FLAGS"],g=50},O1Kf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("b/sn"),o=function(e,t,n){this.step=e,this.inverted=t,this.origin=n};function i(e,t,n){for(var r=e.length-1;r>=0;r--)n.step(e[r].inverted);for(var i=0;i<t.length;i++)n.step(t[i]);for(var a=[],s=0,c=e.length;s<e.length;s++){var l=e[s].step.map(n.mapping.slice(c));c--,l&&!n.maybeStep(l).failed&&(n.mapping.setMirror(c,n.steps.length-1),a.push(new o(l,l.invert(n.docs[n.docs.length-1]),e[s].origin)))}return a}var a=function(e,t){this.version=e,this.unconfirmed=t};var s=new r.PluginKey("collab");t.rebaseSteps=i,t.collab=function(e){return void 0===e&&(e={}),e={version:e.version||0,clientID:null==e.clientID?Math.floor(4294967295*Math.random()):e.clientID},new r.Plugin({key:s,state:{init:function(){return new a(e.version,[])},apply:function(e,t){var n=e.getMeta(s);return n||(e.docChanged?new a(t.version,t.unconfirmed.concat(function(e){for(var t=[],n=0;n<e.steps.length;n++)t.push(new o(e.steps[n],e.steps[n].invert(e.docs[n]),e));return t}(e))):t)}},config:e,historyPreserveItems:!0})},t.receiveTransaction=function(e,t,n,o){for(var c=s.getState(e),l=c.version+t.length,u=s.get(e).spec.config.clientID,d=0;d<n.length&&n[d]==u;)++d;var p=c.unconfirmed.slice(d);if(!(t=d?t.slice(d):t).length)return e.tr.setMeta(s,new a(l,p));var f=p.length,h=e.tr;if(f)p=i(p,t,h);else{for(var m=0;m<t.length;m++)h.step(t[m]);p=[]}var g=new a(l,p);return o&&o.mapSelectionBackward&&e.selection instanceof r.TextSelection&&(h.setSelection(r.TextSelection.between(h.doc.resolve(h.mapping.map(e.selection.anchor,-1)),h.doc.resolve(h.mapping.map(e.selection.head,-1)),-1)),h.updated&=-2),h.setMeta("rebased",f).setMeta("addToHistory",!1).setMeta(s,g)},t.sendableSteps=function(e){var t=s.getState(e);return 0==t.unconfirmed.length?null:{version:t.version,steps:t.unconfirmed.map(function(e){return e.step}),clientID:s.get(e).spec.config.clientID,get origins(){return this._origins||(this._origins=t.unconfirmed.map(function(e){return e.origin}))}}},t.getVersion=function(e){return s.getState(e).version}},O7OB:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r,o=n("mrSG"),i=n("b0Qh"),a=n("gxo2"),s=n("vOnD"),c=n("5oxn"),l=Object(s.css)(r||(r=o.__makeTemplateObject(["\n  span.code {\n    font-size: ","px;\n    font-weight: normal;\n    padding: 2px 0px 2px 0px;\n    background-color: ",";\n    box-decoration-break: clone;\n    border-radius: 3px;\n    border-style: none;\n    font-family: ",";\n    white-space: pre-wrap;\n    margin: 0 4px 0 4px;\n    box-shadow: -4px 0 0 0 ",", 4px 0 0 0 ",";\n\n    &::before,\n    &::after {\n      vertical-align: text-top;\n      display: inline-block;\n      content: '';\n    }\n  }\n"],["\n  span.code {\n    font-size: ","px;\n    font-weight: normal;\n    padding: 2px 0px 2px 0px;\n    background-color: ",";\n    box-decoration-break: clone;\n    border-radius: 3px;\n    border-style: none;\n    font-family: ",";\n    white-space: pre-wrap;\n    margin: 0 4px 0 4px;\n    box-shadow: -4px 0 0 0 ",", 4px 0 0 0 ",";\n\n    &::before,\n    &::after {\n      vertical-align: text-top;\n      display: inline-block;\n      content: '';\n    }\n  }\n"])),Object(c.H)(.857),i.colors.N30A,Object(a.g)(),i.colors.N30A,i.colors.N30A)},OAeU:function(e,t,n){"use strict";var r=n("4c1C"),o=n("rRE7"),i=n("z6YP"),a=n("XlJg");t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=Number.POSITIVE_INFINITY,s=null,c=e[e.length-1];return i.isScheduler(c)?(s=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof c&&(n=e.pop()),null===s&&1===e.length&&e[0]instanceof r.Observable?e[0]:a.mergeAll(n)(new o.ArrayObservable(e,s))}},OG7Z:function(e,t,n){"use strict";var r=n("lwsE"),o=n.n(r),i=n("W8MJ"),a=n.n(i),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),u=n.n(l),d=n("7W2i"),p=n.n(d),f=n("PJYZ"),h=n.n(f),m=n("lSNA"),g=n.n(m),v=n("q1tI"),b=n.n(v),y=n("JRPe"),w=n("Dwss"),O=Object(y.e)({shortcutGroupTitle:{id:"frontbucket.keyboardShortcuts.sidebar.shortcutGroupTitle",defaultMessage:"Sidebar actions"},toggleSidebarShortcut:{id:"frontbucket.keyboardShortcuts.sidebar.toggleSidebarShortcut",defaultMessage:"Expand and collapse sidebar"}}),E=function(e){function t(){var e,n;o()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(h()(h()(n)),"shortcuts",[{id:"toggle-".concat(n.props.sidebarType,"-sidebar"),description:n.props.intl.formatMessage(O.toggleSidebarShortcut),handler:function(){n.props.toggleSidebar()},keys:"]"}]),n}return p()(t,e),a()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.intl,r=e.sidebarType;return b.a.createElement(w.a,{groupId:"".concat(r,"-sidebar"),groupTitle:n.formatMessage(O.shortcutGroupTitle),shortcuts:this.shortcuts},t)}}]),t}(v.PureComponent);t.a=Object(y.f)(E)},OLzN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TfIdfSearchIndex=void 0;var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("vFnS"),s=(r=a)&&r.__esModule?r:{default:r};t.TfIdfSearchIndex=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._uidFieldName=t,this._tokenToIdfCache={},this._tokenMap={}}return i(e,[{key:"indexDocument",value:function(e,t,n){this._tokenToIdfCache={};var r,i=this._tokenMap;"object"!==o(i[e])?i[e]=r={$numDocumentOccurrences:0,$totalNumOccurrences:1,$uidMap:{}}:(r=i[e]).$totalNumOccurrences++;var a=r.$uidMap;"object"!==o(a[t])?(r.$numDocumentOccurrences++,a[t]={$document:n,$numTokenOccurrences:1}):a[t].$numTokenOccurrences++}},{key:"search",value:function(e,t){for(var n={},r=0,i=e.length;r<i;r++){var a=e[r],s=this._tokenMap[a];if(!s)return[];if(0===r)for(var c=0,l=(u=Object.keys(s.$uidMap)).length;c<l;c++){n[d=u[c]]=s.$uidMap[d].$document}else{var u;for(c=0,l=(u=Object.keys(n)).length;c<l;c++){var d=u[c];"object"!==o(s.$uidMap[d])&&delete n[d]}}}var p=[];for(var d in n)p.push(n[d]);var f=this._createCalculateTfIdf();return p.sort(function(n,r){return f(e,r,t)-f(e,n,t)})}},{key:"_createCalculateIdf",value:function(){var e=this._tokenMap,t=this._tokenToIdfCache;return function(n,r){if(!t[n]){var o=void 0!==e[n]?e[n].$numDocumentOccurrences:0;t[n]=1+Math.log(r.length/(1+o))}return t[n]}}},{key:"_createCalculateTfIdf",value:function(){var e=this._tokenMap,t=this._uidFieldName,n=this._createCalculateIdf();return function(r,o,i){for(var a=0,c=0,l=r.length;c<l;++c){var u,d=r[c],p=n(d,i);p===1/0&&(p=0),u=t instanceof Array?o&&(0,s.default)(o,t):o&&o[t],a+=(void 0!==e[d]&&void 0!==e[d].$uidMap[u]?e[d].$uidMap[u].$numTokenOccurrences:0)*p}return a}}}]),e}()},OYD4:function(e,t,n){"use strict";var r=n("284h"),o=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.size=t.default=t.IconWrapper=void 0;var i=o(n("lSNA")),a=o(n("lwsE")),s=o(n("W8MJ")),c=o(n("a1gu")),l=o(n("Nsbk")),u=o(n("7W2i")),d=r(n("q1tI")),p=o(n("vOnD")),f=o(n("EcEN")),h=n("b0Qh"),m=n("/u8g"),g=function(e){return e.size?"height: ".concat(m.sizes[e.size],"; width: ").concat(m.sizes[e.size],";"):null},v=p.default.span.withConfig({displayName:"Icon__IconWrapper",componentId:"dyhwwi-0"})(["\n  "," color: ",";\n  display: inline-block;\n  fill: ",";\n  flex-shrink: 0;\n  line-height: 1;\n\n  > svg {\n    "," max-height: 100%;\n    max-width: 100%;\n    overflow: hidden;\n    pointer-events: none;\n    vertical-align: bottom;\n  }\n  /* Stop-color doesn't properly apply in chrome when the inherited/current color changes.\n   * We have to initially set stop-color to inherit (either via DOM attribute or an initial CSS\n   * rule) and then override it with currentColor for the color changes to be picked up.\n   */\n  stop {\n    stop-color: currentColor;\n  }\n"],g,function(e){return e.primaryColor||"currentColor"},function(e){return e.secondaryColor||h.colors.background},g);t.IconWrapper=v;var b=function(e){function t(){return(0,a.default)(this,t),(0,c.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,n=e.glyph,r=e.dangerouslySetGlyph,o=e.primaryColor,i=e.secondaryColor,a=e.size;return r?d.default.createElement(v,{primaryColor:o,secondaryColor:i,size:a,"aria-label":this.props.label,dangerouslySetInnerHTML:{__html:t.insertDynamicGradientID(r)}}):d.default.createElement(v,{primaryColor:o,secondaryColor:i,size:a,"aria-label":this.props.label},n?d.default.createElement(n,{role:"presentation"}):null)}}],[{key:"insertDynamicGradientID",value:function(e){var t=(0,f.default)();return e.replace(/id="([^"]+)-idPlaceholder"/g,"id=$1-".concat(t)).replace(/fill="url\(#([^"]+)-idPlaceholder\)"/g,'fill="url(#$1-'.concat(t,')"'))}}]),t}(d.Component);t.default=b;var y=Object.keys(m.sizes).reduce(function(e,t){return Object.assign(e,(0,i.default)({},t,t))},{});t.size=y},Oajm:function(e,t,n){"use strict";n.d(t,"x",function(){return C}),n.d(t,"l",function(){return S}),n.d(t,"q",function(){return j}),n.d(t,"r",function(){return T}),n.d(t,"g",function(){return M}),n.d(t,"h",function(){return _}),n.d(t,"n",function(){return I}),n.d(t,"d",function(){return P}),n.d(t,"s",function(){return A}),n.d(t,"w",function(){return N}),n.d(t,"k",function(){return R}),n.d(t,"j",function(){return D}),n.d(t,"a",function(){return L}),n.d(t,"c",function(){return z}),n.d(t,"m",function(){return B}),n.d(t,"o",function(){return F}),n.d(t,"p",function(){return q}),n.d(t,"b",function(){return W}),n.d(t,"i",function(){return U}),n.d(t,"u",function(){return H}),n.d(t,"f",function(){return V}),n.d(t,"v",function(){return G}),n.d(t,"t",function(){return K}),n.d(t,"e",function(){return $});var r=n("wTIg"),o=n("qKvR"),i=n("b0Qh"),a=n("gxo2"),s=i.colors.N300,c=i.colors.N10,l=i.colors.N30,u=i.colors.N40,d=i.colors.N300,p=i.colors.N0,f=i.colors.R50,h=i.colors.G50,m=i.colors.Y50,g=i.colors.Y75,v=i.colors.N30,b=Object(a.l)(),y=Object(a.g)(),w="".concat(12*(10*b),"px"),O=2.5*b,E={add:h,del:f,normal:p,empty:"repeating-linear-gradient(53deg, transparent, transparent 2px, ".concat(l," 3px, ").concat(l," 3px,transparent 4px)"),loaded:c},x={content:m,marker:g},k=function(e){return e.isActive?Object(o.e)("&&{background:",v,";}"):""},C=Object(r.a)("div",{target:"ei40axr0"})("border-bottom:1px solid ",l,";display:flex;padding:",b,"px;"),S=Object(r.a)("div",{target:"ei40axr1"})("display:flex;flex:1;background:",function(e){var t=e.conflictType,n=e.type;return t?x[t]:E[n]},";box-sizing:border-box;max-width:",w,";position:sticky;",function(e){var t=e.gutterWidth;return"left: ".concat(t,"px;")},";",k,""),j=Object(r.a)("div",{target:"ei40axr2"})("height:",O,"px;font-family:",y,";font-size:",1.5*b,"px;position:absolute;left:0;display:flex;justify-content:space-between;box-sizing:border-box;border-right:1px solid ",u,";padding:0 ",b,"px;line-height:",2*b,"px;background-color:",c,";color:",d,";z-index:1;",function(e){var t=e.gutterWidth;return"width: ".concat(t,"px;")}," ",k,""),T=Object(r.a)("span",{target:"ei40axr3"})("padding-right:",b,"px;user-select:none;"),M=Object(r.a)("pre",{target:"ei40axr4"})("height:",O,"px;line-height:",O,"px;font-family:",y,";font-size:",1.5*b,"px;margin:0;width:100%;box-sizing:border-box;padding:0 ",b,"px;&::after{content:'';display:inline-block;}del,ins{text-decoration:none;display:inline;padding:",(O-1.5*b-2)/2,"px 0;}del{background-color:",i.colors.R75,";}ins{background-color:",i.colors.G75,";}"),_=Object(r.a)("span",{target:"ei40axr5"})({name:"85dp5n",styles:"tab-size:6;display:inline-block;"}),I=Object(r.a)("div",{target:"ei40axr6"})("display:flex;",function(e){var t=e.gutterWidth;return"margin-left: -".concat(t,"px;")}," height:auto;> ",j,"{height:inherit;position:static;position:sticky;",function(e){var t=e.gutterWidth;return"flex: 0 0 ".concat(t,"px;")}," z-index:1;}"),P=Object(r.a)("div",{target:"ei40axr7"})(function(e){var t=e.gutterWidth;return"padding-left: ".concat(t,"px;")},";box-sizing:border-box;&:hover i,&:focus i{opacity:1;}max-height:",O+4,"px;&:not(:last-child){border-bottom:1px solid ",l,";}&:last-child{border-top:1px solid ",l,";}"),A=Object(r.a)("div",{target:"ei40axr8"})(function(e){var t=e.gutterWidth;return"padding-left: ".concat(t,"px;")},";box-sizing:border-box;background:",function(e){var t=e.conflictType,n=e.type;return t?x[t]:E[n]},";&:hover i,&:focus i{opacity:1;}",k,""),N=Object(r.a)("div",{target:"ei40axr9"})({name:"1fsfy4p",styles:"display:flex;& > div{width:50%;}"}),R=Object(r.a)("div",{target:"ei40axr10"})("display:flex;overflow-y:hidden;box-sizing:border-box;&:not(:last-child){border-right:1px solid ",u,";}& + &{border-left:none;}"),D=Object(r.a)("div",{target:"ei40axr11"})("width:100%;position:relative;display:flex;background-color:",p,";"),L=Object(r.a)("button",{target:"ei40axr12"})({name:"vbp9zz",styles:"background:none;display:inline-block;outline:none;padding:0;border:0;position:absolute;z-index:2;margin-left:-9px;margin-top:2px;opacity:0;cursor:pointer;&:focus,&:hover{opacity:1;}"}),z=Object(r.a)("div",{target:"ei40axr13"})("height:",O,"px;box-sizing:border-box;line-height:",O,"px;min-height:",O,"px;padding:0 ",b,"px;background-color:",c,";color:",s,";font-family:",y,";font-size:",1.5*b,"px;white-space:nowrap;"),B=Object(r.a)("div",{target:"ei40axr14"})("background-color:",p,";border:1px solid ",l,";border-radius:",Object(a.f)(),"px;flex:auto;margin:",b,"px;padding:",b,"px;"),F=Object(r.a)("div",{target:"ei40axr15"})("display:inline-block;line-height:",O,"px;z-index:2;user-select:none;"),q=Object(r.a)(F,{target:"ei40axr16"})("color:",d,";&:active,&:hover,&:visited,&:focus{color:",d,";}").withComponent("a",{target:"ei40axr24"}),W=Object(r.a)("div",{target:"ei40axr17"})("width:100%;overflow-x:auto;overflow-y:hidden;&:not(:last-child){border-bottom:1px solid ",l,";}"),U=Object(r.a)("div",{target:"ei40axr18"})({name:"fq9923",styles:"display:block;min-width:100%;width:max-content;"}),H=Object(r.a)("button",{target:"ei40axr19"})(function(e){var t=e.gutterWidth;return"width: ".concat(t,"px;")},";border:0 none;border-right:1px solid ",u,";background-color:",c,";color:",s,";height:",O,"px;display:flex;align-items:center;justify-content:center;box-sizing:border-box;cursor:",function(e){return e.hasMoreLines?"pointer":"default"},";user-select:none;outline-offset:-3px;outline-width:2px;overflow:hidden;& > span{max-height:",O,"px;}"),V=Object(r.a)("div",{target:"ei40axr20"})({name:"j4wukh",styles:"flex-grow:1;width:0;"}),G=Object(r.a)("span",{target:"ei40axr21"})({name:"1s5i5ma",styles:"position:absolute;left:0;z-index:1;"}),K=Object(r.a)("div",{target:"ei40axr22"})("&:first-child{border-bottom:1px solid ",u,";}&:last-child{border-top:1px solid ",u,";}"),$=Object(r.a)("div",{target:"ei40axr23"})("&:not(:last-child):not(:nth-last-child(2)){border-bottom:1px solid ",l,";}")},OlUn:function(e,t,n){"use strict";var r=n("byeC"),o=n("b/sn"),i=n("uSMm"),a=n("++pP"),s=n("eodI"),c=n("mG1W"),l=n("qa+B"),u=n("w3vy"),d=n("COqE"),p=n("YZnK"),f=n("SC0N");function h(e,t,n){var o=t.$from,a=t.$to,s=e.schema.nodes.listItem,c=o.blockRange(a,function(e){return!!e.childCount&&!!e.firstChild&&e.firstChild.type===s});if(!c||c.depth<2||o.node(c.depth-1).type!==s)return n;var l=c.end,u=a.end(c.depth);return l<u&&(n.step(new i.ReplaceAroundStep(l-1,u,l,u,new r.Slice(r.Fragment.from(s.create(void 0,c.parent.copy())),1,0),1,!0)),c=new r.NodeRange(n.doc.resolve(o.pos),n.doc.resolve(u),c.depth)),n.lift(c,Object(i.liftTarget)(c)).scrollIntoView()}var m=n("9N/3"),g=n("w9Yk"),v=n("hkcA"),b=n("fZCP");n.d(t,"b",function(){return O}),n.d(t,"a",function(){return E}),n.d(t,"d",function(){return x}),n.d(t,"c",function(){return k}),n.d(t,"f",function(){return M}),n.d(t,"e",function(){return _}),n.d(t,"g",function(){return I});var y=5,w=function(e){var t=e.selection.$from,n=e.schema.nodes,r=n.listItem,o=n.paragraph;return e.selection instanceof m.a?t.parent.type===r:Object(c.hasParentNodeOfType)(r)(e.selection)&&t.parent.type===o},O=function(e,t){var n,o=e.selection;if(o.empty){var i=o.$from,a=e.schema.nodes,s=a.listItem,u=a.codeBlock,d=i.node(i.depth),p=i.node(i.depth-1);if(p&&p.type===s){var f=Object(l.c)(p);if(Object(l.f)(d)&&!f)return x()(e,t);if(!Object(c.hasParentNodeOfType)(u)(o))return(n=s,function(e,t){var o=e.selection,i=o.$from,a=o.$to,s=o.node;if(s&&s.isBlock||i.depth<2||!i.sameParent(a))return!1;var c=i.node(-1);if(c.type!==n)return!1;if(c.content.content.length<=1&&0===i.parent.content.size&&0!==c.content.size){if(2===i.depth||i.node(-3).type!==n||i.index(-2)!==i.node(-2).childCount-1)return!1;if(t){for(var l=r.Fragment.empty,u=i.index(-1)>0,d=i.depth-(u?1:2);d>=i.depth-3;d--)l=r.Fragment.from(i.node(d).copy(l));l=l.append(r.Fragment.from(n.createAndFill()));var p=e.tr.replace(i.before(u?void 0:-1),i.after(-3),new r.Slice(l,u?3:2,2));p.setSelection(e.selection.constructor.near(p.doc.resolve(i.pos+(u?3:2)))),t(p.scrollIntoView())}return!0}var f=a.pos===i.end()?c.contentMatchAt(0).defaultType:void 0,h=e.tr.delete(i.pos,a.pos),m=f&&[void 0,{type:f}];return t&&t(h.split(i.pos,2,m).scrollIntoView()),!0})(e,t)}}return!1},E=a.chainCommands(Object(u.a)([u.c,u.d,function(e){var t=e.selection.$from.parent,n=e.schema.nodes,r=n.listItem,o=n.paragraph;return e.selection instanceof m.a?t.type===r:t.type===o&&Object(c.hasParentNodeOfType)(r)(e.selection)}],a.chainCommands(function(e,t){var n=e.selection.$from,r=e.schema.nodes.listItem,o=Object(u.b)(n);if(!o||!o.nodeBefore||o.nodeBefore.type!==r)return!1;if(1===o.nodeBefore.childCount&&o.nodeBefore.firstChild.nodeSize<=2){var i=e.tr;return t&&t(i.delete(o.pos-o.nodeBefore.nodeSize,n.pos).scrollIntoView()),!0}return!1},x())),Object(u.a)([u.c,function(e){var t=e.selection.$from,n=e.schema.nodes,r=n.bulletList,o=n.orderedList,i=e.doc.resolve(t.pos-1),a=i?i.nodeBefore:null;return e.selection instanceof m.a&&(a=t.nodeBefore),!!a&&[r,o].indexOf(a.type)>-1}],function(e,t){var n=e.selection.$from,o=e.schema.nodes,a=o.paragraph,s=o.listItem,l=o.codeBlock,d=o.bulletList,p=o.orderedList,f=e.selection instanceof m.a,h=f?e.doc.resolve(n.pos+1):n,g=Object(u.b)(h);if(!g)return!1;if(g.nodeBefore&&[d,p].indexOf(g.nodeBefore.type)>-1&&g.nodeAfter&&(g.nodeAfter.type===a||g.nodeAfter.type===l)){for(var v=g.doc.resolve(g.pos-1);v.parent.type!==a;)v=e.doc.resolve(v.pos-1);var b=e.tr;if(f){var y=Object(c.findPositionOfNodeBefore)(b.selection);if("number"!=typeof y)return!1;var w=g.nodeBefore.copy(g.nodeBefore.content.append(r.Fragment.from(s.createChecked({},g.nodeAfter))));b.replaceWith(y,n.pos+g.nodeAfter.nodeSize,w)}else b=e.tr.step(new i.ReplaceAroundStep(v.pos,g.pos+g.nodeAfter.nodeSize,g.pos+1,g.pos+g.nodeAfter.nodeSize-1,e.tr.doc.slice(v.pos,g.pos),0,!0));var O=b.doc.resolve(b.mapping.map(g.pos+g.nodeAfter.nodeSize));return O.nodeBefore&&O.nodeAfter&&O.nodeBefore.type===O.nodeAfter.type&&[d,p].indexOf(O.nodeBefore.type)>-1&&(b=b.join(O.pos)),t&&t(b.scrollIntoView()),!0}return!1}));function x(){return function(e,t){var n=e.schema.nodes.listItem,r=e.selection,o=r.$from,i=r.$to;if(w(e)){var a=o.blockRange(i,function(e){return e.childCount>0&&e.firstChild.type===n});if(!a)return!1;var c=S(e.selection.$from,e.schema.nodes);return Object(d.k)(Object(g.d)({action:v.a.FORMATTED,actionSubject:v.b.TEXT,actionSubjectId:v.c.FORMAT_INDENT,eventType:v.d.TRACK,attributes:{inputMethod:v.e.KEYBOARD,previousIndentationLevel:c,newIndentLevel:c-1,direction:b.a.OUTDENT,indentType:b.b.LIST}}),function(e,t){return function(n){return function(r,o){return n(r,function(n){var i=r.doc.resolve(t.start),a=r.doc.resolve(t.end),s=n.doc.resolve(n.mapping.map(t.end-1));s.nodeBefore&&s.nodeAfter&&s.nodeBefore.type===s.nodeAfter.type&&a.nodeAfter&&a.nodeAfter.type===e&&a.parent.type===i.parent.type&&n.join(s.pos),o&&o(n.scrollIntoView())})}}}(n,a),s.liftListItem)(n)(e,t)}return!1}}function k(){return function(e,t){var n=e.schema.nodes.listItem;if(w(e)){var r=S(e.selection.$from,e.schema.nodes);return function(e,t){var n,r=t.tr.selection.$to.pos;do{var o=t.doc.resolve(r);if((n=S(o,t.schema.nodes))>y)return!1;r++}while(n>=e);return!0}(r,e)&&Object(d.k)(Object(g.d)({action:v.a.FORMATTED,actionSubject:v.b.TEXT,actionSubjectId:v.c.FORMAT_INDENT,eventType:v.d.TRACK,attributes:{inputMethod:v.e.KEYBOARD,previousIndentationLevel:r,newIndentLevel:r+1,direction:b.a.INDENT,indentType:b.b.LIST}}),s.sinkListItem)(n)(e,t),!0}return!1}}function C(){return function(e,t){var n=e.tr,r=e.selection,a=r.$from,s=r.$to;return n.doc.nodesBetween(a.pos,s.pos,function(t,r){if(t.isTextblock||"blockquote"===t.type.name||"panel"===t.type.name){var a=new o.NodeSelection(n.doc.resolve(n.mapping.map(r))),s=a.$from.blockRange(a.$to);if(!s||a.$from.parent.type!==e.schema.nodes.listItem)return!1;var c=s&&Object(i.liftTarget)(s);if(null==c)return!1;n.lift(s,c)}}),t&&t(n),!0}}var S=function(e,t){for(var n=t.bulletList,r=t.orderedList,o=0,i=e.depth-1;i>0;i--){var a=e.node(i);a.type!==n&&a.type!==r||(o+=1)}return o},j=function(e,t,n,r){var i=e.selection,a=i.$from.node(i.$from.depth-2),s=i.$to.node(i.$to.depth-2);if(a&&a.type.name===r&&s&&s.type.name===r){var c=function(e,t){for(var n,r=t.bulletList,o=t.orderedList,i=t.listItem,a=e.depth-1;a>0;a--){var s=e.node(a);if(s.type!==r&&s.type!==o||(n=a),s.type!==r&&s.type!==o&&s.type!==i)break}return n}(i.$to,e.schema.nodes),l=function(e,t,n,r,i){var a=e.schema.nodes.listItem,s=!1;return i.doc.nodesBetween(t,n,function(n,c){if(!s&&n.type===a&&c>t){s=!0;for(var l=r+3;l>r+2;){var u=i.doc.resolve(i.mapping.map(c));l=u.depth;var d=i.doc.resolve(i.mapping.map(c+n.textContent.length)),p=new o.TextSelection(u,d);i=h(e,p,i)}}}),i}(e,i.$to.pos,i.$to.end(c),c||0,e.tr);return t(l=function(e,t){var n=e.selection,r=n.from,o=n.to,i=e.schema.nodes.paragraph,a=[];t.doc.nodesBetween(r,o,function(e,t){e.type===i&&a.push({node:e,pos:t})});for(var s=a.length-1;s>=0;s--){var c=a[s],l=t.doc.resolve(t.mapping.map(c.pos));if(l.depth>0){var u=void 0;u=c.node.textContent&&c.node.textContent.length>0?t.doc.resolve(t.mapping.map(c.pos+c.node.textContent.length)):t.doc.resolve(t.mapping.map(c.pos+1));var d=l.blockRange(u);d&&t.lift(d,Object(f.a)(e.schema,l))}}return t}(e,l)),!0}return T(r)(e,t,n)};function T(e){return function(t,n,r){if(n&&n(t.tr.setSelection(function(e,t){var n=t.$from,r=t.$to,i=n.pos===r.pos,a=n.pos,s=r.pos;if(i&&a===e.nodeSize-3)return t;if(n.nodeBefore&&!i){a++;for(var c=e.nodeAt(a);!c||c&&!c.isText;)a++,c=e.nodeAt(a)}return s===a?new o.TextSelection(e.resolve(a)):new o.TextSelection(e.resolve(a),e.resolve(s))}(t.doc,t.selection))),!r)return!1;var i=(t=r.state).selection,c=i.$from,l=i.$to,u=Object(d.y)(t.doc,c,l,t.schema.nodes[e]);if(function(e,t){var n=e.selection.$from,r=n.node(-2),o=n.node(-3);return r&&r.type===e.schema.nodes[t]||o&&o.type===e.schema.nodes[t]}(t,e)&&u)return C()(t,n);u||(C()(t,n),t=r.state);var f,h=Object(p.d)(t);return h&&(n(h),t=r.state),(f=t.schema.nodes[e],a.autoJoin(s.wrapInList(f),function(e,t){return e.type===t.type&&e.type===f}))(t,n)}}var M=function(e,t){var n={bulletList:v.c.FORMAT_LIST_BULLET,orderedList:v.c.FORMAT_LIST_NUMBER};return function(r,o,i){return!!T(t)(r,o,i)&&(i&&o&&o(Object(g.a)(i.state.tr,{action:v.a.FORMATTED,actionSubject:v.b.TEXT,actionSubjectId:n[t],eventType:v.d.TRACK,attributes:{inputMethod:e}})),!0)}};function _(e){return j(e.state,e.dispatch,e,"bulletList")}function I(e){return j(e.state,e.dispatch,e,"orderedList")}},OnqS:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c});var r=n("mrSG"),o=n("q1tI"),i=n("WL5x"),a=new Map,s=function(e){var t=e.mediaClientConfig;if(t){var n=a.get(t);return n||(n=new i.a(t),a.set(t,n)),n}return e.context},c=function(e){return function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(n,t),n.prototype.render=function(){var t=this.props;return o.createElement(e,Object(r.__assign)({},t,{mediaClient:s(this.props)}))},n}(o.Component)}},OrOc:function(e,t,n){"use strict";var r=n("mrSG"),o=n("q1tI"),i=n("17x9"),a=function(e){function t(t,n){var o=e.call(this,t)||this;return o.listeners={},o.debounce=null,o.notAppliedState={},o.isSubscribed=!1,o.hasBeenMounted=!1,o.state={},o.handlePluginStateChange=function(e,t){return function(n){var r;(o.state[e]!==n||t)&&o.updateState(((r={})[e]=n,r))}},o.updateState=function(e){o.notAppliedState=r.__assign({},o.notAppliedState,e),o.debounce&&window.clearTimeout(o.debounce),o.debounce=window.setTimeout(function(){o.hasBeenMounted&&o.setState(o.notAppliedState),o.debounce=null,o.notAppliedState={}},0)},o.onContextUpdate=function(){o.subscribe(o.props)},o.state=o.getPluginsStates(t.plugins,o.getEditorView(t,n)),o}return r.__extends(t,e),t.prototype.getEditorView=function(e,t){var n=e||this.props,r=t||this.context;return n.editorView||r&&r.editorActions&&r.editorActions._privateGetEditorView()},t.prototype.getEventDispatcher=function(e){return(e||this.props).eventDispatcher||this.context&&this.context.editorActions&&this.context.editorActions._privateGetEventDispatcher()},t.prototype.getPluginsStates=function(e,t){return t&&e?Object.keys(e).reduce(function(n,r){var o=e[r];return o?(n[r]=o.getState(t.state),n):n},{}):{}},t.prototype.subscribe=function(e){var t=this,n=e.plugins,r=this.getEventDispatcher(e),o=this.getEditorView(e);if(r&&o&&!this.isSubscribed){this.isSubscribed=!0;var i=this.getPluginsStates(n,o);this.setState(i),Object.keys(n).forEach(function(e){var o=n[e];if(o){var a=i[e],s=a&&a.subscribe,c=t.handlePluginStateChange(e,s);s?a.subscribe(c):r.on(o.key,c),t.listeners[o.key]={handler:c,pluginKey:o}}})}},t.prototype.unsubscribe=function(){var e=this,t=this.getEventDispatcher(),n=this.getEditorView();t&&n&&this.isSubscribed&&(Object.keys(this.listeners).forEach(function(r){var o=e.listeners[r].pluginKey.getState(n.state);o&&o.unsubscribe?o.unsubscribe(e.listeners[r].handler):t.off(r,e.listeners[r].handler)}),this.listeners=[])},t.prototype.subscribeToContextUpdates=function(e){e&&e.editorActions&&e.editorActions._privateSubscribe(this.onContextUpdate)},t.prototype.unsubscribeFromContextUpdates=function(e){e&&e.editorActions&&e.editorActions._privateUnsubscribe(this.onContextUpdate)},t.prototype.componentDidMount=function(){this.hasBeenMounted=!0,this.subscribe(this.props),this.subscribeToContextUpdates(this.context)},t.prototype.componentWillReceiveProps=function(e){this.isSubscribed||this.subscribe(e)},t.prototype.componentWillUnmount=function(){this.unsubscribeFromContextUpdates(this.context),this.unsubscribe(),this.hasBeenMounted=!1},t.prototype.render=function(){return(0,this.props.render)(this.state)},t.contextTypes={editorActions:i.object},t}(o.Component);t.a=a},Oy7l:function(e,t,n){"use strict";var r=n("284h"),o=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.size=t.default=t.IconWrapper=void 0;var i=o(n("lSNA")),a=o(n("lwsE")),s=o(n("W8MJ")),c=o(n("a1gu")),l=o(n("Nsbk")),u=o(n("7W2i")),d=r(n("q1tI")),p=o(n("vOnD")),f=o(n("EcEN")),h=n("b0Qh"),m=n("mScT"),g=function(e){return e.size?"height: ".concat(m.sizes[e.size],"; width: ").concat(m.sizes[e.size],";"):null},v=p.default.span.withConfig({displayName:"Icon__IconWrapper",componentId:"dyhwwi-0"})(["\n  "," color: ",";\n  display: inline-block;\n  fill: ",";\n  flex-shrink: 0;\n  line-height: 1;\n\n  > svg {\n    "," max-height: 100%;\n    max-width: 100%;\n    overflow: hidden;\n    pointer-events: none;\n    vertical-align: bottom;\n  }\n  /* Stop-color doesn't properly apply in chrome when the inherited/current color changes.\n   * We have to initially set stop-color to inherit (either via DOM attribute or an initial CSS\n   * rule) and then override it with currentColor for the color changes to be picked up.\n   */\n  stop {\n    stop-color: currentColor;\n  }\n"],g,function(e){return e.primaryColor||"currentColor"},function(e){return e.secondaryColor||h.colors.background},g);t.IconWrapper=v;var b=function(e){function t(){return(0,a.default)(this,t),(0,c.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,n=e.glyph,r=e.dangerouslySetGlyph,o=e.primaryColor,i=e.secondaryColor,a=e.size;return r?d.default.createElement(v,{primaryColor:o,secondaryColor:i,size:a,"aria-label":this.props.label,dangerouslySetInnerHTML:{__html:t.insertDynamicGradientID(r)}}):d.default.createElement(v,{primaryColor:o,secondaryColor:i,size:a,"aria-label":this.props.label},n?d.default.createElement(n,{role:"presentation"}):null)}}],[{key:"insertDynamicGradientID",value:function(e){var t=(0,f.default)();return e.replace(/id="([^"]+)-idPlaceholder"/g,"id=$1-".concat(t)).replace(/fill="url\(#([^"]+)-idPlaceholder\)"/g,'fill="url(#$1-'.concat(t,')"'))}}]),t}(d.Component);t.default=b;var y=Object.keys(m.sizes).reduce(function(e,t){return Object.assign(e,(0,i.default)({},t,t))},{});t.size=y},OzeT:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("mrSG"),o=n("b/sn"),i=n("/IjO"),a=n("mG1W"),s=n("dqnb"),c=n("ClUl"),l=function(e,t){return void 0===t&&(t=!1),function(n){var l=Object(a.findTable)(n.selection);if(!l)return n;for(var u=[],d=i.TableMap.get(l.node),p=e.top;p<e.bottom;p++)if(t){var f=l.node.nodeAt(d.map[p*d.width]);f&&f.type!==f.type.schema.nodes.tableHeader&&u.push(p)}else u.push(p);if(!u.length)return n;for(var h=[],m={},g={},v=function(e){for(var t=[],n=l.node.child(e),o=function(n){var o=d.map[e*d.width+n],i=l.node.nodeAt(o);if(!i)return"continue";var a=d.cellsInRect({left:0,top:e,right:d.width,bottom:e+1});if(-1!==u.indexOf(e)||m[o])a.indexOf(o)>-1&&(g[o]=!0);else{if(a.indexOf(o)>-1){var s=0;if(u.forEach(function(t){e<t&&i.attrs.rowspan+e-1>=t&&(s+=1)}),s>0){var c=i.type.createChecked(r.__assign({},i.attrs,{rowspan:i.attrs.rowspan-s}),i.content,i.marks);return t.push(c),m[o]=!0,"continue"}}else if(g[o]){var p=r.__assign({},i.attrs,{colspan:1,rowspan:1});if(i.attrs.colwidth){var f=n>0?n-d.colCount(o):0;p.colwidth=i.attrs.colwidth.slice().splice(f,1)}c=i.type.createChecked(p,i.type.schema.nodes.paragraph.createChecked(),i.marks);return t.push(c),"continue"}m[o]||(m[o]=!0,t.push(i))}},i=0;i<d.width;i++)o(i);t.length&&h.push(n.type.createChecked(n.attrs,t,n.marks))},b=0;b<d.height;b++)v(b);if(!h.length)return Object(c.a)({type:"DELETE_ROWS",problem:"EMPTY_TABLE"})(n);var y=l.node.type.createChecked(l.node.attrs,h,l.node.marks),w=Object(s.c)(y);if(null===w)return Object(c.a)({type:"DELETE_ROWS",problem:"REMOVE_EMPTY_COLUMNS"})(n);var O=function(e,t){var n=Math.min.apply(Math,r.__spread(t)),o=n>0?n-1:0,a=i.TableMap.get(e);return a.map[o*a.width]}(y,u);return Object(c.a)({type:"DELETE_ROWS"})(n.replaceWith(l.pos,l.pos+l.node.nodeSize,w).setSelection(o.Selection.near(n.doc.resolve(l.pos+O))))}}},"P/+n":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("OYD4"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><path d="M12.938 4.967c-.518-.978-1.36-.974-1.876 0L3.938 18.425c-.518.978-.045 1.771 1.057 1.771h14.01c1.102 0 1.573-.797 1.057-1.771L12.938 4.967z" fill="currentColor"/><path d="M12 15a1 1 0 0 1-1-1V9a1 1 0 0 1 2 0v5a1 1 0 0 1-1 1m0 3a1 1 0 0 1 0-2 1 1 0 0 1 0 2" fill="inherit"/></g></svg>'},e))};s.displayName="WarningIcon";var c=s;t.default=c},"PE//":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return i});var r=function(e){var t=[];return(e.steps||[]).forEach(function(n){for(var r=n.to,o=n.from,i=n.slice,a=i&&i.content?i.content.size:0,s=function(n){if(n<=e.doc.content.size){var r=e.doc.resolve(n).node(1);r&&!t.find(function(e){return e===r})&&t.push(r)}},c=o;c<=r+a;c++)s(c)}),t},o=function(e){return e.every(function(e){try{e.check()}catch(e){return!1}return!0})},i=function(e){return Boolean(e&&e.type&&"paragraph"===e.type.name)}},PPxj:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("mrSG"),o=n("byeC"),i=n("uSMm"),a=function(e){function t(t,n){var r=e.call(this)||this;return r.pos=t,r.attrs=n,r}return r.__extends(t,e),t.prototype.apply=function(e){var t=e.nodeAt(this.pos);if(!t)return i.StepResult.fail("No node at given position");var n=r.__assign({},t.attrs||{},this.attrs||{}),a=t.type.create(n,o.Fragment.empty,t.marks),s=new o.Slice(o.Fragment.from(a),0,t.isLeaf?0:1);return i.StepResult.fromReplace(e,this.pos,this.pos+1,s)},t.prototype.invert=function(e){var n=e.nodeAt(this.pos);return new t(this.pos,n?n.attrs:{})},t.prototype.map=function(e){var n=e.mapResult(this.pos,1);return n.deleted?null:new t(n.pos,this.attrs)},t.prototype.toJSON=function(){return{stepType:"setAttrs",pos:this.pos,attrs:this.attrs}},t.fromJSON=function(e,n){if("number"!=typeof n.pos||null!==n.attrs&&"object"!=typeof n.attrs)throw new RangeError("Invalid input for SetAttrsStep.fromJSON");return new t(n.pos,n.attrs)},t}(i.Step);i.Step.jsonID("setAttrs",a)},"PQ/3":function(e,t,n){"use strict";var r=n("mrSG"),o=n("sLFk"),i=n("q1tI"),a=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={Clipboard:t.Clipboard},n}return r.__extends(t,e),t.prototype.componentWillMount=function(){return r.__awaiter(this,void 0,void 0,function(){var e,o,i;return r.__generator(this,function(a){switch(a.label){case 0:return this.state.Clipboard?[3,2]:[4,Promise.all([Promise.all([n.e(4),n.e(18),n.e(249)]).then(n.bind(null,"ei9y")),Promise.all([n.e(4),n.e(16),n.e(48)]).then(n.bind(null,"LMEu"))])];case 1:e=r.__read.apply(void 0,[a.sent(),2]),o=e[0],i=e[1],t.Clipboard=o.withMediaClient(i.Clipboard),this.setState({Clipboard:t.Clipboard}),a.label=2;case 2:return[2]}})})},t.prototype.render=function(){return this.state.Clipboard?i.createElement(this.state.Clipboard,r.__assign({},this.props)):null},t.displayName="AsyncClipboard",t}(i.PureComponent);n.d(t,"c",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"e",function(){return o.b}),n.d(t,"a",function(){return a});var s=function(e){return e&&"browse"in e&&"teardown"in e},c=function(e){return e&&"activate"in e&&"deactivate"in e},l=function(e){return e&&["show","cancel","teardown","hide"].every(function(t){return t in e})};function u(e){return!!e.collection}function d(e,t,o){return r.__awaiter(this,void 0,void 0,function(){var i,a,s,c,l,d,p,f,h;return r.__generator(this,function(m){switch(m.label){case 0:switch(e){case"browser":return[3,1];case"dropzone":return[3,3];case"popup":return[3,5]}return[3,7];case 1:return[4,Promise.all([Promise.all([n.e(4),n.e(16),n.e(51)]).then(n.bind(null,"MsY7")),Promise.all([n.e(4),n.e(18),n.e(249)]).then(n.bind(null,"ei9y"))])];case 2:return i=r.__read.apply(void 0,[m.sent(),2]),a=i[0].BrowserImpl,p=i[1].getMediaClient,f=u(t)?{context:t}:{mediaClientConfig:t},h=p(f),[2,new a(h,o)];case 3:return[4,Promise.all([Promise.all([n.e(4),n.e(16),n.e(52)]).then(n.bind(null,"E0C4")),Promise.all([n.e(4),n.e(18),n.e(249)]).then(n.bind(null,"ei9y"))])];case 4:return s=r.__read.apply(void 0,[m.sent(),2]),c=s[0].DropzoneImpl,p=s[1].getMediaClient,f=u(t)?{context:t}:{mediaClientConfig:t},h=p(f),[2,new c(h,o)];case 5:return[4,Promise.all([Promise.all([n.e(4),n.e(16),n.e(245)]).then(n.bind(null,"Mjb9")),Promise.all([n.e(4),n.e(18),n.e(249)]).then(n.bind(null,"ei9y"))])];case 6:return l=r.__read.apply(void 0,[m.sent(),2]),d=l[0].PopupImpl,p=l[1].getMediaClient,f=u(t)?{context:t}:{mediaClientConfig:t},h=p(f),[2,new d(h,o)];case 7:throw new Error("The component "+e+" does not exist")}})})}},Pcyv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M7 17h10a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zM4 5h16a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorMediaFullWidthIcon";var c=s;t.default=c},Pgp1:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r,o=n("mrSG"),i=n("vOnD"),a=n("5oxn"),s=Object(i.css)(r||(r=o.__makeTemplateObject(["\n  & p {\n    font-size: 1em;\n    line-height: 1.714;\n    font-weight: normal;\n    margin-top: ",";\n    margin-bottom: 0;\n    letter-spacing: -0.005em;\n  }\n"],["\n  & p {\n    font-size: 1em;\n    line-height: 1.714;\n    font-weight: normal;\n    margin-top: ",";\n    margin-bottom: 0;\n    letter-spacing: -0.005em;\n  }\n"])),a.D)},"Pve+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><path d="M13.477 9.113l-4.36 4.386a1 1 0 1 0 1.418 1.41l4.36-4.386a1 1 0 0 0-1.418-1.41z" fill="inherit"/><path d="M9.084 10.501l4.358 4.377a1 1 0 1 0 1.418-1.411L10.5 9.09a1 1 0 0 0-1.417 1.411z" fill="inherit"/></g></svg>'},e))};s.displayName="CrossCircleIcon";var c=s;t.default=c},PyW4:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r,o=n("mrSG"),i=n("vOnD"),a=n("5oxn"),s=Object(i.css)(r||(r=o.__makeTemplateObject(["\n  [data-layout-section] {\n    display: flex;\n    flex-direction: row;\n    & > * {\n      flex: 1;\n      min-width: 0;\n    }\n\n    @media screen and (max-width: ","px) {\n      flex-direction: column;\n    }\n  }\n"],["\n  [data-layout-section] {\n    display: flex;\n    flex-direction: row;\n    & > * {\n      flex: 1;\n      min-width: 0;\n    }\n\n    @media screen and (max-width: ","px) {\n      flex-direction: column;\n    }\n  }\n"])),a.G)},"Q/j8":function(e){e.exports={a:"@atlaskit/tooltip",b:"15.1.1"}},QFRY:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.UsageFrequency=2]="UsageFrequency"}(r||(r={}))},QL7d:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l});var r=n("mrSG"),o=n("b/sn"),i=n("cD+i"),a=n("byeC"),s=function(){function e(e){this.pos=void 0,this.visible=!1,this.pos=e}return e.prototype.map=function(t){return new e(t.map(this.pos))},e.prototype.resolve=function(e){var t=e.resolve(this.pos);return o.Selection.near(t)},e}(),c=function(e){function t(t){return e.call(this,t,t)||this}return r.__extends(t,e),t.prototype.map=function(e,n){return new t(e.resolve(n.map(this.$head.pos)))},t.content=function(){return a.Slice.empty},t.prototype.eq=function(e){return e instanceof t&&e.head===this.head},t.prototype.toJSON=function(){return{type:"Cursor",pos:this.head}},t.fromJSON=function(e,n){return new t(e.resolve(n.pos))},t.prototype.getBookmark=function(){return new s(this.anchor)},t}(o.Selection);o.Selection.jsonID("fake-text-cursor",c);var l=function(e){if(!(e.selection instanceof c))return null;var t=document.createElement("div");return t.className="ProseMirror-fake-text-cursor",i.DecorationSet.create(e.doc,[i.Decoration.widget(e.selection.head,t,{key:"Cursor"})])}},QPf0:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("JRPe"),o=Object(r.e)({deleteEmojiTitle:{id:"fabric.emoji.delete.title",defaultMessage:"Remove emoji",description:"Title for emoji removal dialog"},deleteEmojiDescription:{id:"fabric.emoji.delete.description",defaultMessage:"All existing instances of this emoji will be replaced with {emojiShortName}",description:"Description for emoji removal dialog"},deleteEmojiLabel:{id:"fabric.emoji.delete.label",defaultMessage:"Remove",description:"Button label to remove emoji"},addCustomEmojiLabel:{id:"fabric.emoji.add.custom.emoji.label",defaultMessage:"Add your own emoji",description:"Button label to add custom emoji"},emojiPlaceholder:{id:"fabric.emoji.placeholder",defaultMessage:"Emoji name",description:"Placeholder for emoji"},emojiNameAriaLabel:{id:"fabric.emoji.name.ariaLabel",defaultMessage:"Enter a name for the new emoji",description:"Explains to enter a name for a new emoji"},emojiChooseFileTitle:{id:"fabric.emoji.choose.file.title",defaultMessage:"Choose file",description:"Choose custom emoji file"},emojiChooseFileAriaLabel:{id:"fabric.emoji.choose.file.ariaLabel",defaultMessage:"Choose a file for the emoji. JPG, PNG or GIF. Max size 1 MB.",description:"Message indicating the purpose of choosing the file and requirements for the file"},emojiImageRequirements:{id:"fabric.emoji.image.requirements",defaultMessage:"JPG, PNG or GIF. Max size 1 MB.",description:"Message for emoji image requirements and maximum file size"},emojiPreviewTitle:{id:"fabric.emoji.preview.title",defaultMessage:"Preview",description:"Emoji preview title"},emojiPreview:{id:"fabric.emoji.preview",defaultMessage:"Your new emoji {emoji} looks great",description:"Emoji preview"},addEmojiLabel:{id:"fabric.emoji.add.label",defaultMessage:"Add emoji",description:"verb - Button label to add emoji"},retryLabel:{id:"fabric.emoji.retry.label",defaultMessage:"Retry",description:"verb - Button label to retry upload"},cancelLabel:{id:"fabric.emoji.cancel.label",defaultMessage:"Cancel",description:"verb - button label to cancel operation"},searchLabel:{id:"fabric.emoji.search.label",defaultMessage:"Search",description:"verb - button label to search"},categoriesSearchResults:{id:"fabric.emoji.categories.search.results",defaultMessage:"Search results",description:"Emoji categories search results"},frequentCategory:{id:"fabric.emoji.category.frequent",defaultMessage:"Frequent",description:"Emoji frequent category"},peopleCategory:{id:"fabric.emoji.category.people",defaultMessage:"People",description:"Emoji frequent category"},natureCategory:{id:"fabric.emoji.category.nature",defaultMessage:"Nature",description:"Emoji nature category"},foodsCategory:{id:"fabric.emoji.category.foods",defaultMessage:"Food & Drink",description:"Emoji Foods category"},activityCategory:{id:"fabric.emoji.category.activity",defaultMessage:"Activity",description:"Emoji activity category"},placesCategory:{id:"fabric.emoji.category.places",defaultMessage:"Travel & Places",description:"Emoji Places category"},objectsCategory:{id:"fabric.emoji.category.objects",defaultMessage:"Objects",description:"Emoji objects category"},symbolsCategory:{id:"fabric.emoji.category.symbols",defaultMessage:"Symbols",description:"Emoji symbols category"},flagsCategory:{id:"fabric.emoji.category.flags",defaultMessage:"Flags",description:"Emoji flags category"},productivityCategory:{id:"fabric.emoji.category.productivity",defaultMessage:"Productivity",description:"Emoji productivity category"},userUploadsCustomCategory:{id:"fabric.emoji.category.user.uploads",defaultMessage:"Your uploads",description:"User uploads in the custom category"},allUploadsCustomCategory:{id:"fabric.emoji.category.all.uploads",defaultMessage:"All uploads",description:"All uploads in the custom category"},deleteEmojiFailed:{id:"fabric.emoji.error.delete.failed",defaultMessage:"Remove failed",description:"Error message when custom emoji failed to be removed"},emojiInvalidImage:{id:"fabric.emoji.error.invalid.image",defaultMessage:"Selected image is invalid",description:"Error message for invalid selected image"},emojiUploadFailed:{id:"fabric.emoji.error.upload.failed",defaultMessage:"Upload failed",description:"Failed to upload emoji image"},emojiImageTooBig:{id:"fabric.emoji.error.image.too.big",defaultMessage:"Selected image is more than 1 MB",description:"Error message for image too big, beyond the size limit"}})},QkiX:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("mrSG"),o=n("q1tI"),i=n("ug4D"),a=n.n(i),s=n("Momi"),c=n("R8Ob"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=Object(s.a)(this.props.dimensions);return o.createElement(c.a,{dimensions:e},this.icon)},Object.defineProperty(t.prototype,"icon",{get:function(){return o.createElement(a.a,{label:"loading",size:"medium"})},enumerable:!0,configurable:!0}),t}(o.Component)},Qqzy:function(e,t,n){"use strict";var r=function(e,t){return e===t};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=void 0,o=[],i=void 0,a=!1,s=function(e,n){return t(e,o[n])};return function(){for(var t=arguments.length,r=Array(t),c=0;c<t;c++)r[c]=arguments[c];return a&&n===this&&r.length===o.length&&r.every(s)?i:(a=!0,n=this,o=r,i=e.apply(this,r))}}},R87g:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n("9cBy"),i=n("3+Ms"),a=n("rfFC"),s=n("i2Fk");t.delay=function(e,t){void 0===t&&(t=o.async);var n=i.isDate(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new c(n,t))}};var c=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.delay,this.scheduler))},e}(),l=function(e){function t(t,n,r){e.call(this,t),this.delay=n,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}return r(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,r=e.scheduler,o=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(o);if(n.length>0){var i=Math.max(0,n[0].time-r.now());this.schedule(e,i)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new u(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(s.Notification.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e)},t.prototype._complete=function(){this.scheduleNotification(s.Notification.createComplete())},t}(a.Subscriber),u=function(){return function(e,t){this.time=e,this.notification=t}}()},R8A1:function(e,t,n){"use strict";var r,o=n("mrSG"),i=n("q1tI"),a=n("mLKr"),s=n.n(a),c=n("vOnD").default.div(r||(r=Object(o.__makeTemplateObject)(["\n  display: flex;\n  color: #ff991f;\n"],["\n  display: flex;\n  color: #ff991f;\n"])));n.d(t,"a",function(){return l});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=this.props.size;return i.createElement(c,null,i.createElement(s.a,{label:"Error",size:e}))},t.defaultProps={size:"small"},t}(i.Component)},R8Ob:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r,o,i=n("mrSG"),a=n("vOnD"),s=n("AQAo"),c=n("JaVE"),l=n("73wN"),u=Object(a.keyframes)(r||(r=Object(i.__makeTemplateObject)(["\n  0%{\n    opacity: 1;\n  }\n\n  50%{\n    opacity: 0.6;\n  }\n\n  100%{\n    opacity: 1;\n  }\n"],["\n  0%{\n    opacity: 1;\n  }\n\n  50%{\n    opacity: 0.6;\n  }\n\n  100%{\n    opacity: 1;\n  }\n"]))),d=a.default.div(o||(o=Object(i.__makeTemplateObject)(["\n  "," background: ",";\n  color: ",";\n  ","\n  max-height: 100%;\n  max-width: 100%;\n \n  ","\n  > span {\n    animation: "," 0.8s infinite;\n  }\n"],["\n  "," background: ",";\n  color: ",";\n  ","\n  max-height: 100%;\n  max-width: 100%;\n \n  ","\n  > span {\n    animation: "," 0.8s infinite;\n  }\n"])),s.d,Object(c.a)({light:l.N20,dark:l.DN50}),Object(c.a)({light:l.N50,dark:l.DN100}),s.b,function(e){return"\n      width: "+e.dimensions.width+";\n      height: "+e.dimensions.height+";\n    "},u)},RJeW:function(e,t,n){var r=n("iWRJ"),o=n("tMf1");e.exports=function(e){var t=r(e),n=new Date(0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),o(n)}},RZyI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M5 5h1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1zm5 0h9a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-9a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorLayoutTwoLeftSidebarIcon";var c=s;t.default=c},RhhA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M11 7h2v11h-2zM6 5h12v2H6z"/><path d="M5 5h2v3H5zm5 13h4v2h-4zm7-13h2v3h-2z"/></g></svg>'},e))};s.displayName="MediaServicesTextIcon";var c=s;t.default=c},RpOt:function(e,t,n){"use strict";var r=n("lwsE"),o=n.n(r),i=n("W8MJ"),a=n.n(i),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),u=n.n(l),d=n("7W2i"),p=n.n(d),f=n("PJYZ"),h=n.n(f),m=n("lSNA"),g=n.n(m),v=n("/6YG"),b=n("q1tI"),y=n.n(b),w=n("9l94"),O=n("QETz"),E=n("grSP"),x=n("JRPe"),k=n("wTIg"),C=n("gxo2"),S=n("b0Qh"),j=Object(k.a)("table",{target:"e1vowu4k0"})("margin-bottom:",2*Object(C.l)(),"px;"),T=Object(k.a)("tbody",{target:"e1vowu4k1"})({name:"7n9tpc",styles:"border-width:0;"}),M=Object(k.a)("td",{target:"e1vowu4k2"})("text-align:right;",S.typography.h200(),";padding-right:0;"),_=Object(k.a)("td",{target:"e1vowu4k3"})("max-width:",51*Object(C.l)(),"px;"),I=Object(k.a)("span",{target:"e1vowu4k4"})("align-items:center;display:flex;padding:",Object(C.l)()/2,"px ",Object(C.l)(),"px;"),P=Object(k.a)("span",{target:"e1vowu4k5"})("line-height:0;margin:0 ",Object(C.l)()/2,"px;"),A=Object(k.a)("span",{target:"e1vowu4k6"})("margin:0 ",Object(C.l)()/2,"px;"),N=Object(x.e)({repoOwnerLabel:{id:"bitkit.refLabel.repoOwnerLabel",defaultMessage:"Owner"},repoWorkspaceLabel:{id:"bitkit.refLabel.repoWorkspaceLabel",defaultMessage:"Workspace"},repoNameLabel:{id:"bitkit.refLabel.repoNameLabel",defaultMessage:"Name"},branchLabel:{id:"bitkit.refLabel.branchLabel",defaultMessage:"Branch"},deletedRepository:{id:"bitkit.refLabel.deletedRepository",defaultMessage:"Deleted repository"}}),R=function(e){function t(){return o()(this,t),c()(this,u()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"renderRepositoryOwner",value:function(){var e=this.props,t=e.intl,n=e.repoOwnerAvatarSrc,r=e.repoOwnerHref,o=e.repoOwnerName,i=e.isWorkspaceUiEnabled;if(!o)return null;var a=y.a.createElement(O.a,{name:o,size:"small",src:n});return y.a.createElement("tr",null,y.a.createElement(M,null,i?t.formatMessage(N.repoWorkspaceLabel):t.formatMessage(N.repoOwnerLabel)),y.a.createElement(_,null,r?y.a.createElement(E.a,{appearance:"link",href:r,iconBefore:a,target:"_blank"},o):y.a.createElement(I,null,y.a.createElement(P,null,a),y.a.createElement(A,null,o))))}},{key:"render",value:function(){var e=this.props,t=e.branchHref,n=e.branchName,r=e.intl,o=e.repoAvatarSrc,i=e.repoHref,a=e.repoName;return y.a.createElement(j,null,y.a.createElement(T,null,this.renderRepositoryOwner(),y.a.createElement("tr",null,y.a.createElement(M,null,r.formatMessage(N.repoNameLabel)),y.a.createElement(_,null,y.a.createElement(E.a,{appearance:"link",isDisabled:!a,href:i,iconBefore:y.a.createElement(O.a,{name:a,src:o,size:"small"}),target:"_blank"},a||r.formatMessage(N.deletedRepository)))),y.a.createElement("tr",null,y.a.createElement(M,null,r.formatMessage(N.branchLabel)),y.a.createElement(_,null,y.a.createElement(E.a,{appearance:"link",href:t,isDisabled:!t,target:"_blank"},n)))))}}]),t}(b.PureComponent),D=Object(x.f)(R),L=Object(k.a)("div",{target:"e1oq3qiz0"})({name:"j7qwjs",styles:"display:flex;flex-direction:column;"}),z=Object(k.a)("div",{target:"e1oq3qiz1"})({name:"1q59hjf",styles:"cursor:pointer;display:flex;"}),B=function(e){function t(){var e,n;o()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(h()(h()(n)),"state",{isOpen:!1}),g()(h()(h()(n)),"getCheckoutCommand",function(){var e=n.props,t=e.branchName,r=e.scm;return"".concat("git"===r?"git checkout":"hg update"," ").concat(t)}),g()(h()(h()(n)),"handleClose",function(){n.setState({isOpen:!1})}),g()(h()(h()(n)),"toggleDialog",function(){n.setState(function(e){return{isOpen:!e.isOpen}})}),n}return p()(t,e),a()(t,[{key:"render",value:function(){var e=this.props,t=e.branchHref,n=e.branchName,r=e.repoOwnerAvatarSrc,o=e.repoOwnerHref,i=e.repoOwnerName,a=e.repoAvatarSrc,s=e.repoHref,c=e.repoName,l=e.isWorkspaceUiEnabled,u=y.a.createElement(L,null,y.a.createElement(D,{branchHref:t,branchName:n,repoAvatarSrc:a,repoHref:s,repoName:c,repoOwnerAvatarSrc:r,repoOwnerHref:o,repoOwnerName:i,isWorkspaceUiEnabled:l}),y.a.createElement(w.a,{isLabelHidden:!0,isReadOnly:!0,label:"",value:this.getCheckoutCommand()}));return y.a.createElement(v.a,{content:u,isOpen:this.state.isOpen,onClose:this.handleClose},y.a.createElement(z,{onClick:this.toggleDialog,onKeyPress:this.toggleDialog,role:"button",tabIndex:0},this.props.children))}}]),t}(b.PureComponent);g()(B,"defaultProps",{scm:"git"});var F=n("ZuLr"),q=n("pVnL"),W=n.n(q),U=n("wYey"),H=n.n(U),V=function(){return y.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",version:"1.1"},y.a.createElement("title",null,"Bookmark Small"),y.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},y.a.createElement("g",{id:"bookmark_small",stroke:"#42526E"},y.a.createElement("path",{d:"M8,10.4946557 L4.5,12.9648779 L4.5,3.5 L11.5,3.5 L11.5,12.9648779 L8,10.4946557 Z M9.03990468,6.55184354 C9.00813935,6.49252832 8.992716,6.42590469 8.99539793,6.35872241 C8.99701117,6.29254557 9.02395377,6.22069863 9.07327943,6.16239463 C9.07085952,6.16482337 9.08342129,6.15254076 9.09784453,6.14188232 L8.43238839,6.60966842 C8.39569672,6.63801087 8.36317499,6.66892642 8.3348729,6.70187076 C8.35272526,6.70640483 8.37068219,6.71003345 8.38882996,6.71283073 L9.305,6.71866667 C9.27708952,6.71797905 9.26762618,6.71663315 9.25847558,6.71434036 C9.20501397,6.70658592 9.14286024,6.67186128 9.09076124,6.6198359 L9.10862414,6.64371759 C9.091029,6.62633721 9.07536761,6.60755842 9.0617188,6.58768298 C9.04589954,6.5682401 9.03159918,6.54708588 9.01951047,6.52457763 L9.03990468,6.55184354 Z M8.19642937,7.12205734 C8.19734644,7.13262979 8.19856349,7.14320363 8.20008139,7.15376919 L8.19718231,7.12233161 C8.19693142,7.12223998 8.19668044,7.12214856 8.19642937,7.12205734 Z M8.19876079,7.12291115 L8.21849667,7.25014133 L8.51141373,8.17158892 C8.50802277,8.15820655 8.50448356,8.13144765 8.50515964,8.10469952 C8.50190884,8.07435666 8.52021669,8.00405451 8.55914538,7.9433678 C8.64477095,7.82868297 8.74133836,7.77718035 8.84800723,7.77248392 L8.865,7.772 C8.94293667,7.77442275 9.00658428,7.79621928 9.05663069,7.83277678 L8.36756872,7.23291181 C8.32104671,7.1834695 8.26300712,7.14662527 8.19876079,7.12291115 Z M9.05663069,7.83277678 C9.07005504,7.8425829 9.08250077,7.85345109 9.09398114,7.86529233 L9.0566299,7.8327761 Z M7.80615616,7.13181266 C7.7341756,7.16057315 7.66631976,7.20478955 7.60866455,7.26507052 L6.97624026,7.84101709 C7.01943552,7.80243355 7.0795383,7.77693657 7.14422851,7.77294778 C7.30000931,7.76503431 7.43663576,7.84452606 7.50446668,7.9695277 C7.51385706,7.9762605 7.53543598,8.04531308 7.53498981,8.11519241 C7.53516926,8.12751009 7.533739,8.14214223 7.53071192,8.1576886 L7.79125744,7.23961445 L7.80615616,7.13181266 Z M7.53071192,8.1576886 C7.52783856,8.17244554 7.52352644,8.18802623 7.51778658,8.20323312 L7.53071192,8.1576886 Z M7.66557475,6.69672989 C7.63790958,6.66605775 7.60659076,6.63765418 7.57183571,6.61267169 L6.89261161,6.13500175 C6.91657871,6.15254076 6.92914048,6.16482337 6.93960824,6.17827578 C7.03131437,6.27463625 7.03609325,6.46834045 6.92415666,6.60270364 C6.90038127,6.6356688 6.84554463,6.67820874 6.78125205,6.70401527 C6.77018998,6.70995669 6.73456005,6.71786812 6.69630798,6.71857506 L7.535,6.71866667 C7.58535429,6.712703 7.62821953,6.70541804 7.66557475,6.69672989 Z M6.69630798,6.71857506 C6.6926784,6.71864214 6.68902521,6.71864435 6.68536716,6.71857387 L6.69630798,6.71857506 Z M7.9995697,6.47219363 C8.038112,6.41783475 8.06541979,6.35910032 8.08238934,6.29686481 L8.32738822,5.36362392 C8.32395485,5.37389178 8.31367233,5.39681662 8.29986359,5.41817093 C8.26033743,5.49623476 8.13806343,5.57215669 8,5.57215669 C7.86200217,5.57215669 7.73977876,5.49630688 7.67873918,5.38180252 C7.68049714,5.38510487 7.68164442,5.38773678 7.6826324,5.39058387 L7.91620779,6.29160722 C7.93414014,6.35743239 7.9623164,6.41823599 7.9995697,6.47219363 Z M8.32738822,5.36362392 L8.32861548,5.35894906 C8.32853199,5.35985504 8.32811251,5.36145784 8.32738822,5.3636239 Z M7.74134662,8.01086488 L7.67866455,7.95626281 C7.69821651,7.97670522 7.71922856,7.99489537 7.74134662,8.01086488 Z"}))))},G=function(e){return y.a.createElement(H.a,W()({size:U.size.small,glyph:V},e))},K=(b.PureComponent,n("eq3s")),$=n("E1Xi"),J=n("N7jl"),Y=Object(k.a)("span",{target:"evx2nil0"})("background:",S.colors.N20,";border-radius:",Object(C.f)(),"px;color:",S.colors.N500,";display:inline-block;font-size:12px;font-weight:500;line-height:1;padding:",Object(C.l)()/2,"px ",Object(C.l)(),"px;vertical-align:middle;",Object(J.b)("180px"),";",$.a.upToSmall("\n    font-size: 10px;\n    max-width: ".concat("80px",";\n  ")),""),Q=function(e){function t(){return o()(this,t),c()(this,u()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"render",value:function(){return y.a.createElement(K.a,{content:this.props.name,position:"top"},y.a.createElement(Y,null,this.props.name))}}]),t}(b.PureComponent),X=function(){return y.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",version:"1.1"},y.a.createElement("title",null,"Tag Small"),y.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},y.a.createElement("g",{id:"tag_small",stroke:"#42526E"},y.a.createElement("path",{d:"M3.5,4.70710678 L3.5,8.2773188 L7.96468888,12.2955388 L12.2920077,7.53548811 L7.808132,3.5 L4.70710678,3.5 L3.5,4.70710678 Z M6.5,7.5 C5.94771525,7.5 5.5,7.05228475 5.5,6.5 C5.5,5.94771525 5.94771525,5.5 6.5,5.5 C7.05228475,5.5 7.5,5.94771525 7.5,6.5 C7.5,7.05228475 7.05228475,7.5 6.5,7.5 Z"}))))},Z=function(e){return y.a.createElement(H.a,W()({size:U.size.small,glyph:X},e))};b.PureComponent;n.d(t,"a",function(){return B}),n.d(t,"b",function(){return Q})},RuAs:function(e,t,n){"use strict";var r,o,i,a=n("mrSG"),s=n("q1tI"),c=n("vOnD"),l=n("J+OG"),u=n("oNmO"),d=n("eoVD"),p=n("eq3s"),f=n("zOsC"),h=n("5oxn"),m=n("YyZK"),g=c.default.div(r||(r=a.__makeTemplateObject(["\n  line-height: 0;\n"],["\n  line-height: 0;\n"]))),v=Object(m.a)(l.a),b=c.default.div(o||(o=a.__makeTemplateObject(["\n  ",";\n"],["\n  ",";\n"])),function(e){return e.isSelected?"&& > span, && > span:hover { background: #6c798f; color: #fff; }":""}),y=c.default.span(i||(i=a.__makeTemplateObject(["\n  ",";\n"],["\n  ",";\n"])),function(e){return e.hasElemBefore?"margin-left: 8px;":""}),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={popupPlacement:["bottom","left"]},t.handleRef=function(e){t.setState({target:e||void 0})},t.updatePopupPlacement=function(e){t.setState({popupPlacement:e})},t.handleClose=function(){t.props.onOpenChange&&t.props.onOpenChange({isOpen:!1})},t}return a.__extends(t,e),t.prototype.renderItem=function(e){var t=this.props,n=t.onItemActivated,r=t.onMouseEnter,o=t.onMouseLeave;if(!e.onClick&&!e.value&&!e.value.name)return s.createElement("span",{key:String(e.content)},e.content);var i=s.createElement(b,{key:e.key||e.content,isSelected:e.isActive},s.createElement(u.a,{elemBefore:e.elemBefore,elemAfter:e.elemAfter,isDisabled:e.isDisabled,onClick:function(){return n&&n({item:e})},onMouseEnter:function(){return r&&r({item:e})},onMouseLeave:function(){return o&&o({item:e})},className:e.className},s.createElement(y,{hasElemBefore:!!e.elemBefore},e.content)));return e.tooltipDescription?s.createElement(p.a,{key:e.content,content:e.tooltipDescription,position:e.tooltipPosition},i):i},t.prototype.renderDropdownMenu=function(){var e=this,t=this.state,n=t.target,r=t.popupPlacement,o=this.props,i=o.items,a=o.mountTo,c=o.boundariesElement,l=o.scrollableElement,u=o.offset,p=o.fitHeight,m=o.fitWidth,g=o.isOpen,b=o.zIndex;return s.createElement(f.a,{target:g?n:void 0,mountTo:a,boundariesElement:c,scrollableElement:l,onPlacementChanged:this.updatePopupPlacement,fitHeight:p,fitWidth:m,zIndex:b||h.k,offset:u},s.createElement(v,{isOpen:!0,appearance:"tall",position:r.join(" "),shouldFlip:!1,shouldFitContainer:!0,isTriggerNotTabbable:!0,handleClickOutside:this.handleClose,handleEscapeKeydown:this.handleClose},s.createElement("div",{style:{height:0,minWidth:m||0}}),i.map(function(t,n){return s.createElement(d.a,{key:n},t.items.map(function(t){return e.renderItem(t)}))})))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.isOpen;return s.createElement(g,null,s.createElement("div",{ref:this.handleRef},t),n?this.renderDropdownMenu():null)},t}(s.PureComponent);t.a=w},"SC/4":function(e,t,n){"use strict";var r=n("dXC2"),o=n("VuzU"),i=n("hksT"),a=n("5Df5"),s=n("JYy9");t.a={pmPlugins:function(){return[{name:"gapCursorKeymap",plugin:function(){return e={},i.h(i.v.common,function(e,t,n){var r=n?n.endOfTextblock.bind(n):void 0;return Object(a.a)(s.a.LEFT,r)(e,t,n)},e),i.h(i.w.common,function(e,t,n){var r=n?n.endOfTextblock.bind(n):void 0;return Object(a.a)(s.a.RIGHT,r)(e,t)},e),i.h(i.x.common,function(e,t,n){var r=n?n.endOfTextblock.bind(n):void 0;return Object(a.a)(s.a.UP,r)(e,t)},e),i.h(i.u.common,function(e,t,n){var r=n?n.endOfTextblock.bind(n):void 0;return Object(a.a)(s.a.DOWN,r)(e,t)},e),i.h(i.g.common,Object(a.b)(s.a.BACKWARD),e),i.h(i.j.common,Object(a.b)(s.a.FORWARD),e),Object(o.keymap)(e);var e}},{name:"gapCursor",plugin:function(){return r.a}}]}}},SC0N:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var r=n("uSMm"),o=function(e,t){var n=t.selection,o=n.$from,i=n.$to,a=o.blockRange(i);return!!a&&!!Object(r.findWrapping)(a,e)},i=function(e,t){for(var n=t.depth,r=e.nodes,o=r.bulletList,i=r.orderedList,a=r.listItem,s=t.depth;s>0;s--){var c=t.node(s);if(c.type!==o&&c.type!==i||(n=s),c.type!==o&&c.type!==i&&c.type!==a)break}return n-1}},SCBf:function(e,t,n){"use strict";n.d(t,"b",function(){return a});var r=n("mrSG"),o=n("b/sn"),i=n("Z5Sc"),a=new o.PluginKey("macroPlugin");t.a={pmPlugins:function(){return[{name:"macro",plugin:function(e){return function(e,t){return new o.Plugin({state:{init:function(){return{macroProvider:null}},apply:function(t,n){var o=t.getMeta(a);if(o){var i=r.__assign({},n,o);return e(a,i),i}return n}},key:a,view:function(e){return e.dom.parentNode&&t.subscribe("macroProvider",function(t,n){return n&&Object(i.c)(n)(e)}),{}}})}(e.dispatch,e.providerFactory)}}]}}},SEpd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("pkjM"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><path d="M13.477 9.113l-4.36 4.386a1 1 0 1 0 1.418 1.41l4.36-4.386a1 1 0 0 0-1.418-1.41z" fill="inherit"/><path d="M9.084 10.501l4.358 4.377a1 1 0 1 0 1.418-1.411L10.5 9.09a1 1 0 0 0-1.417 1.411z" fill="inherit"/></g></svg>'},e))};s.displayName="CrossCircleIcon";var c=s;t.default=c},STSs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.StopWordsMap={a:!0,able:!0,about:!0,across:!0,after:!0,all:!0,almost:!0,also:!0,am:!0,among:!0,an:!0,and:!0,any:!0,are:!0,as:!0,at:!0,be:!0,because:!0,been:!0,but:!0,by:!0,can:!0,cannot:!0,could:!0,dear:!0,did:!0,do:!0,does:!0,either:!0,else:!0,ever:!0,every:!0,for:!0,from:!0,get:!0,got:!0,had:!0,has:!0,have:!0,he:!0,her:!0,hers:!0,him:!0,his:!0,how:!0,however:!0,i:!0,if:!0,in:!0,into:!0,is:!0,it:!0,its:!0,just:!0,least:!0,let:!0,like:!0,likely:!0,may:!0,me:!0,might:!0,most:!0,must:!0,my:!0,neither:!0,no:!0,nor:!0,not:!0,of:!0,off:!0,often:!0,on:!0,only:!0,or:!0,other:!0,our:!0,own:!0,rather:!0,said:!0,say:!0,says:!0,she:!0,should:!0,since:!0,so:!0,some:!0,than:!0,that:!0,the:!0,their:!0,them:!0,then:!0,there:!0,these:!0,they:!0,this:!0,tis:!0,to:!0,too:!0,twas:!0,us:!0,wants:!0,was:!0,we:!0,were:!0,what:!0,when:!0,where:!0,which:!0,while:!0,who:!0,whom:!0,why:!0,will:!0,with:!0,would:!0,yet:!0,you:!0,your:!0};r.constructor=!1,r.hasOwnProperty=!1,r.isPrototypeOf=!1,r.propertyIsEnumerable=!1,r.toLocaleString=!1,r.toString=!1,r.valueOf=!1},SdOD:function(e,t,n){"use strict";n.d(t,"j",function(){return W}),n.d(t,"g",function(){return U}),n.d(t,"d",function(){return H}),n.d(t,"b",function(){return V}),n.d(t,"a",function(){return G}),n.d(t,"i",function(){return oe}),n.d(t,"e",function(){return ie}),n.d(t,"f",function(){return ae}),n.d(t,"c",function(){return se}),n.d(t,"h",function(){return ce});var r,o,i,a,s,c=n("mrSG"),l=n("vOnD"),u=n("b0Qh"),d=n("gxo2"),p=n("5oxn"),f=n("WLpT"),h=n("82gI"),m=n("x9Zv"),g=n("mIQt"),v=u.colors.N40A,b=u.colors.B100,y=u.colors.B300,w=u.colors.N300,O=u.colors.B75,E=u.colors.N20,x=u.colors.N50,k=u.colors.R50,C=u.colors.R300,S=u.colors.R75,j=u.colors.N20A,T=u.colors.N60A,M=u.colors.N30,_=u.colors.N90,I=u.colors.N200,P=u.colors.N0,A=u.colors.R500,N=E,R=x,D=O,L=b,z=y,B=k,F=C,q=S,W=p.A,U=20,H=16,V=16,G=180,K=11===f.a.ie_version,$=function(e){return"\n  ."+g.a.CONTROLS_INSERT_LINE+" {\n    background: "+z+";\n    display: none;\n    position: absolute;\n    z-index: "+p.B+";\n    "+e+"\n  }\n"},J=function(e){return"\n  ."+g.a.CONTROLS_INSERT_MARKER+" {\n    background-color: "+R+";\n    position: absolute;\n    height: 4px;\n    width: 4px;\n    border-radius: 50%;\n    pointer-events: none;\n    "+e+"\n  }\n"},Y=function(e){return"\n  border-radius: "+Object(d.f)()+"px;\n  border-width: 0px;\n  display: inline-flex;\n  max-width: 100%;\n  text-align: center;\n  margin: 0px;\n  padding: 0px;\n  text-decoration: none;\n  transition: background 0.1s ease-out 0s, box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38) 0s;\n  outline: none !important;\n  cursor: none;\n\n  > ."+g.a.CONTROLS_BUTTON_ICON+" {\n    display: inline-flex;\n    max-height: 100%;\n    max-width: 100%;\n  }\n  "+e+"\n"},Q=function(e){return"\n  ."+g.a.CONTROLS_BUTTON+" {\n    background: "+N+";\n    border-top: 1px solid "+R+";\n    border-left: 1px solid "+R+";\n    display: block;\n    box-sizing: border-box;\n    padding: 0;\n\n    :focus {\n      outline: none;\n    }\n    "+e+"\n  }\n  .active ."+g.a.CONTROLS_BUTTON+" {\n    color: "+P+";\n    background-color: "+L+";\n    border-color: "+z+";\n  }\n"},X=function(){return"\n  ."+g.a.CONTROLS_BUTTON+":hover {\n    color: "+P+";\n    background-color: "+L+";\n    border-color: "+z+";\n    cursor: pointer;\n  }\n"},Z=function(){return"\n  .danger ."+g.a.CONTROLS_BUTTON+" {\n    background-color: "+q+";\n    border-color: "+F+";\n    position: relative;\n    z-index: "+p.B+";\n  }\n"},ee=function(){return"\n  ."+g.a.CONTROLS_INSERT_BUTTON_INNER+" {\n    position: absolute;\n    z-index: "+(p.B+10)+";\n    bottom: 1px;\n  }\n  ."+g.a.CONTROLS_INSERT_BUTTON_INNER+",\n  ."+g.a.CONTROLS_INSERT_BUTTON+" {\n    height: "+U+"px;\n    width: "+U+"px;\n  }\n  ."+g.a.CONTROLS_INSERT_BUTTON+" {\n    "+Y("\n      background: white;\n      box-shadow: 0 4px 8px -2px "+T+", 0 0 1px "+T+";\n      color: "+w+";\n    ")+"\n  }\n  ."+g.a.CONTROLS_INSERT_LINE+" {\n    display: none;\n  }\n"},te=function(){return"\n  ."+g.a.CONTROLS_INSERT_BUTTON+":hover {\n    background: "+y+";\n    color: white;\n    cursor: pointer;\n  }\n"},ne=function(e){return"\n  ."+g.a.CONTROLS_DELETE_BUTTON_WRAP+",\n  ."+g.a.CONTROLS_DELETE_BUTTON+" {\n    height: "+H+"px;\n    width: "+H+"px;\n  }\n  ."+g.a.CONTROLS_DELETE_BUTTON_WRAP+" {\n    position: absolute;\n    "+e+"\n\n    ."+g.a.CONTROLS_DELETE_BUTTON+" {\n      "+Y("\n        background: "+j+";\n        color: "+w+";\n      ")+"\n    }\n  }\n"},re=function(){return"\n  ."+g.a.CONTROLS_DELETE_BUTTON+":hover {\n    background: "+C+";\n    color: white;\n    cursor: pointer;\n  }\n"},oe=Object(l.css)(r||(r=c.__makeTemplateObject(["\n  ."," button {\n    background: ",";\n    color: ",";\n    cursor: none;\n  }\n\n  .",":not(.",") button:hover {\n    background: ",";\n    color: white !important;\n    cursor: pointer;\n  }\n\n  .ProseMirror {\n    ","\n\n    .less-padding {\n      padding: 0 ","px;\n\n      ."," {\n        padding: 0 ","px;\n      }\n\n      &.","[data-number-column='true'] {\n        padding-left: ","px;\n      }\n    }\n\n    /* Breakout only works on top level */\n    > ."," .","[data-layout='full-width'],\n    > ."," .","[data-layout='wide'] {\n      margin-left: 50%;\n      transform: translateX(-50%);\n    }\n    > * ."," ."," {\n      width: 100% !important;\n    }\n\n    /* Column controls */\n    ."," {\n      height: ","px;\n      box-sizing: border-box;\n      display: none;\n\n      ."," {\n        display: flex;\n      }\n      ."," {\n        position: relative;\n        margin-right: -1px;\n      }\n      .",":last-child > button {\n        border-top-right-radius: ","px;\n      }\n      .",".active .",",\n      .",":hover {\n        z-index: ",";\n        position: relative;\n      }\n      ","\n    }\n    :not(.",") ."," {\n      ","\n      ","\n    }\n    .",",\n    ."," {\n      ","\n      ."," {\n        position: absolute;\n        height: ","px;\n        width: ","px;\n        z-index: ",";\n        &:hover ."," {\n          display: flex;\n        }\n      }\n      ."," {\n        top: -","px;\n        right: -","px;\n      }\n      ."," {\n        top: 2px;\n        left: -","px;\n      }\n    }\n    :not(.",") .",",\n    :not(.",") ."," {\n      ","\n    }\n    .",",\n    ."," {\n      ","\n      ","\n    }\n    :not(.",") ."," {\n      ","\n      ","\n    }\n    .",",\n    ."," {\n      ","\n      ","\n    }\n    :not(.",") ."," {\n      ","\n      ","\n    }\n\n    /* Corner controls */\n    ."," {\n      width: ","px;\n      height: ","px;\n      display: none;\n    }\n    ."," {\n      position: absolute;\n      top: 0;\n      width: ","px;\n      height: ","px;\n      border: 1px solid ",";\n      border-radius: 0;\n      border-top-left-radius: ","px;\n      background: ",";\n      box-sizing: border-box;\n      padding: 0;\n      :focus {\n        outline: none;\n      }\n    }\n    .active ."," {\n      border-color: ",";\n      background: ",";\n    }\n    .","[data-number-column='true'] {\n      .",",\n      ."," {\n        width: ","px;\n      }\n      ."," ."," {\n        border-right-width: 0;\n      }\n    }\n    :not(.",") .",":hover {\n      border-color: ",";\n      background: ",";\n      cursor: pointer;\n    }\n    :not(.",") .",".danger {\n      border-color: ",";\n      background: ",";\n    }\n\n    /* Row controls */\n    ."," {\n      width: ","px;\n      box-sizing: border-box;\n      display: none;\n      position: relative;\n\n      ."," {\n        display: flex;\n        flex-direction: column;\n      }\n      .",":last-child > button {\n        border-bottom-left-radius: ","px;\n      }\n      ."," {\n        position: relative;\n        margin-top: -1px;\n      }\n      .",":hover,\n      .",".active,\n      .",":hover {\n        z-index: ",";\n      }\n      ."," {\n        position: absolute;\n        bottom: -","px;\n        left: -","px;\n        height: ","px;\n        width: ","px;\n        z-index: ",";\n        &:hover ."," {\n          display: flex;\n        }\n      }\n      ","\n      ","\n    }\n    :not(.",") ."," {\n      ","\n      ","\n      ","\n    }\n\n    /* Numbered column */\n    ."," {\n      position: relative;\n      float: right;\n      margin-left: ","px;\n      top: ","px;\n      width: ","px;\n      box-sizing: border-box;\n      border-left: 1px solid ",";\n    }\n    ."," {\n      border-top: 1px solid ",";\n      border-right: 1px solid ",";\n      box-sizing: border-box;\n      margin-top: -1px;\n      padding: 10px 2px;\n      text-align: center;\n      font-size: ","px;\n      background-color: ",";\n      color: ",";\n      border-color: ",";\n\n      :first-child {\n        margin-top: 0;\n      }\n      :last-child {\n        border-bottom: 1px solid ",";\n      }\n    }\n    ."," {\n      .",",\n      .",",\n      ."," {\n        display: block;\n      }\n      ."," {\n        border-left: 0 none;\n        padding-left: 1px;\n        margin-left: 0;\n\n        .",".active {\n          border-bottom: 1px solid ",";\n          border-color: ",";\n          background-color: ",";\n          position: relative;\n          z-index: ",";\n          color: ",";\n        }\n      }\n\n      /* scroll shadows */\n      .",",\n      .","::after {\n        display: block;\n        position: absolute;\n        pointer-events: none;\n        z-index: ",";\n        width: 8px;\n      }\n      .","::after {\n        background: linear-gradient(\n          to left,\n          rgba(99, 114, 130, 0) 0,\n          "," 100%\n        );\n        content: '';\n        height: 100%;\n        right: -8px;\n        bottom: 0;\n      }\n      ."," {\n        background: linear-gradient(\n          to right,\n          rgba(99, 114, 130, 0) 0,\n          "," 100%\n        );\n        height: calc(100% - ","px);\n        left: calc(100% + 2px);\n        top: ","px;\n      }\n    }\n    :not(.",") ."," {\n      ."," {\n        cursor: pointer;\n      }\n      .",":hover {\n        border-bottom: 1px solid ",";\n        border-color: ",";\n        background-color: ",";\n        position: relative;\n        z-index: ",";\n        color: ",";\n      }\n      .",".danger {\n        background-color: ",";\n        border: 1px solid ",";\n        color: ",";\n        position: relative;\n        z-index: ",";\n      }\n    }\n\n    /* Table */\n    ."," > table {\n      overflow: hidden;\n      table-layout: fixed;\n\n      ."," {\n        position: relative;\n      }\n\n      ."," {\n        position: relative;\n        border: 1px solid ",";\n      }\n      /* Give selected cells a blue overlay */\n      .","::after {\n        z-index: ",";\n        position: absolute;\n        content: '';\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n        background: ",";\n        opacity: 0.3;\n        pointer-events: none;\n      }\n    }\n    :not(.",") ."," > table {\n      ."," {\n        position: relative;\n        border: 1px solid ",";\n      }\n      .",".danger,\n      .",".danger {\n        border: 1px solid ",";\n      }\n      .",".danger::after {\n        background: ",";\n      }\n    }\n    .",",\n    ."," {\n      position: absolute;\n      top: ","px;\n    }\n    .","."," {\n      z-index: ",";\n    }\n    ."," {\n      left: 0;\n    }\n    ."," {\n      left: -","px;\n    }\n    ."," {\n      padding-right: ","px;\n      margin-right: -","px;\n      padding-top: ","px;\n      margin-top: -","px;\n      padding-bottom: ","px;\n      margin-bottom: -","px;\n      z-index: ",";\n      /* fixes gap cursor height */\n      overflow: ",";\n      position: relative;\n    }\n    /* =============== TABLE COLUMN RESIZING ================== */\n    ."," {\n      position: absolute;\n      top: 0;\n      width: 2px;\n      pointer-events: none;\n      background-color: ",";\n      z-index: ",";\n    }\n  }\n\n  .ProseMirror."," {\n    ."," {\n      overflow-x: ",";\n      ",";\n    }\n  }\n\n  .ProseMirror."," {\n    cursor: col-resize;\n  }\n\n"],["\n  ."," button {\n    background: ",";\n    color: ",";\n    cursor: none;\n  }\n\n  .",":not(.",") button:hover {\n    background: ",";\n    color: white !important;\n    cursor: pointer;\n  }\n\n  .ProseMirror {\n    ","\n\n    .less-padding {\n      padding: 0 ","px;\n\n      ."," {\n        padding: 0 ","px;\n      }\n\n      &.","[data-number-column='true'] {\n        padding-left: ","px;\n      }\n    }\n\n    /* Breakout only works on top level */\n    > ."," .","[data-layout='full-width'],\n    > ."," .","[data-layout='wide'] {\n      margin-left: 50%;\n      transform: translateX(-50%);\n    }\n    > * ."," ."," {\n      width: 100% !important;\n    }\n\n    /* Column controls */\n    ."," {\n      height: ","px;\n      box-sizing: border-box;\n      display: none;\n\n      ."," {\n        display: flex;\n      }\n      ."," {\n        position: relative;\n        margin-right: -1px;\n      }\n      .",":last-child > button {\n        border-top-right-radius: ","px;\n      }\n      .",".active .",",\n      .",":hover {\n        z-index: ",";\n        position: relative;\n      }\n      ","\n    }\n    :not(.",") ."," {\n      ","\n      ","\n    }\n    .",",\n    ."," {\n      ","\n      ."," {\n        position: absolute;\n        height: ","px;\n        width: ","px;\n        z-index: ",";\n        &:hover ."," {\n          display: flex;\n        }\n      }\n      ."," {\n        top: -","px;\n        right: -","px;\n      }\n      ."," {\n        top: 2px;\n        left: -","px;\n      }\n    }\n    :not(.",") .",",\n    :not(.",") ."," {\n      ","\n    }\n    .",",\n    ."," {\n      ","\n      ","\n    }\n    :not(.",") ."," {\n      ","\n      ","\n    }\n    .",",\n    ."," {\n      ","\n      ","\n    }\n    :not(.",") ."," {\n      ","\n      ","\n    }\n\n    /* Corner controls */\n    ."," {\n      width: ","px;\n      height: ","px;\n      display: none;\n    }\n    ."," {\n      position: absolute;\n      top: 0;\n      width: ","px;\n      height: ","px;\n      border: 1px solid ",";\n      border-radius: 0;\n      border-top-left-radius: ","px;\n      background: ",";\n      box-sizing: border-box;\n      padding: 0;\n      :focus {\n        outline: none;\n      }\n    }\n    .active ."," {\n      border-color: ",";\n      background: ",";\n    }\n    .","[data-number-column='true'] {\n      .",",\n      ."," {\n        width: ","px;\n      }\n      ."," ."," {\n        border-right-width: 0;\n      }\n    }\n    :not(.",") .",":hover {\n      border-color: ",";\n      background: ",";\n      cursor: pointer;\n    }\n    :not(.",") .",".danger {\n      border-color: ",";\n      background: ",";\n    }\n\n    /* Row controls */\n    ."," {\n      width: ","px;\n      box-sizing: border-box;\n      display: none;\n      position: relative;\n\n      ."," {\n        display: flex;\n        flex-direction: column;\n      }\n      .",":last-child > button {\n        border-bottom-left-radius: ","px;\n      }\n      ."," {\n        position: relative;\n        margin-top: -1px;\n      }\n      .",":hover,\n      .",".active,\n      .",":hover {\n        z-index: ",";\n      }\n      ."," {\n        position: absolute;\n        bottom: -","px;\n        left: -","px;\n        height: ","px;\n        width: ","px;\n        z-index: ",";\n        &:hover ."," {\n          display: flex;\n        }\n      }\n      ","\n      ","\n    }\n    :not(.",") ."," {\n      ","\n      ","\n      ","\n    }\n\n    /* Numbered column */\n    ."," {\n      position: relative;\n      float: right;\n      margin-left: ","px;\n      top: ","px;\n      width: ","px;\n      box-sizing: border-box;\n      border-left: 1px solid ",";\n    }\n    ."," {\n      border-top: 1px solid ",";\n      border-right: 1px solid ",";\n      box-sizing: border-box;\n      margin-top: -1px;\n      padding: 10px 2px;\n      text-align: center;\n      font-size: ","px;\n      background-color: ",";\n      color: ",";\n      border-color: ",";\n\n      :first-child {\n        margin-top: 0;\n      }\n      :last-child {\n        border-bottom: 1px solid ",";\n      }\n    }\n    ."," {\n      .",",\n      .",",\n      ."," {\n        display: block;\n      }\n      ."," {\n        border-left: 0 none;\n        padding-left: 1px;\n        margin-left: 0;\n\n        .",".active {\n          border-bottom: 1px solid ",";\n          border-color: ",";\n          background-color: ",";\n          position: relative;\n          z-index: ",";\n          color: ",";\n        }\n      }\n\n      /* scroll shadows */\n      .",",\n      .","::after {\n        display: block;\n        position: absolute;\n        pointer-events: none;\n        z-index: ",";\n        width: 8px;\n      }\n      .","::after {\n        background: linear-gradient(\n          to left,\n          rgba(99, 114, 130, 0) 0,\n          "," 100%\n        );\n        content: '';\n        height: 100%;\n        right: -8px;\n        bottom: 0;\n      }\n      ."," {\n        background: linear-gradient(\n          to right,\n          rgba(99, 114, 130, 0) 0,\n          "," 100%\n        );\n        height: calc(100% - ","px);\n        left: calc(100% + 2px);\n        top: ","px;\n      }\n    }\n    :not(.",") ."," {\n      ."," {\n        cursor: pointer;\n      }\n      .",":hover {\n        border-bottom: 1px solid ",";\n        border-color: ",";\n        background-color: ",";\n        position: relative;\n        z-index: ",";\n        color: ",";\n      }\n      .",".danger {\n        background-color: ",";\n        border: 1px solid ",";\n        color: ",";\n        position: relative;\n        z-index: ",";\n      }\n    }\n\n    /* Table */\n    ."," > table {\n      overflow: hidden;\n      table-layout: fixed;\n\n      ."," {\n        position: relative;\n      }\n\n      ."," {\n        position: relative;\n        border: 1px solid ",";\n      }\n      /* Give selected cells a blue overlay */\n      .","::after {\n        z-index: ",";\n        position: absolute;\n        content: '';\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n        background: ",";\n        opacity: 0.3;\n        pointer-events: none;\n      }\n    }\n    :not(.",") ."," > table {\n      ."," {\n        position: relative;\n        border: 1px solid ",";\n      }\n      .",".danger,\n      .",".danger {\n        border: 1px solid ",";\n      }\n      .",".danger::after {\n        background: ",";\n      }\n    }\n    .",",\n    ."," {\n      position: absolute;\n      top: ","px;\n    }\n    .","."," {\n      z-index: ",";\n    }\n    ."," {\n      left: 0;\n    }\n    ."," {\n      left: -","px;\n    }\n    ."," {\n      padding-right: ","px;\n      margin-right: -","px;\n      padding-top: ","px;\n      margin-top: -","px;\n      padding-bottom: ","px;\n      margin-bottom: -","px;\n      z-index: ",";\n      /* fixes gap cursor height */\n      overflow: ",";\n      position: relative;\n    }\n    /* =============== TABLE COLUMN RESIZING ================== */\n    ."," {\n      position: absolute;\n      top: 0;\n      width: 2px;\n      pointer-events: none;\n      background-color: ",";\n      z-index: ",";\n    }\n  }\n\n  .ProseMirror."," {\n    ."," {\n      overflow-x: ",";\n      ",";\n    }\n  }\n\n  .ProseMirror."," {\n    cursor: col-resize;\n  }\n\n"])),g.a.LAYOUT_BUTTON,j,w,g.a.LAYOUT_BUTTON,g.a.IS_RESIZING,y,h.i,8,g.a.ROW_CONTROLS_WRAPPER,8,g.a.TABLE_CONTAINER,p.x+8-1,g.a.NODEVIEW_WRAPPER,g.a.TABLE_CONTAINER,g.a.NODEVIEW_WRAPPER,g.a.TABLE_CONTAINER,g.a.NODEVIEW_WRAPPER,g.a.TABLE_CONTAINER,g.a.COLUMN_CONTROLS,W,g.a.COLUMN_CONTROLS_INNER,g.a.COLUMN_CONTROLS_BUTTON_WRAP,g.a.COLUMN_CONTROLS_BUTTON_WRAP,3,g.a.COLUMN_CONTROLS_BUTTON_WRAP,g.a.CONTROLS_BUTTON,g.a.CONTROLS_BUTTON,p.B,Q("\n        border-right: 1px solid "+R+";\n        border-bottom: none;\n        height: "+W+"px;\n        width: 100%;\n\n        ."+g.a.CONTROLS_BUTTON_OVERLAY+" {\n          position: absolute;\n          width: 50%;\n          height: 30px;\n          bottom: 0;\n          right: 0;\n        }\n        ."+g.a.CONTROLS_BUTTON_OVERLAY+":first-child {\n          left: 0;\n        }\n      "),g.a.IS_RESIZING,g.a.COLUMN_CONTROLS,X(),Z(),g.a.COLUMN_CONTROLS,g.a.CORNER_CONTROLS,ne("\n        top: -"+(H+4)+"px;\n      "),g.a.CONTROLS_INSERT_BUTTON_WRAP,U,U,p.r,g.a.CONTROLS_INSERT_LINE,g.a.CONTROLS_INSERT_COLUMN,22,U/2,g.a.CONTROLS_INSERT_ROW,H+2,g.a.IS_RESIZING,g.a.COLUMN_CONTROLS,g.a.IS_RESIZING,g.a.CORNER_CONTROLS,re(),g.a.COLUMN_CONTROLS,g.a.CONTROLS_INSERT_COLUMN,ee(),J("\n        bottom: 5px;\n        left: 7px;\n      "),g.a.IS_RESIZING,g.a.CONTROLS_INSERT_COLUMN,te(),$("\n        width: 2px;\n        left: 9px;\n        top: "+(U-2)+"px;\n      "),g.a.ROW_CONTROLS,g.a.CONTROLS_INSERT_ROW,ee(),J("\n        top: 7px;\n        right: 5px;\n      "),g.a.IS_RESIZING,g.a.CONTROLS_INSERT_ROW,te(),$("\n        height: 2px;\n        top: 8px;\n        left: "+(U-2)+"px;\n      "),g.a.CORNER_CONTROLS,W+1,W+1,g.a.CONTROLS_CORNER_BUTTON,W+1,W+1,R,3,N,g.a.CONTROLS_CORNER_BUTTON,z,L,g.a.TABLE_CONTAINER,g.a.CORNER_CONTROLS,g.a.CONTROLS_CORNER_BUTTON,p.A+p.x,g.a.ROW_CONTROLS,g.a.CONTROLS_BUTTON,g.a.IS_RESIZING,g.a.CONTROLS_CORNER_BUTTON,z,L,g.a.IS_RESIZING,g.a.CONTROLS_CORNER_BUTTON,F,q,g.a.ROW_CONTROLS,W,g.a.ROW_CONTROLS_INNER,g.a.ROW_CONTROLS_BUTTON_WRAP,3,g.a.ROW_CONTROLS_BUTTON_WRAP,g.a.ROW_CONTROLS_BUTTON_WRAP,g.a.ROW_CONTROLS_BUTTON_WRAP,g.a.CONTROLS_BUTTON,p.B,g.a.CONTROLS_INSERT_BUTTON_WRAP,U/2,22,U,U,p.r,g.a.CONTROLS_INSERT_LINE,ne("\n        bottom: -"+U/2+"px;\n        left: -"+(H+6)+"px;\n      "),Q("\n        border-bottom: 1px solid "+R+";\n        border-right: 1px solid "+R+";\n        border-radius: 0;\n        height: 100%;\n        width: "+(W+1)+"px;\n\n        ."+g.a.CONTROLS_BUTTON_OVERLAY+" {\n          position: absolute;\n          width: 30px;\n          height: 50%;\n          right: 0;\n          bottom: 0;\n        }\n        ."+g.a.CONTROLS_BUTTON_OVERLAY+":first-child {\n          top: 0;\n        }\n      "),g.a.IS_RESIZING,g.a.ROW_CONTROLS,X(),Z(),re(),g.a.NUMBERED_COLUMN,p.A-1,p.A,p.x+1,p.s,g.a.NUMBERED_COLUMN_BUTTON,p.s,p.s,Object(d.j)(),N,I,p.s,p.s,g.a.WITH_CONTROLS,g.a.COLUMN_CONTROLS,g.a.CORNER_CONTROLS,g.a.ROW_CONTROLS,g.a.NUMBERED_COLUMN,g.a.NUMBERED_COLUMN_BUTTON,z,z,L,p.B,P,g.a.TABLE_RIGHT_SHADOW,g.a.TABLE_LEFT_SHADOW,p.r,g.a.TABLE_LEFT_SHADOW,v,g.a.TABLE_RIGHT_SHADOW,v,h.f+h.e-2,h.f-1,g.a.IS_RESIZING,g.a.WITH_CONTROLS,g.a.NUMBERED_COLUMN_BUTTON,g.a.NUMBERED_COLUMN_BUTTON,z,z,L,p.B,P,g.a.NUMBERED_COLUMN_BUTTON,q,F,A,p.B,g.a.TABLE_NODE_WRAPPER,g.a.CELL_NODEVIEW_WRAPPER,g.a.SELECTED_CELL,z,g.a.SELECTED_CELL,p.r,D,g.a.IS_RESIZING,g.a.TABLE_NODE_WRAPPER,g.a.HOVERED_CELL,z,g.a.SELECTED_CELL,g.a.HOVERED_CELL,F,g.a.SELECTED_CELL,B,g.a.COLUMN_CONTROLS_WRAPPER,g.a.ROW_CONTROLS_WRAPPER,h.f-1,g.a.ROW_CONTROLS_WRAPPER,g.a.TABLE_LEFT_SHADOW,p.B,g.a.COLUMN_CONTROLS_WRAPPER,g.a.ROW_CONTROLS_WRAPPER,W,g.a.TABLE_NODE_WRAPPER,U/2,U/2,U/2,U/2,15,15,p.B-1,K?"none":"auto",g.a.COLUMN_RESIZE_HANDLE,z,p.B,g.a.IS_RESIZING,g.a.TABLE_NODE_WRAPPER,K?"none":"auto",K?"":m.k,g.a.RESIZE_CURSOR),ie=Object(l.css)(o||(o=c.__makeTemplateObject(["\n  > div {\n    background: ",";\n    border-radius: ","px;\n    border: 2px solid ",";\n    display: flex;\n    height: ","px;\n    flex-direction: column;\n  }\n  button {\n    flex-direction: column;\n    padding: 0;\n    height: 100%;\n    display: flex;\n  }\n  span {\n    pointer-events: none;\n  }\n"],["\n  > div {\n    background: ",";\n    border-radius: ","px;\n    border: 2px solid ",";\n    display: flex;\n    height: ","px;\n    flex-direction: column;\n  }\n  button {\n    flex-direction: column;\n    padding: 0;\n    height: 100%;\n    display: flex;\n  }\n  span {\n    pointer-events: none;\n  }\n"])),E,Object(d.f)(),P,V-2),ae=Object(l.css)(i||(i=c.__makeTemplateObject(["\n  .ProseMirror ."," > table {\n    margin-left: 0;\n    margin-right: 0;\n    width: 100%;\n  }\n  .ProseMirror:not(.",") ."," {\n    .",".danger, .",".danger {\n      border: 1px solid ",";\n      background: ",";\n    }\n    .",".danger:after {\n      background: ",";\n    }\n  }\n"],["\n  .ProseMirror ."," > table {\n    margin-left: 0;\n    margin-right: 0;\n    width: 100%;\n  }\n  .ProseMirror:not(.",") ."," {\n    .",".danger, .",".danger {\n      border: 1px solid ",";\n      background: ",";\n    }\n    .",".danger:after {\n      background: ",";\n    }\n  }\n"])),g.a.TABLE_NODE_WRAPPER,g.a.IS_RESIZING,g.a.TABLE_NODE_WRAPPER,g.a.SELECTED_CELL,g.a.HOVERED_CELL,F,B,g.a.SELECTED_CELL,B),se=Object(l.css)(a||(a=c.__makeTemplateObject(["\n  .ProseMirror ."," > table {\n    margin-left: 0;\n    margin-right: 0;\n\n    ",";\n  }\n"],["\n  .ProseMirror ."," > table {\n    margin-left: 0;\n    margin-right: 0;\n\n    ",";\n  }\n"])),g.a.TABLE_NODE_WRAPPER,m.k),ce=Object(l.css)(s||(s=c.__makeTemplateObject(["\n  ."," {\n    border-radius: ","px;\n    background: white;\n    box-shadow: 0 4px 8px -2px ",", 0 0 1px ",";\n    display: block;\n    position: absolute;\n    width: 130px;\n    height: 64px;\n    top: 0;\n    left: ","px;\n    padding: 5px;\n\n    > div {\n      padding: 0;\n    }\n  }\n\n  ."," {\n    border: 1px solid ",";\n    border-radius: ","px;\n    display: block;\n    width: 20px;\n    height: 20px;\n    position: relative;\n    left: -10px;\n\n    &::after {\n      content: '';\n      display: inline-block;\n      width: 1px;\n      position: relative;\n      left: 25px;\n      top: 9px;\n      color: ",";\n    }\n  }\n"],["\n  ."," {\n    border-radius: ","px;\n    background: white;\n    box-shadow: 0 4px 8px -2px ",", 0 0 1px ",";\n    display: block;\n    position: absolute;\n    width: 130px;\n    height: 64px;\n    top: 0;\n    left: ","px;\n    padding: 5px;\n\n    > div {\n      padding: 0;\n    }\n  }\n\n  ."," {\n    border: 1px solid ",";\n    border-radius: ","px;\n    display: block;\n    width: 20px;\n    height: 20px;\n    position: relative;\n    left: -10px;\n\n    &::after {\n      content: '';\n      display: inline-block;\n      width: 1px;\n      position: relative;\n      left: 25px;\n      top: 9px;\n      color: ",";\n    }\n  }\n"])),g.a.CONTEXTUAL_SUBMENU,Object(d.f)(),T,T,G,g.a.CONTEXTUAL_MENU_ICON,M,Object(d.f)(),_)},SgvK:function(e,t,n){"use strict";var r,o,i,a=n("mrSG"),s=n("q1tI"),c=n("JRPe"),l=n("6Fzs"),u=n.n(l),d=n("b0Qh"),p=n("vOnD"),f=p.default.button(r||(r=a.__makeTemplateObject(["\n  height: 26px;\n  width: 26px;\n  background: ",";\n  padding: 0;\n  border-radius: 4px;\n  border: 1px solid ",";\n  cursor: pointer;\n  display: block;\n"],["\n  height: 26px;\n  width: 26px;\n  background: ",";\n  padding: 0;\n  border-radius: 4px;\n  border: 1px solid ",";\n  cursor: pointer;\n  display: block;\n"])),d.colors.N900,d.colors.N0),h=p.default.span(o||(o=a.__makeTemplateObject(["\n  border: 1px solid transparent;\n  margin: 1px;\n  font-size: 0;\n  display: flex;\n  align-items: center;\n  padding: 1px;\n  border-radius: 6px;\n  &:hover {\n    border: 1px solid ",";\n  }\n"],["\n  border: 1px solid transparent;\n  margin: 1px;\n  font-size: 0;\n  display: flex;\n  align-items: center;\n  padding: 1px;\n  border-radius: 6px;\n  &:hover {\n    border: 1px solid ",";\n  }\n"])),d.colors.N50),m=Object(c.e)({"#172b4d":{id:"fabric.theme.#172b4d",defaultMessage:"Dark gray",description:"Name of a color."},"#97a0af":{id:"fabric.theme.#97a0af",defaultMessage:"Light grey",description:"Name of a color."},"#6554c0":{id:"fabric.theme.#6554c0",defaultMessage:"Purple",description:"Name of a color."},"#00b8d9":{id:"fabric.theme.#00b8d9",defaultMessage:"Teal",description:"Name of a color."},"#36b37e":{id:"fabric.theme.#36b37e",defaultMessage:"Green",description:"Name of a color."},"#ff5630":{id:"fabric.theme.#ff5630",defaultMessage:"Red",description:"Name of a color."},"#ff991f":{id:"fabric.theme.#ff991f",defaultMessage:"Orange",description:"Name of a color."},selected:{id:"fabric.editor.selected",defaultMessage:"Selected",description:"If the item is selected or not."}}),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMouseDown=function(e){e.preventDefault()},t.onClick=function(e){var n=t.props,r=n.onClick,o=n.value;e.preventDefault(),r(o)},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.tabIndex,n=e.value,r=e.label,o=e.isSelected,i=e.borderColor,a=e.checkMarkColor,c=void 0===a?d.colors.N0:a,l=e.intl.formatMessage,p="1px solid "+i;return s.createElement(h,null,s.createElement(f,{onClick:this.onClick,onMouseDown:this.onMouseDown,tabIndex:t,className:o?"selected":"",title:n&&m[n]?l(m[n]):r,style:{backgroundColor:n||"transparent",border:p}},o&&s.createElement(u.a,{primaryColor:c,label:l(m.selected)})))},t}(s.PureComponent),v=Object(c.f)(g),b=n("gxo2"),y=p.default.div(i||(i=a.__makeTemplateObject(["\n  padding: 0 ","px;\n  /* Firefox bug fix: https://product-fabric.atlassian.net/browse/ED-1789 */\n  display: flex;\n  flex-wrap: wrap;\n"],["\n  padding: 0 ","px;\n  /* Firefox bug fix: https://product-fabric.atlassian.net/browse/ED-1789 */\n  display: flex;\n  flex-wrap: wrap;\n"])),Object(b.l)()),w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.palette,n=e.cols,r=void 0===n?7:n,o=e.onClick,i=e.selectedColor,c=e.borderColors,l=e.className,u=e.checkMarkColor,d=Array.from(t.entries());return s.createElement(y,{className:l,style:{maxWidth:32*r}},d.map(function(e){var t=a.__read(e,2),n=t[0],r=t[1];return s.createElement(v,{key:n,value:n,borderColor:c[r.toLowerCase()||"transparent"],label:r,onClick:o,isSelected:n===i,checkMarkColor:u})}))},t}(s.PureComponent);t.a=w},SqtV:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("Kxkh");function o(e,t,n,s){return void 0===n&&(n=[]),void 0===s&&(s=document.createElement("canvas")),function(e,t,n,s){for(var c=[],l=0,u=0;u<e.childNodes.length;u++){var d=e.childNodes[u];if(d.nodeType!==Node.COMMENT_NODE)if(d.nodeType===Node.TEXT_NODE){var p=d.parentNode,f=getComputedStyle(p),h=0;h="CODE"===p.nodeName||"PRE"===p.nodeName?a(n,p,d.textContent,f.font):i(n,d.textContent,f.font);var m=p.offsetLeft-t.offsetLeft;c.push(l),l+=h+m,"nowrap"===f.whiteSpace&&s.push(p.offsetWidth+3)}else{var g=getComputedStyle(d);g.minWidth&&g.minWidth.endsWith("px")&&"0px"!==g.minWidth&&s.push(Object(r.f)(g.minWidth));var v=o(d,t,s,n).width;g.display&&g.display.indexOf("inline")>-1?l+=v:(c.push(l),l=v)}}return c.push(l),{minWidth:s.reduce(function(e,t){return Math.max(t,e)},0),width:c.reduce(function(e,t){return Math.max(t,e)},0)}}(e,t||e,s,n)}function i(e,t,n){var r=e.getContext("2d");return r?(n&&(r.font=n),Math.round(r.measureText(t||"").width)):0}function a(e,t,n,r){var o=t;"CODE"===t.nodeName&&(o=t.parentNode);var a=getComputedStyle(o);return n&&"pre"===a.whiteSpace?n.split("\n").reduce(function(t,n){return Math.max(i(e,n,r),t)},0):i(e,n,r)}},T8pV:function(e,t,n){"use strict";var r=n("mrSG"),o=n("q1tI"),i=n("VuzU"),a=n("b/sn"),s=n("hksT"),c=n("7UM5"),l=n("OrOc"),u=n("CnBM"),d=n.n(u)()({loader:function(){return n.e(37).then(n.bind(null,"lf4G")).then(function(e){return e.default})},loading:function(){return null}}),p=n("60f9"),f=n("w9Yk"),h=n("hkcA");n.d(t,"c",function(){return g}),n.d(t,"a",function(){return v});var m=new a.PluginKey("helpDialogPlugin"),g=function(e,t){e=e.setMeta(m,!0),t&&t(e)},v=function(e,t){t(e=e.setMeta(m,!1))};var b={pmPlugins:function(){return[{name:"helpDialog",plugin:function(e){return function(e,t){return new a.Plugin({key:m,state:{init:function(){return{isVisible:!1,imageEnabled:t}},apply:function(t,n,o){var i=t.getMeta(m),a=m.getState(o);if(void 0!==i&&i!==a.isVisible){var s=r.__assign({},a,{isVisible:i});return e(m,s),s}return a}}})}(e.dispatch,!!e.props.legacyImageUploadProvider)}},{name:"helpDialogKeymap",plugin:function(){return y()}}]},contentComponent:function(e){var t=e.editorView,n=e.appearance;return o.createElement(l.a,{plugins:{helpDialog:m,quickInsert:p.b},render:function(e){var r=e.helpDialog,i=void 0===r?{}:r,a=e.quickInsert;return o.createElement(d,{appearance:n,editorView:t,isVisible:i.isVisible,quickInsertEnabled:!!a,imageEnabled:i.imageEnabled})}})}},y=function(){var e={};return s.h(s.z.common,function(e,t){var n=e.tr;return n.getMeta(m)||(c.a.trackEvent("atlassian.editor.help.keyboard"),n=Object(f.a)(n,{action:h.a.CLICKED,actionSubject:h.b.BUTTON,actionSubjectId:h.c.BUTTON_HELP,attributes:{inputMethod:h.e.SHORTCUT},eventType:h.d.UI}),g(n,t)),!0},e),Object(i.keymap)(e)};t.b=b},TKQA:function(e,t){for(var n={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},r={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:";",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},o="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),i="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),a="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),s="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),c=o&&(s||+o[1]<57)||a&&s,l=0;l<10;l++)n[48+l]=n[96+l]=String(l);for(l=1;l<=24;l++)n[l+111]="F"+l;for(l=65;l<=90;l++)n[l]=String.fromCharCode(l+32),r[l]=String.fromCharCode(l);for(var u in n)r.hasOwnProperty(u)||(r[u]=n[u]);function d(e){var t=!(c&&(e.ctrlKey||e.altKey||e.metaKey)||i&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?r:n)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}e.exports=d,d.base=n,d.shift=r},TKSH:function(e,t,n){"use strict";n.d(t,"d",function(){return f}),n.d(t,"f",function(){return h}),n.d(t,"c",function(){return m}),n.d(t,"a",function(){return g}),n.d(t,"b",function(){return v}),n.d(t,"e",function(){return b});var r=n("/IjO"),o=n("mG1W"),i=n("5oxn"),a=n("82gI"),s=n("L6CB"),c=n("Wogn"),l=n("vn11"),u=n("gxo2"),d=n("WbR0"),p={default:i.c,wide:i.C,"full-width":i.m};function f(e,t,n){void 0===t&&(t=0);var r=n.dynamicTextSizing;if(n.isFullWidthModeEnabled)return t?Math.min(t-2*i.o,i.m):i.m;var o=Object(a.b)(e,t,!0);return o.endsWith("px")?parseInt(o,10):r&&"default"===e?function(e){return Object(s.b)(Object(c.d)(e))}(t):p[e]||t}function h(e){return"row"===e.parent.type.spec.tableRole&&e.nodeAfter}function m(e,t,n,o){var i="right"===n?-o:o,a=e.posAtCoords({left:t.clientX+i,top:t.clientY});if(!a||!a.pos)return null;var s=Object(r.cellAround)(e.state.doc.resolve(a.pos));if(!s)return null;if("right"===n)return s.pos;var c=r.TableMap.get(s.node(-1)),l=s.start(-1),u=c.map.indexOf(s.pos-l);return u%c.width==0?null:l+c.map[u-1]}function g(e,t,n){var r=n.colspan,o=n.colwidth,i=o&&o[o.length-1];if(i)return i;var a=e.domAtPos(t+1).node.offsetWidth,s=r||0;if(o)for(var c=0;c<(r||0);c++)o[c]&&(a-=o[c],s--);return a/s}function v(e){for(;e&&"TD"!==e.nodeName&&"TH"!==e.nodeName;)e=e.classList.contains("ProseMirror")?null:e.parentNode;return e}var b=function(e,t,n,r){var a=function(e,t){if(void 0===e)return null;var n=t.doc.resolve(e),r=Object(o.findParentNodeOfTypeClosestToPos)(n,[t.schema.nodes.bodiedExtension,t.schema.nodes.layoutSection]);return r?r.node:null}(e,t);if(a){var s=a.attrs.layout||"default",c=t.schema,l=c.marks.breakout&&c.marks.breakout.isInSet(a.marks);l&&l.attrs.mode&&(s=l.attrs.mode);var p=y(s,n,r);if(a.type===c.nodes.layoutSection&&(p+=2*d.a,n.width>i.G)){p-=(d.b+2)*(a.childCount-1);var f=t.doc.resolve(e),h=Object(o.findParentNodeOfTypeClosestToPos)(f,[t.schema.nodes.layoutColumn]);h&&h.node&&!isNaN(h.node.attrs.width)&&(p=Math.round(p*h.node.attrs.width*.01))}return p-=a.type===c.nodes.layoutSection?3*Object(u.l)():4*Object(u.l)(),p-=2}},y=function(e,t,n){return n?Math.min(t.lineLength,i.m):Object(l.a)(e,t.width)}},TLA3:function(e,t,n){"use strict";var r,o=n("mrSG"),i=n("q1tI"),a=n("i8i4"),s=n("JRPe"),c=n("Ag6W"),l=n.n(c),u=n("74nx"),d=n.n(u),p=n("3YBk"),f=n.n(p),h=n("2hmr"),m=n.n(h),g=n("ZwsQ"),v=n.n(g),b=n("ILAn"),y=n.n(b),w=n("cMMb"),O=n.n(w),E=n("jWee"),x=n.n(E),k=n("nkeG"),C=n.n(k),S=n("9+oj"),j=n.n(S),T=n("uR0y"),M=n.n(T),_=n("lRTb"),I=n.n(_),P=n("lWHl"),A=n.n(P),N=n("JlQV"),R=n.n(N),D=n("2V2O"),L=n.n(D),z=n("RhhA"),B=n.n(z),F=n("IP8J"),q=n.n(F),W=n("Bmzh"),U=n.n(W),H=n("F5zz"),V=n("zOsC"),G=n("5oxn"),K=n("dvq/"),$=n("7UM5"),J=n("hksT"),Y=n("RuAs"),Q=n("AaNc"),X=n("x9Zv"),Z=n("VV6X"),ee=n("+dwX"),te=n("wmfG"),ne=n("8ZH3"),re=n("vOnD").default.span(r||(r=o.__makeTemplateObject(["\n  width: 42px;\n\n  display: flex;\n  align-items: center;\n\n  > div,\n  > span {\n    display: flex;\n  }\n\n  > div > div {\n    display: flex;\n  }\n"],["\n  width: 42px;\n\n  display: flex;\n  align-items: center;\n\n  > div,\n  > span {\n    display: flex;\n  }\n\n  > div > div {\n    display: flex;\n  }\n"]))),oe=n("8S2X"),ie=n("a+fk"),ae=n("Hxsl"),se=n("3DEu"),ce=n("BvRm"),le=n("hkcA"),ue=n("w9Yk"),de=n("rclq");n.d(t,"b",function(){return pe});var pe=Object(s.e)({action:{id:"fabric.editor.action",defaultMessage:"Action item",description:"Also known as a task, to do item, or a checklist"},actionDescription:{id:"fabric.editor.action.description",defaultMessage:"Capture actions to move work forward",description:""},link:{id:"fabric.editor.link",defaultMessage:"Link",description:"Insert a hyperlink"},linkDescription:{id:"fabric.editor.link.description",defaultMessage:"Link to an internal or external page",description:"Insert a hyperlink"},filesAndImages:{id:"fabric.editor.filesAndImages",defaultMessage:"Files & images",description:"Insert one or more files or images"},filesAndImagesDescription:{id:"fabric.editor.filesAndImages.description",defaultMessage:"Add images and other files to your page",description:"Insert one or more files or images"},image:{id:"fabric.editor.image",defaultMessage:"Image",description:"Insert an image."},mention:{id:"fabric.editor.mention",defaultMessage:"Mention",description:"Reference another person in your document"},mentionDescription:{id:"fabric.editor.mention.description",defaultMessage:"Mention someone to send them a notification",description:"Reference another person in your document"},emoji:{id:"fabric.editor.emoji",defaultMessage:"Emoji",description:"Insert an emoticon or smiley :-)"},emojiDescription:{id:"fabric.editor.emoji.description",defaultMessage:"Use emojis to express ideas  and emotions ",description:"Insert an emoticon or smiley :-)"},table:{id:"fabric.editor.table",defaultMessage:"Table",description:"Inserts a table in the document"},tableDescription:{id:"fabric.editor.table.description",defaultMessage:"Insert a table",description:"Inserts a table in the document"},decision:{id:"fabric.editor.decision",defaultMessage:"Decision",description:"Capture a decision youve made"},decisionDescription:{id:"fabric.editor.decision.description",defaultMessage:"Capture decisions so theyre easy to track",description:"Capture a decision youve made"},horizontalRule:{id:"fabric.editor.horizontalRule",defaultMessage:"Divider",description:"A horizontal rule or divider"},horizontalRuleDescription:{id:"fabric.editor.horizontalRule.description",defaultMessage:"Separate content with a horizontal line",description:"A horizontal rule or divider"},date:{id:"fabric.editor.date",defaultMessage:"Date",description:"Opens a date picker that lets you select a date"},dateDescription:{id:"fabric.editor.date.description",defaultMessage:"Add a date using a calendar",description:"Opens a date picker that lets you select a date"},placeholderText:{id:"fabric.editor.placeholderText",defaultMessage:"Placeholder text",description:""},columns:{id:"fabric.editor.columns",defaultMessage:"Layouts",description:"Create a multi column section or layout"},columnsDescription:{id:"fabric.editor.columns.description",defaultMessage:"Structure your page using sections",description:"Create a multi column section or layout"},status:{id:"fabric.editor.status",defaultMessage:"Status",description:"Inserts an item representing the status of an activity to task."},statusDescription:{id:"fabric.editor.status.description",defaultMessage:"Create a colored lozenge with text inside",description:"Inserts an item representing the status of an activity to task."},viewMore:{id:"fabric.editor.viewMore",defaultMessage:"View more",description:""},insertMenu:{id:"fabric.editor.insertMenu",defaultMessage:"Insert",description:"Opens a menu of additional items that can be inserted into your document."}}),fe={codeblock:v.a,panel:y.a,blockquote:j.a},he=function(e){return!document.body.contains(e)},me=function(){},ge=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isOpen:!1,emojiPickerOpen:!1},t.onOpenChange=function(e){var n={isOpen:e.isOpen,emojiPickerOpen:t.state.emojiPickerOpen};t.state.emojiPickerOpen&&!e.open&&(n.emojiPickerOpen=!1),t.setState(n)},t.handleTriggerClick=function(){var e=t.state.isOpen;t.onOpenChange({isOpen:!e})},t.toggleEmojiPicker=function(e){void 0===e&&(e=le.e.TOOLBAR),t.setState(function(e){return{emojiPickerOpen:!e.emojiPickerOpen}},function(){if(t.state.emojiPickerOpen){var n=t.props.dispatchAnalyticsEvent;n&&n({action:le.a.OPENED,actionSubject:le.b.PICKER,actionSubjectId:le.c.PICKER_EMOJI,attributes:{inputMethod:e},eventType:le.d.UI})}})},t.handleButtonRef=function(e){var n=e||null;n&&(t.button=a.findDOMNode(n))},t.handleDropDownButtonRef=function(e,t){t.forEach(function(t){return t.handleRef&&t.handleRef(e)})},t.onPickerRef=function(e){e?document.addEventListener("click",t.handleClickOutside):document.removeEventListener("click",t.handleClickOutside),t.pickerRef=e},t.handleClickOutside=function(e){var n=t.pickerRef&&a.findDOMNode(t.pickerRef);n&&(!e.target||he(e.target)||n.contains(e.target))||t.toggleEmojiPicker()},t.createItems=function(){var e=t.props,n=e.isTypeAheadAllowed,r=e.tableSupported,o=e.mediaUploadsEnabled,a=e.mediaSupported,s=e.imageUploadSupported,c=e.imageUploadEnabled,l=e.mentionsSupported,u=e.availableWrapperBlockTypes,d=e.actionSupported,p=e.decisionSupported,h=e.macroProvider,g=e.linkSupported,v=e.linkDisabled,b=e.emojiDisabled,y=e.emojiProvider,w=e.nativeStatusSupported,E=e.insertMenuItems,k=e.dateEnabled,S=e.placeholderTextEnabled,j=e.horizontalRuleEnabled,T=e.layoutSectionEnabled,_=e.intl.formatMessage,P=[];if(d){var N=_(pe.action);P.push({content:N,value:{name:"action"},elemBefore:i.createElement(x.a,{label:N}),elemAfter:i.createElement(X.g,null,"[]"),shortcut:"[]"})}if(g){var D=_(pe.link),z=Object(J.S)(J.d);P.push({content:D,value:{name:"link"},isDisabled:v,elemBefore:i.createElement(I.a,{label:D}),elemAfter:i.createElement(X.g,null,z),shortcut:z})}if(a&&o){var F=_(pe.filesAndImages);P.push({content:F,value:{name:"media"},elemBefore:i.createElement(m.a,{label:F})})}if(s){var W=_(pe.image);P.push({content:W,value:{name:"image upload"},isDisabled:!c,elemBefore:i.createElement(m.a,{label:W})})}if(l){var H=_(pe.mention);P.push({content:H,value:{name:"mention"},isDisabled:!n,elemBefore:i.createElement(O.a,{label:H}),elemAfter:i.createElement(X.g,null,"@"),shortcut:"@"})}if(y){var V=_(pe.emoji);P.push({content:V,value:{name:"emoji"},isDisabled:b,elemBefore:i.createElement(A.a,{label:V}),handleRef:t.handleButtonRef,elemAfter:i.createElement(X.g,null,":"),shortcut:":"})}if(r){var G=_(pe.table),K=Object(J.S)(J.Q);P.push({content:G,value:{name:"table"},elemBefore:i.createElement(f.a,{label:G}),elemAfter:i.createElement(X.g,null,K),shortcut:K})}if(T){var $=_(pe.columns);P.push({content:$,value:{name:"layout"},elemBefore:i.createElement(q.a,{label:$})})}if(u&&u.forEach(function(e){var t=fe[e.name],n=_(e.title),r=Object(J.S)(Object(J.n)(e.title.defaultMessage));P.push({content:n,value:e,elemBefore:i.createElement(t,{label:n}),elemAfter:i.createElement(X.g,null,r),shortcut:r})}),p){var Y=_(pe.decision);P.push({content:Y,value:{name:"decision"},elemBefore:i.createElement(C.a,{label:Y}),elemAfter:i.createElement(X.g,null,"<>"),shortcut:"<>"})}if(j&&t.props.editorView.state.schema.nodes.rule){var Q=_(pe.horizontalRule);P.push({content:Q,value:{name:"horizontalrule"},elemBefore:i.createElement(U.a,{label:Q}),elemAfter:i.createElement(X.g,null,"---"),shortcut:"---"})}if(k){var Z=_(pe.date);P.push({content:Z,value:{name:"date"},elemBefore:i.createElement(R.a,{label:Z})})}if(S){var ee=_(pe.placeholderText);P.push({content:ee,value:{name:"placeholder text"},elemBefore:i.createElement(B.a,{label:ee})})}if(w){var te=_(pe.status);P.push({content:te,value:{name:"status"},elemBefore:i.createElement(L.a,{label:te})})}if(E)P=P.concat(E);else if(void 0!==h&&h){var ne=_(pe.viewMore);P.push({content:ne,value:{name:"macro"},elemBefore:i.createElement(M.a,{label:ne})})}return P},t.toggleLinkPanel=Object(K.a)("atlassian.editor.format.hyperlink.button",function(e){var n=t.props.editorView;return Object(ae.g)(e)(n.state,n.dispatch),!0}),t.insertMention=Object(K.a)("atlassian.fabric.mention.picker.trigger.button",function(e){var n=t.props.editorView;return Object(se.a)(e)(n.state,n.dispatch),!0}),t.insertTable=Object(K.a)("atlassian.editor.format.table.button",function(e){var n=t.props.editorView;return Object(ue.d)({action:le.a.INSERTED,actionSubject:le.b.DOCUMENT,actionSubjectId:le.c.TABLE,attributes:{inputMethod:e},eventType:le.d.TRACK})(Z.a)(n.state,n.dispatch)}),t.createDate=Object(K.a)("atlassian.editor.format.date.button",function(){var e=t.props.editorView;return Object(ee.b)()(e.state,e.dispatch),Object(ee.c)()(e.state,e.dispatch),!0}),t.createPlaceholderText=Object(K.a)("atlassian.editor.format.placeholder.button",function(){var e=t.props.editorView;return Object(te.c)(e.state,e.dispatch),!0}),t.insertLayoutColumns=Object(K.a)("atlassian.editor.format.layout.button",function(){var e=t.props.editorView;return Object(oe.g)(e.state,e.dispatch),!0}),t.createStatus=Object(K.a)("atlassian.editor.format.status.button",function(){var e=t.props.editorView;return Object(ce.d)()(e),!0}),t.openMediaPicker=Object(K.a)("atlassian.editor.format.media.button",function(e){var n=t.props,r=n.onShowMediaPicker,o=n.dispatchAnalyticsEvent;return r&&(r(),o&&o({action:le.a.OPENED,actionSubject:le.b.PICKER,actionSubjectId:le.c.PICKER_CLOUD,attributes:{inputMethod:e},eventType:le.d.UI})),!0}),t.insertTaskDecision=function(e,n){return Object(K.a)("atlassian.fabric."+e+".trigger.button",function(){var r=t.props.editorView;if(!r)return!1;var o="action"===e?"taskList":"decisionList";return Object(ie.c)(r,o,n),!0})},t.insertHorizontalRule=Object(K.a)("atlassian.editor.format.horizontalrule.button",function(e){var n=t.props.editorView,r=Object(ne.a)(n.state,n.state.selection.from,n.state.selection.to,e);return!!r&&(n.dispatch(r),!0)}),t.insertBlockTypeWithAnalytics=function(e,n){var r,i=t.props,a=i.editorView,s=i.onInsertBlockType,c=i.dispatchAnalyticsEvent,l=a.state,u=a.dispatch,d={};switch(e){case"panel":r=le.c.PANEL,d={panelType:de.a.INFO};break;case"codeblock":r=le.c.CODE_BLOCK;break;case"blockquote":r=le.c.BLOCK_QUOTE}$.a.trackEvent("atlassian.editor.format."+e+".button"),c&&r&&c({action:le.a.INSERTED,actionSubject:le.b.DOCUMENT,actionSubjectId:r,attributes:o.__assign({inputMethod:n},d),eventType:le.d.TRACK}),s(e)(l,u)},t.handleSelectedEmoji=Object(K.a)("atlassian.editor.emoji.button",function(e){var n=t.props,r=n.insertEmoji,o=n.dispatchAnalyticsEvent;return r&&(r(e),o&&o({action:le.a.INSERTED,actionSubject:le.b.DOCUMENT,actionSubjectId:le.c.EMOJI,attributes:{inputMethod:le.e.PICKER},eventType:le.d.TRACK})),t.toggleEmojiPicker(),!0}),t.onItemActivated=function(e){var n=e.item,r=e.inputMethod,o=t.props,i=o.editorView,a=o.editorActions,s=o.onInsertMacroFromMacroBrowser,c=o.macroProvider,l=o.handleImageUpload;switch(n.value.name){case"link":t.toggleLinkPanel(r);break;case"table":t.insertTable(r);break;case"image upload":if(l){var u=i.state,d=i.dispatch;l()(u,d)}break;case"media":t.openMediaPicker(r);break;case"mention":t.insertMention(r);break;case"emoji":t.toggleEmojiPicker(r);break;case"codeblock":case"blockquote":case"panel":t.insertBlockTypeWithAnalytics(n.value.name,r);break;case"action":case"decision":t.insertTaskDecision(n.value.name,r)();break;case"horizontalrule":t.insertHorizontalRule(r);break;case"macro":$.a.trackEvent("atlassian.editor.format."+n.value.name+".button"),s(c)(i.state,i.dispatch);break;case"date":t.createDate();break;case"placeholder text":t.createPlaceholderText();break;case"layout":t.insertLayoutColumns();break;case"status":t.createStatus();break;default:if(n&&n.onClick){n.onClick(a);break}}t.setState({isOpen:!1}),i.hasFocus()||i.focus()},t.insertToolbarMenuItem=function(e){return t.onItemActivated({item:e,inputMethod:le.e.TOOLBAR})},t.insertInsertMenuItem=function(e){var n=e.item;return t.onItemActivated({item:n,inputMethod:le.e.INSERT_MENU})},t}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){e.buttons!==this.props.buttons&&this.setState({emojiPickerOpen:!1})},t.prototype.renderPopup=function(){var e=this.state.emojiPickerOpen,t=this.props,n=t.popupsMountPoint,r=t.popupsBoundariesElement,o=t.popupsScrollableElement,a=t.emojiProvider;return e&&this.button&&a?i.createElement(V.a,{target:this.button,fitHeight:350,fitWidth:350,offset:[0,3],mountTo:n,boundariesElement:r,scrollableElement:o},i.createElement(H.a,{emojiProvider:a,onSelection:this.handleSelectedEmoji,onPickerRef:this.onPickerRef})):null},t.prototype.render=function(){var e=this,t=this.state.isOpen,n=this.props,r=n.popupsMountPoint,o=n.popupsBoundariesElement,a=n.popupsScrollableElement,s=n.isDisabled,c=n.buttons,u=n.isReducedSpacing,p=n.intl.formatMessage,f=this.createItems(),h=f.slice(0,c),m=f.slice(c);if(0===f.length)return null;var g=p(pe.insertMenu),v=function(n,r){return i.createElement(Q.a,{ref:function(t){return e.handleDropDownButtonRef(t,r)},selected:t,disabled:n,onClick:e.handleTriggerClick,spacing:u?"none":"default",title:g+" /",iconBefore:i.createElement(re,null,i.createElement(l.a,{label:g}),i.createElement(X.d,null,i.createElement(d.a,{label:g})))})};return i.createElement(X.b,{width:u?"small":"large"},h.map(function(t){return i.createElement(Q.a,{ref:t.handleRef||me,key:t.content,spacing:u?"none":"default",disabled:s||t.isDisabled,iconBefore:t.elemBefore,selected:t.isActive,title:t.content+(t.shortcut?" "+t.shortcut:""),onClick:function(){return e.insertToolbarMenuItem(t)}})}),i.createElement(X.i,null,this.renderPopup(),m.length>0&&(s?i.createElement("div",null,v(!0,m)):i.createElement(Y.a,{items:[{items:m}],onItemActivated:this.insertInsertMenuItem,onOpenChange:this.onOpenChange,mountTo:r,boundariesElement:o,scrollableElement:a,isOpen:t,fitHeight:188,fitWidth:175,zIndex:G.p},v(!1,m)))))},t}(i.PureComponent);t.a=Object(s.f)(ge)},TUxP:function(e,t,n){"use strict";var r,o=n("mrSG"),i=n("q1tI"),a=n("cQYt"),s=n.n(a),c=n("vOnD"),l=n("b0Qh"),u=n("JaVE"),d=n("gxo2"),p=c.default.span(r||(r=o.__makeTemplateObject(["\n  flex: 0 0 16px;\n  height: 16px;\n  width: 16px;\n  color: ",";\n  margin: 2px ","px 0 0;\n\n  > span {\n    margin: -8px;\n  }\n"],["\n  flex: 0 0 16px;\n  height: 16px;\n  width: 16px;\n  color: ",";\n  margin: 2px ","px 0 0;\n\n  > span {\n    margin: -8px;\n  }\n"])),function(e){return e.showPlaceholder?l.colors.N100:Object(u.a)({light:l.colors.G300,dark:l.colors.G200})},d.l),f=n("lGzI"),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.getAttributionText=function(){var e=this.props,t=e.creator,n=e.lastUpdater||t;if(n&&n.displayName)return"Captured by "+n.displayName},t.prototype.render=function(){var e=this.props,t=e.appearance,n=e.children,r=e.contentRef,o=e.placeholder,a=e.showPlaceholder,c=i.createElement(p,{showPlaceholder:a},i.createElement(s.a,{label:"Decision",size:"large"}));return i.createElement(f.a,{appearance:t,contentRef:r,icon:c,placeholder:o,showPlaceholder:a,attribution:this.getAttributionText()},n)},t.defaultProps={appearance:"inline"},t}(i.PureComponent);t.a=h},TYyE:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r,o=n("mrSG"),i=n("vOnD"),a=n("b0Qh"),s=n("HPDH"),c=n("5oxn"),l=Object(i.css)(r||(r=o.__makeTemplateObject(["\n  &\n    .","::before,\n    .","::after,\n    .","::before,\n    .","::after {\n    display: none;\n    position: absolute;\n    pointer-events: none;\n    z-index: ",";\n    width: ","px;\n    content: '';\n    /* Scrollbar is outside the content in IE, inset in other browsers. */\n    height: calc(100%);\n  }\n\n  & .",", ."," {\n    position: relative;\n  }\n\n  & .","::before {\n    background: linear-gradient(\n      to left,\n      rgba(99, 114, 130, 0) 0,\n      "," 100%\n    );\n    top: 0px;\n    left: 0;\n    display: block;\n  }\n\n  & .","::after {\n    background: linear-gradient(\n      to right,\n      rgba(99, 114, 130, 0) 0,\n      "," 100%\n    );\n    left: calc(100% - ","px);\n    top: 0px;\n    display: block;\n  }\n"],["\n  &\n    .","::before,\n    .","::after,\n    .","::before,\n    .","::after {\n    display: none;\n    position: absolute;\n    pointer-events: none;\n    z-index: ",";\n    width: ","px;\n    content: '';\n    /* Scrollbar is outside the content in IE, inset in other browsers. */\n    height: calc(100%);\n  }\n\n  & .",", ."," {\n    position: relative;\n  }\n\n  & .","::before {\n    background: linear-gradient(\n      to left,\n      rgba(99, 114, 130, 0) 0,\n      "," 100%\n    );\n    top: 0px;\n    left: 0;\n    display: block;\n  }\n\n  & .","::after {\n    background: linear-gradient(\n      to right,\n      rgba(99, 114, 130, 0) 0,\n      "," 100%\n    );\n    left: calc(100% - ","px);\n    top: 0px;\n    display: block;\n  }\n"])),s.b.RIGHT_SHADOW,s.b.RIGHT_SHADOW,s.b.LEFT_SHADOW,s.b.LEFT_SHADOW,c.r,8,s.b.RIGHT_SHADOW,s.b.LEFT_SHADOW,s.b.LEFT_SHADOW,a.colors.N40A,s.b.RIGHT_SHADOW,a.colors.N40A,8)},"TpQ+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M6 8c0-.552.444-1 1-1 .552 0 1 .444 1 1 0 .552-.444 1-1 1-.552 0-1-.444-1-1zm5-1h6a1 1 0 0 1 0 2h-6a1 1 0 0 1 0-2zm-5 5c0-.552.444-1 1-1 .552 0 1 .444 1 1 0 .552-.444 1-1 1-.552 0-1-.444-1-1zm5-1h6a1 1 0 0 1 0 2h-6a1 1 0 0 1 0-2zm-5 5c0-.552.444-1 1-1 .552 0 1 .444 1 1 0 .552-.444 1-1 1-.552 0-1-.444-1-1zm5-1h6a1 1 0 0 1 0 2h-6a1 1 0 0 1 0-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorBulletListIcon";var c=s;t.default=c},TuJS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M7 5h10a1 1 0 0 1 0 2H7a1 1 0 1 1 0-2zm0 12h10a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zM4 9h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorMediaWideIcon";var c=s;t.default=c},U3wt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M8 4h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm1.5 4a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-5zm0 4a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorNoteIcon";var c=s;t.default=c},U6sC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("v+ym"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M12 20a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm1.364-10.964l-2.152 4.11-1.543-1.39a1 1 0 1 0-1.338 1.487l2.5 2.25a1 1 0 0 0 1.555-.279l2.75-5.25a1 1 0 0 0-1.772-.928z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorSuccessIcon";var c=s;t.default=c},UHEz:function(e,t,n){"use strict";function r(e){return"full-page"===e||"full-width"===e}n.d(t,"a",function(){return r})},UHdS:function(e,t){},ULOC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("OLzN");Object.defineProperty(t,"TfIdfSearchIndex",{enumerable:!0,get:function(){return r.TfIdfSearchIndex}});var o=n("iLuq");Object.defineProperty(t,"UnorderedSearchIndex",{enumerable:!0,get:function(){return o.UnorderedSearchIndex}})},UZqS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M18.99 8.99l.01 1.015V19a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5.275c.469 0 .922.164 1.282.464L18.631 7.7c.227.19.359.471.359.768v.521zM12.02 5L12 8.192a.99.99 0 0 0 .994.991h4L12.02 5z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="DocumentFilledIcon";var c=s;t.default=c},Ufn6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" focusable="false" role="presentation"><path d="M6 17h12a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm8-8h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1zM6 5h12a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorAlignImageRightIcon";var c=s;t.default=c},UkFC:function(e,t,n){"use strict";var r,o,i,a;function s(e){return!!e&&e!==o[o.CONTAINER]}function c(e){return!!e.userType&&e.userType===i[i.SPECIAL]}function l(e){return e.userType&&e.userType===i[i.APP]}function u(e){return e.userType&&e.userType===i[i.TEAM]}function d(e){return e&&("@all"===e||"@here"===e)}n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"g",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"i",function(){return u}),n.d(t,"h",function(){return d}),n.d(t,"e",function(){return p}),function(e){e[e.SELF=0]="SELF",e[e.RESTRICTED=1]="RESTRICTED",e[e.DEFAULT=2]="DEFAULT"}(r||(r={})),function(e){e[e.NONE=0]="NONE",e[e.SITE=1]="SITE",e[e.APPLICATION=2]="APPLICATION",e[e.CONTAINER=3]="CONTAINER"}(o||(o={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SPECIAL=1]="SPECIAL",e[e.APP=2]="APP",e[e.TEAM=3]="TEAM",e[e.SYSTEM=4]="SYSTEM"}(i||(i={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SERVICE_ERROR=1]="SERVICE_ERROR",e[e.OK=2]="OK"}(a||(a={}));var p=function(e){return!(!e||!e.then)}},UopG:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("kG6L"),o=n("+5la"),i=n("PPxj"),a=function(e,t,n){return function(a,s){var c=r.b.getState(a),l=Object(o.a)(c,e,n);return!!l&&(s&&s(a.tr.step(new i.a(l.getPos(),t)).setMeta("addToHistory",!1)),!0)}}},"Us+F":function(e,t,n){var r=n("LZbM"),o=n("6DAA");e.exports={distanceInWords:r(),format:o()}},UtC1:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return s});var r=n("a9ac"),o=function(e,t){return e.setMeta(r.b,t)},i=function(e){return function(t){return o(t,{type:"RESOLVE",url:e})}},a=function(e){return function(t){return o(t,{type:"QUEUE",requests:e})}},s=function(e){return function(t){return o(t,{type:"SET_PROVIDER",provider:e})}}},UzTl:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c});var r=n("COqE"),o={"":"...","":"->","":"<-","":"--","":'"',"":'"',"":"'","":"'"},i=new RegExp("["+Object.keys(o).join("")+"]","g"),a=function(e,t,n){var a=n.doc.type.schema,s=a.nodes,c=s.mention,l=s.text,u=s.emoji;Object(r.n)(n.doc,e,t,function(e){var t=e.nodes,n=t.mention,r=t.text,o=t.emoji;return function(e,t,i){if(e.type===n||e.type===o||e.type===r)return i.isTextblock}}(a)).forEach(function(t){var r=t.node,a=t.pos;if(r.type===c||r.type===u)!function(e,t,n,r){var o=r.mapping.map(e),i=r.doc.type.schema;r.replaceWith(o,o+t,i.text(n))}(a,r.nodeSize,r.attrs.text,n);else if(r.type===l&&r.text){!function(e,t,n){for(var r,a=t.substr(e-1),s=n.doc.type.schema;r=i.exec(a);){var c=r[0],l=r.index,u=n.mapping.map(e+l),d=s.text(o[c]);n.replaceWith(u,u+c.length,d)}}(a>e?a:e,r.text,n)}})},s=function(e,t,n){var r=n.doc.type.schema;if(r.marks.code){var o=r.marks.code.create();n.addMark(n.mapping.map(e),n.mapping.map(t),o).setStoredMarks([o])}};function c(e,t,n){return a(e,t,n),s(e,t,n),n}},VBC3:function(e,t,n){e.exports=n.p+"onboarding.7225c9c8db02.svg"},VJZd:function(e,t,n){"use strict";function r(e){return{x:e.clientX,y:e.clientY}}function o(e,t){return!e||e.x!==t.x||e.y!==t.y}function i(e){return!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i})},VUQj:function(e,t,n){"use strict";var r=n("mrSG"),o=n("q1tI"),i=n.n(o),a=n("grSP");t.a=i.a.forwardRef(function(e,t){var n=e.truncationWidth,o=Object(r.__rest)(e,["truncationWidth"]);return i.a.createElement(a.a,Object(r.__assign)({},o,{ref:t,theme:function(e,t){var o=e(t),i=o.buttonStyles,a=Object(r.__rest)(o,["buttonStyles"]);return Object(r.__assign)({buttonStyles:Object(r.__assign)(Object(r.__assign)({},i),n?{maxWidth:n+"px !important"}:{flexShrink:1,minWidth:0})},a)}}))})},VV6X:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return u});var r=n("b/sn"),o=n("/IjO"),i=n("mG1W"),a=n("tQKV"),s=n("cXlQ"),c=function(e){return function(t,n){var a=Object(i.addColumnAt)(e)(t.tr),s=Object(i.findTable)(a.selection),c=o.TableMap.get(s.node).positionAt(0,e,s.node);return n&&n(a.setSelection(r.Selection.near(a.doc.resolve(s.start+c)))),!0}},l=function(e){return function(t,n){var a=Object(s.b)(t),c=a&&e>1||!a&&e>=0,l=Object(i.addRowAt)(e,c)(t.tr),u=Object(i.findTable)(l.selection),d=o.TableMap.get(u.node).positionAt(e,0,u.node);return n&&n(l.setSelection(r.Selection.near(l.doc.resolve(u.start+d)))),!0}},u=function(e,t){if(!Object(a.d)(e))return!1;var n=Object(i.createTable)(e.schema);return t&&t(Object(i.safeInsert)(n)(e.tr).scrollIntoView()),!0}},VekA:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return f}),n.d(t,"d",function(){return h});var r=n("mrSG"),o=n("0iNy"),i=n("anbf"),a=n("Yogy"),s=function(e,t){var n=e.getRatio,i=void 0===n?l:n,a=Object(r.__rest)(e,["getRatio"]),s=c(i),u=t||{},d=u.queryParams,p=void 0===d?{}:d,f=Object(r.__rest)(u,["queryParams"]),h=Object(r.__assign)(Object(r.__assign)({},f),{queryParams:Object(r.__assign)(Object(r.__assign)({},s),p)});return o.b.requestService(a,h)},c=function(e){return e()>1?{scale:"XHDPI",altScale:"XXXHDPI"}:{altScale:"XHDPI"}},l=function(){return window.devicePixelRatio},u=function(e){return e[c(l).altScale]},d=function(e,t){if(Object(i.p)(e)&&t&&t.spriteSheets){var n=e,r=n.height,o=n.width,s=n.x,c=n.y,l=n.xIndex,u=n.yIndex,d=n.spriteRef,p=t.spriteSheets[d];if(p)return{sprite:p,height:r,width:o,x:s,y:c,xIndex:l,yIndex:u}}else if(Object(i.i)(e)){r=e.height,o=e.width;var f=e.imagePath;return function(e,t){return!(!t||!t.mediaApiToken||0!==e.indexOf(t.mediaApiToken.url))}(f,t)?Object(i.c)(e):{height:r,width:o,imagePath:f}}Object(a.a)("failed conversion for representation",e,t)},p=function(e,t){return e&&e!=={}?d(u(e),t):void 0},f=function(e){return{emojis:e.emojis.map(function(t){var n=d(t.representation,e.meta),o=p(t.altRepresentations,e.meta),a=function(e,t){if(!e.skinVariations)return[];var n=e.skinVariations,o=e.id;return n.map(function(e){var n=e.representation,i=e.altRepresentations,a=Object(r.__rest)(e,["representation","altRepresentations"]);return Object(r.__assign)({baseId:o,representation:d(n,t),altRepresentation:p(i,t)},a)})}(t,e.meta),s=(t.representation,t.skinVariations,t.altRepresentations,Object(r.__rest)(t,["representation","skinVariations","altRepresentations"])),c=Object(r.__assign)(Object(r.__assign)({},s),{representation:n,skinVariations:a});return Object(i.a)(c,o)}),mediaApiToken:e.meta&&e.meta.mediaApiToken}},h=function(e,t){return!!(t&&e.altRepresentation&&function(e){return l()>1?2*e:e}(t)>e.representation.height)}},VuzU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=(r=n("TKQA"))&&"object"==typeof r&&"default"in r?r.default:r,i=n("b/sn"),a="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function s(e){var t,n,r,o,i=e.split(/-(?!$)/),s=i[i.length-1];"Space"==s&&(s=" ");for(var c=0;c<i.length-1;c++){var l=i[c];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)?$/i.test(l))r=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);a?o=!0:n=!0}}return t&&(s="Alt-"+s),n&&(s="Ctrl-"+s),o&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function c(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function l(e){var t=function(e){var t=Object.create(null);for(var n in e)t[s(n)]=e[n];return t}(e);return function(e,n){var r,i=o(n),a=1==i.length&&" "!=i,s=t[c(i,n,!a)];if(s&&s(e.state,e.dispatch,e))return!0;if(a&&(n.shiftKey||n.altKey||n.metaKey)&&(r=o.base[n.keyCode])&&r!=i){var l=t[c(r,n,!0)];if(l&&l(e.state,e.dispatch,e))return!0}return!1}}t.keymap=function(e){return new i.Plugin({props:{handleKeyDown:l(e)}})},t.keydownHandler=l},W3cR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("v+ym"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M13.485 11.929l2.122-2.121a1 1 0 0 0-1.415-1.415l-2.12 2.122L9.95 8.393a1 1 0 0 0-1.414 1.415l2.12 2.12-2.12 2.122a1 1 0 0 0 1.414 1.414l2.121-2.12 2.121 2.12a1 1 0 1 0 1.415-1.414l-2.122-2.121zM12 20a8 8 0 1 1 0-16 8 8 0 0 1 0 16z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorErrorIcon";var c=s;t.default=c},WA8B:function(e,t,n){var r=n("yNUO"),o=n("pLeS"),i=n("1CCG");e.exports=function(e){var t=r(e);return i(t,o(t))+1}},WAI7:function(e,t,n){"use strict";n.d(t,"G",function(){return y}),n.d(t,"F",function(){return w}),n.d(t,"u",function(){return O}),n.d(t,"p",function(){return E}),n.d(t,"g",function(){return x}),n.d(t,"k",function(){return k}),n.d(t,"n",function(){return C}),n.d(t,"y",function(){return S}),n.d(t,"z",function(){return j}),n.d(t,"l",function(){return T}),n.d(t,"e",function(){return M}),n.d(t,"A",function(){return _}),n.d(t,"C",function(){return I}),n.d(t,"E",function(){return P}),n.d(t,"x",function(){return A}),n.d(t,"H",function(){return N}),n.d(t,"D",function(){return R}),n.d(t,"I",function(){return D}),n.d(t,"T",function(){return L}),n.d(t,"s",function(){return z}),n.d(t,"q",function(){return B}),n.d(t,"t",function(){return F}),n.d(t,"v",function(){return q}),n.d(t,"M",function(){return W}),n.d(t,"w",function(){return U}),n.d(t,"N",function(){return H}),n.d(t,"L",function(){return V}),n.d(t,"K",function(){return G}),n.d(t,"Q",function(){return K}),n.d(t,"P",function(){return $}),n.d(t,"R",function(){return J}),n.d(t,"c",function(){return Y}),n.d(t,"J",function(){return Q}),n.d(t,"a",function(){return X}),n.d(t,"B",function(){return Z}),n.d(t,"i",function(){return ee}),n.d(t,"j",function(){return te}),n.d(t,"h",function(){return ne}),n.d(t,"o",function(){return re}),n.d(t,"m",function(){return oe}),n.d(t,"r",function(){return ie}),n.d(t,"b",function(){return ae}),n.d(t,"S",function(){return se}),n.d(t,"O",function(){return ce}),n.d(t,"f",function(){return le}),n.d(t,"d",function(){return ue});var r,o,i,a,s,c,l,u,d,p,f,h=n("b0Qh"),m=n("gxo2"),g=n("Ntz7"),v=n("Zkmr"),b=n("GP6N"),y="emoji-common-selected",w="emoji-common-select-on-hover",O="emoji-common-emoji-sprite",E="emoji-common-node",x=Object(b.b)({visibility:"hidden",display:"flex",height:"0px",width:"38px",alignItems:"flex-end",justifyContent:"flex-end",paddingTop:"4px",marginBottom:"-4px"}),k=Object(b.b)({borderRadius:"5px",backgroundColor:"transparent",display:"inline-block",verticalAlign:"middle",margin:"-1px 0",$nest:(r={},r["&."+y+",&."+w+":hover"]={backgroundColor:v.a},r["&."+y+",&."+w+":hover ."+x]={visibility:"visible"},r.img={display:"block"},r)}),C=Object(b.b)({display:"inline-block",margin:"-1px 0",$nest:(o={},o["&."+y+",&."+w+":hover"]={backgroundColor:v.a},o["."+O]={background:"transparent no-repeat",display:"inline-block",verticalAlign:"middle",height:g.f+"px",width:g.f+"px"},o)}),S="emoji-common-placeholder",j=Object(b.b)({margin:"-1px 0",display:"inline-block",background:"#f7f7f7",borderRadius:"20%",verticalAlign:"middle",whiteSpace:"nowrap"}),T=(Object(b.b)({display:"inline-block",verticalAlign:"middle",whiteSpace:"nowrap"}),Object(b.b)({backgroundColor:"transparent",border:"0",cursor:"pointer",padding:0,$nest:(i={},i["&::-moz-focus-inner"]={border:"0 none",padding:0},i["&>span"]={borderRadius:"5px",padding:"8px",$nest:(a={},a["&>."+O]={height:"24px",width:"24px"},a)},i)})),M="emoji-common-buttons",_="emoji-common-preview",I="emoji-common-preview-image",P="emoji-common-preview-text",A="emoji-common-name",N="emoji-common-shortname",R="emoji-common-preview-single-line",D="emoji-common-tone-selector-container",L="emoji-common-with-tone-selector",z="emoji-preview-section",B=Object(b.b)({display:"flex",height:"50px",boxSizing:"border-box",$nest:(s={},s["."+_]={display:"flex",flexDirection:"row",flexWrap:"nowrap",padding:"10px",$nest:(c={},c["."+O]={height:"32px",margin:"0",width:"32px"},c["."+I]={display:"inline-block",flex:"initial",width:"32px",$nest:{"&>span":{width:"32px",height:"32px",padding:0,maxHeight:"inherit",$nest:{"&>img":{position:"relative",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)",maxHeight:"32px",maxWidth:"32px",padding:0,display:"block"}}}}},c["."+P]={display:"flex",flexDirection:"column",marginLeft:"10px",marginTop:"-2px",maxWidth:"285px",width:"285px",flexGrow:1,flexShrink:1,$nest:(l={},l["."+A]={display:"block",color:h.colors.N900,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",$nest:(u={},u["&:first-letter"]={textTransform:"uppercase"},u)},l["."+N]={display:"block",color:h.colors.N200,fontSize:"12px",lineHeight:1,marginBottom:"-2px",overflow:"hidden",paddingBottom:"2px",textOverflow:"ellipsis",whiteSpace:"nowrap"},l)},c["."+R]={paddingTop:"10px",$nest:(d={},d["."+A]={display:"none"},d["."+N]={color:h.colors.N900,fontSize:"14px"},d)},c)},s["."+M]={flex:1,textAlign:"right",margin:"6px"},s["."+D]={flex:1,textAlign:"right",margin:"6px"},s["."+L+" ."+P]={maxWidth:"235px",width:"235px"},s)}),F=Object(b.b)({border:"1px solid #fff",borderRadius:Object(m.f)()+"px",display:"block",margin:"0",overflowX:"hidden",overflowY:"auto",padding:"0"}),q=Object(b.b)({height:"78px",padding:"10px",display:"flex",flexDirection:"column",justifyContent:"space-around"}),W=Object(b.b)({color:h.colors.N300,fontSize:"12px",paddingBottom:"7px"}),U=Object(b.b)({fontSize:"11px"}),H=Object(b.b)({display:"flex",justifyContent:"space-between"}),V=Object(b.b)({flex:"1 1 auto",marginRight:"5px",$nest:{input:{background:"transparent",border:0,fontSize:"12px",outline:"none",width:"100%",height:"22px",$nest:(p={},p["&:invalid"]={boxShadow:"none"},p["&::-ms-clear"]={display:"none"},p)}}}),G=Object(b.b)({flex:"0 0 auto"}),K=Object(b.b)({display:"flex",flexDirection:"column",height:"100px",padding:"10px"}),$=Object(b.b)({display:"flex",justifyContent:"space-between",alignItems:"center",background:h.colors.N20,borderRadius:Object(m.f)()+"px",padding:"10px"}),J=Object(b.b)({$nest:{h5:{color:h.colors.N300,paddingBottom:"4px",fontSize:"12px"},img:{maxHeight:"20px",maxWidth:"50px"}}}),Y=Object(b.b)({paddingLeft:"4px",$nest:{img:{maxHeight:"40px",maxWidth:"100px"}}}),Q=Object(b.b)({display:"flex",justifyContent:"flex-end",alignItems:"center",paddingTop:"10px"}),X=Object(b.b)({alignSelf:"center",marginLeft:"10px"}),Z="emoji-preview-button-group",ee=Object(b.b)({height:"100px",padding:"10px",display:"flex",flexDirection:"column",justifyContent:"flex-end",fontSize:"12px"}),te=Object(b.b)({height:"64px",$nest:{":first-child":{color:h.colors.N300,lineHeight:"16px"}}}),ne=Object(b.b)({display:"flex",height:"40px",alignItems:"center",justifyContent:"space-between",$nest:(f={img:{maxHeight:"32px",maxWidth:"72px"}},f["."+Z]={display:"flex"},f[".emoji-submit-delete"]={width:"84px",fontWeight:"bold",marginRight:"4px"},f.button={display:"flex",justifyContent:"center",fontSize:"14px",$nest:{div:{display:"flex"}}},f)}),re=Object(b.b)({display:"flex",color:h.colors.R400,alignItems:"center",justifyContent:"flex-end",paddingRight:"4px"}),oe=Object(b.b)({display:"flex",color:h.colors.R300,paddingRight:"10px",justifyContent:"flex-start"}),ie=Object(b.b)({display:"inline-flex",color:h.colors.R400,paddingRight:"10px",justifyContent:"flex-end",alignItems:"center"}),ae=Object(b.b)({maxWidth:"285px"}),se=Object(b.b)({maxWidth:"172px",justifyContent:"center",fontWeight:"bold",marginRight:"4px",$nest:{div:{display:"flex"}}}),ce=Object(b.b)({maxWidth:"187px",justifyContent:"center",marginRight:"4px",$nest:{div:{display:"flex"}}}),le=Object(b.b)({maxWidth:"100px"}),ue=Object(b.b)({marginRight:"10px",marginLeft:"10px"})},WHpu:function(e,t,n){"use strict";var r=n("mrSG"),o=n("+WM3"),i=n("q1tI"),a=n("TSYQ"),s=n.n(a),c=n("JRPe"),l=n("anbf"),u=n("QPf0"),d=n("7P7x"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.id,n=e.title,o=e.className;return i.createElement("div",{id:t,"data-category-id":t,className:s()(o)},i.createElement("div",{className:d.e},Object(l.m)(n)?i.createElement(c.a,Object(r.__assign)({},u.a[n])):n))},t}(i.PureComponent),f=n("pqbV"),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.emojis,n=e.onSelected,r=e.onMouseMove,o=e.title,a=e.showDelete,s=e.onDelete;return i.createElement("div",{className:d.k},t.map(function(e){var t=e.shortName,c=e.id,l=c?c+"-"+o:t+"-"+o;return i.createElement("span",{className:d.f,key:l},i.createElement(f.a,{emoji:e,selectOnHover:!0,onSelected:n,onMouseMove:r,showDelete:a,onDelete:s,placeholderSize:24}))}))},t}(i.PureComponent),m=n("cNDh"),g=n("UN/d"),v=n.n(g),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onBlur=function(){var e=document.activeElement;e instanceof HTMLElement&&e.getAttribute("data-emoji-picker-container")&&t.restoreInputFocus()},t.onChange=function(e){t.saveInputSelection(),t.props.onChange(e)},t.focusInput=function(){t.inputRef&&t.inputRef.focus()},t.handleInputRef=function(e){e&&(t.inputRef=e,window.setTimeout(t.focusInput))},t}return Object(r.__extends)(t,e),t.prototype.saveInputSelection=function(){if(this.inputSelection=void 0,this.inputRef){var e=this.inputRef,t=e.selectionStart,n=e.selectionEnd,r=e.selectionDirection;t&&n&&r&&(this.inputSelection={selectionStart:t,selectionEnd:n,selectionDirection:r})}},t.prototype.restoreInputFocus=function(){if(this.focusInput(),this.inputSelection&&this.inputRef&&this.inputRef.setSelectionRange){var e=this.inputSelection,t=e.selectionStart,n=e.selectionEnd,r=e.selectionDirection;this.inputRef.setSelectionRange(t,n,r)}},t.prototype.render=function(){var e=this,t=this.props,n=t.style,o=t.query;return i.createElement("div",{className:d.n,style:n},i.createElement(c.a,Object(r.__assign)({},u.a.searchLabel),function(t){return i.createElement(m.a,{appearance:"standard",isCompact:!0,isFitContainerWidthEnabled:!0},i.createElement("span",{className:d.o},i.createElement(v.a,{label:t})),i.createElement("input",{className:d.m,autoComplete:"off",disabled:!1,name:"search",placeholder:t+"...",required:!1,onChange:e.onChange,value:o||"",ref:e.handleInputRef,onBlur:e.onBlur}))}))},t.defaultProps={style:{}},t}(i.PureComponent),y=n("yPw8");n.d(t,"d",function(){return O}),n.d(t,"b",function(){return E}),n.d(t,"c",function(){return x}),n.d(t,"a",function(){return k}),n.d(t,"e",function(){return C});var w=function(){return function(e,t){this.props=e,this.height=t}}(),O=function(e){function t(t){var n=e.call(this,t,y.a.searchHeight)||this;return n.renderItem=function(){return i.createElement(b,Object(r.__assign)({},n.props))},n}return Object(r.__extends)(t,e),t}(w),E=function(e){function t(t){var n=e.call(this,t,y.a.emojiRowHeight)||this;return n.renderItem=function(){return i.createElement(h,Object(r.__assign)({},n.props))},n}return Object(r.__extends)(t,e),t}(w),x=function(e){function t(){var t=e.call(this,{},y.a.loadingRowHeight)||this;return t.renderItem=function(){return i.createElement("div",{className:d.l},i.createElement("div",null,i.createElement(o.a,{size:"medium"})))},t}return Object(r.__extends)(t,e),t}(w),k=function(e){function t(t){var n=e.call(this,t,y.a.categoryHeadingHeight)||this;return n.renderItem=function(){return i.createElement(p,Object(r.__assign)({},n.props))},n}return Object(r.__extends)(t,e),t}(w),C=function(e,t){var n=t.index,r=t.key,o=t.style,a=e[n];return i.createElement("div",{style:o,key:r},a.renderItem(t))}},WJXj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sizes=void 0;t.sizes={small:"16px",medium:"24px",large:"32px",xlarge:"48px"}},WKKU:function(e,t,n){"use strict";var r=n("mrSG"),o=n("qpc0"),i=n("Ntz7"),a=n("anbf"),s=n("QFRY"),c=new RegExp("[---------]|[A-Za-z-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|0-9-------------------------------------------------------------]+[---------------------------------------------------------------------------------|']*[A-Za-z-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]*","gi");var l=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.chain=e}return e.prototype.compare=function(e,t){for(var n=0;n<this.chain.length;n++){var r=this.chain[n].compare(e,t);if(0!==r)return r}return 0},e}(),u=function(){function e(e){this.query=e}return e.prototype.compare=function(e,t){var n=e.ascii&&-1!==e.ascii.indexOf(this.query),r=t.ascii&&-1!==t.ascii.indexOf(this.query);return n&&!r?-1:!n&&r?1:0},e}(),d=function(){function e(e){this.colonQuery=":"+e+":",this.typeComparator=new p(!0)}return e.prototype.compare=function(e,t){return e.shortName===this.colonQuery&&t.shortName===this.colonQuery?this.typeComparator.compare(e,t):e.shortName===this.colonQuery?-1:t.shortName===this.colonQuery?1:0},e}(),p=function(){function e(e){this.typeToNumber=e?new Map([["SITE",0],["ATLASSIAN",1],["STANDARD",2]]):new Map([["STANDARD",0],["ATLASSIAN",1],["SITE",2]])}return e.prototype.compare=function(e,t){return this.emojiTypeToOrdinal(e)-this.emojiTypeToOrdinal(t)},e.prototype.emojiTypeToOrdinal=function(e){var t=this.typeToNumber.get(e.type);return void 0===t&&(t=10),t},e}(),f=function(){function e(e){var t=this;this.positionLookup=new Map,e.map(function(e,n){return t.positionLookup.set(e,n+1)})}return e.prototype.compare=function(e,t){return e.id&&t.id?this.getPositionInOrder(e)-this.getPositionInOrder(t):0},e.prototype.getPositionInOrder=function(e){var t=e.id?e.id:"0";Object(a.h)(e)&&(t=e.baseId);var n=this.positionLookup.get(t);return n||i.a},e}(),h=function(){function e(e,t){if(this.query=e,!t)throw new Error("propertyToCompare is required");this.propertyName=t}return e.prototype.getScore=function(e){var t=e[this.propertyName],n=t?t.indexOf(this.query):i.a;return-1===n?i.a:n},e.prototype.compare=function(e,t){return this.getScore(e)-this.getScore(t)},e}(),m=function(){function e(){}return Object.defineProperty(e,"Instance",{get:function(){return this.INSTANCE||(this.INSTANCE=new this)},enumerable:!0,configurable:!0}),e.prototype.compare=function(e,t){return(e.order?e.order:i.a)-(t.order?t.order:i.a)},e}(),g=function(){function e(){}return Object.defineProperty(e,"Instance",{get:function(){return this.INSTANCE||(this.INSTANCE=new this)},enumerable:!0,configurable:!0}),e.prototype.compare=function(e,t){return e.shortName.localeCompare(t.shortName)},e}(),v=function(){function e(e){if(e.maxDuplicates<1)throw new RangeError("The maxDuplicates option must be at least 1");if(e.minUniqueItems<1)throw new RangeError("The minUniqueItems option must be at least 1");this.maximumSize=e.maxDuplicates*e.minUniqueItems,this.perItemSize=e.maxDuplicates,this.createEmptyState()}return e.prototype.enqueue=function(e){this.enqueueWithoutOrdering(e),this.itemsOrderedByFrequency=this.orderItemsByFrequency()},e.prototype.getItemsOrderedByDuplicateCount=function(){return this.itemsOrderedByFrequency},e.prototype.clear=function(){this.createEmptyState()},e.prototype.bulkEnqueue=function(e){var t=this;e.map(function(e){return t.enqueueWithoutOrdering(e)}),this.itemsOrderedByFrequency=this.orderItemsByFrequency()},e.prototype.getItems=function(){return this.items},e.prototype.createEmptyState=function(){this.items=new Array,this.itemCountMap=new Map,this.itemsOrderedByFrequency=new Array},e.prototype.enqueueWithoutOrdering=function(e){var t=this.itemCountMap.get(e);t&&t>=this.perItemSize?this.removeFirstOccurrence(e):this.items.length>=this.maximumSize&&this.remove(),this.add(e)},e.prototype.orderItemsByFrequency=function(){return Array.from(this.itemCountMap.entries()).sort(function(e,t){return t[1]-e[1]}).map(function(e){return e[0]})},e.prototype.decrementCount=function(e){var t=this.itemCountMap.get(e);t&&(--t>0?this.itemCountMap.set(e,t):this.itemCountMap.delete(e))},e.prototype.removeFirstOccurrence=function(e){var t=this.items.indexOf(e);-1!==t&&(this.items.splice(t,1),this.decrementCount(e))},e.prototype.remove=function(){var e=this.items.shift();return void 0!==e&&this.decrementCount(e),e},e.prototype.add=function(e){this.items.push(e);var t=this.itemCountMap.get(e);t?this.itemCountMap.set(e,t+1):this.itemCountMap.set(e,1)},e}(),b=n("Yogy"),y=function(e){function t(n){var r=e.call(this,n)||this;return r.storage=n.storage,r.prefixedStorageKey=n.storagePrefix+"."+t.storageKey,r.load(),r}return Object(r.__extends)(t,e),t.prototype.enqueue=function(t){e.prototype.enqueue.call(this,t),this.save()},t.prototype.clear=function(){e.prototype.clear.call(this),this.storage.removeItem(this.prefixedStorageKey)},t.prototype.load=function(){var e=this.storage.getItem(this.prefixedStorageKey);if(e)try{var t=JSON.parse(e);this.bulkEnqueue(t)}catch(e){Object(b.a)("Error parsing the queue stored as "+this.prefixedStorageKey+" key from storage",e)}},t.prototype.save=function(){var e=JSON.stringify(this.getItems());try{this.storage.setItem(this.prefixedStorageKey,e)}catch(e){Object(b.a)("Error saving the queued items as "+this.prefixedStorageKey,e)}},t.storageKey="lastUsed",t}(v),w=function(){function e(t){void 0===t&&(t=!0);var n=e.queueOptions;if(t&&n.storage){var o=Object(r.__assign)(Object(r.__assign)({},n),{storage:n.storage});this.queue=new y(o)}else this.queue=new v(n);this.gateway=new O(10)}return e.prototype.recordUsage=function(e){var t=this,n=e.id;n&&(Object(a.h)(e)&&(n=e.baseId),this.gateway.submit(function(){n&&t.queue.enqueue(n)}))},e.prototype.getOrder=function(){return this.queue.getItemsOrderedByDuplicateCount()},e.prototype.clear=function(){this.queue.clear()},e.queueOptions={storage:"undefined"!=typeof window&&window.localStorage,storagePrefix:i.l,maxDuplicates:25,minUniqueItems:5},e}(),O=function(){function e(e){if(e<1)throw new RangeError("The maximumPermitted parameter must be 1 or more.");this.maximumPermitted=e,this.count=0}return e.prototype.submit=function(e){var t=this;if(this.count>=this.maximumPermitted)return!1;this.count++;return window.setTimeout(function(){try{e()}finally{t.completed()}}),!0},e.prototype.completed=function(){this.count--},e}();n.d(t,"b",function(){return C});var E=function(){function e(){}return e.prototype.tokenize=function(e){return this.tokenizeAsTokens(e).map(function(e){return e.token})},e.prototype.tokenizeAsTokens=function(e){var t,n=[];for(c.lastIndex=0;null!==(t=c.exec(e));)t[0]&&n.push({token:t[0],start:t.index});return n},e}(),x=function(e,t,n){var r=t(e);n.has(r)||n.set(r,[]);var o=n.get(r);if(o&&o.push(e),Object(a.g)(e)){var i=e.skinVariations;i&&i.forEach(function(e){return x(e,t,n)})}},k=function(e,t){var n=e.get(t);if(n&&n.length)return n[n.length-1]},C=function(e,t){if(Object(a.g)(e)&&t){var n=t.skinTone;if(n&&e.skinVariations&&e.skinVariations.length){var r=e.skinVariations[n-1];if(r)return r}}return e},S=function(){function e(e,t){this.emojis=e,this.initMembers(t)}return e.prototype.all=function(){var e={sort:s.a.None};return this.search("",e)},e.prototype.search=function(e,t){var n=[],r=function(e){return void 0===e&&(e=""),0===e.indexOf(":")?{nameQuery:e.slice(1),asciiQuery:e}:{nameQuery:e,asciiQuery:""}}(e),o=r.nameQuery,i=r.asciiQuery;return o?(n=this.fullSearch.search(o),i&&(n=this.withAsciiMatch(i,n))):n=this.getAllSearchableEmojis(),{emojis:n=this.applySearchOptions(n,e,t),query:e}},e.prototype.findAllMatchingShortName=function(e){return this.shortNameMap.get(e)||[]},e.prototype.findByShortName=function(e){return k(this.shortNameMap,e)},e.prototype.findById=function(e){return k(this.idMap,e)},e.prototype.findByAsciiRepresentation=function(e){return this.asciiMap.get(e)},e.prototype.findInCategory=function(e){return e===i.k?this.getFrequentlyUsed():this.all().emojis.filter(function(t){return t.category===e})},e.prototype.addUnknownEmoji=function(e){this.emojis=Object(r.__spread)(this.emojis,[e]),this.fullSearch.addDocuments([e]),this.addToMaps(e),this.addToDynamicCategories(e)},e.prototype.getAsciiMap=function(){return this.asciiMap},e.prototype.getFrequentlyUsed=function(e){var t=this,n=this.usageTracker.getOrder().map(function(e){return t.findById(e)}).filter(function(e){return void 0!==e});return e&&(n=this.applySearchOptions(n,"",e)),n},e.prototype.getDynamicCategoryList=function(){return this.dynamicCategoryList.slice()},e.prototype.used=function(e){var t=this;this.usageTracker.recordUsage(e),-1===this.dynamicCategoryList.indexOf(i.k)&&window.setTimeout(function(){t.dynamicCategoryList.push(i.k)})},e.prototype.delete=function(e){var t,n,r,o,i=(t=this.emojis,r=(n=e).id,o=-1,t.forEach(function(e,t){(e.id&&e.id===r||!e.id&&!r&&e.shortName===n.shortName)&&(o=t)}),o);-1!==i&&(this.emojis.splice(i,1),this.initMembers(this.usageTracker))},e.prototype.withAsciiMatch=function(e,t){var n=t,o=this.findByAsciiRepresentation(e);return o&&(n=t.filter(function(e){return e.id!==o.id}),n=Object(r.__spread)([o],n)),n},e.prototype.applySearchOptions=function(e,t,n){var o;return n||(n={}),void 0===n.sort&&(n.sort=s.a.Default),n.sort===s.a.Default?o=function(e,t){var n=e?e.replace(/:/g,"").toLowerCase().trim():void 0,o=[];e&&o.push(new u(e)),n&&o.push(new d(n)),t&&t.length&&o.push(new f(t)),n&&o.push(new h(n,"shortName"),new h(n,"name")),o.push(m.Instance,g.Instance);var i=new(l.bind.apply(l,Object(r.__spread)([void 0],o)));return i.compare=i.compare.bind(i),i}(t,this.usageTracker.getOrder()):n.sort===s.a.UsageFrequency&&(o=function(e){var t=new l(new f(e),new p,m.Instance);return t.compare=t.compare.bind(t),t}(this.usageTracker.getOrder())),o&&(o.compare=o.compare.bind(o),e=e.sort(o.compare)),n.limit&&n.limit>0&&(e=e.slice(0,n.limit)),n.skinTone?e.map(function(e){return C(e,n)}):e},e.prototype.initMembers=function(e){this.usageTracker=e||new w,this.initRepositoryMetadata(),this.initSearchIndex()},e.prototype.initRepositoryMetadata=function(){var e=this;this.shortNameMap=new Map,this.idMap=new Map,this.asciiMap=new Map;var t=new Set;this.emojis.forEach(function(n){t.add(n.category),e.addToMaps(n)}),this.usageTracker.getOrder().length&&t.add(i.k),this.dynamicCategoryList=Array.from(t).filter(function(e){return-1===i.e.indexOf(e)})},e.prototype.initSearchIndex=function(){this.fullSearch=new o.Search("id"),this.fullSearch.tokenizer=new E,this.fullSearch.searchIndex=new o.UnorderedSearchIndex,this.fullSearch.addIndex("name"),this.fullSearch.addIndex("shortName"),this.fullSearch.addDocuments(this.getAllSearchableEmojis())},e.prototype.getAllSearchableEmojis=function(){return this.emojis.filter(function(e){return e.searchable})},e.prototype.addToMaps=function(t){var n=this;void 0!==t.order&&-1!==t.order||(t.order=e.defaultEmojiWeight),void 0===t.id&&(t.id=e.defaultEmojiWeight.toString()),x(t,function(e){return e.shortName},this.shortNameMap),x(t,function(e){return e.id},this.idMap),t.ascii&&t.ascii.forEach(function(e){return n.asciiMap.set(e,t)})},e.prototype.addToDynamicCategories=function(e){var t=Object(a.e)(e);-1===i.e.indexOf(t)&&-1===this.dynamicCategoryList.indexOf(t)&&this.dynamicCategoryList.push(t)},e.defaultEmojiWeight=1e6,e}();t.a=S},WL5x:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("mrSG"),o=n("cjKa"),i=n("YGhV"),a=n("BYS2"),s=n("gz8L"),c=function(){function e(e){this.mediaClientConfig=e,this.mediaStore=new i.a({authProvider:e.authProvider}),this.config=e,this.collection=new a.a(this.mediaStore),this.file=new s.a(this.mediaStore),this.eventEmitter=new o.EventEmitter2}return e.prototype.getImage=function(e,t,n,r){return this.mediaStore.getImage(e,t,n,r)},e.prototype.getImageUrl=function(e,t){return this.mediaStore.getFileImageURL(e,t)},e.prototype.getImageMetadata=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(n){switch(n.label){case 0:return[4,this.mediaStore.getImageMetadata(e,t)];case 1:return[2,n.sent().metadata]}})})},e.prototype.on=function(e,t){this.eventEmitter.on(e,t)},e.prototype.off=function(e,t){this.eventEmitter.off(e,t)},e.prototype.emit=function(e,t){return this.eventEmitter.emit(e,t)},e}()},WLpT:function(e,t,n){"use strict";var r={mac:!1,ie:!1,ie_version:0,gecko:!1,chrome:!1,ios:!1,webkit:!1};if("undefined"!=typeof navigator){var o=/Edge\/(\d+)/.exec(navigator.userAgent),i=/MSIE \d/.test(navigator.userAgent),a=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);r.mac=/Mac/.test(navigator.platform);var s=r.ie=!!(i||a||o);r.ie_version=i?document.documentMode||6:a?+a[1]:o?+o[1]:null,r.gecko=!s&&/gecko\/\d/i.test(navigator.userAgent),r.chrome=!s&&/Chrome\//.test(navigator.userAgent),r.ios=!s&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),r.webkit=!s&&!!document.documentElement&&"WebkitAppearance"in document.documentElement.style}t.a=r},WbR0:function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return p});var r,o=n("mrSG"),i=n("vOnD"),a=n("gxo2"),s=n("b0Qh"),c=n("PyW4"),l=n("5oxn"),u=13,d=Object(a.l)()-2,p=Object(i.css)(r||(r=o.__makeTemplateObject(["\n  .ProseMirror {\n    "," [data-layout-section] {\n      position: relative;\n      width: calc(100% + ","px);\n      /* left-padding (12px) + layout-column-border (1px) */\n      left: -","px;\n      margin-top: ","px;\n\n      /* Inner cursor located 26px from left */\n      & > * {\n        flex: 1;\n        min-width: 0;\n        border: 1px solid ",";\n        border-radius: 5px;\n\n        > div {\n          padding: ","px;\n        }\n      }\n\n      & > * + * {\n        margin-left: ","px;\n      }\n\n      @media screen and (max-width: ","px) {\n        & > * + * {\n          margin-left: 0;\n        }\n      }\n\n      /**\n        * Border to show when node is selected\n        * Helps visualise when 'selectNodeBackwards' selects the node for deletion\n        */\n      &.ProseMirror-selectednode > * {\n        border-color: ",";\n      }\n      /* Shows the border when cursor is inside a layout */\n      &.selected > * {\n        border-color: ",";\n      }\n\n      &.selected.danger > [data-layout-column] {\n        background-color: ",";\n        border: ","px solid ",";\n      }\n    }\n  }\n"],["\n  .ProseMirror {\n    "," [data-layout-section] {\n      position: relative;\n      width: calc(100% + ","px);\n      /* left-padding (12px) + layout-column-border (1px) */\n      left: -","px;\n      margin-top: ","px;\n\n      /* Inner cursor located 26px from left */\n      & > * {\n        flex: 1;\n        min-width: 0;\n        border: 1px solid ",";\n        border-radius: 5px;\n\n        > div {\n          padding: ","px;\n        }\n      }\n\n      & > * + * {\n        margin-left: ","px;\n      }\n\n      @media screen and (max-width: ","px) {\n        & > * + * {\n          margin-left: 0;\n        }\n      }\n\n      /**\n        * Border to show when node is selected\n        * Helps visualise when 'selectNodeBackwards' selects the node for deletion\n        */\n      &.ProseMirror-selectednode > * {\n        border-color: ",";\n      }\n      /* Shows the border when cursor is inside a layout */\n      &.selected > * {\n        border-color: ",";\n      }\n\n      &.selected.danger > [data-layout-column] {\n        background-color: ",";\n        border: ","px solid ",";\n      }\n    }\n  }\n"])),c.a,2*u,u,Object(a.l)()-1,s.colors.N40,1.5*Object(a.l)(),d,l.G,s.colors.B200,s.colors.N50,l.d,l.g,l.e)},Wogn:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"c",function(){return m}),n.d(t,"b",function(){return h});var r=n("mrSG"),o=n("q1tI"),i=n("GsWa"),a=n("wjtU"),s={S:"S",M:"M",L:"L"},c=1266,l=2146;function u(e){return void 0===e&&(e=0),e>=c&&e<l?s.M:e>=l?s.L:s.S}function d(e){return void 0===e&&(e=0),{width:e,breakpoint:u(e)}}var p=o.createContext(d()),f=p.Provider,h=p.Consumer,m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={width:0},n.setWidth=Object(i.a)(function(e){n.state.width!==e&&n.setState({width:e})}),n.state.width=document.body.offsetWidth,n}return r.__extends(t,e),t.prototype.render=function(){var e=this;return o.createElement(o.Fragment,null,o.createElement(a.a,{containerStyle:{height:"0",borderStyle:"none"}},function(t){return t&&e.setWidth(t),null}),o.createElement(f,{value:d(this.state.width)},this.props.children))},t}(o.Component)},WtSs:function(e,t,n){"use strict";var r=n("284h"),o=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.size=t.default=t.IconWrapper=void 0;var i=o(n("lSNA")),a=o(n("lwsE")),s=o(n("W8MJ")),c=o(n("a1gu")),l=o(n("Nsbk")),u=o(n("7W2i")),d=r(n("q1tI")),p=o(n("vOnD")),f=o(n("EcEN")),h=n("b0Qh"),m=n("WJXj"),g=function(e){return e.size?"height: ".concat(m.sizes[e.size],"; width: ").concat(m.sizes[e.size],";"):null},v=p.default.span.withConfig({displayName:"Icon__IconWrapper",componentId:"dyhwwi-0"})(["\n  "," color: ",";\n  display: inline-block;\n  fill: ",";\n  flex-shrink: 0;\n  line-height: 1;\n\n  > svg {\n    "," max-height: 100%;\n    max-width: 100%;\n    overflow: hidden;\n    pointer-events: none;\n    vertical-align: bottom;\n  }\n  /* Stop-color doesn't properly apply in chrome when the inherited/current color changes.\n   * We have to initially set stop-color to inherit (either via DOM attribute or an initial CSS\n   * rule) and then override it with currentColor for the color changes to be picked up.\n   */\n  stop {\n    stop-color: currentColor;\n  }\n"],g,function(e){return e.primaryColor||"currentColor"},function(e){return e.secondaryColor||h.colors.background},g);t.IconWrapper=v;var b=function(e){function t(){return(0,a.default)(this,t),(0,c.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,n=e.glyph,r=e.dangerouslySetGlyph,o=e.primaryColor,i=e.secondaryColor,a=e.size;return r?d.default.createElement(v,{primaryColor:o,secondaryColor:i,size:a,"aria-label":this.props.label,dangerouslySetInnerHTML:{__html:t.insertDynamicGradientID(r)}}):d.default.createElement(v,{primaryColor:o,secondaryColor:i,size:a,"aria-label":this.props.label},n?d.default.createElement(n,{role:"presentation"}):null)}}],[{key:"insertDynamicGradientID",value:function(e){var t=(0,f.default)();return e.replace(/id="([^"]+)-idPlaceholder"/g,"id=$1-".concat(t)).replace(/fill="url\(#([^"]+)-idPlaceholder\)"/g,'fill="url(#$1-'.concat(t,')"'))}}]),t}(d.Component);t.default=b;var y=Object.keys(m.sizes).reduce(function(e,t){return Object.assign(e,(0,i.default)({},t,t))},{});t.size=y},"X+7R":function(e){e.exports={a:"@atlaskit/mention",b:"18.3.2"}},XYkG:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l});var r=n("mrSG"),o=n("q1tI"),i=n("FeoY"),a=n("Rag4"),s=n("kG6L"),c=125,l=156,u=function(e){function t(t){var n=e.call(this,t)||this;n.handleNewNode=function(e){var t=e.node;n.mediaPluginState.handleMediaNodeMount(t,function(){return n.props.getPos()+1})};var r=n.props.view;return n.mediaPluginState=s.b.getState(r.state),n}return r.__extends(t,e),t.prototype.shouldComponentUpdate=function(e){return this.props.selected!==e.selected||this.props.viewContext!==e.viewContext||this.props.uploadComplete!==e.uploadComplete||this.props.node.attrs.id!==e.node.attrs.id||this.props.node.attrs.collection!==e.node.attrs.collection||this.props.cardDimensions.height!==e.cardDimensions.height||this.props.cardDimensions.width!==e.cardDimensions.width},t.prototype.componentDidMount=function(){this.handleNewNode(this.props)},t.prototype.componentWillUnmount=function(){var e=this.props.node;this.mediaPluginState.handleMediaNodeUnmount(e)},t.prototype.componentDidUpdate=function(e){e.node.attrs.id!==this.props.node.attrs.id&&(this.mediaPluginState.handleMediaNodeUnmount(e.node),this.handleNewNode(this.props)),this.mediaPluginState.updateElement()},t.prototype.render=function(){var e=this.props,t=e.node,n=e.selected,r=e.cardDimensions,i=e.onClick,s=e.editorAppearance,c=e.viewContext,l=e.uploadComplete,u=t.attrs,d=u.id,p=u.type,f=u.collection,h=u.url,m="mobile"===s;if("external"!==p&&(!c||"boolean"==typeof l&&!l))return o.createElement(a.c,{dimensions:r});var g="external"===p?{dataURI:h,name:h,mediaItemType:"external-image"}:{id:d,mediaItemType:"file",collectionName:f};return o.createElement(a.a,{context:c,resizeMode:"stretchy-fit",dimensions:r,identifier:g,selectable:!0,selected:n,disableOverlay:!0,onClick:i,useInlinePlayer:!m,isLazy:!m})},t}(o.Component);t.c=Object(i.a)(u)},XlJg:function(e,t,n){"use strict";var r=n("ciX6"),o=n("22vd");t.mergeAll=function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),r.mergeMap(o.identity,null,e)}},XrNb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M8.062 11L6.5 9.914A1 1 0 0 1 7.914 8.5l2.616 2.616c.28.167.47.5.47.884s-.19.717-.47.884L7.914 15.5A1 1 0 1 1 6.5 14.086L8.062 13h-3.68c-.487 0-.882-.448-.882-1s.395-1 .882-1h3.68zm5.408 1.884c-.28-.167-.47-.5-.47-.884s.19-.717.47-.884L16.086 8.5A1 1 0 0 1 17.5 9.914L15.938 11h3.68c.487 0 .882.448.882 1s-.395 1-.882 1h-3.68l1.562 1.086a1 1 0 0 1-1.414 1.414l-2.616-2.616z" fill="currentColor"/></svg>'},e))};s.displayName="EditorCollapseIcon";var c=s;t.default=c},Y9st:function(e,t,n){"use strict";function r(e){var t,n,r,o=e.clipboardData;return!!o&&(t=o.types,n="Files",!(r=t).indexOf&&r.contains?t.contains(n):t.indexOf(n)>-1)}n.d(t,"a",function(){return r})},YBVB:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r,o=n("mrSG"),i=n("vOnD"),a=n("gxo2"),s=n("5oxn"),c=Object(i.css)(r||(r=o.__makeTemplateObject(["\n  & blockquote {\n    box-sizing: border-box;\n    padding-left: ","px;\n    border-left: 2px solid ",";\n    margin: "," 0 0 0;\n    margin-right: 0;\n\n    [dir='rtl'] & {\n      padding-left: 0;\n      padding-right: ","px;\n    }\n\n    &:first-child {\n      margin-top: 0;\n    }\n\n    &::before {\n      content: '';\n    }\n\n    &::after {\n      content: none;\n    }\n\n    & p {\n      display: block;\n    }\n\n    & table,\n    & table:last-child {\n      display: inline-table;\n    }\n  }\n"],["\n  & blockquote {\n    box-sizing: border-box;\n    padding-left: ","px;\n    border-left: 2px solid ",";\n    margin: "," 0 0 0;\n    margin-right: 0;\n\n    [dir='rtl'] & {\n      padding-left: 0;\n      padding-right: ","px;\n    }\n\n    &:first-child {\n      margin-top: 0;\n    }\n\n    &::before {\n      content: '';\n    }\n\n    &::after {\n      content: none;\n    }\n\n    & p {\n      display: block;\n    }\n\n    & table,\n    & table:last-child {\n      display: inline-table;\n    }\n  }\n"])),2*Object(a.l)(),s.a,s.D,2*Object(a.l)())},"YF+z":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M10 6h6a1 1 0 0 1 0 2h-6a1 1 0 1 1 0-2zM8 16h6a1 1 0 0 1 0 2H8a1 1 0 0 1 0-2zm4-8h2l-2 8h-2l2-8z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorItalicIcon";var c=s;t.default=c},YGhV:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("mrSG"),o=n("oteu"),i=n("zHNs"),a={"max-age":3600,allowAnimated:!0,mode:"crop"},s={limit:30,sortDirection:"desc"},c=function(e,t){return void 0===t&&(t=!1),Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},a),e),t?{width:4096,height:4096}:{})},l={Accept:"application/json","Content-Type":"application/json"},u=function(){function e(e){var t=this;this.config=e,this.getFile=function(e,n){return void 0===n&&(n={}),t.request("/file/"+e,{params:n,authContext:{collectionName:n.collection}}).then(o.c)},this.getFileImageURL=function(e,n){return Object(r.__awaiter)(t,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,this.config.authProvider()];case 1:return t=r.sent(),[2,Object(o.a)(t.baseUrl+"/file/"+e+"/image",{params:c(n),auth:t})]}})})},this.getFileBinaryURL=function(e,n){return Object(r.__awaiter)(t,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,this.config.authProvider({collectionName:n})];case 1:return t=r.sent(),[2,Object(o.a)(t.baseUrl+"/file/"+e+"/binary",{params:{dl:!0,collection:n},auth:t})]}})})},this.getArtifactURL=function(e,n,a){return Object(r.__awaiter)(t,void 0,void 0,function(){var t,s;return Object(r.__generator)(this,function(r){switch(r.label){case 0:if(!(t=Object(i.a)(e,n)))throw new Error("artifact "+n+" not found");return[4,this.config.authProvider({collectionName:a})];case 1:return s=r.sent(),[2,Object(o.a)(""+s.baseUrl+t,{params:{collection:a},auth:s})]}})})},this.getImage=function(e,n,i,a){return Object(r.__awaiter)(t,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(r){return!1,[2,this.request("/file/"+e+"/image",{headers:t,params:c(n,a),authContext:{collectionName:n&&n.collection}},i).then(o.b)]})})},this.getItems=function(e,n){var r=e.map(function(e){return{type:"file",id:e,collection:n}});return t.request("/items",{method:"POST",body:JSON.stringify({descriptors:r}),headers:l,authContext:{collectionName:n}}).then(o.c)},this.getImageMetadata=function(e,n){return t.request("/file/"+e+"/image/metadata",{params:n,authContext:{collectionName:n&&n.collection}}).then(o.c)}}return e.prototype.createCollection=function(e){return this.request("/collection",{method:"POST",body:JSON.stringify({name:e}),authContext:{collectionName:e},headers:l}).then(o.c)},e.prototype.getCollection=function(e){return this.request("/collection/"+e,{authContext:{collectionName:e},headers:{Accept:"application/json"}}).then(o.c)},e.prototype.getCollectionItems=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,a,c;return Object(r.__generator)(this,function(l){switch(l.label){case 0:return[4,this.request("/collection/"+e+"/items",{authContext:{collectionName:e},params:Object(r.__assign)(Object(r.__assign)({},s),t),headers:{Accept:"application/json"}})];case 1:return n=l.sent(),[4,Object(o.c)(n)];case 2:return i=l.sent().data,a=i.contents,c=i.nextInclusiveStartKey,[2,{data:{contents:a.filter(function(e){return e.details.size&&e.details.size>0}),nextInclusiveStartKey:c}}]}})})},e.prototype.removeCollectionFile=function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return o={actions:[{action:"remove",item:{type:"file",id:e,occurrenceKey:n}}]},[4,this.request("/collection/"+t,{method:"PUT",authContext:{collectionName:t},body:JSON.stringify(o),headers:{Accept:"application/json","Content-Type":"application/json"}})];case 1:return r.sent(),[2]}})})},e.prototype.createUpload=function(e,t){return void 0===e&&(e=1),this.request("/upload",{method:"POST",authContext:{collectionName:t},params:{createUpTo:e},headers:{Accept:"application/json"}}).then(o.c)},e.prototype.uploadChunk=function(e,t,n){return this.request("/chunk/"+e,{method:"PUT",authContext:{collectionName:n},body:t}).then(o.d)},e.prototype.probeChunks=function(e,t){return this.request("/chunk/probe",{method:"POST",authContext:{collectionName:t},body:JSON.stringify({chunks:e}),headers:l}).then(o.c)},e.prototype.createFileFromUpload=function(e,t){return void 0===t&&(t={}),this.request("/file/upload",{method:"POST",authContext:{collectionName:t.collection},params:t,body:JSON.stringify(e),headers:l}).then(o.c)},e.prototype.touchFiles=function(e,t){return void 0===t&&(t={}),this.request("/upload/createWithFiles",{method:"POST",headers:l,body:JSON.stringify(e),authContext:{collectionName:t.collection}}).then(o.c)},e.prototype.createFile=function(e){return void 0===e&&(e={}),this.request("/file",{method:"POST",headers:{Accept:"application/json"},params:e,authContext:{collectionName:e.collection}}).then(o.c)},e.prototype.createFileFromBinary=function(e,t){return void 0===t&&(t={}),this.request("/file/binary",{method:"POST",body:e,params:t,headers:{Accept:"application/json","Content-Type":e.type},authContext:{collectionName:t.collection}}).then(o.c)},e.prototype.appendChunksToUpload=function(e,t,n){return this.request("/upload/"+e+"/chunks",{method:"PUT",authContext:{collectionName:n},body:JSON.stringify(t),headers:l}).then(o.d)},e.prototype.copyFileWithToken=function(e,t){return this.request("/file/copy/withToken",{method:"POST",authContext:{collectionName:t.collection},body:JSON.stringify(e),headers:l,params:t}).then(o.c)},e.prototype.request=function(e,t,n){return void 0===t&&(t={method:"GET",authContext:{}}),Object(r.__awaiter)(this,void 0,void 0,function(){var i,a,s,c,l,u,d;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return i=this.config.authProvider,a=t.method,s=t.authContext,c=t.params,l=t.headers,u=t.body,[4,i(s)];case 1:return d=r.sent(),[2,Object(o.e)(""+d.baseUrl+e,{method:a,auth:d,params:c,headers:l,body:u},n)]}})})},e}()},YH6B:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});var r=n("QatU"),o=n("4p0z");var i=function(e){return e.text||e.attrs&&(e.attrs.text||e.attrs.shortName)||"["+("string"==typeof e.type?e.type:e.type.name)+"]"},a=function(e,t,n){return void 0===n&&(n="onClick"),e&&t&&e[t]&&e[t][n]}},YZnK:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return a});var r=function(e,t,n){for(var r=function(r){var o=t[r],i=o.$from,a=o.$to,s=0===i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,a.pos,function(e){if(s)return!1;s=e.inlineContent&&e.type.allowsMarkType(n)}),s)return{value:s}},o=0;o<t.length;o++){var i=r(o);if("object"==typeof i)return i.value}return!1},o=function(e,t){return!!t&&t.some(function(t){return t.type!==e&&t.type.excludes(e)})},i=function(e,t){var n=e.selection,r=e.schema,o=e.tr,i=t.filter(Boolean);if(0!==i.length){var a=!1,s=function(e){return i.indexOf(e.type)>-1};return e.doc.nodesBetween(n.from,n.to,function(t,n){if(t.type===r.nodes.paragraph&&t.marks.some(s)){a=!0;var i=e.doc.resolve(n),c=t.marks.filter((l=s,function(e){return!l(e)}));o=o.setNodeMarkup(i.pos,void 0,t.attrs,c)}var l}),a?o:void 0}},a=function(e){var t,n=e.tr.selection,r=n.$from,o=n.$to;return e.doc.nodesBetween(r.pos,o.pos,function(n,r){n.marks.forEach(function(o){if(!n.type.allowsMarkType(o.type)){var i=n.marks.filter(function(e){return e.type!==o.type}),a=r>0?r-1:0;t=(t||e.tr).setNodeMarkup(a,void 0,n.attrs,i)}})}),t}},YehR:function(e,t,n){"use strict";n.d(t,"b",function(){return i});var r=n("mrSG"),o=n("b/sn"),i=new o.PluginKey("widthPlugin");var a={pmPlugins:function(){return[{name:"width",plugin:function(e){return function(e){return new o.Plugin({key:i,state:{init:function(){return{width:document.body.offsetWidth}},apply:function(t,n){var o=t.getMeta(i);if(!o)return n;var a=r.__assign({},n,o);return!a||n.width===a.width&&n.lineLength===a.lineLength?n:(e(i,a),a)}}})}(e.dispatch)}}]},contentComponent:function(e){var t=e.editorView,n=e.containerElement,r=n?n.querySelector(".ProseMirror"):void 0,o=t.state.tr.setMeta(i,{lineLength:r?r.clientWidth:void 0});return t.dispatch(o),null}};t.a=a},YjUZ:function(e,t,n){"use strict";var r,o,i=n("mrSG"),a=n("b/sn"),s=n("q1tI"),c=n("vOnD"),l=n("b0Qh"),u=n("gxo2"),d=n("k98C"),p=n("JaVE"),f=c.default.span(r||(r=i.__makeTemplateObject(["\n  border-radius: ","px;\n  padding: 2px 4px;\n  margin: 0 1px;\n  position: relative;\n  transition: background 0.3s;\n  white-space: nowrap;\n  cursor: ",";\n\n  ",";\n"],["\n  border-radius: ","px;\n  padding: 2px 4px;\n  margin: 0 1px;\n  position: relative;\n  transition: background 0.3s;\n  white-space: nowrap;\n  cursor: ",";\n\n  ",";\n"])),Object(u.f)(),function(e){return e.onClick?"pointer":"unset"},function(e){var t=i.__read(Object(p.a)(function(e){if(!e||"grey"===e)return{light:[l.colors.N30A,l.colors.N800,l.colors.N40],dark:[l.colors.DN70,l.colors.DN800,l.colors.DN60]};var t=e.toUpperCase().charAt(0),n=[l.colors[t+"50"],l.colors[t+"500"],l.colors[t+"75"]];return{light:n,dark:n}}(e.color))(e),3);return"\n      background: "+t[0]+";\n      color: "+t[1]+";\n      &:hover {\n        background: "+t[2]+";\n      }\n    "}),h=n("cPJV"),m=n.n(h),g=function(e){return!!e.onClick},v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleOnClick=function(e){g(t.props)&&t.props.onClick(t.props.value,e)},t.renderContent=function(){return t.props.children?"function"==typeof t.props.children?t.props.children(t.props):t.props.children:m()(t.props.value,t.props.format)},t}return i.__extends(t,e),t.prototype.render=function(){return s.createElement(f,{className:this.props.className,onClick:g(this.props)?this.handleOnClick:void 0,color:this.props.color},this.renderContent())},t.defaultProps={format:"DD/MM/YYYY",color:"grey"},t}(s.Component),b=n("+dwX"),y=Object(c.default)(v)(o||(o=i.__makeTemplateObject(["\n  .ProseMirror-selectednode & {\n    display: 'relative';\n    &::before {\n      content: '';\n      border: 2px solid ",";\n      display: 'absolute';\n      background: transparent;\n      border-radius: ","px;\n      box-sizing: border-box;\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      pointer-events: none;\n    }\n  }\n"],["\n  .ProseMirror-selectednode & {\n    display: 'relative';\n    &::before {\n      content: '';\n      border: 2px solid ",";\n      display: 'absolute';\n      background: transparent;\n      border-radius: ","px;\n      box-sizing: border-box;\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      pointer-events: none;\n    }\n  }\n"])),l.colors.B200,Object(u.f)()),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.nativeEvent.stopImmediatePropagation();var n=t.props.view,r=n.state,o=n.dispatch;Object(b.d)(r.selection.from)(r,o)},t}return i.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.node.attrs.timestamp,n=e.view.state,r=n.schema,o=n.selection.$from.parent,i=o.type===r.nodes.taskItem&&"DONE"!==o.attrs.state,a=i&&Object(d.a)(t)?"red":void 0;return s.createElement("span",{id:Math.random().toString(),onClick:this.handleClick},s.createElement(y,{color:a,value:t},i?Object(d.d)(t):Object(d.c)(t)))},t}(s.Component),O=n("eV/v");n.d(t,"b",function(){return E});var E=new a.PluginKey("datePlugin");t.a=function(e){var t=e.dispatch,n=e.portalProviderAPI;return new a.Plugin({state:{init:function(){return{showDatePickerAt:null}},apply:function(e,n){var r=e.getMeta(E);if(r){var o=void 0;return o=r.showDatePickerAt===n.showDatePickerAt?i.__assign({},n,{showDatePickerAt:null}):i.__assign({},n,r),t(E,o),o}if(e.docChanged&&n.showDatePickerAt){var a=e.mapping.mapResult(n.showDatePickerAt),s=a.pos;if((o={showDatePickerAt:a.deleted?null:s}).showDatePickerAt!==n.showDatePickerAt)return t(E,o),o}return n}},key:E,props:{nodeViews:{date:O.b.fromComponent(w,n)}}})}},Yk3w:function(e,t,n){"use strict";var r,o,i,a,s,c=n("mrSG"),l=n("q1tI"),u=n.n(l),d=n("i8i4"),p=n.n(d),f=n("i1yl"),h=n("uqSJ"),m=n("+Jjp"),g=n.n(m),v=n("bAuU"),b=n.n(v),y=n("Wwog"),w=n("I7VN"),O={auto:[],top:["top","bottom","top"],right:["right","left","right"],bottom:["bottom","top","bottom"],left:["left","right","left"]},E=function(e){return O[e]},x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getModifiers=Object(y.a)(function(e){var n={flip:{enabled:!0,behavior:E(e.split("-")[0]),boundariesElement:"viewport"},hide:{enabled:!0},offset:{enabled:!0,offset:t.props.offset},preventOverflow:{enabled:!0,escapeWithReference:!1,boundariesElement:"window"}};return t.props.modifiers?Object(c.__assign)(Object(c.__assign)({},n),t.props.modifiers):n}),t}return Object(c.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.placement,n=e.children,r=e.referenceElement,o=this.getModifiers(this.props.placement);return u.a.createElement(w.b,Object(c.__assign)({positionFixed:!0,modifiers:o,placement:t},r?{referenceElement:r}:{}),n)},t.defaultProps={children:function(){return null},offset:"0, 8px",placement:"bottom-start"},t}(u.a.Component),k=n("1doi"),C=n("gxo2"),S=n("1wD3"),j=n("Q/j8"),T=n("vOnD"),M=n("JaVE"),_=n("73wN"),I=Object(M.a)({light:_.N800,dark:_.DN0}),P=Object(M.a)({light:_.N0,dark:_.DN600}),A=T.default.div(o||(o=Object(c.__makeTemplateObject)(["\n  z-index: ",";\n  pointer-events: none;\n  position: fixed;\n"],["\n  z-index: ",";\n  pointer-events: none;\n  position: fixed;\n"])),C.m.tooltip),N=Object(T.default)(A)(i||(i=Object(c.__makeTemplateObject)(["\n  background-color: ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  color: ",";\n  font-size: 12px;\n  left: 0;\n  line-height: 1.3;\n  max-width: 240px;\n  padding: 2px 6px;\n  top: 0;\n  /* Edge does not support overflow-wrap */\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n  ",";\n"],["\n  background-color: ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  color: ",";\n  font-size: 12px;\n  left: 0;\n  line-height: 1.3;\n  max-width: 240px;\n  padding: 2px 6px;\n  top: 0;\n  /* Edge does not support overflow-wrap */\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n  ",";\n"])),I,C.f,P,function(e){return e.truncate?Object(T.css)(r||(r=Object(c.__makeTemplateObject)(["\n        max-width: 420px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      "],["\n        max-width: 420px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      "]))):""}),R=(T.default.div(a||(a=Object(c.__makeTemplateObject)(["\n  display: inline-block;\n"],["\n  display: inline-block;\n"]))),n("1w3K")),D={left:8,right:-8,top:0,bottom:0},L={bottom:-8,top:8,left:0,right:0},z=function(e,t){return function(n){return Object(c.__assign)(Object(c.__assign)({},function(e){return{transition:"transform "+e.enter+"ms cubic-bezier(0.23, 1, 0.32, 1), opacity "+e.enter+"ms linear",opacity:0}}(e)),function(e,t,n){return{entering:{transform:"translate3d("+D[n]+"px, "+L[n]+"px, 0)"},entered:{opacity:1},exiting:{opacity:0,transition:e.exit+"ms linear",transform:"translate3d("+D[n]/2+"px, "+L[n]/2+"px, 0)"}}[t]}(e,t,n))}},B=function(e){var t=e.children,n=e.immediatelyHide,r=e.immediatelyShow,o=e.onExited,i=e.in,a={enter:r?1:120,exit:n?1:80};return u.a.createElement(R.Transition,{timeout:a,in:i,onExited:o,unmountOnExit:!0,appear:!0},function(e){return t(z(a,e))})},F={action:"displayed",actionSubject:"tooltip",attributes:{componentName:"tooltip",packageName:j.a,packageVersion:j.b}},q={action:"hidden",actionSubject:"tooltip",attributes:{componentName:"tooltip",packageName:j.a,packageVersion:j.b}},W={capture:!0,passive:!0};function U(e){var t=e||{top:0,left:0};return{getBoundingClientRect:function(){return{top:t.top,left:t.left,bottom:t.top,right:t.left,width:0,height:0}},clientWidth:0,clientHeight:0}}var H=function(e,t){var n=s&&s.pending();return n&&s.flush(),b()(function(){return e(n)},n?0:t).cancel},V=function(e,t){return(s=b()(function(t){return e(t)},t)).cancel},G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cancelPendingSetState=function(){},t.state={immediatelyHide:!1,immediatelyShow:!1,isVisible:!1,renderTooltip:!1},t.handleWindowScroll=function(){t.state.isVisible&&(t.cancelPendingSetState(),t.setState({isVisible:!1,immediatelyHide:!0}))},t.handleMouseClick=function(){t.props.hideTooltipOnClick&&(t.cancelPendingSetState(),t.setState({isVisible:!1,immediatelyHide:!0}))},t.handleMouseDown=function(){t.props.hideTooltipOnMouseDown&&(t.cancelPendingSetState(),t.setState({isVisible:!1,immediatelyHide:!0}))},t.handleMouseOver=function(e){e.target!==t.wrapperRef&&(t.fakeMouseElement||(t.fakeMouseElement=U({left:e.clientX,top:e.clientY})),t.cancelPendingSetState(),Boolean(t.props.content)&&!t.state.isVisible&&(t.cancelPendingSetState=H(function(e){t.setState({isVisible:!0,renderTooltip:!0,immediatelyShow:e})},t.props.delay||0)))},t.handleMouseLeave=function(e){e.target!==t.wrapperRef&&(t.cancelPendingSetState(),t.state.isVisible&&(t.cancelPendingSetState=V(function(e){t.setState({isVisible:!1,immediatelyHide:e})},t.props.delay||0)))},t.handleMouseMove=function(e){t.state.renderTooltip||(t.fakeMouseElement=U({left:e.clientX,top:e.clientY}))},t}return Object(c.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.cancelPendingSetState(),this.removeScrollListener()},t.prototype.componentDidUpdate=function(e,t){!t.isVisible&&this.state.isVisible?(this.props.onShow&&this.props.onShow(),window.addEventListener("scroll",this.handleWindowScroll,W)):t.isVisible&&!this.state.isVisible&&(this.props.onHide&&this.props.onHide(),this.removeScrollListener())},t.prototype.removeScrollListener=function(){window.removeEventListener("scroll",this.handleWindowScroll,W)},t.prototype.render=function(){var e=this,t=this.props,n=t.children,r=t.content,o=t.position,i=t.mousePosition,a=t.truncate,s=t.component,l=t.tag,d=t.testId,p=this.state,f=p.isVisible,h=p.renderTooltip,m=p.immediatelyShow,v=p.immediatelyHide;return u.a.createElement(u.a.Fragment,null,l&&u.a.createElement(l,{onClick:this.handleMouseClick,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseLeave,onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,ref:function(t){e.wrapperRef=t}},u.a.createElement(g.a,{innerRef:function(t){e.targetRef=t}},u.a.Children.only(n))),h&&this.targetRef&&this.fakeMouseElement?u.a.createElement(k.a,{zIndex:C.m.tooltip()},u.a.createElement(x,{referenceElement:"mouse"===o?this.fakeMouseElement:this.targetRef,placement:"mouse"===o?i:o},function(t){var n=t.ref,o=t.style,i=t.placement;return s&&u.a.createElement(B,{immediatelyShow:m,immediatelyHide:v,onExited:function(){return e.setState({renderTooltip:!1})},in:f},function(e){return u.a.createElement(s,{innerRef:n,className:"Tooltip",style:Object(c.__assign)(Object(c.__assign)({},e(i)),o),truncate:a||!1,"data-testid":d},r)})})):null)},t.defaultProps={component:N,delay:300,mousePosition:"bottom",position:"bottom",tag:"div"},t}(u.a.Component),K=Object(f.a)("atlaskit"),$=Object(S.a)({componentName:"tooltip",packageName:j.a,packageVersion:j.b})(Object(h.a)({onHide:q,onShow:K(Object(c.__assign)({},F))})(G)),J=n("JaWS"),Y=n("xnvq"),Q=n("VUQj"),X=n("G0d0"),Z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.button=null,t.state={hasOverflow:!1},t.renderButton=function(){var e=t.props,n=e.href,r=e.iconAfter,o=e.iconBefore,i=e.onClick,a=e.target,s=e.text,c=e.truncationWidth,l=e.component,d=t.state.hasOverflow;return u.a.createElement(Q.a,{truncationWidth:c,appearance:"subtle-link",iconAfter:c&&d?void 0:r,iconBefore:c&&d?void 0:o,onClick:i,spacing:"none",href:n,target:a,ref:function(e){t.button=e},component:l,analyticsContext:{componentName:"breadcrumbsItem",packageName:J.a,packageVersion:J.b}},s)},t.renderButtonWithTooltip=function(){return u.a.createElement($,{content:t.props.text,position:"bottom"},t.renderButton())},t}return Object(c.__extends)(t,e),t.prototype.componentDidMount=function(){this.updateOverflow()},t.prototype.UNSAFE_componentWillReceiveProps=function(){this.setState({hasOverflow:!1})},t.prototype.componentDidUpdate=function(){this.updateOverflow()},t.prototype.updateOverflow=function(){var e=this.props.truncationWidth,t=this.button;if(e&&t){var n=p.a.findDOMNode(t);if(!(n&&n instanceof HTMLElement))return console.warn("Could not find button included in breadcrumb when calculating overflow"),!1;var r=n.clientWidth>=e;return r!==this.state.hasOverflow&&this.setState({hasOverflow:r}),r}return!1},t.prototype.render=function(){var e=this.props,t=e.hasSeparator,n=e.truncationWidth,r=this.state.hasOverflow;return u.a.createElement(Y.a,null,r&&n?this.renderButtonWithTooltip():this.renderButton(),t?u.a.createElement(X.a,null,"/"):null)},t.defaultProps={hasSeparator:!1,href:"#",truncationWidth:0,onClick:function(){}},t}(u.a.Component),ee=Object(f.a)("atlaskit");t.a=Object(h.a)({onClick:ee({action:"clicked",actionSubject:"breadcrumbsItem",attributes:{componentName:"breadcrumbsItem",packageName:J.a,packageVersion:J.b}})})(Z)},YlT8:function(e,t,n){var r=n("NmtT");e.exports=function(e,t){return r(Date.now(),e,t)}},Yogy:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("mrSG"),o=!1;function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];o&&console.log.apply(console,Object(r.__spread)([e],t))}},YyZK:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("mrSG"),o=n("q1tI"),i=n("i8i4");function a(e){return function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleClick=function(t){var n=i.findDOMNode(e);(!n||t.target instanceof Node&&!n.contains(t.target))&&e.props.handleClickOutside(t)},e.handleKeydown=function(t){"Escape"===t.code&&e.props.handleEscapeKeydown?e.props.handleEscapeKeydown(t):"Enter"===t.code&&e.props.handleEnterKeydown&&e.props.handleEnterKeydown(t)},e}return r.__extends(n,t),n.prototype.componentDidMount=function(){this.props.handleClickOutside&&document.addEventListener("click",this.handleClick,!1),this.props.handleEscapeKeydown&&document.addEventListener("keydown",this.handleKeydown,!1)},n.prototype.componentWillUnmount=function(){this.props.handleClickOutside&&document.removeEventListener("click",this.handleClick,!1),this.props.handleEscapeKeydown&&document.removeEventListener("keydown",this.handleKeydown,!1)},n.prototype.render=function(){return o.createElement(e,r.__assign({},this.props))},n}(o.PureComponent)}},Z5Sc:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return h});var r=n("mrSG"),o=n("b/sn"),i=n("SCBf"),a=n("9lTW"),s=n.n(a),c=n("iS3C"),l=n("mG1W"),u=n("COqE"),d=function(e,t,n){return function(i,a){return r.__awaiter(void 0,void 0,void 0,function(){var s,c,u,d,f,h;return r.__generator(this,function(r){switch(r.label){case 0:return e?[4,e.openMacroBrowser(t)]:[2,!1];case 1:return(s=r.sent())?(c=t&&t.attrs.layout||"default",(u=p(s,i,{layout:c}))?(d=i.schema.nodes.bodiedExtension,f=i.tr,(h=t.type===d&&!(f.selection instanceof o.NodeSelection))&&!n?f=Object(l.safeInsert)(u)(f):h?f=Object(l.replaceParentNodeOfType)(d,u)(f):f.selection instanceof o.NodeSelection&&(f=Object(l.replaceSelectedNode)(u)(f)),a&&a(f.scrollIntoView()),[2,!0]):[2,!1]):[2,!1]}})})}},p=function(e,t,n){if(!e||!t)return null;var o,i=t.schema,a=Object(c.c)(e,i),s=a.type,l=a.attrs;return"extension"===s?o=i.nodes.extension.create(r.__assign({},l,n)):"bodiedExtension"===s?o=i.nodes.bodiedExtension.create(r.__assign({},l,n),i.nodeFromJSON(e).content):"inlineExtension"===s&&(o=i.nodes.inlineExtension.create(l)),Object(u.D)(t,o)},f=function(e,t){var n=i.b.getState(e),r=n&&n.macroProvider;if(!r||!r.autoConvert)return null;var o=r.autoConvert(t);return o?p(o,e):null},h=function(e){return function(t){return r.__awaiter(void 0,void 0,void 0,function(){var n;return r.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e];case 1:return n=r.sent(),s()(n&&n.openMacroBrowser,"MacroProvider promise did not resolve to a valid instance of MacroProvider - "+n),[3,3];case 2:return r.sent(),n=null,[3,3];case 3:return t.dispatch(t.state.tr.setMeta(i.b,{macroProvider:n})),[2,!0]}})})}}},ZNST:function(e,t,n){"use strict";var r=n("mrSG"),o=n("0iNy"),i=n("Ntz7"),a=n("anbf"),s=n("Yogy"),c=n("VekA"),l=function(){function e(e){this.config=e}return e.prototype.loadEmoji=function(){return Object(c.b)(this.config).then(function(e){return Object(c.a)(e)})},e}(),u=n("WKKU"),d=n("OnqS"),p=n("ttsx"),f=16,h=function(){function e(e,t){this.mediaImageQueue=[],this.activeProcessing=0,this.pendingRequests=new Map,this.concurrentDownloadLimit=t&&t.concurrentDownloadLimit||f,this.tokenManager=e}return e.prototype.loadMediaImage=function(e){var t=this,n=this.pendingRequests.get(e);if(void 0!==n)return n;var r=new Promise(function(n,r){t.mediaImageQueue.push({url:e,resolve:n,reject:r}),t.processFromQueue()}).then(function(n){return t.pendingRequests.delete(e),n}).catch(function(n){throw t.pendingRequests.delete(e),n});return this.pendingRequests.set(e,r),r},e.prototype.getQueueSize=function(){return this.mediaImageQueue.length},e.prototype.getActiveDownloads=function(){return this.activeProcessing},e.prototype.processFromQueue=function(){for(var e=this,t=function(){n.activeProcessing++;var t=n.mediaImageQueue.shift(),r=t.url,o=t.resolve,i=t.reject;n.tokenManager.getToken("read",!1).then(function(t){e.requestMediaEmoji(r,t,!0).then(function(t){o(t),e.completedItem()}).catch(function(t){i(t),e.completedItem()})}).catch(function(t){i(t),e.completedItem()})},n=this;this.activeProcessing<this.concurrentDownloadLimit&&this.mediaImageQueue.length>0;)t()},e.prototype.completedItem=function(){this.activeProcessing--,this.processFromQueue()},e.prototype.requestMediaEmoji=function(e,t,n){var r=this;return Object(p.c)().then(function(o){var i={headers:{Authorization:"Bearer "+t.jwt,"X-Client-Id":t.clientId,Accept:o}};return fetch(e,i).then(function(t){if(403===t.status&&n)return r.tokenManager.getToken("read",!0).then(function(t){return r.requestMediaEmoji(e,t,!1)});if(t.ok)return t.blob().then(function(e){return r.readBlob(e)});throw new Error("Unable to load media image. Status="+t.status+" "+t.statusText)})})},e.prototype.readBlob=function(e){return new Promise(function(t,n){var r=new FileReader;r.addEventListener("load",function(){return t(r.result)}),r.addEventListener("error",function(){return n(r.error)}),r.readAsDataURL(e)})},e}(),m=n("jnwr"),g=function(e,t){return t?e.altRepresentation:e.representation},v=function(){function e(e){this.cachedImageUrls=new Set,Object(s.a)("BrowserCacheStrategy"),this.mediaImageLoader=e}return e.prototype.loadEmoji=function(e,t){var n=this,r=g(e,t);if(!Object(a.l)(r))return e;var o=r.mediaPath;return this.cachedImageUrls.has(o)?e:this.mediaImageLoader.loadMediaImage(o).then(function(){return n.cachedImageUrls.add(o),e}).catch(function(){})},e.prototype.optimisticRendering=function(){return!0},e.supported=function(e,t){return n=!!document.documentMode,r=!n&&!!window.StyleMedia,n||r?Promise.resolve(!1):t.loadMediaImage(e).then(function(){return new Promise(function(t){var n=new Image;n.addEventListener("load",function(){t(!0)}),n.addEventListener("error",function(){t(!1)}),n.src=e})}).catch(function(){return!1});var n,r},e}(),b=1e3,y=function(){function e(e){Object(s.a)("MemoryCacheStrategy"),this.mediaImageLoader=e,this.dataURLCache=new m.LRUCache(b)}return e.prototype.loadEmoji=function(e,t){var n=this,r=g(e,t);if(!Object(a.l)(r))return e;var o=r.mediaPath,i=this.dataURLCache.get(o);return i?Object(a.d)(e,i,t):this.mediaImageLoader.loadMediaImage(o).then(function(r){var i=Object(a.d)(e,r,t);return r.length<=1e4?n.dataURLCache.put(o,r):Object(s.a)("No caching as image is too large",r.length,r.slice(0,15),e.shortName),i}).catch(function(){})},e.prototype.optimisticRendering=function(){return!1},e}(),w=function(){function e(e){this.waitingInitUrls=[],Object(s.a)("MediaEmojiCache"),this.mediaImageLoader=new h(e)}return e.prototype.loadEmoji=function(e,t){var n=g(e,t);if(!Object(a.l)(n))return e;var r=n.mediaPath,o=this.getCache(r);return Object(a.n)(o)?o.then(function(n){return n.loadEmoji(e,t)}).catch(function(){}):o.loadEmoji(e,t)},e.prototype.optimisticRendering=function(e){var t=this.getCache(e);return Object(a.n)(t)?t.then(function(e){return e.optimisticRendering()}).catch(function(){return!1}):t.optimisticRendering()},e.prototype.getCache=function(e){var t=this;return this.cache?this.cache:(this.waitingInitUrls.push(e),this.cacheLoading||(this.cacheLoading=this.initCache().then(function(e){return t.cache=e,t.cacheLoading=void 0,e}).catch(function(e){throw t.cacheLoading=void 0,e})),this.cacheLoading)},e.prototype.initCache=function(){var e=this,t=this.waitingInitUrls.pop();return t?v.supported(t,this.mediaImageLoader).then(function(t){return e.waitingInitUrls=[],e.cacheLoading=void 0,t?new v(e.mediaImageLoader):new y(e.mediaImageLoader)}).catch(function(){return e.initCache()}):Promise.reject("Unable to initialise cache based on provided url(s)")},e}(),O=function(){function e(e){this.siteServiceConfig=e,this.tokens=new Map}return e.prototype.addToken=function(e,t){this.tokens.set(e,{mediaApiToken:t})},e.prototype.getToken=function(e,t){var n=this.tokens.get(e);n||(n={},this.tokens.set(e,n));var r=n.mediaApiToken,i=n.activeTokenRefresh;if(r){if(Date.now()/1e3<r.expiresAt-30&&!t)return Promise.resolve(r);if(i)return i;n.mediaApiToken=void 0}var a="token/"+e;return n.activeTokenRefresh=o.b.requestService(this.siteServiceConfig,{path:a}).then(function(e){return n.activeTokenRefresh=void 0,n.mediaApiToken=e,e}),n.activeTokenRefresh},e}(),E=function(){function e(e,t){var n=this;this.postToEmojiService=function(e,t){var i=e.shortName,s=e.name,l=e.width,u=e.height,d={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shortName:i,name:s,width:l,height:u,fileId:t})};return o.b.requestService(n.siteServiceConfig,{requestInit:d}).then(function(e){var t=e.emojis;if(t.length){var n=t[0],o=n.altRepresentations,i=Object(r.__rest)(n,["altRepresentations"]),s=Object(r.__assign)(Object(r.__assign)({},i),{representation:Object(a.c)(i.representation)}),l=Object(c.c)(o||{}),u=l?Object(a.c)(l):void 0;return Object(a.a)(s,u)}throw new Error("No emoji returns from upload. Upload failed.")})},this.siteServiceConfig=e,this.mediaApiToken=t,this.tokenManager=new O(e),this.tokenManager.addToken("read",t),this.mediaEmojiCache=new w(this.tokenManager)}return e.prototype.loadMediaEmoji=function(e,t){if(!Object(a.k)(e))throw new Error("Only supported for media emoji");return this.mediaEmojiCache.loadEmoji(e,t)},e.prototype.optimisticRendering=function(e,t){var n=t?e.altRepresentation:e.representation;if(!Object(a.l)(n))throw new Error("Only supported for media emoji");var r=n.mediaPath;return this.mediaEmojiCache.optimisticRendering(r)},e.prototype.uploadEmoji=function(e,t){var n=this,r=Date.now();return this.tokenManager.getToken("upload").then(function(o){var i=Date.now()-r;return Object(s.a)("upload token load time",i),new Promise(function(a,c){var l=o.url,u=o.clientId,p=o.collectionName,f=Object(d.a)({mediaClientConfig:{authProvider:function(){return Promise.resolve({clientId:u,token:o.jwt,baseUrl:l})}}}).file.upload({content:e.dataURL,name:e.filename,collection:p}).subscribe({next:function(o){if("uploading"===o.status&&t)t({percent:.95*o.progress});else if("processing"===o.status){f.unsubscribe();var l=Date.now()-r,u=l-i;Object(s.a)("total upload / media upload times",l,u),n.postToEmojiService(e,o.id).then(function(e){a(e)}).catch(function(e){c(e.reason||e)})}},error:function(e){c(e)}})})})},e.prototype.hasUploadToken=function(){return this.tokenManager.getToken("upload").then(function(e){return void 0!==e},function(){return!1})},e.prototype.prepareForUpload=function(){this.tokenManager.getToken("upload")},e.prototype.findEmoji=function(e){var t="../"+e.id;return Object(c.b)(this.siteServiceConfig,{path:t}).then(function(e){return Object(c.a)(e).emojis[0]}).catch(function(t){Object(s.a)("failed to load emoji",e,t)})},e.prototype.deleteEmoji=function(e){if(!Object(a.k)(e)&&!Object(a.j)(e))return Promise.reject(!1);var t=""+e.id;return o.b.requestService(this.siteServiceConfig,{path:t,requestInit:{method:"DELETE"}}).then(function(){return!0}).catch(function(){return!1})},e}();n.d(t,"b",function(){return x});var x=function(e){var t=e,n=t.isUploadSupported,r=t.prepareForUpload,o=t.uploadCustomEmoji;return!!(n&&r&&o)},k=function(e){function t(t){var n=e.call(this,t)||this;return n.allowUpload=!!t.allowUpload,n}return Object(r.__extends)(t,e),t.prototype.isUploadSupported=function(){var e=this;return this.allowUpload?this.siteEmojiResource?this.siteEmojiResource.hasUploadToken():this.retryIfLoading(function(){return e.isUploadSupported()},!1):Promise.resolve(!1)},t.prototype.uploadCustomEmoji=function(e){var t=this;return this.isUploadSupported().then(function(n){return n&&t.siteEmojiResource?t.siteEmojiResource.uploadEmoji(e).then(function(e){return t.addUnknownEmoji(e),t.refreshLastFilter(),e}):Promise.reject("No media api support is configured")})},t.prototype.prepareForUpload=function(){var e=this;return this.siteEmojiResource&&this.siteEmojiResource.prepareForUpload(),this.retryIfLoading(function(){return e.prepareForUpload()},void 0)},t}(function(e){function t(t){var n=e.call(this)||this;n.activeLoaders=0,n.retries=new Map,n.isLoaded=function(){return 0===n.activeLoaders&&n.emojiRepository},n.recordConfig=t.recordConfig,n.currentUser=t.currentUser;var r=[];if(n.activeLoaders=t.providers.length,t.providers.forEach(function(e,t){new l(e).loadEmoji().then(function(o){r[t]=o,n.initEmojiRepository(r),n.initSiteEmojiResource(o,e).then(function(){n.activeLoaders--,n.performRetries(),n.refreshLastFilter()})}).catch(function(e){n.activeLoaders--,n.notifyError(e)})}),"undefined"!=typeof window&&window.localStorage&&(n.selectedTone=n.loadStoredTone()),0===t.providers.length)throw new Error("No providers specified");return n}return Object(r.__extends)(t,e),t.prototype.initEmojiRepository=function(e){var t=[];e.forEach(function(e){t=t.concat(e.emojis)}),this.emojiRepository=new u.a(t)},t.prototype.initSiteEmojiResource=function(e,t){if(!this.siteEmojiResource&&e.mediaApiToken){this.siteEmojiResource=new E(t,e.mediaApiToken);var n=e.emojis;if(n.length){var r=this.siteEmojiResource.optimisticRendering(n[0]);if(Object(a.n)(r))return r.then(function(){Object(s.a)("Primed siteEmojiResource")}).catch(function(){Object(s.a)("Failed to prime siteEmojiResource")});Object(s.a)("Already primed siteEmojiResource")}else Object(s.a)("No emoji to prime siteEmojiResource with")}return Promise.resolve()},t.prototype.performRetries=function(){var e=this.retries;this.retries=new Map,e.forEach(function(e,t){var n=t();Object(a.n)(n)?n.then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)}):e.resolve(n)})},t.prototype.loadStoredTone=function(){var e=window.localStorage.getItem(i.m);if(e){var t=parseInt(e,10);return isNaN(t)?void 0:t}},t.prototype.refreshLastFilter=function(){if(void 0!==this.lastQuery){var e=this.lastQuery,t=e.query,n=e.options;this.filter(t,n)}},t.prototype.retryIfLoading=function(e,t){var n=this;return this.isLoaded()?Promise.resolve(t):new Promise(function(t,r){n.retries.set(e,{resolve:t,reject:r})})},t.prototype.notifyResult=function(t){this.lastQuery&&t.query===this.lastQuery.query&&e.prototype.notifyResult.call(this,t)},t.prototype.loadMediaEmoji=function(e,t){return this.siteEmojiResource&&Object(a.k)(e)?this.siteEmojiResource.loadMediaEmoji(e,t):e},t.prototype.optimisticMediaRendering=function(e,t){if(!Object(a.k)(e))return!0;if(!this.siteEmojiResource)return!1;var n=this.siteEmojiResource.optimisticRendering(e,t);return!Object(a.n)(n)&&n},t.prototype.filter=function(e,t){this.lastQuery={query:e,options:t},this.emojiRepository?this.notifyResult(this.emojiRepository.search(e,t)):this.notifyNotReady()},t.prototype.findByShortName=function(e){var t=this;return this.isLoaded()?this.emojiRepository.findByShortName(e):this.retryIfLoading(function(){return t.findByShortName(e)},void 0)},t.prototype.findByEmojiId=function(e){var t=this,n=e.id,r=e.shortName;if(this.emojiRepository){if(!n)return this.findByShortName(r);var o=this.emojiRepository.findById(n);if(o)return o;if(this.isLoaded())return this.siteEmojiResource?this.siteEmojiResource.findEmoji(e).then(function(e){return e?(t.addUnknownEmoji(e),e):t.findByShortName(r)}):this.findByShortName(r)}return this.retryIfLoading(function(){return t.findByEmojiId(e)},void 0)},t.prototype.findById=function(e){var t=this;return this.isLoaded()?this.emojiRepository.findById(e):this.retryIfLoading(function(){return t.findById(e)},void 0)},t.prototype.findInCategory=function(e){var t=this;return this.isLoaded()?Promise.resolve(this.emojiRepository.findInCategory(e)):this.retryIfLoading(function(){return t.findInCategory(e)},[])},t.prototype.getAsciiMap=function(){var e=this;return this.isLoaded()?Promise.resolve(this.emojiRepository.getAsciiMap()):this.retryIfLoading(function(){return e.getAsciiMap()},new Map)},t.prototype.getFrequentlyUsed=function(e){var t=this;return this.isLoaded()?Promise.resolve(this.emojiRepository.getFrequentlyUsed(e)):this.retryIfLoading(function(){return t.getFrequentlyUsed(e)},[])},t.prototype.recordSelection=function(e){var t=this.recordConfig;if(this.emojiRepository&&this.emojiRepository.used(e),t){var n={emojiId:Object(a.q)(e)};return o.b.requestService(t,{queryParams:n,requestInit:{method:"POST"}})}return Promise.resolve()},t.prototype.deleteSiteEmoji=function(e){var t=this;return this.siteEmojiResource&&e.id?this.siteEmojiResource.deleteEmoji(e).then(function(n){return!(!n||!t.emojiRepository)&&(t.emojiRepository.delete(e),!0)}).catch(function(e){return console.error("failed to delete site emoji",e),!1}):this.retryIfLoading(function(){return t.deleteSiteEmoji(e)},!1)},t.prototype.getSelectedTone=function(){return this.selectedTone},t.prototype.setSelectedTone=function(e){if(this.selectedTone=e,window.localStorage)try{window.localStorage.setItem(i.m,e?e.toString():"")}catch(e){console.error("failed to store selected emoji skin tone",e)}},t.prototype.calculateDynamicCategories=function(){var e=this;return this.isLoaded()?Promise.resolve(this.emojiRepository.getDynamicCategoryList()):this.retryIfLoading(function(){return e.calculateDynamicCategories()},[])},t.prototype.getCurrentUser=function(){return this.currentUser},t.prototype.addUnknownEmoji=function(e){this.emojiRepository&&this.emojiRepository.addUnknownEmoji(e)},t}(o.a));t.a=k},ZXbd:function(e,t,n){"use strict";var r=n("/MKj"),o=n("eRoQ"),i=n("pVnL"),a=n.n(i),s=n("lwsE"),c=n.n(s),l=n("W8MJ"),u=n.n(l),d=n("a1gu"),p=n.n(d),f=n("Nsbk"),h=n.n(f),m=n("7W2i"),g=n.n(m),v=n("lSNA"),b=n.n(v),y=n("wztY"),w=n.n(y),O=n("eq3s"),E=n("q1tI"),x=n.n(E),k=n("JRPe"),C=Object(k.e)({sidebarLabel:{id:"frontbucket.sidebar.sidebarLabel",defaultMessage:"Sidebar"},expandIconTooltip:{id:"frontbucket.sidebar.expandIconTooltip",defaultMessage:"Click or tap to expand or press the ] (right bracket) key"},toggleButtonExpandLabel:{id:"frontbucket.sidebar.toggleButtonExpandLabel",defaultMessage:"Click or tap to expand the sidebar or press the ] (right bracket) key"},toggleButtonCollapseLabel:{id:"frontbucket.sidebar.toggleButtonCollapseLabel",defaultMessage:"Click or tap to collapse the sidebar or press the ] (right bracket) key"}}),S=n("y+en"),j=n("2DQA"),T=n("wTIg"),M=Object(T.a)("div",{target:"e1n2qvzn0"})({name:"7qmfuy",styles:"display:flex;height:100vh;position:sticky;justify-content:flex-end;"}),_=function(e){function t(){return c()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.intl,t=x.a.createElement(O.a,{position:"left",content:e.formatMessage(C.expandIconTooltip)},x.a.createElement(w.a,{label:e.formatMessage(C.expandIconTooltip)}));return x.a.createElement(M,{"data-qa":"sidebar-container"},x.a.createElement(S.default,a()({ariaLabel:e.formatMessage(C.sidebarLabel),collapsedWidth:j.b,expandedWidth:this.props.expandedWidth,icon:t,minExpandedWidth:j.e,maxExpandedWidth:j.d,resizable:!0,toggleButtonCollapseLabel:e.formatMessage(C.toggleButtonCollapseLabel),toggleButtonExpandLabel:e.formatMessage(C.toggleButtonExpandLabel)},this.props)))}}]),t}(E.PureComponent);b()(_,"defaultProps",{expandedWidth:j.c});var I=Object(k.f)(_);t.a=Object(r.c)(function(e){return{isBannerOpen:Boolean(Object(o.rb)(e))}})(I)},ZerX:function(e,t,n){"use strict";var r=n("mrSG"),o=n("q1tI"),i=n.n(o),a=n("vOnD"),s=n("Wwog"),c=Object.freeze([{name:"PHP",alias:["php","php3","php4","php5"],value:"php"},{name:"Java",alias:["java"],value:"java"},{name:"CSharp",alias:["csharp","c#"],value:"cs"},{name:"Python",alias:["python","py"],value:"python"},{name:"JavaScript",alias:["javascript","js"],value:"javascript"},{name:"Html",alias:["html"],value:"xml"},{name:"C++",alias:["c++","cpp","clike"],value:"cpp"},{name:"Ruby",alias:["ruby","rb","duby"],value:"ruby"},{name:"Objective-C",alias:["objective-c","objectivec","obj-c","objc"],value:"objectivec"},{name:"C",alias:["c"],value:"cpp"},{name:"Swift",alias:["swift"],value:"swift"},{name:"TeX",alias:["tex","latex"],value:"tex"},{name:"Shell",alias:["shell","bash","sh","ksh","zsh"],value:"shell"},{name:"Scala",alias:["scala"],value:"scala"},{name:"Go",alias:["go"],value:"go"},{name:"ActionScript",alias:["actionscript","actionscript3","as"],value:"actionscript"},{name:"ColdFusion",alias:["coldfusion"],value:"xml"},{name:"JavaFX",alias:["javafx","jfx"],value:"java"},{name:"VbNet",alias:["vbnet","vb.net"],value:"vbnet"},{name:"JSON",alias:["json"],value:"json"},{name:"MATLAB",alias:["matlab"],value:"matlab"},{name:"Groovy",alias:["groovy"],value:"groovy"},{name:"SQL",alias:["sql","postgresql","postgres","plpgsql","psql","postgresql-console","postgres-console","tsql","t-sql","mysql","sqlite"],value:"sql"},{name:"R",alias:["r"],value:"r"},{name:"Perl",alias:["perl","pl"],value:"perl"},{name:"Lua",alias:["lua"],value:"lua"},{name:"Delphi",alias:["delphi","pas","pascal","objectpascal"],value:"delphi"},{name:"XML",alias:["xml"],value:"xml"},{name:"TypeScript",alias:["typescript","ts"],value:"typescript"},{name:"CoffeeScript",alias:["coffeescript","coffee-script","coffee"],value:"coffeescript"},{name:"Haskell",alias:["haskell","hs"],value:"haskell"},{name:"Puppet",alias:["puppet"],value:"puppet"},{name:"Arduino",alias:["arduino"],value:"arduino"},{name:"Fortran",alias:["fortran"],value:"fortran"},{name:"Erlang",alias:["erlang","erl"],value:"erlang"},{name:"PowerShell",alias:["powershell","posh","ps1","psm1"],value:"powershell"},{name:"Haxe",alias:["haxe","hx","hxsl"],value:"haxe"},{name:"Elixir",alias:["elixir","ex","exs"],value:"elixir"},{name:"Verilog",alias:["verilog","v"],value:"verilog"},{name:"Rust",alias:["rust"],value:"rust"},{name:"VHDL",alias:["vhdl"],value:"vhdl"},{name:"Sass",alias:["sass"],value:"less"},{name:"OCaml",alias:["ocaml"],value:"ocaml"},{name:"Dart",alias:["dart"],value:"dart"},{name:"CSS",alias:["css"],value:"css"},{name:"reStructuredText",alias:["restructuredtext","rst","rest"],value:"rest"},{name:"ObjectPascal",alias:["objectpascal"],value:"delphi"},{name:"Kotlin",alias:["kotlin"],value:"kotlin"},{name:"D",alias:["d"],value:"d"},{name:"Octave",alias:["octave"],value:"matlab"},{name:"QML",alias:["qbs","qml"],value:"qml"},{name:"Prolog",alias:["prolog"],value:"prolog"},{name:"FoxPro",alias:["foxpro","vfp","clipper","xbase"],value:"vbnet"},{name:"Scheme",alias:["scheme","scm"],value:"scheme"},{name:"CUDA",alias:["cuda","cu"],value:"cpp"},{name:"Julia",alias:["julia","jl"],value:"julia"},{name:"Racket",alias:["racket","rkt"],value:"lisp"},{name:"Ada",alias:["ada","ada95","ada2005"],value:"ada"},{name:"Tcl",alias:["tcl"],value:"tcl"},{name:"Mathematica",alias:["mathematica","mma","nb"],value:"mathematica"},{name:"Autoit",alias:["autoit"],value:"autoit"},{name:"StandardML",alias:["standardmL","sml","standardml"],value:"sml"},{name:"Objective-J",alias:["objective-j","objectivej","obj-j","objj"],value:"objectivec"},{name:"Smalltalk",alias:["smalltalk","squeak","st"],value:"smalltalk"},{name:"Vala",alias:["vala","vapi"],value:"vala"},{name:"ABAP",alias:["abap"],value:"sql"},{name:"LiveScript",alias:["livescript","live-script"],value:"livescript"},{name:"XQuery",alias:["xquery","xqy","xq","xql","xqm"],value:"xquery"},{name:"PlainText",alias:["text","plaintext"],value:"text"},{name:"Yaml",alias:["yaml","yml"],value:"yaml"},{name:"GraphQL",alias:["graphql"],value:"graphql"}]),l=Object(s.a)(function(e){if(!e)return"";var t=c.find(function(t){return t.name===e||t.alias.includes(e)});return t?t.value:"text"}),u=n("gxo2"),d=n("JaVE"),p=n("73wN"),f=Object(s.a)(function(e){var t={theme:e};return{lineNumberColor:Object(d.a)({light:p.N90,dark:p.DN90})(t),lineNumberBgColor:Object(d.a)({light:p.N30,dark:p.DN20})(t),backgroundColor:Object(d.a)({light:p.N20,dark:p.DN50})(t),textColor:Object(d.a)({light:p.N800,dark:p.DN800})(t),substringColor:Object(d.a)({light:p.N400,dark:p.DN400})(t),keywordColor:Object(d.a)({light:p.B400,dark:p.B100})(t),attributeColor:Object(d.a)({light:p.T300,dark:p.T200})(t),selectorTagColor:Object(d.a)({light:p.B400,dark:p.B100})(t),docTagColor:Object(d.a)({light:p.Y300,dark:p.Y300})(t),nameColor:Object(d.a)({light:p.B400,dark:p.B100})(t),builtInColor:Object(d.a)({light:p.B400,dark:p.B100})(t),literalColor:Object(d.a)({light:p.B400,dark:p.B100})(t),bulletColor:Object(d.a)({light:p.B400,dark:p.B100})(t),codeColor:Object(d.a)({light:p.B400,dark:p.B100})(t),additionColor:Object(d.a)({light:p.B400,dark:p.B100})(t),regexpColor:Object(d.a)({light:p.T300,dark:p.T200})(t),symbolColor:Object(d.a)({light:p.T300,dark:p.T200})(t),variableColor:Object(d.a)({light:p.T300,dark:p.T200})(t),templateVariableColor:Object(d.a)({light:p.T300,dark:p.T200})(t),linkColor:Object(d.a)({light:p.P300,dark:p.P100})(t),selectorAttributeColor:Object(d.a)({light:p.T300,dark:p.T200})(t),selectorPseudoColor:Object(d.a)({light:p.T300,dark:p.T200})(t),typeColor:Object(d.a)({light:p.T500,dark:p.T300})(t),stringColor:Object(d.a)({light:p.G300,dark:p.G300})(t),selectorIdColor:Object(d.a)({light:p.T500,dark:p.T300})(t),selectorClassColor:Object(d.a)({light:p.T500,dark:p.T300})(t),quoteColor:Object(d.a)({light:p.T500,dark:p.T300})(t),templateTagColor:Object(d.a)({light:p.T500,dark:p.T300})(t),deletionColor:Object(d.a)({light:p.T500,dark:p.T300})(t),titleColor:Object(d.a)({light:p.P300,dark:p.P100})(t),sectionColor:Object(d.a)({light:p.P300,dark:p.P100})(t),commentColor:Object(d.a)({light:p.N400,dark:p.DN400})(t),metaKeywordColor:Object(d.a)({light:p.G300,dark:p.G300})(t),metaColor:Object(d.a)({light:p.N400,dark:p.DN400})(t),functionColor:Object(d.a)({light:p.N800,dark:p.DN800})(t),numberColor:Object(d.a)({light:p.B400,dark:p.B100})(t)}}),h={fontFamily:u.g,fontSize:"12px",lineHeight:20/12,padding:Object(u.l)()},m=function(e){return{fontSize:Object(u.j)()+"px",lineHeight:20/14,color:e.lineNumberColor,backgroundColor:e.lineNumberBgColor,flexShrink:0,padding:Object(u.l)(),textAlign:"right",userSelect:"none"}},g=function(e){return{key:{color:e.keywordColor,fontWeight:"bolder"},keyword:{color:e.keywordColor,fontWeight:"bolder"},"attr-name":{color:e.attributeColor},selector:{color:e.selectorTagColor},comment:{color:e.commentColor,fontFamily:"SFMono-MediumItalic, "+Object(u.g)(),fontStyle:"italic"},"block-comment":{color:e.commentColor,fontFamily:"SFMono-MediumItalic, "+Object(u.g)(),fontStyle:"italic"},"function-name":{color:e.sectionColor},"class-name":{color:e.sectionColor},doctype:{color:e.docTagColor},substr:{color:e.substringColor},namespace:{color:e.nameColor},builtin:{color:e.builtInColor},entity:{color:e.literalColor},bullet:{color:e.bulletColor},code:{color:e.codeColor},addition:{color:e.additionColor},regex:{color:e.regexpColor},symbol:{color:e.symbolColor},variable:{color:e.variableColor},url:{color:e.linkColor},"selector-attr":{color:e.selectorAttributeColor},"selector-pseudo":{color:e.selectorPseudoColor},type:{color:e.typeColor},string:{color:e.stringColor},quote:{color:e.quoteColor},tag:{color:e.templateTagColor},deletion:{color:e.deletionColor},title:{color:e.titleColor},section:{color:e.sectionColor},"meta-keyword":{color:e.metaKeywordColor},meta:{color:e.metaColor},italic:{fontStyle:"italic"},bold:{fontWeight:"bolder"},function:{color:e.functionColor},number:{color:e.numberColor}}},v=function(e){return{fontFamily:u.g,fontSize:"12px",background:e.backgroundColor,color:e.textColor,borderRadius:Object(u.f)(),display:"flex",lineHeight:20/12,overflowX:"auto",whiteSpace:"pre"}},b=function(e){return Object(r.__assign)({'pre[class*="language-"]':v(e)},g(e))},y=function(e){return Object(r.__assign)({'pre[class*="language-"]':Object(r.__assign)(Object(r.__assign)({},v(e)),{padding:"2px 4px",display:"inline",whiteSpace:"pre-wrap"})},g(e))};function w(e){void 0===e&&(e={});var t=Object(r.__assign)(Object(r.__assign)({},f(e)),e);return{lineNumberContainerStyle:m(t),codeBlockStyle:b(t),inlineCodeStyle:y(t),codeContainerStyle:h}}var O=n("o0o1"),E=n.n(O),x=n("yXPU"),k=n.n(x),C=n("pVnL"),S=n.n(C),j=n("lwsE"),T=n.n(j),M=n("W8MJ"),_=n.n(M),I=n("a1gu"),P=n.n(I),A=n("Nsbk"),N=n.n(A),R=n("7W2i"),D=n.n(R),L=n("lSNA"),z=n.n(L),B=n("QILm"),F=n.n(B),q=n("MVZn"),W=n.n(q);function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return e.reduce(function(e,t){return W()({},e,n[t])},t)}function H(e){var t,n=e.node,r=e.stylesheet,o=e.style,a=void 0===o?{}:o,s=e.useInlineStyles,c=e.key,l=n.properties,u=n.type,d=n.tagName,p=n.value;if("text"===u)return p;if(d){var f=function(e,t){var n=0;return function(r){return n+=1,r.map(function(r,o){return H({node:r,stylesheet:e,useInlineStyles:t,key:"code-segment-".concat(n,"-").concat(o)})})}}(r,s),h=s&&l.className&&l.className.filter(function(e){return!r[e]}),m=h&&h.length?h:void 0,g=s?W()({},l,{className:m},{style:U(l.className,Object.assign({},l.style,a),r)}):W()({},l,{className:(t=l.className,t.join(" "))}),v=f(n.children);return i.a.createElement(d,S()({key:c},g),v)}}var V=/\n/g;function G(e){var t=e.codeString,n=e.codeStyle,r=e.containerStyle,o=void 0===r?{float:"left",paddingRight:"10px"}:r,a=e.numberStyle,s=void 0===a?{}:a,c=e.startingLineNumber;return i.a.createElement("code",{style:Object.assign({},n,o)},function(e){var t=e.lines,n=e.startingLineNumber,r=e.style;return t.map(function(e,t){var o=t+n;return i.a.createElement("span",{key:"line-".concat(t),className:"react-syntax-highlighter-line-number",style:"function"==typeof r?r(o):r},"".concat(o,"\n"))})}({lines:t.replace(/\n$/,"").split("\n"),style:s,startingLineNumber:c}))}function K(e){var t=e.children,n=e.lineNumber,r=e.lineProps,o=e.className,i=void 0===o?[]:o,a=("function"==typeof r?r(n):r)||{};return a.className=a.className?i.concat(a.className):i,{type:"element",tagName:"span",properties:a,children:t}}function $(e,t){for(var n=function e(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=0;o<t.length;o++){var i=t[o];if("text"===i.type)r.push(K({children:[i],className:n}));else if(i.children){var a=n.concat(i.properties.className);r=r.concat(e(i.children,a))}}return r}(e.value),r=[],o=-1,i=0,a=function(){var e=n[i],a=e.children[0].value;if(a.match(V)){var s=a.split("\n");s.forEach(function(a,c){var l=r.length+1,u={type:"text",value:"".concat(a,"\n")};if(0===c){var d=n.slice(o+1,i).concat(K({children:[u],className:e.properties.className}));r.push(K({children:d,lineNumber:l,lineProps:t}))}else if(c===s.length-1){if(n[i+1]&&n[i+1].children&&n[i+1].children[0]){var p=K({children:[{type:"text",value:"".concat(a)}],className:e.properties.className});n.splice(i+1,0,p)}else r.push(K({children:[u],lineNumber:l,lineProps:t,className:e.properties.className}))}else r.push(K({children:[u],lineNumber:l,lineProps:t,className:e.properties.className}))}),o=i}i++};i<n.length;)a();if(o!==n.length-1){var s=n.slice(o+1,n.length);s&&s.length&&r.push(K({children:s,lineNumber:r.length+1,lineProps:t}))}return r}function J(e){var t=e.rows,n=e.stylesheet,r=e.useInlineStyles;return t.map(function(e,t){return H({node:e,stylesheet:n,useInlineStyles:r,key:"code-segement".concat(t)})})}var Y,Q,X,Z,ee,te,ne,re,oe,ie=function(e,t){return function(){var n=k()(E.a.mark(function n(r){var o;return E.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t();case 2:o=n.sent,r(e,o.default||o);case 4:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()},ae={abap:ie("abap",function(){return n.e(83).then(n.t.bind(null,"h9ot",7))}),actionscript:ie("actionscript",function(){return n.e(84).then(n.t.bind(null,"BK6e",7))}),ada:ie("ada",function(){return n.e(85).then(n.t.bind(null,"rQez",7))}),apacheconf:ie("apacheconf",function(){return n.e(86).then(n.t.bind(null,"c0d7",7))}),apl:ie("apl",function(){return n.e(87).then(n.t.bind(null,"+KGI",7))}),applescript:ie("applescript",function(){return n.e(88).then(n.t.bind(null,"LcBK",7))}),arduino:ie("arduino",function(){return n.e(89).then(n.t.bind(null,"hQuw",7))}),arff:ie("arff",function(){return n.e(90).then(n.t.bind(null,"80K2",7))}),asciidoc:ie("asciidoc",function(){return n.e(91).then(n.t.bind(null,"flTx",7))}),asm6502:ie("asm6502",function(){return n.e(92).then(n.t.bind(null,"ex7v",7))}),aspnet:ie("aspnet",function(){return n.e(93).then(n.t.bind(null,"cirD",7))}),autohotkey:ie("autohotkey",function(){return n.e(94).then(n.t.bind(null,"r77y",7))}),autoit:ie("autoit",function(){return n.e(95).then(n.t.bind(null,"h6Os",7))}),bash:ie("bash",function(){return n.e(96).then(n.t.bind(null,"RoP8",7))}),basic:ie("basic",function(){return n.e(97).then(n.t.bind(null,"Zbb/",7))}),batch:ie("batch",function(){return n.e(98).then(n.t.bind(null,"kJUM",7))}),bison:ie("bison",function(){return n.e(99).then(n.t.bind(null,"31EH",7))}),brainfuck:ie("brainfuck",function(){return n.e(100).then(n.t.bind(null,"czuR",7))}),bro:ie("bro",function(){return n.e(101).then(n.t.bind(null,"yBwc",7))}),c:ie("c",function(){return n.e(102).then(n.t.bind(null,"pr4O",7))}),clike:ie("clike",function(){return n.e(103).then(n.t.bind(null,"amLO",7))}),clojure:ie("clojure",function(){return n.e(104).then(n.t.bind(null,"XnOg",7))}),coffeescript:ie("coffeescript",function(){return n.e(105).then(n.t.bind(null,"Zyy6",7))}),cpp:ie("cpp",function(){return n.e(106).then(n.t.bind(null,"rDFf",7))}),crystal:ie("crystal",function(){return n.e(107).then(n.t.bind(null,"rFnP",7))}),csharp:ie("csharp",function(){return n.e(108).then(n.t.bind(null,"EGRD",7))}),csp:ie("csp",function(){return n.e(109).then(n.t.bind(null,"xkx2",7))}),cssExtras:ie("cssExtras",function(){return n.e(111).then(n.t.bind(null,"D+1R",7))}),css:ie("css",function(){return n.e(110).then(n.t.bind(null,"fwF+",7))}),d:ie("d",function(){return n.e(112).then(n.t.bind(null,"mX3B",7))}),dart:ie("dart",function(){return n.e(113).then(n.t.bind(null,"E4h5",7))}),diff:ie("diff",function(){return n.e(114).then(n.t.bind(null,"q9H2",7))}),django:ie("django",function(){return n.e(115).then(n.t.bind(null,"Wm63",7))}),docker:ie("docker",function(){return n.e(116).then(n.t.bind(null,"cJKJ",7))}),eiffel:ie("eiffel",function(){return n.e(117).then(n.t.bind(null,"+4XU",7))}),elixir:ie("elixir",function(){return n.e(118).then(n.t.bind(null,"oBNv",7))}),elm:ie("elm",function(){return n.e(119).then(n.t.bind(null,"JidM",7))}),erb:ie("erb",function(){return n.e(120).then(n.t.bind(null,"JT+x",7))}),erlang:ie("erlang",function(){return n.e(121).then(n.t.bind(null,"cKbU",7))}),flow:ie("flow",function(){return n.e(122).then(n.t.bind(null,"ZpVt",7))}),fortran:ie("fortran",function(){return n.e(123).then(n.t.bind(null,"Q4s5",7))}),fsharp:ie("fsharp",function(){return n.e(124).then(n.t.bind(null,"mKfl",7))}),gedcom:ie("gedcom",function(){return n.e(125).then(n.t.bind(null,"qseY",7))}),gherkin:ie("gherkin",function(){return n.e(126).then(n.t.bind(null,"kCZm",7))}),git:ie("git",function(){return n.e(127).then(n.t.bind(null,"YiBN",7))}),glsl:ie("glsl",function(){return n.e(128).then(n.t.bind(null,"v/up",7))}),go:ie("go",function(){return n.e(129).then(n.t.bind(null,"cbKp",7))}),graphql:ie("graphql",function(){return n.e(130).then(n.t.bind(null,"phHE",7))}),groovy:ie("groovy",function(){return n.e(131).then(n.t.bind(null,"keYo",7))}),haml:ie("haml",function(){return n.e(132).then(n.t.bind(null,"wlav",7))}),handlebars:ie("handlebars",function(){return n.e(133).then(n.t.bind(null,"jgXz",7))}),haskell:ie("haskell",function(){return n.e(134).then(n.t.bind(null,"Crv7",7))}),haxe:ie("haxe",function(){return n.e(135).then(n.t.bind(null,"FDVF",7))}),hpkp:ie("hpkp",function(){return n.e(136).then(n.t.bind(null,"dj8l",7))}),hsts:ie("hsts",function(){return n.e(137).then(n.t.bind(null,"3DeZ",7))}),http:ie("http",function(){return n.e(138).then(n.t.bind(null,"qu84",7))}),ichigojam:ie("ichigojam",function(){return n.e(139).then(n.t.bind(null,"Skso",7))}),icon:ie("icon",function(){return n.e(140).then(n.t.bind(null,"tYeQ",7))}),inform7:ie("inform7",function(){return n.e(141).then(n.t.bind(null,"hGJt",7))}),ini:ie("ini",function(){return n.e(142).then(n.t.bind(null,"22HQ",7))}),io:ie("io",function(){return n.e(143).then(n.t.bind(null,"XDzI",7))}),j:ie("j",function(){return n.e(144).then(n.t.bind(null,"fNCr",7))}),java:ie("java",function(){return n.e(145).then(n.t.bind(null,"DPa0",7))}),javascript:ie("javascript",function(){return n.e(146).then(n.t.bind(null,"H4ZV",7))}),jolie:ie("jolie",function(){return n.e(147).then(n.t.bind(null,"8YJO",7))}),json:ie("json",function(){return n.e(148).then(n.t.bind(null,"Qg97",7))}),jsx:ie("jsx",function(){return n.e(149).then(n.t.bind(null,"1K8B",7))}),julia:ie("julia",function(){return n.e(150).then(n.t.bind(null,"tnne",7))}),keyman:ie("keyman",function(){return n.e(151).then(n.t.bind(null,"Gdkm",7))}),kotlin:ie("kotlin",function(){return n.e(152).then(n.t.bind(null,"fnZc",7))}),latex:ie("latex",function(){return n.e(153).then(n.t.bind(null,"hvS6",7))}),less:ie("less",function(){return n.e(154).then(n.t.bind(null,"hR/J",7))}),liquid:ie("liquid",function(){return n.e(155).then(n.t.bind(null,"9B5k",7))}),lisp:ie("lisp",function(){return n.e(156).then(n.t.bind(null,"v/u2",7))}),livescript:ie("livescript",function(){return n.e(157).then(n.t.bind(null,"B62i",7))}),lolcode:ie("lolcode",function(){return n.e(158).then(n.t.bind(null,"9Fha",7))}),lua:ie("lua",function(){return n.e(159).then(n.t.bind(null,"VOTz",7))}),makefile:ie("makefile",function(){return n.e(160).then(n.t.bind(null,"p+MO",7))}),markdown:ie("markdown",function(){return n.e(161).then(n.t.bind(null,"OniS",7))}),markupTemplating:ie("markupTemplating",function(){return n.e(163).then(n.t.bind(null,"0iGP",7))}),markup:ie("markup",function(){return n.e(162).then(n.t.bind(null,"Ox1z",7))}),matlab:ie("matlab",function(){return n.e(164).then(n.t.bind(null,"vY5V",7))}),mel:ie("mel",function(){return n.e(165).then(n.t.bind(null,"zDxY",7))}),mizar:ie("mizar",function(){return n.e(166).then(n.t.bind(null,"lKmu",7))}),monkey:ie("monkey",function(){return n.e(167).then(n.t.bind(null,"SlDd",7))}),n4js:ie("n4js",function(){return n.e(168).then(n.t.bind(null,"4zmH",7))}),nasm:ie("nasm",function(){return n.e(169).then(n.t.bind(null,"AoEZ",7))}),nginx:ie("nginx",function(){return n.e(170).then(n.t.bind(null,"aUvw",7))}),nim:ie("nim",function(){return n.e(171).then(n.t.bind(null,"tBDx",7))}),nix:ie("nix",function(){return n.e(172).then(n.t.bind(null,"K5tb",7))}),nsis:ie("nsis",function(){return n.e(173).then(n.t.bind(null,"iY0B",7))}),objectivec:ie("objectivec",function(){return n.e(174).then(n.t.bind(null,"sFmL",7))}),ocaml:ie("ocaml",function(){return n.e(175).then(n.t.bind(null,"v6/A",7))}),opencl:ie("opencl",function(){return n.e(176).then(n.t.bind(null,"ul/r",7))}),oz:ie("oz",function(){return n.e(177).then(n.t.bind(null,"zwFG",7))}),parigp:ie("parigp",function(){return n.e(178).then(n.t.bind(null,"mNGm",7))}),parser:ie("parser",function(){return n.e(179).then(n.t.bind(null,"fu6h",7))}),pascal:ie("pascal",function(){return n.e(180).then(n.t.bind(null,"bSdp",7))}),perl:ie("perl",function(){return n.e(181).then(n.t.bind(null,"R4va",7))}),phpExtras:ie("phpExtras",function(){return n.e(183).then(n.t.bind(null,"D+Se",7))}),php:ie("php",function(){return n.e(182).then(n.t.bind(null,"1MdW",7))}),plsql:ie("plsql",function(){return n.e(184).then(n.t.bind(null,"dnS0",7))}),powershell:ie("powershell",function(){return n.e(185).then(n.t.bind(null,"3vSn",7))}),processing:ie("processing",function(){return n.e(186).then(n.t.bind(null,"RcLD",7))}),prolog:ie("prolog",function(){return n.e(187).then(n.t.bind(null,"ebaj",7))}),properties:ie("properties",function(){return n.e(188).then(n.t.bind(null,"JfXJ",7))}),protobuf:ie("protobuf",function(){return n.e(189).then(n.t.bind(null,"Azb4",7))}),pug:ie("pug",function(){return n.e(190).then(n.t.bind(null,"npx2",7))}),puppet:ie("puppet",function(){return n.e(191).then(n.t.bind(null,"G73E",7))}),pure:ie("pure",function(){return n.e(192).then(n.t.bind(null,"BWuY",7))}),python:ie("python",function(){return n.e(193).then(n.t.bind(null,"piw0",7))}),q:ie("q",function(){return n.e(194).then(n.t.bind(null,"LbkK",7))}),qore:ie("qore",function(){return n.e(195).then(n.t.bind(null,"F2b0",7))}),r:ie("r",function(){return n.e(196).then(n.t.bind(null,"tQ4h",7))}),reason:ie("reason",function(){return n.e(197).then(n.t.bind(null,"vSYx",7))}),renpy:ie("renpy",function(){return n.e(198).then(n.t.bind(null,"41kq",7))}),rest:ie("rest",function(){return n.e(199).then(n.t.bind(null,"0HCD",7))}),rip:ie("rip",function(){return n.e(200).then(n.t.bind(null,"C3kK",7))}),roboconf:ie("roboconf",function(){return n.e(201).then(n.t.bind(null,"oTt7",7))}),ruby:ie("ruby",function(){return n.e(202).then(n.t.bind(null,"SVLc",7))}),rust:ie("rust",function(){return n.e(203).then(n.t.bind(null,"0Wr9",7))}),sas:ie("sas",function(){return n.e(204).then(n.t.bind(null,"oV7L",7))}),sass:ie("sass",function(){return n.e(205).then(n.t.bind(null,"ER9t",7))}),scala:ie("scala",function(){return n.e(206).then(n.t.bind(null,"qcbc",7))}),scheme:ie("scheme",function(){return n.e(207).then(n.t.bind(null,"zFKg",7))}),scss:ie("scss",function(){return n.e(208).then(n.t.bind(null,"vCn/",7))}),smalltalk:ie("smalltalk",function(){return n.e(209).then(n.t.bind(null,"dLlz",7))}),smarty:ie("smarty",function(){return n.e(210).then(n.t.bind(null,"sYQe",7))}),soy:ie("soy",function(){return n.e(211).then(n.t.bind(null,"4UXz",7))}),sql:ie("sql",function(){return n.e(212).then(n.t.bind(null,"uFsh",7))}),stylus:ie("stylus",function(){return n.e(213).then(n.t.bind(null,"ZZii",7))}),swift:ie("swift",function(){return n.e(214).then(n.t.bind(null,"VvBV",7))}),tap:ie("tap",function(){return n.e(215).then(n.t.bind(null,"LMH6",7))}),tcl:ie("tcl",function(){return n.e(216).then(n.t.bind(null,"UO0u",7))}),textile:ie("textile",function(){return n.e(217).then(n.t.bind(null,"F+rS",7))}),tsx:ie("tsx",function(){return n.e(218).then(n.t.bind(null,"T09G",7))}),tt2:ie("tt2",function(){return n.e(219).then(n.t.bind(null,"xdbo",7))}),twig:ie("twig",function(){return n.e(220).then(n.t.bind(null,"dQnZ",7))}),typescript:ie("typescript",function(){return n.e(221).then(n.t.bind(null,"WUdu",7))}),vbnet:ie("vbnet",function(){return n.e(222).then(n.t.bind(null,"5/I5",7))}),velocity:ie("velocity",function(){return n.e(223).then(n.t.bind(null,"xwQe",7))}),verilog:ie("verilog",function(){return n.e(224).then(n.t.bind(null,"MU+u",7))}),vhdl:ie("vhdl",function(){return n.e(225).then(n.t.bind(null,"+E/D",7))}),vim:ie("vim",function(){return n.e(226).then(n.t.bind(null,"m+qi",7))}),visualBasic:ie("visualBasic",function(){return n.e(227).then(n.t.bind(null,"SNVr",7))}),wasm:ie("wasm",function(){return n.e(228).then(n.t.bind(null,"aKgD",7))}),wiki:ie("wiki",function(){return n.e(229).then(n.t.bind(null,"rxUy",7))}),xeora:ie("xeora",function(){return n.e(230).then(n.t.bind(null,"jCh7",7))}),xojo:ie("xojo",function(){return n.e(231).then(n.t.bind(null,"057u",7))}),xquery:ie("xquery",function(){return n.e(232).then(n.t.bind(null,"Hwnw",7))}),yaml:ie("yaml",function(){return n.e(233).then(n.t.bind(null,"uBZG",7))})},se=(Z=(Y={loader:function(){return n.e(29).then(n.t.bind(null,"5YM3",7)).then(function(e){return e.default||e})},isLanguageRegistered:function(e,t){return e.registered(t)},languageLoaders:ae,registerLanguage:function(e,t,n){return e.register(n)}}).loader,ee=Y.isLanguageRegistered,te=Y.registerLanguage,ne=Y.languageLoaders,re=Y.noAsyncLoadingLanguages,oe=function(e){function t(){return T()(this,t),P()(this,N()(t).apply(this,arguments))}var n;return D()(t,e),_()(t,[{key:"componentDidUpdate",value:function(){!t.isRegistered(this.props.language)&&ne&&this.loadLanguage()}},{key:"componentDidMount",value:function(){var e=this;t.astGeneratorPromise||t.loadAstGenerator(),t.astGenerator||t.astGeneratorPromise.then(function(){e.forceUpdate()}),!t.isRegistered(this.props.language)&&ne&&this.loadLanguage()}},{key:"loadLanguage",value:function(){var e=this,n=this.props.language;"text"!==n&&t.loadLanguage(n).then(function(){e.forceUpdate()})}},{key:"normalizeLanguage",value:function(e){return t.isSupportedLanguage(e)?e:"text"}},{key:"render",value:function(){return i.a.createElement(t.highlightInstance,S()({},this.props,{language:this.normalizeLanguage(this.props.language),astGenerator:t.astGenerator}))}}],[{key:"preload",value:function(){return t.loadAstGenerator()}},{key:"loadLanguage",value:(n=k()(E.a.mark(function e(n){var r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof(r=ne[n])){e.next=5;break}return e.abrupt("return",r(t.registerLanguage));case 5:throw new Error("Language ".concat(n," not supported"));case 6:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"isSupportedLanguage",value:function(e){return t.isRegistered(e)||"function"==typeof ne[e]}},{key:"loadAstGenerator",value:function(){return t.astGeneratorPromise=Z().then(function(e){t.astGenerator=e,te&&t.languages.forEach(function(t,n){return te(e,n,t)})}),t.astGeneratorPromise}}]),t}(i.a.PureComponent),z()(oe,"astGenerator",null),z()(oe,"highlightInstance",(Q=null,X={},function(e){var t=e.language,n=e.children,r=e.style,o=void 0===r?X:r,a=e.customStyle,s=void 0===a?{}:a,c=e.codeTagProps,l=void 0===c?{style:o['code[class*="language-"]']}:c,u=e.useInlineStyles,d=void 0===u||u,p=e.showLineNumbers,f=void 0!==p&&p,h=e.startingLineNumber,m=void 0===h?1:h,g=e.lineNumberContainerStyle,v=e.lineNumberStyle,b=e.wrapLines,y=e.lineProps,w=void 0===y?{}:y,O=e.renderer,E=e.PreTag,x=void 0===E?"pre":E,k=e.CodeTag,C=void 0===k?"code":k,S=e.code,j=void 0===S?Array.isArray(n)?n[0]:n:S,T=e.astGenerator,M=F()(e,["language","children","style","customStyle","codeTagProps","useInlineStyles","showLineNumbers","startingLineNumber","lineNumberContainerStyle","lineNumberStyle","wrapLines","lineProps","renderer","PreTag","CodeTag","code","astGenerator"]);T=T||Q;var _=f?i.a.createElement(G,{containerStyle:g,codeStyle:l.style||{},numberStyle:v,startingLineNumber:m,codeString:j}):null,I=o.hljs||o['pre[class*="language-"]']||{backgroundColor:"#fff"},P=d?Object.assign({},M,{style:Object.assign({},I,s)}):Object.assign({},M,{className:"hljs"});if(!T)return i.a.createElement(x,P,_,i.a.createElement(C,l,j));b=!(!O||void 0!==b)||b,O=O||J;var A=[{type:"text",value:j}],N=function(e){var t=e.astGenerator,n=e.language,r=e.code,o=e.defaultCodeValue;if(t.getLanguage){var i=n&&t.getLanguage(n);return"text"===n?{value:o,language:"text"}:i?t.highlight(n,r):t.highlightAuto(r)}try{return n&&"text"!==n?{value:t.highlight(r,n)}:{value:o}}catch(e){return{value:o}}}({astGenerator:T,language:t,code:j,defaultCodeValue:A});null===N.language&&(N.value=A);var R=b?$(N,w):N.value;return i.a.createElement(x,P,_,i.a.createElement(C,l,O({rows:R,stylesheet:o,useInlineStyles:d})))})),z()(oe,"astGeneratorPromise",null),z()(oe,"languages",new Map),z()(oe,"supportedLanguages",Y.supportedLanguages||Object.keys(ne||{})),z()(oe,"isRegistered",function(e){if(re)return!0;if(!te)throw new Error("Current syntax highlighter doesn't support registration of languages");return oe.astGenerator?ee(oe.astGenerator,e):oe.languages.has(e)}),z()(oe,"registerLanguage",function(e,t){if(!te)throw new Error("Current syntax highlighter doesn't support registration of languages");if(oe.astGenerator)return te(oe.astGenerator,e,t);oe.languages.set(e,t)}),oe),ce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=w(this.props.theme).inlineCodeStyle,t={language:l(this.props.language),PreTag:this.props.preTag,style:this.props.codeStyle||e,showLineNumbers:this.props.showLineNumbers,lineNumberContainerStyle:this.props.lineNumberContainerStyle,codeTagProps:this.props.codeTagProps};return i.a.createElement(se,Object(r.__assign)({},t),this.props.text)},t.defaultProps={theme:{},showLineNumbers:!1,lineNumberContainerStyle:{},codeTagProps:{},preTag:"span"},t}(o.PureComponent),le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCopy=function(e){var t=e.nativeEvent.clipboardData;if(t){e.preventDefault();var n=window.getSelection();if(null===n)return;var r=n.toString(),o="<!doctype html><html><head></head><body><pre>"+r+"</pre></body></html>";t.clearData(),t.setData("text/html",o),t.setData("text/plain",r)}},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=w(this.props.theme),t=e.lineNumberContainerStyle,n=e.codeBlockStyle,o=e.codeContainerStyle,a={language:l(this.props.language||"text"),codeStyle:n,showLineNumbers:this.props.showLineNumbers,codeTagProps:{style:o},lineNumberContainerStyle:t,text:this.props.text.toString()};return i.a.createElement(ce,Object(r.__assign)({},a))},t.displayName="CodeBlock",t.defaultProps={showLineNumbers:!0,language:"text",theme:{}},t}(o.PureComponent),ue=Object(a.withTheme)(le),de={};t.a=function(e){return i.a.createElement(a.ThemeProvider,{theme:de},i.a.createElement(ue,Object(r.__assign)({},e)))}},Zkmr:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"h",function(){return c}),n.d(t,"i",function(){return l}),n.d(t,"j",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"f",function(){return f}),n.d(t,"g",function(){return h});var r=n("b0Qh"),o=n("gxo2"),i=(n("Ntz7").j,r.colors.N40),a="0 3px 6px rgba(0, 0, 0, 0.2)",s="0px -1px 1px 0px rgba(0, 0, 0, 0.1)",c=r.colors.N40,l=Object(o.f)()+"px",u="0 3px 6px rgba(0, 0, 0, 0.2)",d=r.colors.N30,p=r.colors.N30,f=350,h=350},ZlG8:function(e,t,n){"use strict";n.d(t,"b",function(){return p});var r=n("mrSG"),o=n("b/sn"),i=n("cD+i"),a=n("VuzU"),s=n("mG1W"),c=n("w3vy"),l=n("8S2X"),u=function(e){var t=Object(s.findParentNodeOfType)(e.schema.nodes.layoutColumn)(e.selection);return!!t&&e.selection.from<t.pos+t.node.nodeSize},d=function(e,t){var n=e.selection,r=e.schema.nodes,i=r.layoutColumn,a=r.layoutSection,c=Object(s.findParentNodeOfType)(a)(n),l=Object(s.findParentNodeOfType)(i)(n);if(l.node!==c.node.lastChild){var u=e.doc.resolve(l.pos+l.node.nodeSize),d=o.TextSelection.findFrom(u,1);t&&t(e.tr.setSelection(d))}return!0},p=new o.PluginKey("layout");t.a=function(e){return new o.Plugin({key:p,state:{init:function(t,n){return function(e,t){var n=Object(s.findParentNodeOfType)(t.schema.nodes.layoutSection)(t.selection),r="object"==typeof e&&!!e.allowBreakout,o="object"==typeof e&&!!e.UNSAFE_addSidebarLayouts;return{pos:n?n.pos:null,allowBreakout:r,addSidebarLayouts:o,selectedLayout:Object(l.f)(n&&n.node,"two_equal")}}(e,n)},apply:function(e,t,n,o){if(e.docChanged||e.selectionSet){var i=Object(s.findParentNodeOfType)(o.schema.nodes.layoutSection)(o.selection);return r.__assign({},t,{pos:i?i.pos:null,selectedLayout:Object(l.f)(i&&i.node,t.selectedLayout)})}return t}},props:{decorations:function(e){var t,n,r=p.getState(e);if(null!==r.pos)return i.DecorationSet.create(e.doc,(t=r.pos,n=e.doc.nodeAt(r.pos),[i.Decoration.node(t,t+n.nodeSize,{class:"selected"})]))},handleKeyDown:Object(a.keydownHandler)({Tab:Object(c.a)(u,d)})},appendTransaction:function(e,t,n){var r=[];if(e.forEach(function(e){if(r.map(function(t){return{from:e.mapping.map(t.from),to:e.mapping.map(t.to),slice:t.slice}}),e.docChanged){var t=Object(l.c)(e,n);t&&r.push(t)}}),r.length){var o=n.tr,i=n.selection;if(r.forEach(function(e){o.replaceRange(e.from,e.to,e.slice)}),(o=Object(l.d)(n)||o).docChanged)return o.setSelection(i),o.setMeta("addToHistory",!1),o}}})}},ZwsQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M10.208 7.308a1.09 1.09 0 0 1 0 1.483l-3.515 3.71 3.515 3.708a1.09 1.09 0 0 1 0 1.483.957.957 0 0 1-1.405 0l-3.866-4.08a1.635 1.635 0 0 1 0-2.225l3.866-4.08a.957.957 0 0 1 1.405 0zm3.584 0a.957.957 0 0 1 1.405 0l3.866 4.08c.583.614.583 1.61 0 2.225l-3.866 4.08a.957.957 0 0 1-1.405 0 1.09 1.09 0 0 1 0-1.484l3.515-3.708-3.515-3.71a1.09 1.09 0 0 1 0-1.483z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorCodeIcon";var c=s;t.default=c},"a+fk":function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return h}),n.d(t,"a",function(){return m}),n.d(t,"f",function(){return v});var r=n("hRjf"),o=n("b/sn"),i=n("mG1W"),a=n("9N/3"),s=n("rclq"),c=n("hkcA"),l=n("w9Yk"),u=n("FXUh"),d=function(e,t){var n=t.nodes,r=n.decisionList,o=n.decisionItem,i=n.taskList,a=n.taskItem;return"taskList"===e?{list:i,item:a}:{list:r,item:o}},p=function(e,t,n){void 0===n&&(n=c.e.TOOLBAR);var r=e.state,i=r.schema,a=f(r,t,n,function(e){var t=e.tr,n=e.list,o=e.item,a=e.listLocalId,s=e.itemLocalId;return g(t,n,o,i,r,a,s)},function(e){var t=e.state,n=e.tr,r=e.item,i=e.itemLocalId,a=t.selection.$to,s=a.end(a.depth);return n.split(s,1,[{type:r,attrs:{localId:i}}]).setSelection(new o.TextSelection(n.doc.resolve(s+a.depth)))});return!!a&&(e.dispatch(a),!0)},f=function(e,t,n,o,a){var p,f,h,m,g=e.schema,v=d(t,g),b=v.list,y=v.item,w=e.tr,O=e.selection.$to,E=Object(i.findParentNodeOfType)(b)(e.selection),x=r.b.generate(),k=function(e){void 0===e&&(e={});var t=e.objectId;return{objectId:t,containerId:e.containerId,userContext:t?s.b.EDIT:s.b.NEW}}(u.b.getState(e).contextIdentifierProvider);if(E){if(O.node().textContent.length>0){m=E.node.childCount+1,p=E.node.attrs.localId;var C=Object(i.findParentNodeOfType)(y)(e.selection);h=C?e.doc.resolve(C.pos).index()+1:0,f=a||o}}else p=r.b.generate(),h=0,m=1,f=o;if(f){var S=f({state:e,tr:w,list:b,item:y,listLocalId:p,itemLocalId:x});return S&&(S=Object(l.a)(S,function(e,t,n,r,o,i,a){var s,l,u;return t&&(s=t.containerId,l=t.objectId,u=t.userContext),{action:c.a.INSERTED,actionSubject:c.b.DOCUMENT,actionSubjectId:"taskList"===e?c.c.ACTION:c.c.DECISION,eventType:c.d.TRACK,attributes:{inputMethod:n,containerAri:s,objectAri:l,userContext:u,localId:r,listLocalId:o,position:i,listSize:a}}}(t,k,n,x,p,h||0,m||0))),S}return null},h=function(e,t){var n=e.nodes,r=n.paragraph,o=n.blockquote,a=n.decisionList,s=n.taskList;return Object(i.hasParentNodeOfType)([o,r,a,s])(t)},m=function(e,t){return t.depth-e.depth},g=function(e,t,n,s,c,l,u){void 0===l&&(l=r.b.generate()),void 0===u&&(u=r.b.generate());var d=c.selection,p=d.$from,f=d.$to;if(p.parent!==f.parent)return null;var g=s.nodes,v=g.paragraph,b=g.blockquote,y=g.decisionList,w=g.taskList,O=g.mediaGroup;if(p.parent.type===O)return null;var E=t.create({localId:l},[n.create({localId:u})]);if(d instanceof a.a)return Object(i.safeInsert)(E)(e);if(h(s,d)){var x=Object(i.replaceParentNodeOfType)([b,v,y,w],t.create({localId:r.b.generate()},[n.create({localId:r.b.generate()},p.node(p.depth).content)]))(e),k=m(f,x.selection.$to);if(x!==(e=e.setSelection(new o.TextSelection(e.doc.resolve(f.pos+k)))))return e}return Object(i.safeInsert)(E)(e)},v=function(e,t){var n=e.selection,a=n.$from,s=n.$to;if(a.parent!==s.parent)return e;var c=t.nodes,l=c.decisionItem,u=c.decisionList,d=c.paragraph,p=c.taskItem,f=c.taskList,h=Object(i.findParentNodeOfType)([u,f])(n);if(!h)return e;var m=Object(i.findParentNodeOfType)([l,p])(n);if(!m)return e;var g=e.doc.resolve(m.pos),v=[h.node.attrs.localId||r.b.generate(),r.b.generate()],b=[],y=[];h.node.content.forEach(function(e,t,n){t<g.parentOffset?b.push(e):t>g.parentOffset&&y.push(e)});var w=[];b.length&&w.push(h.node.type.createChecked({localId:v.shift()},b)),w.push(d.createChecked({},m.node.content)),y.length&&w.push(h.node.type.createChecked({localId:v.shift()},y));var O=0===b.length?-1:1;return e=(e=e.replaceWith(g.start()-1,g.end()+1,w)).setSelection(new o.TextSelection(e.doc.resolve(a.pos+O)))}},"a4+5":function(e,t,n){var r=n("yNUO");e.exports=function(e,t){var n=r(e),o=r(t);return n.getTime()<o.getTime()}},a9ac:function(e,t,n){"use strict";var r=n("mrSG"),o=n("b/sn"),i=function(e,t){switch(t.type){case"QUEUE":return function(e,t){return r.__assign({},e,{requests:e.requests.concat(t.requests)})}(e,t);case"SET_PROVIDER":return function(e,t){return r.__assign({},e,{provider:t.provider})}(e,t);case"RESOLVE":return function(e,t){var n=e.requests.reduce(function(e,n){return n.url!==t.url&&e.push(n),e},[]);return r.__assign({},e,{requests:n})}(e,t)}},a=n("UtC1"),s=n("q1tI"),c=n("17x9"),l=n("liZE"),u=n("rbIO"),d=n("vOnD"),p=n("COqE"),f=d.default.div(h||(h=r.__makeTemplateObject(["\n  width: 100%;\n"],["\n  width: 100%;\n"])));f.displayName="BlockWrapperClickArea";var h,m,g=d.default.span(m||(m=r.__makeTemplateObject([""],[""])));function v(e,t){return function(n){function o(){var e=null!==n&&n.apply(this,arguments)||this;return e.state={selected:!1},e.handleDocumentSelectionChange=function(t,n){var r=e.props,o=r.getPos,i=r.onSelection,a=o(),s=a>=t&&a<n,c=e.state.selected;e.setState({selected:s},function(){i&&s!==c&&i(s)})},e.onClick=function(){var t=e.props,n=t.getPos,r=t.view;Object(p.F)(r,n())},e}return r.__extends(o,n),o.prototype.componentDidMount=function(){this.props.pluginState.subscribe(this.handleDocumentSelectionChange)},o.prototype.componentWillUnmount=function(){this.props.pluginState.unsubscribe(this.handleDocumentSelectionChange)},o.prototype.render=function(){var n=t?g:f;return s.createElement(n,{onClick:this.onClick},s.createElement(e,r.__assign({},this.props,{selected:this.state.selected})))},o}(s.PureComponent)}g.displayName="InlineWrapperClickArea";var b=n("G7hI"),y=v(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(){},t}return r.__extends(t,e),t.prototype.componentWillMount=function(){var e=this.props.view,t=Object(u.c)(e.dom);this.scrollContainer=t||void 0},t.prototype.render=function(){var e=this.props,t=e.node,n=e.selected,r=t.attrs,o=r.url,i=r.data,a=this.context.contextAdapter?this.context.contextAdapter.card:void 0,c=s.createElement("span",null,s.createElement("span",null,p.a),s.createElement("span",{className:"card"},s.createElement(l.a,{url:o,data:i,appearance:"inline",isSelected:n,onClick:this.onClick,container:this.scrollContainer})));return a?s.createElement(a.Provider,{value:a.value},c):c},t.contextTypes={contextAdapter:c.object},t}(s.PureComponent),!0),w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){return s.createElement(y,r.__assign({},this.props,{pluginState:b.b.getState(this.props.view.state)}))},t}(s.PureComponent),O=v(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(){},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.node,n=e.selected,r=t.attrs,o=r.url,i=r.data,a=this.context.contextAdapter?this.context.contextAdapter.card:void 0,c=s.createElement(s.Fragment,null,s.createElement(l.a,{url:o,data:i,appearance:"block",isSelected:n,onClick:this.onClick}),s.createElement("span",{contentEditable:!0}));return s.createElement("div",null,a?s.createElement(a.Provider,{value:a.value},c):c)},t.contextTypes={contextAdapter:c.object},t}(s.Component)),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){return s.createElement(O,r.__assign({},this.props,{pluginState:b.b.getState(this.props.view.state)}))},t}(s.PureComponent),x=n("vuj9"),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.fromComponent=function(e,n,r){return function(o,i,a){return new t(o,i,a,n,r,e,!0).init()}},t}(n("eV/v").b);n.d(t,"b",function(){return C}),n.d(t,"a",function(){return T});var C=new o.PluginKey("cardPlugin"),S=function(e){return C.getState(e)},j=function(e,t,n,r){var o=e.state.doc.resolve(r.pos),i=o.parent,s="paragraph"===i.type.name&&1===i.childCount&&i.firstChild.type.isText&&i.firstChild.text===r.url&&"doc"===o.node(o.depth-1).type.name;t[r.url]=n.resolve(r.url,s?"block":"inline").then(function(e){return delete t[r.url],e}).then(function(e,t){return function(n){return Object(x.c)(t.url,n)(e.state,e.dispatch),n}}(e,r),function(e,t){return function(){e.dispatch(Object(a.b)(t.url)(e.state.tr))}}(e,r))},T=function(e){var t=e.portalProviderAPI,n=e.providerFactory;return new o.Plugin({state:{init:function(){return{requests:[],provider:null}},apply:function(e,t){var n=r.__assign({},t,{requests:t.requests.map(function(t){return r.__assign({},t,{pos:e.mapping.map(t.pos)})})}),o=e.getMeta(C);return o?i(n,o):n}},view:function(e){var t=function(t,n){"cardProvider"===t&&n&&n.then(function(t){var n=e.state;(0,e.dispatch)(Object(a.c)(t)(n.tr))})};n.subscribe("cardProvider",t);var r={};return{update:function(e,t){var n=S(e.state),o=S(t);if(n&&n.provider){var i=o?n.requests.filter(function(e){return!o.requests.find(function(t){return t.url===e.url&&t.pos===e.pos})}):n.requests,a=n.provider;i.forEach(function(t){j(e,r,a,t)})}},destroy:function(){Object.keys(r).forEach(function(e){return Promise.reject(r[e])}),n.unsubscribe("cardProvider",t)}}},props:{nodeViews:{inlineCard:k.fromComponent(w,t,{providerFactory:n}),blockCard:k.fromComponent(E,t,{providerFactory:n})}},key:C})}},aIcx:function(e){e.exports={a:"@atlaskit/reactions",b:"17.1.0"}},aJhv:function(e,t,n){"use strict";var r=n("mrSG"),o=n("q1tI"),i=n("J+OG"),a=n("zOsC"),s=function(e){function t(t){var n=e.call(this,t)||this;return n.handleRef=function(e){n.setState({target:e||void 0})},n.updatePopupPlacement=function(e){n.setState({popupPlacement:e})},n.state={popupPlacement:["bottom","left"]},n}return r.__extends(t,e),t.prototype.renderDropdown=function(){var e=this.state,t=e.target,n=e.popupPlacement,r=this.props,s=r.children,c=r.mountTo,l=r.boundariesElement,u=r.scrollableElement,d=r.onOpenChange,p=r.fitHeight,f=r.fitWidth,h=r.zIndex;return o.createElement(a.a,{target:t,mountTo:c,boundariesElement:l,scrollableElement:u,onPlacementChanged:this.updatePopupPlacement,fitHeight:p,fitWidth:f,zIndex:h},o.createElement("div",{style:{height:0,minWidth:f||0}},o.createElement(i.a,{isOpen:!0,onOpenChange:d,appearance:"tall",position:n.join(" "),shouldFlip:!1,shouldFitContainer:!0},s)))},t.prototype.render=function(){var e=this.props,t=e.trigger,n=e.isOpen;return o.createElement("div",null,o.createElement("div",{ref:this.handleRef},t),n?this.renderDropdown():null)},t}(o.PureComponent);t.a=s},akz4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M12.856 5.457l-.937.92a1.002 1.002 0 0 0 0 1.437 1.047 1.047 0 0 0 1.463 0l.984-.966c.967-.95 2.542-1.135 3.602-.288a2.54 2.54 0 0 1 .203 3.81l-2.903 2.852a2.646 2.646 0 0 1-3.696 0l-1.11-1.09L9 13.57l1.108 1.089c1.822 1.788 4.802 1.788 6.622 0l2.905-2.852a4.558 4.558 0 0 0-.357-6.82c-1.893-1.517-4.695-1.226-6.422.47"/><path d="M11.144 19.543l.937-.92a1.002 1.002 0 0 0 0-1.437 1.047 1.047 0 0 0-1.462 0l-.985.966c-.967.95-2.542 1.135-3.602.288a2.54 2.54 0 0 1-.203-3.81l2.903-2.852a2.646 2.646 0 0 1 3.696 0l1.11 1.09L15 11.43l-1.108-1.089c-1.822-1.788-4.802-1.788-6.622 0l-2.905 2.852a4.558 4.558 0 0 0 .357 6.82c1.893 1.517 4.695 1.226 6.422-.47"/></g></svg>'},e))};s.displayName="LinkIcon";var c=s;t.default=c},anbf:function(e,t,n){"use strict";n.d(t,"p",function(){return a}),n.d(t,"o",function(){return s}),n.d(t,"i",function(){return c}),n.d(t,"l",function(){return l}),n.d(t,"n",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"k",function(){return p}),n.d(t,"j",function(){return f}),n.d(t,"g",function(){return h}),n.d(t,"h",function(){return m}),n.d(t,"m",function(){return g}),n.d(t,"q",function(){return v}),n.d(t,"b",function(){return b}),n.d(t,"c",function(){return y}),n.d(t,"d",function(){return O}),n.d(t,"a",function(){return E}),n.d(t,"e",function(){return x});var r=n("mrSG"),o=n("QPf0"),i=n("Ntz7"),a=function(e){return!(!e||!e.spriteRef)},s=function(e){return!(!e||!e.sprite)},c=function(e){return!(!e||!e.imagePath)},l=function(e){return!(!e||!e.mediaPath)},u=function(e){return!(!e||!e.then)},d=function(e){return e&&e.shortName&&e.type},p=function(e){return l(e.representation)},f=function(e){return e.category===i.b&&(t=e.representation,c(t)&&0===t.imagePath.indexOf(i.d));var t},h=function(e){return!(!e||!e.skinVariations)},m=function(e){return"baseId"in e},g=function(e){return e in o.a},v=function(e){return{shortName:e.shortName,id:e.id,fallback:e.fallback}},b=function(e,t){if(!t)return!1;for(var n=0;n<e.length;n++)if((r=e[n])===(o=t)||r&&o&&r.id===o.id&&r.shortName===o.shortName)return!0;var r,o;return!1},y=function(e){return{mediaPath:e.imagePath,height:e.height,width:e.width}},w=function(e,t){return{imagePath:t||e.mediaPath,height:e.height,width:e.width}},O=function(e,t,n){var o=e.representation,i=e.altRepresentation,a=n?void 0:t,s=n?t:void 0;if(!l(o)&&!l(i))return e;var c=l(o)?w(o,a):o,u=l(i)?w(i,s):i,d=Object(r.__assign)(Object(r.__assign)({},e),{representation:c});return E(d,u)},E=function(e,t){return t?Object(r.__assign)(Object(r.__assign)({},e),{altRepresentation:t}):e},x=function(e){return e.category}},"b/sn":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("byeC"),o=n("uSMm"),i=Object.create(null),a=function(e,t,n){this.ranges=n||[new c(e.min(t),e.max(t))],this.$anchor=e,this.$head=t},s={anchor:{},head:{},from:{},to:{},$from:{},$to:{},empty:{}};s.anchor.get=function(){return this.$anchor.pos},s.head.get=function(){return this.$head.pos},s.from.get=function(){return this.$from.pos},s.to.get=function(){return this.$to.pos},s.$from.get=function(){return this.ranges[0].$from},s.$to.get=function(){return this.ranges[0].$to},s.empty.get=function(){for(var e=this.ranges,t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0},a.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},a.prototype.replace=function(e,t){void 0===t&&(t=r.Slice.empty);for(var n=t.content.lastChild,o=null,i=0;i<t.openEnd;i++)o=n,n=n.lastChild;for(var a=e.steps.length,s=this.ranges,c=0;c<s.length;c++){var l=s[c],u=l.$from,d=l.$to,p=e.mapping.slice(a);e.replaceRange(p.map(u.pos),p.map(d.pos),c?r.Slice.empty:t),0==c&&g(e,a,(n?n.isInline:o&&o.isTextblock)?-1:1)}},a.prototype.replaceWith=function(e,t){for(var n=e.steps.length,r=this.ranges,o=0;o<r.length;o++){var i=r[o],a=i.$from,s=i.$to,c=e.mapping.slice(n),l=c.map(a.pos),u=c.map(s.pos);o?e.deleteRange(l,u):(e.replaceRangeWith(l,u,t),g(e,n,t.isInline?-1:1))}},a.findFrom=function(e,t,n){var r=e.parent.inlineContent?new l(e):m(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(var o=e.depth-1;o>=0;o--){var i=t<0?m(e.node(0),e.node(o),e.before(o+1),e.index(o),t,n):m(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,n);if(i)return i}},a.near=function(e,t){return void 0===t&&(t=1),this.findFrom(e,t)||this.findFrom(e,-t)||new f(e.node(0))},a.atStart=function(e){return m(e,e,0,0,1)||new f(e)},a.atEnd=function(e){return m(e,e,e.content.size,e.childCount,-1)||new f(e)},a.fromJSON=function(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=i[t.type];if(!n)throw new RangeError("No selection type "+t.type+" defined");return n.fromJSON(e,t)},a.jsonID=function(e,t){if(e in i)throw new RangeError("Duplicate use of selection JSON ID "+e);return i[e]=t,t.prototype.jsonID=e,t},a.prototype.getBookmark=function(){return l.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(a.prototype,s),a.prototype.visible=!0;var c=function(e,t){this.$from=e,this.$to=t},l=function(e){function t(t,n){void 0===n&&(n=t),e.call(this,t,n)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={$cursor:{}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},t.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));if(!o.parent.inlineContent)return e.near(o);var i=n.resolve(r.map(this.anchor));return new t(i.parent.inlineContent?i:o,o)},t.prototype.replace=function(t,n){if(void 0===n&&(n=r.Slice.empty),e.prototype.replace.call(this,t,n),n==r.Slice.empty){var o=this.$from.marksAcross(this.$to);o&&t.ensureMarks(o)}},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor&&e.head==this.head},t.prototype.getBookmark=function(){return new u(this.anchor,this.head)},t.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},t.fromJSON=function(e,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,t,n){void 0===n&&(n=t);var r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))},t.between=function(n,r,o){var i=n.pos-r.pos;if(o&&!i||(o=i>=0?1:-1),!r.parent.inlineContent){var a=e.findFrom(r,o,!0)||e.findFrom(r,-o,!0);if(!a)return e.near(r,o);r=a.$head}return n.parent.inlineContent||(0==i?n=r:(n=(e.findFrom(n,-o,!0)||e.findFrom(n,o,!0)).$anchor).pos<r.pos!=i<0&&(n=r)),new t(n,r)},Object.defineProperties(t.prototype,n),t}(a);a.jsonID("text",l);var u=function(e,t){this.anchor=e,this.head=t};u.prototype.map=function(e){return new u(e.map(this.anchor),e.map(this.head))},u.prototype.resolve=function(e){return l.between(e.resolve(this.anchor),e.resolve(this.head))};var d=function(e){function t(t){var n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);e.call(this,t,r),this.node=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,r){var o=r.mapResult(this.anchor),i=o.deleted,a=o.pos,s=n.resolve(a);return i?e.near(s):new t(s)},t.prototype.content=function(){return new r.Slice(r.Fragment.from(this.node),0,0)},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor},t.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},t.prototype.getBookmark=function(){return new p(this.anchor)},t.fromJSON=function(e,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new t(e.resolve(n.anchor))},t.create=function(e,t){return new this(e.resolve(t))},t.isSelectable=function(e){return!e.isText&&!1!==e.type.spec.selectable},t}(a);d.prototype.visible=!1,a.jsonID("node",d);var p=function(e){this.anchor=e};p.prototype.map=function(e){var t=e.mapResult(this.anchor),n=t.deleted,r=t.pos;return n?new u(r,r):new p(r)},p.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=t.nodeAfter;return n&&d.isSelectable(n)?new d(t):a.near(t)};var f=function(e){function t(t){e.call(this,t.resolve(0),t.resolve(t.content.size))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toJSON=function(){return{type:"all"}},t.fromJSON=function(e){return new t(e)},t.prototype.map=function(e){return new t(e)},t.prototype.eq=function(e){return e instanceof t},t.prototype.getBookmark=function(){return h},t}(a);a.jsonID("all",f);var h={map:function(){return this},resolve:function(e){return new f(e)}};function m(e,t,n,r,o,i){if(t.inlineContent)return l.create(e,n);for(var a=r-(o>0?0:1);o>0?a<t.childCount:a>=0;a+=o){var s=t.child(a);if(s.isAtom){if(!i&&d.isSelectable(s))return d.create(e,n-(o<0?s.nodeSize:0))}else{var c=m(e,s,n+o,o<0?s.childCount:0,o,i);if(c)return c}n+=s.nodeSize*o}}function g(e,t,n){var r=e.steps.length-1;if(!(r<t)){var i,s=e.steps[r];if(s instanceof o.ReplaceStep||s instanceof o.ReplaceAroundStep)e.mapping.maps[r].forEach(function(e,t,n,r){null==i&&(i=r)}),e.setSelection(a.near(e.doc.resolve(i),n))}}var v=function(e){function t(t){e.call(this,t.doc),this.time=Date.now(),this.curSelection=t.selection,this.curSelectionFor=0,this.storedMarks=t.storedMarks,this.updated=0,this.meta=Object.create(null)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={selection:{},selectionSet:{},storedMarksSet:{},isGeneric:{},scrolledIntoView:{}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},t.prototype.setSelection=function(e){return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},t.prototype.setStoredMarks=function(e){return this.storedMarks=e,this.updated|=2,this},t.prototype.ensureMarks=function(e){return r.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this},t.prototype.addStoredMark=function(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))},t.prototype.removeStoredMark=function(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},t.prototype.addStep=function(t,n){e.prototype.addStep.call(this,t,n),this.updated=-3&this.updated,this.storedMarks=null},t.prototype.setTime=function(e){return this.time=e,this},t.prototype.replaceSelection=function(e){return this.selection.replace(this,e),this},t.prototype.replaceSelectionWith=function(e,t){var n=this.selection;return!1!==t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||r.Mark.none))),n.replaceWith(this,e),this},t.prototype.deleteSelection=function(){return this.selection.replace(this),this},t.prototype.insertText=function(e,t,n){void 0===n&&(n=t);var r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();if(!e)return this.deleteRange(t,n);var o=this.storedMarks;if(!o){var i=this.doc.resolve(t);o=n==t?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,o)),this.selection.empty||this.setSelection(a.near(this.selection.$to)),this},t.prototype.setMeta=function(e,t){return this.meta["string"==typeof e?e:e.key]=t,this},t.prototype.getMeta=function(e){return this.meta["string"==typeof e?e:e.key]},n.isGeneric.get=function(){for(var e in this.meta)return!1;return!0},t.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(t.prototype,n),t}(o.Transform);function b(e,t){return t&&e?e.bind(t):e}var y=function(e,t,n){this.name=e,this.init=b(t.init,n),this.apply=b(t.apply,n)},w=[new y("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new y("selection",{init:function(e,t){return e.selection||a.atStart(t.doc)},apply:function(e){return e.selection}}),new y("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new y("scrollToSelection",{init:function(){return 0},apply:function(e,t){return e.scrolledIntoView?t+1:t}})],O=function(e,t){var n=this;this.schema=e,this.fields=w.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),t&&t.forEach(function(e){if(n.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");n.plugins.push(e),n.pluginsByKey[e.key]=e,e.spec.state&&n.fields.push(new y(e.key,e.spec.state,e))})},E=function(e){this.config=e},x={schema:{},plugins:{},tr:{}};x.schema.get=function(){return this.config.schema},x.plugins.get=function(){return this.config.plugins},E.prototype.apply=function(e){return this.applyTransaction(e).state},E.prototype.filterTransaction=function(e,t){void 0===t&&(t=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=t){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0},E.prototype.applyTransaction=function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var t=[e],n=this.applyInner(e),r=null;;){for(var o=!1,i=0;i<this.config.plugins.length;i++){var a=this.config.plugins[i];if(a.spec.appendTransaction){var s=r?r[i].n:0,c=r?r[i].state:this,l=s<t.length&&a.spec.appendTransaction.call(a,s?t.slice(s):t,c,n);if(l&&n.filterTransaction(l,i)){if(l.setMeta("appendedTransaction",e),!r){r=[];for(var u=0;u<this.config.plugins.length;u++)r.push(u<i?{state:n,n:t.length}:{state:this,n:0})}t.push(l),n=n.applyInner(l),o=!0}r&&(r[i]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}},E.prototype.applyInner=function(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var t=new E(this.config),n=this.config.fields,r=0;r<n.length;r++){var o=n[r];t[o.name]=o.apply(e,this[o.name],this,t)}for(var i=0;i<k.length;i++)k[i](this,e,t);return t},x.tr.get=function(){return new v(this)},E.create=function(e){for(var t=new O(e.schema||e.doc.type.schema,e.plugins),n=new E(t),r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n},E.prototype.reconfigure=function(e){for(var t=new O(e.schema||this.schema,e.plugins),n=t.fields,r=new E(t),o=0;o<n.length;o++){var i=n[o].name;r[i]=this.hasOwnProperty(i)?this[i]:n[o].init(e,r)}return r},E.prototype.toJSON=function(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(function(e){return e.toJSON()})),e&&"object"==typeof e)for(var n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=e[n],o=r.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(r,this[r.key]))}return t},E.fromJSON=function(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");var o=new O(e.schema,e.plugins),i=new E(o);return o.fields.forEach(function(o){if("doc"==o.name)i.doc=r.Node.fromJSON(e.schema,t.doc);else if("selection"==o.name)i.selection=a.fromJSON(i.doc,t.selection);else if("storedMarks"==o.name)t.storedMarks&&(i.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(var s in n){var c=n[s],l=c.spec.state;if(c.key==o.name&&l&&l.fromJSON&&Object.prototype.hasOwnProperty.call(t,s))return void(i[o.name]=l.fromJSON.call(c,e,t[s],i))}i[o.name]=o.init(e,i)}}),i},E.addApplyListener=function(e){k.push(e)},E.removeApplyListener=function(e){var t=k.indexOf(e);t>-1&&k.splice(t,1)},Object.defineProperties(E.prototype,x);var k=[];var C=function(e){this.props={},e.props&&function e(t,n,r){for(var o in t){var i=t[o];i instanceof Function?i=i.bind(n):"handleDOMEvents"==o&&(i=e(i,n,{})),r[o]=i}return r}(e.props,this,this.props),this.spec=e,this.key=e.key?e.key.key:j("plugin")};C.prototype.getState=function(e){return e[this.key]};var S=Object.create(null);function j(e){return e in S?e+"$"+ ++S[e]:(S[e]=0,e+"$")}var T=function(e){void 0===e&&(e="key"),this.key=j(e)};T.prototype.get=function(e){return e.config.pluginsByKey[this.key]},T.prototype.getState=function(e){return e[this.key]},t.Selection=a,t.SelectionRange=c,t.TextSelection=l,t.NodeSelection=d,t.AllSelection=f,t.Transaction=v,t.EditorState=E,t.Plugin=C,t.PluginKey=T},bFKR:function(e,t,n){"use strict";var r,o=n("mrSG"),i=n("q1tI"),a=n("vOnD"),s=n("b0Qh"),c=a.default.div(r||(r=o.__makeTemplateObject(["\n  background: ",";\n  width: 1px;\n  height: 20px;\n  margin: 0 4px;\n"],["\n  background: ",";\n  width: 1px;\n  height: 20px;\n  margin: 0 4px;\n"])),s.colors.N30);t.a=function(){return i.createElement(c,{className:"separator"})}},"c/4u":function(e,t,n){"use strict";var r=n("JRPe");t.a=Object(r.e)({layoutFixedWidth:{id:"fabric.editor.layoutFixedWidth",defaultMessage:"Back to Center",description:"Display your element (image, table, extension, etc) as standard width"},layoutWide:{id:"fabric.editor.layoutWide",defaultMessage:"Go Wide",description:"Display your element (image, table, extension, etc) wider than normal"},layoutFullWidth:{id:"fabric.editor.layoutFullWidth",defaultMessage:"Go Full width",description:"Display your element (image, table, extension, etc) as full width"},alignImageRight:{id:"fabric.editor.alignImageRight",defaultMessage:"Align right",description:"Aligns image to the right"},alignImageCenter:{id:"fabric.editor.alignImageCenter",defaultMessage:"Align center",description:"Aligns image to the center"},alignImageLeft:{id:"fabric.editor.alignImageLeft",defaultMessage:"Align left",description:"Aligns image to the left"},remove:{id:"fabric.editor.remove",defaultMessage:"Remove",description:"Delete the element (image, panel, table, etc.) from your document"},visit:{id:"fabric.editor.visit",defaultMessage:"Open link in a new window",description:"Open the link in a new window"},inviteToEditButtonTitle:{id:"fabric.editor.editMode.inviteToEditButton.title",defaultMessage:"Invite to edit",description:"Invite another user to edit the current document"}})},c6H0:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u});var r=n("++pP"),o=n("b/sn"),i=n("0pSk"),a=n("H4Ui"),s=n("hksT"),c=new o.PluginKey("textFormatting"),l=function(e){var t=e.schema.marks,n=t.em,o=t.code,a=t.strike,s=t.strong,c=t.subsup,l=t.underline,u={};if(o&&(u.codeActive=Object(i.a)(e,o.create()),u.codeDisabled=!Object(r.toggleMark)(o)(e)),n&&(u.emActive=Object(i.a)(e,n),u.emDisabled=!!u.codeActive||!Object(r.toggleMark)(n)(e)),a&&(u.strikeActive=Object(i.a)(e,a),u.strikeDisabled=!!u.codeActive||!Object(r.toggleMark)(a)(e)),s&&(u.strongActive=Object(i.a)(e,s),u.strongDisabled=!!u.codeActive||!Object(r.toggleMark)(s)(e)),c){var d=c.create({type:"sub"}),p=c.create({type:"sup"});u.subscriptActive=Object(i.a)(e,d),u.subscriptDisabled=!!u.codeActive||!Object(r.toggleMark)(c,{type:"sub"})(e),u.superscriptActive=Object(i.a)(e,p),u.superscriptDisabled=!!u.codeActive||!Object(r.toggleMark)(c,{type:"sup"})(e)}return l&&(u.underlineActive=Object(i.a)(e,l),u.underlineDisabled=!!u.codeActive||!Object(r.toggleMark)(l)(e)),u},u=function(e){return new o.Plugin({state:{init:function(e,t){return l(t)},apply:function(t,n,r,o){var a=l(o);return Object(i.e)(n,a)?n:(e(c,a),a)}},key:c,props:{handleKeyDown:function(e,t){var n=e.state,r=e.dispatch;return t.key===s.w.common?a.c()(n,r):t.key===s.v.common&&a.b()(n,r)},handleTextInput:function(e,t,n,r){var o=e.state,i=e.dispatch;return Object(a.a)(t,n,r)(o,i)}}})}},"cD+i":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("byeC"),o=n("b/sn"),i=n("uSMm"),a={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var s=/Edge\/(\d+)/.exec(navigator.userAgent),c=/MSIE \d/.test(navigator.userAgent),l=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);a.mac=/Mac/.test(navigator.platform);var u=a.ie=!!(c||l||s);a.ie_version=c?document.documentMode||6:l?+l[1]:s?+s[1]:null,a.gecko=!u&&/gecko\/(\d+)/i.test(navigator.userAgent),a.gecko_version=a.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var d=!u&&/Chrome\/(\d+)/.exec(navigator.userAgent);a.chrome=!!d,a.chrome_version=d&&+d[1],a.ios=!u&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),a.android=/Android \d/.test(navigator.userAgent),a.webkit=!u&&"WebkitAppearance"in document.documentElement.style,a.safari=/Apple Computer/.test(navigator.vendor),a.webkit_version=a.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var p=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},f=function(e){var t=e.parentNode;return t&&11==t.nodeType?t.host:t},h=function(e,t,n){var r=document.createRange();return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},m=function(e,t,n,r){return n&&(v(e,t,n,r,-1)||v(e,t,n,r,1))},g=/^(img|br|input|textarea|hr)$/i;function v(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:b(e))||3==e.nodeType&&"\ufeff"==e.nodeValue){var i=e.parentNode;if(1!=i.nodeType||(a=void 0,(a=e.pmViewDesc)&&a.node&&a.node.isBlock)||g.test(e.nodeName)||"false"==e.contentEditable)return!1;t=p(e)+(o<0?0:1),e=i}else{if(1!=e.nodeType)return!1;e=e.childNodes[t+(o<0?-1:0)],t=o<0?b(e):0}}var a}function b(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}var y=function(e){var t=e.isCollapsed;return t&&a.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function w(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function O(e){return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}function E(e,t){return"number"==typeof e?e:e[t]}function x(e,t,n){for(var r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument,a=i.defaultView,s=n||e.dom;s;s=f(s))if(1==s.nodeType){var c=s==i.body||1!=s.nodeType,l=c?O(a):s.getBoundingClientRect(),u=0,d=0;if(t.top<l.top+E(r,"top")?d=-(l.top-t.top+E(o,"top")):t.bottom>l.bottom-E(r,"bottom")&&(d=t.bottom-l.bottom+E(o,"bottom")),t.left<l.left+E(r,"left")?u=-(l.left-t.left+E(o,"left")):t.right>l.right-E(r,"right")&&(u=t.right-l.right+E(o,"right")),(u||d)&&(c?a.scrollBy(u,d):(d&&(s.scrollTop+=d),u&&(s.scrollLeft+=u))),c)break}}function k(e,t){for(var n,r,o=2e8,i=0,a=t.top,s=t.top,c=e.firstChild,l=0;c;c=c.nextSibling,l++){var u=void 0;if(1==c.nodeType)u=c.getClientRects();else{if(3!=c.nodeType)continue;u=h(c).getClientRects()}for(var d=0;d<u.length;d++){var p=u[d];if(p.top<=a&&p.bottom>=s){a=Math.max(p.bottom,a),s=Math.min(p.top,s);var f=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(f<o){n=c,o=f,r=f&&3==n.nodeType?{left:p.right<t.left?p.right:p.left,top:t.top}:t,1==c.nodeType&&f&&(i=l+(t.left>=(p.left+p.right)/2?1:0));continue}}!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(i=l+1)}}return n&&3==n.nodeType?function(e,t){for(var n=e.nodeValue.length,r=document.createRange(),o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);var i=j(r,1);if(i.top!=i.bottom&&C(t,i))return{node:e,offset:o+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}(n,r):!n||o&&1==n.nodeType?{node:e,offset:i}:k(n,r)}function C(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function S(e,t){var n,r,o=e.root;if(o.caretPositionFromPoint){var i,a=o.caretPositionFromPoint(t.left,t.top);if(a)n=(i=a).offsetNode,r=i.offset}if(!n&&o.caretRangeFromPoint){var s,c=o.caretRangeFromPoint(t.left,t.top);if(c)n=(s=c).startContainer,r=s.startOffset}var l,u=o.elementFromPoint(t.left,t.top+1);if(!u||!e.dom.contains(1!=u.nodeType?u.parentNode:u)){var d=e.dom.getBoundingClientRect();if(!C(t,d))return null;if(!(u=function e(t,n,r){var o=t.childNodes.length;if(o&&r.top<r.bottom)for(var i=Math.max(0,Math.floor(o*(n.top-r.top)/(r.bottom-r.top))-2),a=i;;){var s=t.childNodes[a];if(1==s.nodeType)for(var c=s.getClientRects(),l=0;l<c.length;l++){var u=c[l];if(C(n,u))return e(s,n,u)}if((a=(a+1)%o)==i)break}return t}(e.dom,t,d)))return null}u=function(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(u,t),n&&(n==e.dom&&r==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?l=e.state.doc.content.size:0!=r&&1==n.nodeType&&"BR"==n.childNodes[r-1].nodeName||(l=function(e,t,n,r){for(var o=-1,i=t;i!=e.dom;){var a=e.docView.nearestDesc(i,!0);if(!a)return null;if(a.node.isBlock&&a.parent){var s=a.dom.getBoundingClientRect();if(s.left>r.left||s.top>r.top)o=a.posBefore;else{if(!(s.right<r.left||s.bottom<r.top))break;o=a.posAfter}}i=a.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n)}(e,n,r,t))),null==l&&(l=function(e,t,n){var r=k(t,n),o=r.node,i=r.offset,a=-1;if(1==o.nodeType&&!o.firstChild){var s=o.getBoundingClientRect();a=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(o,i,a)}(e,u,t));var p=e.docView.nearestDesc(u,!0);return{pos:l,inside:p?p.posAtStart-p.border:-1}}function j(e,t){var n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}function T(e,t){var n=e.docView.domFromPos(t),r=n.node,o=n.offset;if(3==r.nodeType&&(a.chrome||a.gecko)){var i=j(h(r,o,o),0);if(a.gecko&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){var s=j(h(r,o-1,o-1),-1);if(Math.abs(s.left-i.left)<1&&s.top==i.top){var c=j(h(r,o,o+1),-1);return M(c,c.left<s.left)}}return i}if(1==r.nodeType&&!e.state.doc.resolve(t).parent.inlineContent){var l,u=!0;if(o<r.childNodes.length){var d=r.childNodes[o];1==d.nodeType&&(l=d.getBoundingClientRect())}if(!l&&o){var p=r.childNodes[o-1];1==p.nodeType&&(l=p.getBoundingClientRect(),u=!1)}return function(e,t){if(0==e.height)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}(l||parent.getBoundingClientRect(),u)}for(var f=-1;f<2;f+=2)if(f<0&&o){var m=void 0,g=3==r.nodeType?h(r,o-1,o):3==(m=r.childNodes[o-1]).nodeType?h(m):1==m.nodeType&&"BR"!=m.nodeName?m:null;if(g){var v=j(g,1);if(v.top<v.bottom)return M(v,!1)}}else if(f>0&&o<b(r)){var y=void 0,w=3==r.nodeType?h(r,o,o+1):3==(y=r.childNodes[o]).nodeType?h(y):1==y.nodeType?y:null;if(w){var O=j(w,-1);if(O.top<O.bottom)return M(O,!0)}}return M(j(3==r.nodeType?h(r):r,0),!1)}function M(e,t){if(0==e.width)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function _(e,t,n){var r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o.focus()}}var I=/[\u0590-\u08ac]/;var P=null,A=null,N=!1;function R(e,t,n){return P==t&&A==n?N:(P=t,A=n,N="up"==n||"down"==n?function(e,t,n){var r=t.selection,o="up"==n?r.$anchor.min(r.$head):r.$anchor.max(r.$head);return _(e,t,function(){for(var t=e.docView.domFromPos(o.pos).node;;){var r=e.docView.nearestDesc(t,!0);if(!r)break;if(r.node.isBlock){t=r.dom;break}t=r.dom.parentNode}for(var i=T(e,o.pos),a=t.firstChild;a;a=a.nextSibling){var s=void 0;if(1==a.nodeType)s=a.getClientRects();else{if(3!=a.nodeType)continue;s=h(a,0,a.nodeValue.length).getClientRects()}for(var c=0;c<s.length;c++){var l=s[c];if(l.bottom>l.top&&("up"==n?l.bottom<i.top+1:l.top>i.bottom-1))return!1}}return!0})}(e,t,n):function(e,t,n){var r=t.selection.$head;if(!r.parent.isTextblock)return!1;var o=r.parentOffset,i=!o,a=o==r.parent.content.size,s=getSelection();return I.test(r.parent.textContent)&&s.modify?_(e,t,function(){var t=s.getRangeAt(0),o=s.focusNode,i=s.focusOffset;s.modify("move",n,"character");var a=!(r.depth?e.docView.domAfterPos(r.before()):e.dom).contains(1==s.focusNode.nodeType?s.focusNode:s.focusNode.parentNode)||o==s.focusNode&&i==s.focusOffset;return s.removeAllRanges(),s.addRange(t),a}):"left"==n||"backward"==n?i:a}(e,t,n))}var D=function(e,t,n,r){this.parent=e,this.children=t,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=0},L={beforePosition:{},size:{},border:{},posBefore:{},posAtStart:{},posAfter:{},posAtEnd:{},contentLost:{}};D.prototype.matchesWidget=function(){return!1},D.prototype.matchesMark=function(){return!1},D.prototype.matchesNode=function(){return!1},D.prototype.matchesHack=function(){return!1},L.beforePosition.get=function(){return!1},D.prototype.parseRule=function(){return null},D.prototype.stopEvent=function(){return!1},L.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e},L.border.get=function(){return 0},D.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()},D.prototype.posBeforeChild=function(e){for(var t=0,n=this.posAtStart;t<this.children.length;t++){var r=this.children[t];if(r==e)return n;n+=r.size}},L.posBefore.get=function(){return this.parent.posBeforeChild(this)},L.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},L.posAfter.get=function(){return this.posBefore+this.size},L.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},D.prototype.localPosFromDOM=function(e,t,n){var r;if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){var o,i;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&(!(i=o.pmViewDesc)||i.parent!=this);)o=o.previousSibling;return o?this.posBeforeChild(i)+i.size:this.posAtStart}var a,s;if(e==this.contentDOM)a=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&(!(s=a.pmViewDesc)||s.parent!=this);)a=a.nextSibling;return a?this.posBeforeChild(s):this.posAtEnd}if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var c=e;;c=c.parentNode){if(c==this.dom){r=!1;break}if(c.parentNode.firstChild!=c)break}if(null==r&&t==e.childNodes.length)for(var l=e;;l=l.parentNode){if(l==this.dom){r=!0;break}if(l.parentNode.lastChild!=l)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart},D.prototype.nearestDesc=function(e,t){for(var n=!0,r=e;r;r=r.parentNode){var o=this.getDesc(r);if(o&&(!t||o.node)){if(!n||!o.nodeDOM||(1==o.nodeDOM.nodeType?o.nodeDOM.contains(e):o.nodeDOM==e))return o;n=!1}}},D.prototype.getDesc=function(e){for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t},D.prototype.posFromDOM=function(e,t,n){for(var r=e;;r=r.parentNode){var o=this.getDesc(r);if(o)return o.localPosFromDOM(e,t,n)}},D.prototype.descAt=function(e){for(var t=0,n=0;t<this.children.length;t++){var r=this.children[t],o=n+r.size;if(n==e&&o!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<o)return r.descAt(e-n-r.border);n=o}},D.prototype.domFromPos=function(e){if(!this.contentDOM)return{node:this.dom,offset:0};for(var t=0,n=0;;n++){if(t==e){for(;n<this.children.length&&this.children[n].beforePosition;)n++;return{node:this.contentDOM,offset:n}}if(n==this.children.length)throw new Error("Invalid position "+e);var r=this.children[n],o=t+r.size;if(e<o)return r.domFromPos(e-t-r.border);t=o}},D.prototype.parseRange=function(e,t,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,o=-1,i=0,a=0;;a++){var s=this.children[a],c=i+s.size;if(-1==r&&e<=c){var l=i+s.border;if(e>=l&&t<=c-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(e-l,t-l,n+l);e=n+i;for(var u=a;u>0;u--){var d=this.children[u-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){r=p(d.dom)+1;break}e-=d.size}-1==r&&(r=0)}if(r>-1&&t<=c){t=n+c;for(var f=a+1;f<this.children.length;f++){var h=this.children[f];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){o=p(h.dom);break}t+=h.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=c}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}},D.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)},D.prototype.domAfterPos=function(e){var t=this.domFromPos(e),n=t.node,r=t.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]},D.prototype.setSelection=function(e,t,n,r){for(var o=Math.min(e,t),i=Math.max(e,t),a=0,s=0;a<this.children.length;a++){var c=this.children[a],l=s+c.size;if(o>s&&i<l)return c.setSelection(e-s-c.border,t-s-c.border,n,r);s=l}var u=this.domFromPos(e),d=this.domFromPos(t),p=n.getSelection(),f=document.createRange();if(r||!m(u.node,u.offset,p.anchorNode,p.anchorOffset)||!m(d.node,d.offset,p.focusNode,p.focusOffset)){if(p.extend)f.setEnd(u.node,u.offset),f.collapse(!1);else{if(e>t){var h=u;u=d,d=h}f.setEnd(d.node,d.offset),f.setStart(u.node,u.offset)}p.removeAllRanges(),p.addRange(f),p.extend&&p.extend(d.node,d.offset)}},D.prototype.ignoreMutation=function(e){return!this.contentDOM},L.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},D.prototype.markDirty=function(e,t){for(var n=0,r=0;r<this.children.length;r++){var o=this.children[r],i=n+o.size;if(n==i?e<=i&&t>=n:e<i&&t>n){var a=n+o.border,s=i-o.border;if(e>=a&&t<=s)return this.dirty=e==n||t==i?2:1,void(e==a&&t==s&&o.contentLost?o.dirty=3:o.markDirty(e-a,t-a));o.dirty=3}n=i}this.dirty=2},D.prototype.markParentsDirty=function(){for(var e=this.parent;e;e=e.parent){e.dirty<2&&(e.dirty=2)}},Object.defineProperties(D.prototype,L);var z=[],B=function(e){function t(t,n,r,o){var i,a=n.type.toDOM;if("function"==typeof a&&(a=a(r,function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:o})),!n.type.spec.raw){if(1!=a.nodeType){var s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable=!1,a.classList.add("ProseMirror-widget")}e.call(this,t,z,a,null),this.widget=n,i=this}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={beforePosition:{}};return n.beforePosition.get=function(){return this.widget.type.side<0},t.prototype.matchesWidget=function(e){return 0==this.dirty&&e.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)},Object.defineProperties(t.prototype,n),t}(D),F=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseRule=function(){return{skip:ie(this.dom)}},t.prototype.ignoreMutation=function(){return!1},t}(B),q=function(e){function t(t,n,r,o){e.call(this,t,z,n,null),this.textDOM=r,this.text=o}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{}};return n.size.get=function(){return this.text.length},t.prototype.parseRule=function(){return{skip:ie(this.dom)}},t.prototype.localPosFromDOM=function(e,t){if(e!=this.textDOM)return this.posAtStart+(t?this.size:0);var n=this.textDOM.nodeValue.indexOf("\ufeff");return this.posAtStart+t-(n>-1&&n<t?1:0)},t.prototype.domFromPos=function(e){var t=this.textDOM.nodeValue.indexOf("\ufeff");return{node:this.textDOM,offset:e+(t>-1&&t<=e?1:0)}},t.prototype.ignoreMutation=function(){return!1},Object.defineProperties(t.prototype,n),t}(D),W=function(e){function t(t,n,r,o){e.call(this,t,[],r,o),this.mark=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(e,n,o,i){var a=i.nodeViews[n.type.name],s=a&&a(n,i,o);return s&&s.dom||(s=r.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n,o))),new t(e,n,s.dom,s.contentDOM||s.dom)},t.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(e){return 3!=this.dirty&&this.mark.eq(e)},t.prototype.markDirty=function(t,n){if(e.prototype.markDirty.call(this,t,n),0!=this.dirty){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}},t.prototype.slice=function(e,n,r){var o=t.create(this.parent,this.mark,!0,r),i=this.children,a=this.size;n<a&&(i=oe(i,n,a,r)),e>0&&(i=oe(i,0,e,r));for(var s=0;s<i.length;s++)i[s].parent=o;return o.children=i,o},t}(D),U=function(e){function t(t,n,r,o,i,a,s,c,l){e.call(this,t,n.isLeaf?z:[],i,a),this.nodeDOM=s,this.node=n,this.outerDeco=r,this.innerDeco=o,a&&this.updateChildren(c,l)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{},border:{}};return t.create=function(e,n,o,i,a,s){var c,l=a.nodeViews[n.type.name],u=l&&l(n,a,function(){return c?c.parent?c.parent.posBeforeChild(c):void 0:s},o),d=u&&u.dom,p=u&&u.contentDOM;if(n.isText)if(d){if(3!=d.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else d=document.createTextNode(n.text);else if(!d){var f;d=(f=r.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n))).dom,p=f.contentDOM}p||n.isText||"BR"==d.nodeName||(d.hasAttribute("contenteditable")||(d.contentEditable=!1),n.type.spec.draggable&&(d.draggable=!0));var h=d;return d=Z(d,o,n),u?c=new K(e,n,o,i,d,p,h,u,a,s+1):n.isText?new V(e,n,o,i,d,h,a):new t(e,n,o,i,d,p,h,a,s+1)},t.prototype.parseRule=function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(t.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?t.contentElement=this.contentDOM:t.getContent=function(){return e.contentDOM?r.Fragment.empty:e.node.content},t},t.prototype.matchesNode=function(e,t,n){return 0==this.dirty&&e.eq(this.node)&&ee(t,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},t.prototype.updateChildren=function(e,t){var n=this,o=this.node.inlineContent,i=t,a=o&&e.composing&&this.localCompositionNode(e,t),s=new ne(this,a&&a.node);!function(e,t,n,r){var o=t.locals(e),i=0;if(0==o.length){for(var a=0;a<e.childCount;a++){var s=e.child(a);r(s,o,t.forChild(i,s),a),i+=s.nodeSize}return}for(var c=0,l=[],u=null,d=0;;){if(c<o.length&&o[c].to==i){for(var p=o[c++],f=void 0;c<o.length&&o[c].to==i;)(f||(f=[p])).push(o[c++]);if(f){f.sort(re);for(var h=0;h<f.length;h++)n(f[h],d)}else n(p,d)}var m=void 0,g=void 0;if(u)g=-1,m=u,u=null;else{if(!(d<e.childCount))break;g=d,m=e.child(d++)}for(var v=0;v<l.length;v++)l[v].to<=i&&l.splice(v--,1);for(;c<o.length&&o[c].from==i;)l.push(o[c++]);var b=i+m.nodeSize;if(m.isText){var y=b;c<o.length&&o[c].from<y&&(y=o[c].from);for(var w=0;w<l.length;w++)l[w].to<y&&(y=l[w].to);y<b&&(u=m.cut(y-i),m=m.cut(0,y-i),b=y,g=-1)}r(m,l.length?l.slice():z,t.forChild(i,m),g),i=b}}(this.node,this.innerDeco,function(t,a){t.spec.marks?s.syncToMarks(t.spec.marks,o,e):t.type.side>=0&&s.syncToMarks(a==n.node.childCount?r.Mark.none:n.node.child(a).marks,o,e),s.placeWidget(t,e,i)},function(t,n,r,a){s.syncToMarks(t.marks,o,e),s.findNodeMatch(t,n,r,a)||s.updateNextNode(t,n,r,e,a)||s.addNode(t,n,r,e,i),i+=t.nodeSize}),s.syncToMarks(z,o,e),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||2==this.dirty)&&(a&&this.protectLocalComposition(e,a),this.renderChildren())},t.prototype.renderChildren=function(){!function e(t,n){var r=t.firstChild;for(var o=0;o<n.length;o++){var i=n[o],a=i.dom;if(a.parentNode==t){for(;a!=r;)r=te(r);r=r.nextSibling}else t.insertBefore(a,r);if(i instanceof W){var s=r?r.previousSibling:t.lastChild;e(i.contentDOM,i.children),r=s?s.nextSibling:t.firstChild}}for(;r;)r=te(r)}(this.contentDOM,this.children,t.is),a.ios&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom)},t.prototype.localCompositionNode=function(e,t){var n=e.state.selection,r=n.from,i=n.to;if(!(!(e.state.selection instanceof o.TextSelection)||r<t||i>t+this.node.content.size)){var a=e.root.getSelection(),s=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0)e=e.childNodes[t-1],t=b(e);else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(a.focusNode,a.focusOffset);if(s&&this.dom.contains(s.parentNode)){var c=s.nodeValue.replace(/\ufeff/g,""),l=function(e,t,n,r){for(var o="",i=0,a=0;i<e.childCount;i++){var s=e.child(i),c=a+s.nodeSize;if(s.isText){if(o+=s.text,c>=r){for(var l=c-o.length,u=o.lastIndexOf(t);u>-1&&l+u>n;)u=o.lastIndexOf(t,u-1);if(u>-1&&l+u+t.length>=r)return l+u;if(c>r-t.length)break}}else o="";a=c}return-1}(this.node.content,c,r-t,i-t);return l<0?null:{node:s,pos:l,text:c}}}},t.prototype.protectLocalComposition=function(e,t){var n=t.node,r=t.pos,o=t.text;if(!this.getDesc(n)){for(var i=n;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=null)}var a=new q(this,i,n,o);e.compositionNodes.push(a),this.children=oe(this.children,r,r+o.length,e,a)}},t.prototype.update=function(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)},t.prototype.updateInner=function(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0},t.prototype.updateOuterDeco=function(e){if(!ee(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=Q(this.dom,this.nodeDOM,Y(this.outerDeco,this.node,t),Y(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=e}},t.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!1)},Object.defineProperties(t.prototype,n),t}(D);function H(e,t,n,r,o){return Z(r,t,e),new U(null,e,t,n,r,r,r,o,0)}var V=function(e){function t(t,n,r,o,i,a,s){e.call(this,t,n,r,o,i,null,a,s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseRule=function(){var e=this.nodeDOM.parentNode;return e?{skip:e}:{ignore:!0}},t.prototype.update=function(e,t){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text),this.node=e,this.dirty=0,!0)},t.prototype.inParent=function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1},t.prototype.domFromPos=function(e){return{node:this.nodeDOM,offset:e}},t.prototype.localPosFromDOM=function(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):e.prototype.localPosFromDOM.call(this,t,n,r)},t.prototype.ignoreMutation=function(e){return"characterData"!=e.type},t.prototype.slice=function(e,n,r){var o=this.node.cut(e,n),i=document.createTextNode(o.text);return new t(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)},t}(U),G=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(){return 0==this.dirty},t}(D),K=function(e){function t(t,n,r,o,i,a,s,c,l,u){e.call(this,t,n,r,o,i,a,s,l,u),this.spec=c}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(t,n,r,o){if(3==this.dirty)return!1;if(this.spec.update){var i=this.spec.update(t,n);return i&&this.updateInner(t,n,r,o),i}return!(!this.contentDOM&&!t.isLeaf)&&e.prototype.update.call(this,t,n,r,o)},t.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this)},t.prototype.setSelection=function(t,n,r,o){this.spec.setSelection?this.spec.setSelection(t,n,r):e.prototype.setSelection.call(this,t,n,r,o)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this)},t.prototype.stopEvent=function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)},t.prototype.ignoreMutation=function(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):e.prototype.ignoreMutation.call(this,t)},t}(U);function $(e){e&&(this.nodeName=e)}$.prototype=Object.create(null);var J=[new $];function Y(e,t,n){if(0==e.length)return J;for(var r=n?J[0]:new $,o=[r],i=0;i<e.length;i++){var a=e[i].type.attrs,s=r;if(a)for(var c in a.nodeName&&o.push(s=new $(a.nodeName)),a){var l=a[c];null!=l&&(n&&1==o.length&&o.push(s=r=new $(t.isInline?"span":"div")),"class"==c?s.class=(s.class?s.class+" ":"")+l:"style"==c?s.style=(s.style?s.style+";":"")+l:"nodeName"!=c&&(s[c]=l))}}return o}function Q(e,t,n,r){if(n==J&&r==J)return t;for(var o=t,i=0;i<r.length;i++){var a=r[i],s=n[i];if(i){var c=void 0;s&&s.nodeName==a.nodeName&&o!=e&&(c=t.parentNode)&&c.tagName.toLowerCase()==a.nodeName?o=c:((c=document.createElement(a.nodeName)).appendChild(o),o=c)}X(o,s||J[0],a)}return o}function X(e,t,n){for(var r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=t[o]&&e.setAttribute(o,n[o]);if(t.class!=n.class){for(var i=t.class?t.class.split(" "):z,a=n.class?n.class.split(" "):z,s=0;s<i.length;s++)-1==a.indexOf(i[s])&&e.classList.remove(i[s]);for(var c=0;c<a.length;c++)-1==i.indexOf(a[c])&&e.classList.add(a[c])}if(t.style!=n.style){if(t.style)for(var l,u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;l=u.exec(t.style);)e.style[l[1].toLowerCase()]="";n.style&&(e.style.cssText+=n.style)}}function Z(e,t,n){return Q(e,e,J,Y(t,n,1!=e.nodeType))}function ee(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function te(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var ne=function(e,t){this.top=e,this.lock=t,this.index=0,this.stack=[],this.changed=!1;var n=function(e,t){for(var n=[],r=e.childCount,o=t.length-1;r>0&&o>=0;o--){var i=t[o],a=i.node;if(a){if(a!=e.child(r-1))break;n.push(i),--r}}return{nodes:n.reverse(),offset:r}}(e.node.content,e.children);this.preMatched=n.nodes,this.preMatchOffset=n.offset};function re(e,t){return e.type.side-t.type.side}function oe(e,t,n,r,o){for(var i=[],a=0,s=0;a<e.length;a++){var c=e[a],l=s,u=s+=c.size;l>=n||u<=t?i.push(c):(l<t&&i.push(c.slice(0,t-l,r)),o&&(i.push(o),o=null),u>n&&i.push(c.slice(n-l,c.size,r)))}return i}function ie(e){var t=e.cloneNode(!0);return function e(t){if(1==t.nodeType)for(var n=t.firstChild;n;n=n.nextSibling)e(n);else 3==t.nodeType&&(t.nodeValue=t.nodeValue.replace(/\ufeff/g,""))}(t),t}function ae(e,t){var n=e.selection,r=n.$anchor,i=n.$head,a=t>0?r.max(i):r.min(i),s=a.parent.inlineContent?a.depth?e.doc.resolve(t>0?a.after():a.before()):null:a;return s&&o.Selection.findFrom(s,t)}function se(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function ce(e,t,n){var r=e.state.selection;if(r instanceof o.TextSelection){if(!r.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){var i=ae(e.state,t);return!!(i&&i instanceof o.NodeSelection)&&se(e,i)}var a,s=r.$head,c=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter;if(c&&o.NodeSelection.isSelectable(c)){var l=t<0?s.pos-c.nodeSize:s.pos;if(c.isAtom||(a=e.docView.descAt(l))&&!a.contentDOM)return se(e,new o.NodeSelection(t<0?e.state.doc.resolve(s.pos-c.nodeSize):s))}return!1}if(r instanceof o.NodeSelection&&r.node.isInline)return se(e,new o.TextSelection(t>0?r.$to:r.$from));var u=ae(e.state,t);return!!u&&se(e,u)}function le(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function ue(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function de(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n){var o,i,s=!1;for(a.gecko&&1==n.nodeType&&r<le(n)&&ue(n.childNodes[r])&&(s=!0);;)if(r>0)if(1!=n.nodeType){if(3!=n.nodeType||"\ufeff"!=n.nodeValue.charAt(r-1))break;a.ie&&a.ie_version<=11&&(s=!0),o=n,i=--r}else{var c=n.childNodes[r-1];if(ue(c))o=n,i=--r;else{if(3!=c.nodeType)break;r=(n=c).nodeValue.length}}else{if(fe(n))break;for(var l=n.previousSibling;l&&ue(l);)o=n.parentNode,i=p(l),l=l.previousSibling;if(l)r=le(n=l);else{if((n=n.parentNode)==e.dom)break;r=0}}s?he(e,t,n,r):o&&he(e,t,o,i)}}function pe(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n){for(var o,i,a=le(n);;)if(r<a){if(1!=n.nodeType)break;if(!ue(n.childNodes[r]))break;o=n,i=++r}else{if(fe(n))break;for(var s=n.nextSibling;s&&ue(s);)o=s.parentNode,i=p(s)+1,s=s.nextSibling;if(s)r=0,a=le(n=s);else{if((n=n.parentNode)==e.dom)break;r=a=0}}o&&he(e,t,o,i)}}function fe(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function he(e,t,n,r){if(y(t)){var o=document.createRange();o.setEnd(n,r),o.setStart(n,r),t.removeAllRanges(),t.addRange(o)}else t.extend&&t.extend(n,r);e.domObserver.setCurSelection()}function me(e,t,n){var r=e.state.selection;if(r instanceof o.TextSelection&&!r.empty||n.indexOf("s")>-1)return!1;var i=r.$from,a=r.$to;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var s=ae(e.state,t);if(s&&s instanceof o.NodeSelection)return se(e,s)}if(!i.parent.inlineContent){var c=o.Selection.findFrom(t<0?i:a,t);return!c||se(e,c)}return!1}function ge(e,t){if(!(e.state.selection instanceof o.TextSelection))return!0;var n=e.state.selection,r=n.$head,i=n.$anchor,a=n.empty;if(!r.sameParent(i))return!0;if(!a)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var s=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(s&&!s.isText){var c=e.state.tr;return t<0?c.delete(r.pos-s.nodeSize,r.pos):c.delete(r.pos,r.pos+s.nodeSize),e.dispatch(c),!0}return!1}function ve(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function be(e,t){var n=t.keyCode,r=function(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||a.mac&&72==n&&"c"==r?ge(e,-1)||de(e):46==n||a.mac&&68==n&&"c"==r?ge(e,1)||pe(e):13==n||27==n||(37==n?ce(e,-1,r)||de(e):39==n?ce(e,1,r)||pe(e):38==n?me(e,-1,r)||de(e):40==n?function(e){if(a.chrome&&!(e.state.selection.$head.parentOffset>0)){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var o=n.firstChild;ve(e,o,!0),setTimeout(function(){return ve(e,o,!1)},20)}}}(e)||me(e,1,r)||pe(e):r==(a.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function ye(e,t,n){var r=e.state.selection;if(Ee(e,r),e.editable&&!e.hasFocus()){if(!t)return;a.gecko&&a.gecko_version<=55&&(e.domObserver.disconnectSelection(),e.dom.focus(),e.domObserver.connectSelection())}else if(!e.editable&&!Ce(e)&&!t)return;if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){var t=e.root.getSelection(),n=document.createRange(),r=e.cursorWrapper.dom;n.setEnd(r,r.childNodes.length),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!e.state.selection.visible&&a.ie&&a.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}(e);else{var i,s,c=r.anchor,l=r.head;!we||r instanceof o.TextSelection||(r.$from.parent.inlineContent||(i=Oe(e,r.from)),r.empty||r.$from.parent.inlineContent||(s=Oe(e,r.to))),e.docView.setSelection(c,l,e.root,n),we&&(i&&(i.contentEditable="false"),s&&(s.contentEditable="false")),r.visible?e.dom.classList.remove("ProseMirror-hideselection"):c!=l&&(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.hideSelectionGuard);var n=e.root.getSelection(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==o||(t.removeEventListener("selectionchange",e.hideSelectionGuard),e.dom.classList.remove("ProseMirror-hideselection"))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}ne.prototype.getPreMatch=function(e){return e>=this.preMatchOffset?this.preMatched[e-this.preMatchOffset]:null},ne.prototype.destroyBetween=function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}},ne.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},ne.prototype.syncToMarks=function(e,t,n){for(var r=0,o=this.stack.length>>1,i=Math.min(o,e.length);r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);for(var a=-1,s=this.index;s<Math.min(this.index+3,this.top.children.length);s++)if(this.top.children[s].matchesMark(e[o])){a=s;break}if(a>-1)a>this.index&&(this.changed=!0,this.top.children.splice(this.index,a-this.index)),this.top=this.top.children[this.index];else{var c=W.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,o++}},ne.prototype.findNodeMatch=function(e,t,n,r){var o=-1,i=r<0?void 0:this.getPreMatch(r),a=this.top.children;if(i&&i.matchesNode(e,t,n))o=a.indexOf(i);else for(var s=this.index,c=Math.min(a.length,s+5);s<c;s++){var l=a[s];if(l.matchesNode(e,t,n)&&this.preMatched.indexOf(l)<0){o=s;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)},ne.prototype.updateNextNode=function(e,t,n,r,o){if(this.index==this.top.children.length)return!1;var i=this.top.children[this.index];if(i instanceof U){var a=this.preMatched.indexOf(i);if(a>-1&&a+this.preMatchOffset!=o)return!1;var s=i.dom;if(!(this.lock&&(s==this.lock||1==s.nodeType&&s.contains(this.lock.parentNode))&&!(e.isText&&i.node&&i.node.isText&&i.nodeDOM.nodeValue==e.text&&3!=i.dirty&&ee(t,i.outerDeco)))&&i.update(e,t,n,r))return i.dom!=s&&(this.changed=!0),this.index++,!0}return!1},ne.prototype.addNode=function(e,t,n,r,o){this.top.children.splice(this.index++,0,U.create(this.top,e,t,n,r,o)),this.changed=!0},ne.prototype.placeWidget=function(e,t,n){if(this.index<this.top.children.length&&this.top.children[this.index].matchesWidget(e))this.index++;else{var r=new(e.spec.isCursorWrapper?F:B)(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}},ne.prototype.placeComposition=function(e,t){this.syncToMarks(z,!0,e),this.top.children[this.index]==t?this.index++:(this.top.children.splice(this.index++,0,t),this.changed=!0)},ne.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof W;)e=e.children[e.children.length-1];if(!e||!(e instanceof V)||/\n$/.test(e.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var t=document.createElement("br");this.top.children.splice(this.index++,0,new G(this.top,z,t,null)),this.changed=!0}};var we=a.safari||a.chrome&&a.chrome_version<63;function Oe(e,t){var n=e.docView.domFromPos(t),r=n.node,o=n.offset,i=o<r.childNodes.length?r.childNodes[o]:null,a=o?r.childNodes[o-1]:null;if(!(i&&"false"!=i.contentEditable||a&&"false"!=a.contentEditable)){if(i)return i.contentEditable="true",i;if(a)return a.contentEditable="true",a}}function Ee(e,t){if(t instanceof o.NodeSelection){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(xe(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else xe(e)}function xe(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null)}function ke(e,t,n,r){return e.someProp("createSelectionBetween",function(r){return r(e,t,n)})||o.TextSelection.between(t,n,r)}function Ce(e){var t=e.root.getSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function Se(e){return!1===e.type.spec.inclusive}function je(e){var t=e.selection,n=t.$head,r=t.$anchor,o=t.visible,i=n.pos!=r.pos||o&&!n.parent.inlineContent?null:n;return i&&(!o||e.storedMarks||0==i.parent.content.length||i.parentOffset&&!i.textOffset&&i.nodeBefore.marks.some(Se))?i:null}function Te(e,t){return function(n){var r=n.pmViewDesc;if(r)return r.parseRule();if("BR"==n.nodeName&&n.parentNode){if(a.safari&&/^(ul|ol)$/i.test(n.parentNode.nodeName))return e.matchTag(document.createElement("li"),t);if(n.parentNode.lastChild==n||a.safari&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}}}function Me(e,t,n,i){if(t<0){var s=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,c=function(e,t){var n,r,i=e.root.getSelection(),a=e.state.doc,s=e.docView.nearestDesc(i.focusNode),c=s&&0==s.size,l=e.docView.posFromDOM(i.focusNode,i.focusOffset),u=a.resolve(l);if(y(i)){for(n=u;s&&!s.node;)s=s.parent;if(s&&s.node.isAtom&&o.NodeSelection.isSelectable(s.node)&&s.parent){var d=s.posBefore;r=new o.NodeSelection(l==d?u:a.resolve(d))}}else n=a.resolve(e.docView.posFromDOM(i.anchorNode,i.anchorOffset));return r||(r=ke(e,n,u,"pointer"==t||e.state.selection.head<u.pos&&!c?1:-1)),r}(e,s);if(!e.state.selection.eq(c)){var l=e.state.tr.setSelection(c);"pointer"==s?l.setMeta("pointer",!0):"key"==s&&l.scrollIntoView(),e.dispatch(l)}}else{var u=e.state.doc.resolve(t),d=u.sharedDepth(n);t=u.before(d+1),n=e.state.doc.resolve(n).after(d+1);var p,f,h=e.state.selection,m=function(e,t,n){var o=e.docView.parseRange(t,n),i=o.node,s=o.fromOffset,c=o.toOffset,l=o.from,u=o.to,d=e.root.getSelection(),p=null,f=d.anchorNode;if(f&&e.dom.contains(1==f.nodeType?f:f.parentNode)&&(p=[{node:f,offset:d.anchorOffset}],y(d)||p.push({node:d.focusNode,offset:d.focusOffset})),a.chrome&&8===e.lastKeyCode)for(var h=c;h>s;h--){var m=i.childNodes[h-1],g=m.pmViewDesc;if("BR"==m.nodeType&&!g){c=h;break}if(!g||g.size)break}var v=e.state.doc,b=e.someProp("domParser")||r.DOMParser.fromSchema(e.state.schema),w=v.resolve(l),O=null,E=b.parse(i,{topNode:w.parent,topMatch:w.parent.contentMatchAt(w.index()),topOpen:!0,from:s,to:c,preserveWhitespace:!w.parent.type.spec.code||"full",editableContent:!0,findPositions:p,ruleFromNode:Te(b,w),context:w});if(p&&null!=p[0].pos){var x=p[0].pos,k=p[1]&&p[1].pos;null==k&&(k=x),O={anchor:x+l,head:k+l}}return{doc:E,sel:O,from:l,to:u}}(e,t,n),g=e.state.doc,v=g.slice(m.from,m.to);8===e.lastKeyCode&&Date.now()-100<e.lastKeyCodeTime?(p=e.state.selection.to,f="end"):(p=e.state.selection.from,f="start"),e.lastKeyCode=null;var b=function(e,t,n,r,o){var i=e.findDiffStart(t,n);if(null==i)return null;var a=e.findDiffEnd(t,n+e.size,n+t.size),s=a.a,c=a.b;if("end"==o){var l=Math.max(0,i-Math.min(s,c));r-=s+l-i}if(s<i&&e.size<t.size){var u=r<=i&&r>=s?i-r:0;c=(i-=u)+(c-s),s=i}else if(c<i){var d=r<=i&&r>=c?i-r:0;s=(i-=d)+(s-c),c=i}return{start:i,endA:s,endB:c}}(v.content,m.doc.content,m.from,p,f);if(b){e.domChangeCount++,e.state.selection.from<e.state.selection.to&&b.start==b.endB&&e.state.selection instanceof o.TextSelection&&(b.start>e.state.selection.from&&b.start<=e.state.selection.from+2?b.start=e.state.selection.from:b.endA<e.state.selection.to&&b.endA>=e.state.selection.to-2&&(b.endB+=e.state.selection.to-b.endA,b.endA=e.state.selection.to));var O,E=m.doc.resolveNoCache(b.start-m.from),x=m.doc.resolveNoCache(b.endB-m.from);if(!(!E.sameParent(x)&&E.pos<m.doc.content.size&&(O=o.Selection.findFrom(m.doc.resolve(E.pos+1),1,!0))&&O.head==x.pos&&e.someProp("handleKeyDown",function(t){return t(e,w(13,"Enter"))})))if(e.state.selection.anchor>b.start&&function(e,t,n,r,o){if(!r.parent.isTextblock||n-t<=o.pos-r.pos||Ie(r,!0,!1)<o.pos)return!1;var i=e.resolve(t);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var a=e.resolve(Ie(i,!0,!0));if(!a.parent.isTextblock||a.pos>n||Ie(a,!0,!1)<n)return!1;return r.parent.content.cut(r.parentOffset).eq(a.parent.content)}(g,b.start,b.endA,E,x)&&e.someProp("handleKeyDown",function(t){return t(e,w(8,"Backspace"))}))a.android&&a.chrome&&(e.domObserver.suppressSelectionUpdates=!0,setTimeout(function(){return e.domObserver.suppressSelectionUpdates=!1},50));else{var k,C,S,j,T=b.start,M=b.endA;if(E.sameParent(x)&&E.parent.inlineContent)if(E.pos==x.pos)k=e.state.tr.delete(T,M),C=g.resolve(b.start).marksAcross(g.resolve(b.endA));else if(b.endA==b.endB&&(j=g.resolve(b.start))&&(S=function(e,t){for(var n,o,i,a=e.firstChild.marks,s=t.firstChild.marks,c=a,l=s,u=0;u<s.length;u++)c=s[u].removeFromSet(c);for(var d=0;d<a.length;d++)l=a[d].removeFromSet(l);if(1==c.length&&0==l.length)o=c[0],n="add",i=function(e){return e.mark(o.addToSet(e.marks))};else{if(0!=c.length||1!=l.length)return null;o=l[0],n="remove",i=function(e){return e.mark(o.removeFromSet(e.marks))}}for(var p=[],f=0;f<t.childCount;f++)p.push(i(t.child(f)));if(r.Fragment.from(p).eq(e))return{mark:o,type:n}}(E.parent.content.cut(E.parentOffset,x.parentOffset),j.parent.content.cut(j.parentOffset,b.endA-j.start()))))k=e.state.tr,"add"==S.type?k.addMark(T,M,S.mark):k.removeMark(T,M,S.mark);else if(E.parent.child(E.index()).isText&&E.index()==x.index()-(x.textOffset?0:1)){var _=E.parent.textBetween(E.parentOffset,x.parentOffset);if(e.someProp("handleTextInput",function(t){return t(e,T,M,_)}))return;k=e.state.tr.insertText(_,T,M)}if(k||(k=e.state.tr.replace(T,M,m.doc.slice(b.start-m.from,b.endB-m.from))),m.sel){var I=_e(e,k.doc,m.sel);I&&k.setSelection(I)}C&&k.ensureMarks(C),e.dispatch(k.scrollIntoView())}}else if(!(i&&h instanceof o.TextSelection&&!h.empty&&h.$head.sameParent(h.$anchor))||e.composing||m.sel&&m.sel.anchor!=m.sel.head){if(m.sel){var P=_e(e,e.state.doc,m.sel);P&&!P.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(P))}}else{var A=e.state,N=A.selection;e.dispatch(A.tr.replaceSelectionWith(A.schema.text(A.doc.textBetween(N.from,N.to)),!0).scrollIntoView())}}}function _e(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:ke(e,t.resolve(n.anchor),t.resolve(n.head))}function Ie(e,t,n){for(var r=e.depth,o=t?e.end():e.pos;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n)for(var i=e.node(r).maybeChild(e.indexAfter(r));i&&!i.isLeaf;)i=i.firstChild,o++;return o}function Pe(e,t){for(var n=[],o=t.content,i=t.openStart,a=t.openEnd;i>1&&a>1&&1==o.childCount&&1==o.firstChild.childCount;){i--,a--;var s=o.firstChild;n.push(s.type.name,s.type.hasRequiredAttrs()?s.attrs:null),o=s.content}var c=e.someProp("clipboardSerializer")||r.DOMSerializer.fromSchema(e.state.schema),l=document.createElement("div");l.appendChild(c.serializeFragment(o));for(var u,d=l.firstChild;d&&1==d.nodeType&&(u=Re[d.nodeName.toLowerCase()]);){for(var p=u.length-1;p>=0;p--){for(var f=document.createElement(u[p]);l.firstChild;)f.appendChild(l.firstChild);l.appendChild(f)}d=l.firstChild}return d&&1==d.nodeType&&d.setAttribute("data-pm-slice",i+" "+a+" "+JSON.stringify(n)),{dom:l,text:e.someProp("clipboardTextSerializer",function(e){return e(t)})||t.content.textBetween(0,t.content.size,"\n\n")}}function Ae(e,t,n,o,i){var a,s,c=i.parent.type.spec.code;if(!n&&!t)return null;var l=t&&(o||c||!n);if(l){if(e.someProp("transformPastedText",function(e){t=e(t)}),c)return new r.Slice(r.Fragment.from(e.state.schema.text(t)),0,0);var u=e.someProp("clipboardTextParser",function(e){return e(t,i)});u?s=u:(a=document.createElement("div"),t.trim().split(/(?:\r\n?|\n)+/).forEach(function(e){a.appendChild(document.createElement("p")).textContent=e}))}else e.someProp("transformPastedHTML",function(e){n=e(n)}),a=function(e){var t=/(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n,r=(De||(De=document.implementation.createHTMLDocument("title"))).createElement("div"),o=/(?:<meta [^>]*>)*<([a-z][^>\s]+)/i.exec(e),i=0;(n=o&&Re[o[1].toLowerCase()])&&(e=n.map(function(e){return"<"+e+">"}).join("")+e+n.map(function(e){return"</"+e+">"}).reverse().join(""),i=n.length);r.innerHTML=e;for(var a=0;a<i;a++)r=r.firstChild;return r}(n);var d=a&&a.querySelector("[data-pm-slice]"),p=d&&/^(\d+) (\d+) (.*)/.exec(d.getAttribute("data-pm-slice"));if(!s){var f=e.someProp("clipboardParser")||e.someProp("domParser")||r.DOMParser.fromSchema(e.state.schema);s=f.parseSlice(a,{preserveWhitespace:!(!l&&!p),context:i})}return s=p?function(e,t){if(!e.size)return e;var n,o=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}for(var i=e.content,a=e.openStart,s=e.openEnd,c=n.length-2;c>=0;c-=2){var l=o.nodes[n[c]];if(!l||l.hasRequiredAttrs())break;i=r.Fragment.from(l.create(n[c+1],i)),a++,s++}return new r.Slice(i,a,s)}(new r.Slice(s.content,Math.min(s.openStart,+p[1]),Math.min(s.openEnd,+p[2])),p[3]):r.Slice.maxOpen(function(e,t){if(e.childCount<2)return e;for(var n=function(n){var o=t.node(n),i=o.contentMatchAt(t.index(n)),a=void 0,s=[];if(e.forEach(function(e){if(s){var t,n=i.findWrapping(e.type);if(!n)return s=null;if(t=s.length&&a.length&&function e(t,n,o,i,a){if(a<t.length&&a<n.length&&t[a]==n[a]){var s=e(t,n,o,i.lastChild,a+1);if(s)return i.copy(i.content.replaceChild(i.childCount-1,s));var c=i.contentMatchAt(i.childCount);if(c.matchType(a==t.length-1?o.type:t[a+1]))return i.copy(i.content.append(r.Fragment.from(Ne(o,t,a+1))))}}(n,a,e,s[s.length-1],0))s[s.length-1]=t;else{s.length&&(s[s.length-1]=function e(t,n){if(0==n)return t;var o=t.content.replaceChild(t.childCount-1,e(t.lastChild,n-1));var i=t.contentMatchAt(t.childCount).fillBefore(r.Fragment.empty,!0);return t.copy(o.append(i))}(s[s.length-1],a.length));var o=Ne(e,n);s.push(o),i=i.matchType(o.type,o.attrs),a=n}}}),s)return{v:r.Fragment.from(s)}},o=t.depth;o>=0;o--){var i=n(o);if(i)return i.v}return e}(s.content,i),!1),e.someProp("transformPasted",function(e){s=e(s)}),s}function Ne(e,t,n){void 0===n&&(n=0);for(var o=t.length-1;o>=n;o--)e=t[o].create(null,r.Fragment.from(e));return e}var Re={thead:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},De=null;var Le={childList:!0,characterData:!0,attributes:!0,subtree:!0,characterDataOldValue:!0},ze=a.ie&&a.ie_version<=11,Be=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Be.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset},Be.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var Fe=function(e,t){var n=this;this.view=e,this.handleDOMChange=t,this.observer=window.MutationObserver&&new window.MutationObserver(function(e){return n.flush(e)}),this.currentSelection=new Be,this.charDataQueue=[],ze&&(this.onCharData=function(e){n.charDataQueue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),window.setTimeout(function(){return n.flush()},20)}),this.onSelectionChange=this.onSelectionChange.bind(this)};Fe.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,Le),ze&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},Fe.prototype.stop=function(){this.observer&&this.observer.disconnect(),ze&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},Fe.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},Fe.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},Fe.prototype.onSelectionChange=function(){var e;if((!(e=this.view).editable||e.root.activeElement==e.dom)&&Ce(e))return this.suppressSelectionUpdates?ye(this.view):void this.flush()},Fe.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},Fe.prototype.flush=function(e){e||(e=this.observer.takeRecords()),this.charDataQueue.length&&(e=this.charDataQueue.concat(e),this.charDataQueue.length=0);var t=this.view.root.getSelection(),n=!this.currentSelection.eq(t)&&Ce(this.view),r=-1,o=-1,i=!1;if(this.view.editable)for(var a=0;a<e.length;a++){var s=this.registerMutation(e[a]);s&&(r=r<0?s.from:Math.min(s.from,r),o=o<0?s.to:Math.max(s.to,o),s.typeOver&&(i=!0))}(r>-1||n)&&(r>-1&&this.view.docView.markDirty(r,o),this.handleDOMChange(r,o,i),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||ye(this.view))},Fe.prototype.registerMutation=function(e){var t=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(t==this.view.docView||"contenteditable"==e.attributeName))return null;if(!t||t.ignoreMutation(e))return null;if("childList"==e.type){var n=e.previousSibling&&e.previousSibling.parentNode==e.target?p(e.previousSibling)+1:0,r=t.localPosFromDOM(e.target,n,-1),o=e.nextSibling&&e.nextSibling.parentNode==e.target?p(e.nextSibling):e.target.childNodes.length;return{from:r,to:t.localPosFromDOM(e.target,o,1)}}return"attributes"==e.type?{from:t.posAtStart-t.border,to:t.posAtEnd+t.border}:{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var qe={},We={};function Ue(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now()}function He(e){e.someProp("handleDOMEvents",function(t){for(var n in t)e.eventHandlers[n]||e.dom.addEventListener(n,e.eventHandlers[n]=function(t){return Ve(e,t)})})}function Ve(e,t){return e.someProp("handleDOMEvents",function(n){var r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)})}function Ge(e){return{left:e.clientX,top:e.clientY}}function Ke(e,t,n,r,o){if(-1==r)return!1;for(var i=e.state.doc.resolve(r),a=function(r){if(e.someProp(t,function(t){return r>i.depth?t(e,n,i.nodeAfter,i.before(r),o,!0):t(e,n,i.node(r),i.before(r),o,!1)}))return{v:!0}},s=i.depth+1;s>0;s--){var c=a(s);if(c)return c.v}return!1}function $e(e,t,n){e.focused||e.focus();var r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function Je(e,t,n,r,i){return Ke(e,"handleClickOn",t,n,r)||e.someProp("handleClick",function(n){return n(e,t,r)})||(i?function(e,t){if(-1==t)return!1;var n,r,i=e.state.selection;i instanceof o.NodeSelection&&(n=i.node);for(var a=e.state.doc.resolve(t),s=a.depth+1;s>0;s--){var c=s>a.depth?a.nodeAfter:a.node(s);if(o.NodeSelection.isSelectable(c)){r=n&&i.$from.depth>0&&s>=i.$from.depth&&a.before(i.$from.depth+1)==i.$from.pos?a.before(i.$from.depth):a.before(s);break}}return null!=r&&($e(e,o.NodeSelection.create(e.state.doc,r),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;var n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&o.NodeSelection.isSelectable(r))&&($e(e,new o.NodeSelection(n),"pointer"),!0)}(e,n))}function Ye(e,t,n,r){return Ke(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",function(n){return n(e,t,r)})||function(e,t){var n=e.state.doc;if(-1==t)return!!n.inlineContent&&($e(e,o.TextSelection.create(n,0,n.content.size),"pointer"),!0);for(var r=n.resolve(t),i=r.depth+1;i>0;i--){var a=i>r.depth?r.nodeAfter:r.node(i),s=r.before(i);if(a.inlineContent)$e(e,o.TextSelection.create(n,s+1,s+1+a.content.size),"pointer");else{if(!o.NodeSelection.isSelectable(a))continue;$e(e,o.NodeSelection.create(n,s),"pointer")}return!0}}(e,n)}function Qe(e){return rt(e)}We.keydown=function(e,t){e.shiftKey=16==t.keyCode||t.shiftKey,et(e,t)||(e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),e.someProp("handleKeyDown",function(n){return n(e,t)})||be(e,t)?t.preventDefault():Ue(e,"key"))},We.keyup=function(e,t){16==t.keyCode&&(e.shiftKey=!1)},We.keypress=function(e,t){if(!(et(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||a.mac&&t.metaKey))if(e.someProp("handleKeyPress",function(n){return n(e,t)}))t.preventDefault();else{var n=e.state.selection;if(!(n instanceof o.TextSelection&&n.$from.sameParent(n.$to))){var r=String.fromCharCode(t.charCode);e.someProp("handleTextInput",function(t){return t(e,n.$from.pos,n.$to.pos,r)})||e.dispatch(e.state.tr.insertText(r).scrollIntoView()),t.preventDefault()}}};var Xe=a.mac?"metaKey":"ctrlKey";qe.mousedown=function(e,t){e.shiftKey=t.shiftKey;var n=Qe(e),r=Date.now(),o="singleClick";r-e.lastClick.time<500&&function(e,t){var n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(t,e.lastClick)&&!t[Xe]&&("singleClick"==e.lastClick.type?o="doubleClick":"doubleClick"==e.lastClick.type&&(o="tripleClick")),e.lastClick={time:r,x:t.clientX,y:t.clientY,type:o};var i=e.posAtCoords(Ge(t));i&&("singleClick"==o?e.mouseDown=new Ze(e,i,t,n):("doubleClick"==o?function(e,t,n,r){return Ke(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",function(n){return n(e,t,r)})}:Ye)(e,i.pos,i.inside,t)?t.preventDefault():Ue(e,"pointer"))};var Ze=function(e,t,n,r){var i,s,c=this;if(this.view=e,this.startDoc=e.state.doc,this.pos=t,this.event=n,this.flushed=r,this.selectNode=n[Xe],this.allowDefault=n.shiftKey,t.inside>-1)i=e.state.doc.nodeAt(t.inside),s=t.inside;else{var l=e.state.doc.resolve(t.pos);i=l.parent,s=l.depth?l.before():0}this.mightDrag=null;var u=r?null:n.target,d=u?e.docView.nearestDesc(u,!0):null;this.target=d?d.dom:null,(i.type.spec.draggable&&!1!==i.type.spec.selectable||e.state.selection instanceof o.NodeSelection&&s==e.state.selection.from)&&(this.mightDrag={node:i,pos:s,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&a.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){return c.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ue(e,"pointer")};function et(e,t){return!!e.composing||!!(a.safari&&Math.abs(t.timeStamp-e.compositionEndedAt)<500)&&(e.compositionEndedAt=-2e8,!0)}Ze.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!1),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},Ze.prototype.up=function(e){if(this.done(),this.view.dom.contains(3==e.target.nodeType?e.target.parentNode:e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Ge(e))),this.allowDefault||!t?(a.ie&&je(this.view.state)&&this.view.updateState(this.view.state),Ue(this.view,"pointer")):Je(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():!this.flushed&&(!a.chrome||this.view.state.selection instanceof o.TextSelection||t.pos!=this.view.state.selection.from&&t.pos!=this.view.state.selection.to)?Ue(this.view,"pointer"):($e(this.view,o.Selection.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault())}},Ze.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),Ue(this.view,"pointer")},qe.touchdown=function(e){Qe(e),Ue(e,"pointer")},qe.contextmenu=function(e){return Qe(e)};var tt=a.android?5e3:-1;function nt(e,t){clearTimeout(e.composingTimeout),t>-1&&(e.composingTimeout=setTimeout(function(){return rt(e)},t))}function rt(e){for(e.composing=!1;e.compositionNodes.length>0;)e.compositionNodes.pop().markParentsDirty();return!!e.docView.dirty&&(e.updateState(e.state),!0)}We.compositionstart=We.compositionupdate=function(e){e.composing||(e.domObserver.flush(),rt(e),e.composing=!0),nt(e,tt)},We.compositionend=function(e,t){e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,nt(e,20))};var ot=a.ie&&a.ie_version<15||a.ios&&a.webkit_version<604;function it(e,t,n,o){var i=Ae(e,t,n,e.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",function(t){return t(e,o,i||r.Slice.empty)})||!i)return!0;var a=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(i),s=a?e.state.tr.replaceSelectionWith(a,e.shiftKey):e.state.tr.replaceSelection(i);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}qe.copy=We.cut=function(e,t){var n=e.state.selection,r="cut"==t.type;if(!n.empty){var o=ot?null:t.clipboardData,i=Pe(e,n.content()),a=i.dom,s=i.text;o?(t.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",s)):function(e,t){var n=t.ownerDocument,r=n.body.appendChild(n.createElement("div"));r.appendChild(t),r.style.cssText="position: fixed; left: -10000px; top: 10px";var o=getSelection(),i=n.createRange();i.selectNodeContents(t),e.dom.blur(),o.removeAllRanges(),o.addRange(i),setTimeout(function(){n.body.removeChild(r),e.focus()},50)}(e,a),r&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},We.paste=function(e,t){var n=ot?null:t.clipboardData;n&&(it(e,n.getData("text/plain"),n.getData("text/html"),t)||n.files.length>0)?t.preventDefault():function(e,t){var n=e.dom.ownerDocument,r=e.shiftKey||e.state.selection.$from.parent.type.spec.code,o=n.body.appendChild(n.createElement(r?"textarea":"div"));r||(o.contentEditable="true"),o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus(),setTimeout(function(){e.focus(),n.body.removeChild(o),r?it(e,o.value,null,t):it(e,o.textContent,o.innerHTML,t)},50)}(e,t)};var at=function(e,t){this.slice=e,this.move=t},st=a.mac?"altKey":"ctrlKey";for(var ct in qe.dragstart=function(e,t){var n=e.mouseDown;if(n&&n.done(),t.dataTransfer){var r=e.state.selection,i=r.empty?null:e.posAtCoords(Ge(t));if(i&&i.pos>=r.from&&i.pos<=(r instanceof o.NodeSelection?r.to-1:r.to));else if(n&&n.mightDrag)e.dispatch(e.state.tr.setSelection(o.NodeSelection.create(e.state.doc,n.mightDrag.pos)));else if(t.target&&1==t.target.nodeType){var a=e.docView.nearestDesc(t.target,!0);if(!a||!a.node.type.spec.draggable||a==e.docView)return;e.dispatch(e.state.tr.setSelection(o.NodeSelection.create(e.state.doc,a.posBefore)))}var s=e.state.selection.content(),c=Pe(e,s),l=c.dom,u=c.text;t.dataTransfer.clearData(),t.dataTransfer.setData(ot?"Text":"text/html",l.innerHTML),ot||t.dataTransfer.setData("text/plain",u),e.dragging=new at(s,!t[st])}},qe.dragend=function(e){window.setTimeout(function(){return e.dragging=null},50)},We.dragover=We.dragenter=function(e,t){return t.preventDefault()},We.drop=function(e,t){var n=e.dragging;if(e.dragging=null,t.dataTransfer){var r=e.posAtCoords(Ge(t));if(r){var a=e.state.doc.resolve(r.pos);if(a){var s=n&&n.slice||Ae(e,t.dataTransfer.getData(ot?"Text":"text/plain"),ot?null:t.dataTransfer.getData("text/html"),!1,a);if(s&&(t.preventDefault(),!e.someProp("handleDrop",function(r){return r(e,t,s,n&&n.move)}))){var c=s?i.dropPoint(e.state.doc,a.pos,s):a.pos;null==c&&(c=a.pos);var l=e.state.tr;n&&n.move&&l.deleteSelection();var u=l.mapping.map(c),d=0==s.openStart&&0==s.openEnd&&1==s.content.childCount,p=l.doc;if(d?l.replaceRangeWith(u,u,s.content.firstChild):l.replaceRange(u,u,s),!l.doc.eq(p)){var f=l.doc.resolve(u);d&&o.NodeSelection.isSelectable(s.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(s.content.firstChild)?l.setSelection(new o.NodeSelection(f)):l.setSelection(ke(e,f,l.doc.resolve(l.mapping.map(c)))),e.focus(),e.dispatch(l.setMeta("uiEvent","drop"))}}}}}},qe.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0)},qe.blur=function(e){e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),e.focused=!1)},qe.beforeinput=function(e,t){if(a.chrome&&a.android&&"deleteContentBackward"==t.inputType){var n=e.domChangeCount;setTimeout(function(){if(e.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",function(t){return t(e,w(8,"Backspace"))}))){var t=e.state.selection.$cursor;t&&t.pos>0&&e.dispatch(e.state.tr.delete(t.pos-1,t.pos).scrollIntoView())}},50)}},We)qe[ct]=We[ct];function lt(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var r in t)if(!(r in e))return!1;return!0}var ut=function(e,t){this.spec=t||gt,this.side=this.spec.side||0,this.toDOM=e};ut.prototype.map=function(e,t,n,r){var o=e.mapResult(t.from+r,this.side<0?-1:1),i=o.pos;return o.deleted?null:new ft(i-n,i-n,this)},ut.prototype.valid=function(){return!0},ut.prototype.eq=function(e){return this==e||e instanceof ut&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&lt(this.spec,e.spec))};var dt=function(e,t){this.spec=t||gt,this.attrs=e};dt.prototype.map=function(e,t,n,r){var o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new ft(o,i,this)},dt.prototype.valid=function(e,t){return t.from<t.to},dt.prototype.eq=function(e){return this==e||e instanceof dt&&lt(this.attrs,e.attrs)&&lt(this.spec,e.spec)},dt.is=function(e){return e.type instanceof dt};var pt=function(e,t){this.spec=t||gt,this.attrs=e};pt.prototype.map=function(e,t,n,r){var o=e.mapResult(t.from+r,1);if(o.deleted)return null;var i=e.mapResult(t.to+r,-1);return i.deleted||i.pos<=o.pos?null:new ft(o.pos-n,i.pos-n,this)},pt.prototype.valid=function(e,t){var n=e.content.findIndex(t.from),r=n.index,o=n.offset;return o==t.from&&o+e.child(r).nodeSize==t.to},pt.prototype.eq=function(e){return this==e||e instanceof pt&&lt(this.attrs,e.attrs)&&lt(this.spec,e.spec)};var ft=function(e,t,n){this.from=e,this.to=t,this.type=n},ht={spec:{}};ft.prototype.copy=function(e,t){return new ft(e,t,this.type)},ft.prototype.eq=function(e){return this.type.eq(e.type)&&this.from==e.from&&this.to==e.to},ft.prototype.map=function(e,t,n){return this.type.map(e,this,t,n)},ft.widget=function(e,t,n){return new ft(e,e,new ut(t,n))},ft.inline=function(e,t,n,r){return new ft(e,t,new dt(n,r))},ft.node=function(e,t,n,r){return new ft(e,t,new pt(n,r))},ht.spec.get=function(){return this.type.spec},Object.defineProperties(ft.prototype,ht);var mt=[],gt={},vt=function(e,t){this.local=e&&e.length?e:mt,this.children=t&&t.length?t:mt};vt.create=function(e,t){return t.length?xt(t,e,0,gt):bt},vt.prototype.find=function(e,t,n){var r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r},vt.prototype.findInner=function(e,t,n,r,o){for(var i=0;i<this.local.length;i++){var a=this.local[i];a.from<=t&&a.to>=e&&(!o||o(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(var s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){var c=this.children[s]+1;this.children[s+2].findInner(e-c,t-c,n,r+c,o)}},vt.prototype.map=function(e,t,n){return this==bt||0==e.maps.length?this:this.mapInner(e,t,0,0,n||gt)},vt.prototype.mapInner=function(e,t,n,r,o){for(var i,a=0;a<this.local.length;a++){var s=this.local[a].map(e,n,r);s&&s.type.valid(t,s)?(i||(i=[])).push(s):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?function(e,t,n,r,o,i,a){for(var s=e.slice(),c=function(e,t,n,r){for(var a=0;a<s.length;a+=3){var c=s[a+1],l=void 0;-1==c||e>c+i||(t>=s[a]+i?s[a+1]=-1:(l=r-n-(t-e)+(i-o))&&(s[a]+=l,s[a+1]+=l))}},l=0;l<n.maps.length;l++)n.maps[l].forEach(c);for(var u=!1,d=0;d<s.length;d+=3)if(-1==s[d+1]){var p=n.map(s[d]+i),f=p-o;if(f<0||f>=r.content.size){u=!0;continue}var h=n.map(e[d+1]+i,-1),m=h-o,g=r.content.findIndex(f),v=g.index,b=g.offset,y=r.maybeChild(v);if(y&&b==f&&b+y.nodeSize==m){var w=s[d+2].mapInner(n,y,p+1,s[d]+i+1,a);w!=bt?(s[d]=f,s[d+1]=m,s[d+2]=w):(s[d+1]=-2,u=!0)}else u=!0}if(u){var O=function(e,t,n,r,o,i,a){function s(e,t){for(var i=0;i<e.local.length;i++){var c=e.local[i].map(r,o,t);c?n.push(c):a.onRemove&&a.onRemove(e.local[i].spec)}for(var l=0;l<e.children.length;l+=3)s(e.children[l+2],e.children[l]+t+1)}for(var c=0;c<e.length;c+=3)-1==e[c+1]&&s(e[c+2],t[c]+i+1);return n}(s,e,t||[],n,o,i,a),E=xt(O,r,0,a);t=E.local;for(var x=0;x<s.length;x+=3)s[x+1]<0&&(s.splice(x,3),x-=3);for(var k=0,C=0;k<E.children.length;k+=3){for(var S=E.children[k];C<s.length&&s[C]<S;)C+=3;s.splice(C,0,E.children[k],E.children[k+1],E.children[k+2])}}return new vt(t&&t.sort(kt),s)}(this.children,i,e,t,n,r,o):i?new vt(i.sort(kt)):bt},vt.prototype.add=function(e,t){return t.length?this==bt?vt.create(e,t):this.addInner(e,t,0):this},vt.prototype.addInner=function(e,t,n){var r,o=this,i=0;e.forEach(function(e,a){var s,c=a+n;if(s=Ot(t,e,c)){for(r||(r=o.children.slice());i<r.length&&r[i]<a;)i+=3;r[i]==a?r[i+2]=r[i+2].addInner(e,s,c+1):r.splice(i,0,a,a+e.nodeSize,xt(s,e,c+1,gt)),i+=3}});var a=wt(i?Et(t):t,-n);return new vt(a.length?this.local.concat(a).sort(kt):this.local,r||this.children)},vt.prototype.remove=function(e){return 0==e.length||this==bt?this:this.removeInner(e,0)},vt.prototype.removeInner=function(e,t){for(var n=this.children,r=this.local,o=0;o<n.length;o+=3){for(var i=void 0,a=n[o]+t,s=n[o+1]+t,c=0,l=void 0;c<e.length;c++)(l=e[c])&&l.from>a&&l.to<s&&(e[c]=null,(i||(i=[])).push(l));if(i){n==this.children&&(n=this.children.slice());var u=n[o+2].removeInner(i,a+1);u!=bt?n[o+2]=u:(n.splice(o,3),o-=3)}}if(r.length)for(var d=0,p=void 0;d<e.length;d++)if(p=e[d])for(var f=0;f<r.length;f++)r[f].type.eq(p.type)&&(r==this.local&&(r=this.local.slice()),r.splice(f--,1));return n==this.children&&r==this.local?this:r.length||n.length?new vt(r,n):bt},vt.prototype.forChild=function(e,t){var n,r;if(this==bt)return this;if(t.isLeaf)return vt.empty;for(var o=0;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(n=this.children[o+2]);break}for(var i=e+1,a=i+t.content.size,s=0;s<this.local.length;s++){var c=this.local[s];if(c.from<a&&c.to>i&&c.type instanceof dt){var l=Math.max(i,c.from)-i,u=Math.min(a,c.to)-i;l<u&&(r||(r=[])).push(c.copy(l,u))}}if(r){var d=new vt(r.sort(kt));return n?new yt([d,n]):d}return n||bt},vt.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof vt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!1},vt.prototype.locals=function(e){return Ct(this.localsInner(e))},vt.prototype.localsInner=function(e){if(this==bt)return mt;if(e.inlineContent||!this.local.some(dt.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof dt||t.push(this.local[n]);return t};var bt=new vt;vt.empty=bt,vt.removeOverlap=Ct;var yt=function(e){this.members=e};function wt(e,t){if(!t||!e.length)return e;for(var n=[],r=0;r<e.length;r++){var o=e[r];n.push(new ft(o.from+t,o.to+t,o.type))}return n}function Ot(e,t,n){if(t.isLeaf)return null;for(var r=n+t.nodeSize,o=null,i=0,a=void 0;i<e.length;i++)(a=e[i])&&a.from>n&&a.to<r&&((o||(o=[])).push(a),e[i]=null);return o}function Et(e){for(var t=[],n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function xt(e,t,n,r){var o=[],i=!1;t.forEach(function(t,a){var s=Ot(e,t,a+n);if(s){i=!0;var c=xt(s,t,n+a+1,r);c!=bt&&o.push(a,a+t.nodeSize,c)}});for(var a=wt(i?Et(e):e,-n).sort(kt),s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(r.onRemove&&r.onRemove(a[s].spec),a.splice(s--,1));return a.length||o.length?new vt(a,o):bt}function kt(e,t){return e.from-t.from||e.to-t.to}function Ct(e){for(var t=e,n=0;n<t.length-1;n++){var r=t[n];if(r.from!=r.to)for(var o=n+1;o<t.length;o++){var i=t[o];if(i.from!=r.from){i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),St(t,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),St(t,o+1,i.copy(r.to,i.to)))}}return t}function St(e,t,n){for(;t<e.length&&kt(n,e[t])>0;)t++;e.splice(t,0,n)}function jt(e){var t=[];return e.someProp("decorations",function(n){var r=n(e.state);r&&r!=bt&&t.push(r)}),e.cursorWrapper&&t.push(vt.create(e.state.doc,[e.cursorWrapper.deco])),yt.from(t)}yt.prototype.forChild=function(e,t){if(t.isLeaf)return vt.empty;for(var n=[],r=0;r<this.members.length;r++){var o=this.members[r].forChild(e,t);o!=bt&&(o instanceof yt?n=n.concat(o.members):n.push(o))}return yt.from(n)},yt.prototype.eq=function(e){if(!(e instanceof yt)||e.members.length!=this.members.length)return!1;for(var t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0},yt.prototype.locals=function(e){for(var t,n=!0,r=0;r<this.members.length;r++){var o=this.members[r].localsInner(e);if(o.length)if(t){n&&(t=t.slice(),n=!1);for(var i=0;i<o.length;i++)t.push(o[i])}else t=o}return t?Ct(n?t:t.sort(kt)):mt},yt.from=function(e){switch(e.length){case 0:return bt;case 1:return e[0];default:return new yt(e)}};var Tt=function(e,t){this._props=t,this.state=t.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Pt(this),this.cursorWrapper=null,It(this),this.nodeViews=Nt(this),this.docView=H(this.state.doc,_t(this),jt(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:""},e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new Fe(e,function(t,n,r){return Me(e,t,n,r)}),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(t){var n=qe[t];e.dom.addEventListener(t,e.eventHandlers[t]=function(t){!function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}(e,t)||Ve(e,t)||!e.editable&&t.type in We||n(e,t)})};for(var n in qe)t(n);a.safari&&e.dom.addEventListener("input",function(){return null}),He(e)}(this),this.pluginViews=[],this.updatePluginViews()},Mt={props:{},root:{}};function _t(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",function(n){if("function"==typeof n&&(n=n(e.state)),n)for(var r in n)"class"==r?t.class+=" "+n[r]:t[r]||"contenteditable"==r||"nodeName"==r||(t[r]=String(n[r]))}),[ft.node(0,e.state.doc.content.size,t)]}function It(e){var t=je(e.state);if(!t||a.ie&&e.mouseDown)e.cursorWrapper=null;else{var n,o=e.state.selection.visible,i=e.state.storedMarks||t.marks();e.cursorWrapper&&r.Mark.sameSet(e.cursorWrapper.deco.spec.marks,i)&&"\ufeff"==e.cursorWrapper.dom.textContent&&e.cursorWrapper.deco.spec.visible==o?e.cursorWrapper.deco.pos!=t.pos&&(n=e.cursorWrapper.dom):n=function(e){var t=document.createElement("span");return t.textContent="\ufeff",e||(t.style.position="absolute",t.style.left="-100000px"),t}(o),n&&(e.cursorWrapper={dom:n,deco:ft.widget(t.pos,n,{isCursorWrapper:!0,marks:i,raw:!0,visible:o})})}}function Pt(e){return!e.someProp("editable",function(t){return!1===t(e.state)})}function At(e){var t=e.getSelection(),n=t.focusOffset,r=t.focusNode;return r&&3!=r.nodeType?[r,n,1==r.nodeType?r.childNodes[n-1]:null,1==r.nodeType?r.childNodes[n]:null]:null}function Nt(e){var t={};return e.someProp("nodeViews",function(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}),t}Mt.props.get=function(){if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props},Tt.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&He(this),this._props=e,this.updateStateInner(e.state,!0)},Tt.prototype.setProps=function(e){var t={};for(var n in this._props)t[n]=this._props[n];for(var r in t.state=this.state,e)t[r]=e[r];this.update(t)},Tt.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)},Tt.prototype.updateStateInner=function(e,t){var n=this,r=this.state,i=!1;if(this.state=e,t){var s=Nt(this);(function(e,t){var n=0,r=0;for(var o in e){if(e[o]!=t[o])return!0;n++}for(var i in t)r++;return n!=r})(s,this.nodeViews)&&(this.nodeViews=s,i=!0),He(this)}this.editable=Pt(this),It(this);var c,l,u,d=jt(this),p=_t(this),h=t?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",g=i||!this.docView.matchesNode(e.doc,p,d),v=g||!e.selection.eq(r.selection),b="preserve"==h&&v&&null==this.dom.style.overflowAnchor&&function(e){for(var t,n,r=e.dom.getBoundingClientRect(),o=Math.max(0,r.top),i=e.dom.ownerDocument,a=(r.left+r.right)/2,s=o+1;s<Math.min(innerHeight,r.bottom);s+=5){var c=e.root.elementFromPoint(a,s);if(c!=e.dom&&e.dom.contains(c)){var l=c.getBoundingClientRect();if(l.top>=o-20){t=c,n=l.top;break}}}for(var u=[],d=e.dom;d&&(u.push({dom:d,top:d.scrollTop,left:d.scrollLeft}),d!=i.body);d=f(d));return{refDOM:t,refTop:n,stack:u}}(this);if(v){this.domObserver.stop();var y=!1;if(g){var w=a.chrome&&At(this.root);!i&&this.docView.update(e.doc,p,d,this)||(this.docView.destroy(),this.docView=H(e.doc,p,d,this.dom,this)),w&&(y=function(e,t){var n=At(t);if(!n||3==n[0].nodeType)return!1;for(var r=0;r<e.length;r++)if(n[r]!=e[r])return!0;return!1}(w,this.root))}y||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(c=this,l=c.docView.domFromPos(c.state.selection.anchor),u=c.root.getSelection(),m(l.node,l.offset,u.anchorNode,u.anchorOffset)))?ye(this,!1,y):(Ee(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),"reset"==h)this.dom.scrollTop=0;else if("to selection"==h){var O=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",function(e){return e(n)})||(e.selection instanceof o.NodeSelection?x(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),O):x(this,this.coordsAtPos(e.selection.head),O))}else b&&function(e){for(var t=e.refDOM,n=e.refTop,r=e.stack,o=t?t.getBoundingClientRect().top:0,i=0==o?0:o-n,a=0;a<r.length;a++){var s=r[a],c=s.dom,l=s.top,u=s.left;c.scrollTop!=l+i&&(c.scrollTop=l+i),c.scrollLeft!=u&&(c.scrollLeft=u)}}(b)},Tt.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()},Tt.prototype.updatePluginViews=function(e){if(e&&e.plugins==this.state.plugins)for(var t=0;t<this.pluginViews.length;t++){var n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.destroyPluginViews();for(var r=0;r<this.state.plugins.length;r++){var o=this.state.plugins[r];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}},Tt.prototype.someProp=function(e,t){var n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;var o=this.state.plugins;if(o)for(var i=0;i<o.length;i++){var a=o[i].props[e];if(null!=a&&(n=t?t(a):a))return n}},Tt.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Tt.prototype.focus=function(){this.domObserver.stop(),ye(this,!0),this.domObserver.start(),this.editable&&this.dom.focus()},Mt.root.get=function(){var e=this._root;if(null==e)for(var t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return this._root=t;return e||document},Tt.prototype.posAtCoords=function(e){return S(this,e)},Tt.prototype.coordsAtPos=function(e){return T(this,e)},Tt.prototype.domAtPos=function(e){return this.docView.domFromPos(e)},Tt.prototype.nodeDOM=function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null},Tt.prototype.posAtDOM=function(e,t,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r},Tt.prototype.endOfTextblock=function(e,t){return R(this,t||this.state,e)},Tt.prototype.destroy=function(){this.docView&&(!function(e){for(var t in e.domObserver.stop(),e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t]);clearTimeout(e.composingTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],jt(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Tt.prototype.dispatchEvent=function(e){return function(e,t){Ve(e,t)||!qe[t.type]||!e.editable&&t.type in We||qe[t.type](e,t)}(this,e)},Tt.prototype.dispatch=function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))},Object.defineProperties(Tt.prototype,Mt),t.EditorView=Tt,t.Decoration=ft,t.DecorationSet=vt,t.__serializeForClipboard=Pe,t.__parseFromClipboard=Ae,t.__endComposition=rt},cMMb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M12.062 13.93c-.904 0-1.451-.734-1.451-1.945 0-1.226.538-1.952 1.466-1.952.928 0 1.422.764 1.422 1.967 0 1.195-.502 1.93-1.438 1.93M12 5c-3.925 0-7 3.075-7 7 0 4.596 3.522 7 7 7 .874 0 1.614-.09 2.26-.279a.751.751 0 0 0-.42-1.44c-.508.147-1.11.22-1.84.22-2.648 0-5.5-1.722-5.5-5.5 0-3.085 2.417-5.5 5.5-5.5 3.24 0 5.5 1.952 5.5 4.75 0 2.045-1.043 3-1.748 3-.008 0-.752-.11-.752-.75v-4a.75.75 0 1 0-1.5 0v.187c-.346-.585-1.016-.952-1.795-.952C10.102 8.736 9 10.04 9 11.938c0 1.984 1.103 3.312 2.753 3.312.865 0 1.51-.387 1.865-1.076.334 1.016 1.37 1.576 2.132 1.576 1.598 0 3.25-1.683 3.25-4.5C19 7.628 16.058 5 12 5" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorMentionIcon";var c=s;t.default=c},cPJV:function(e,t,n){var r=n("WA8B"),o=n("gfz1"),i=n("iWRJ"),a=n("yNUO"),s=n("fupu"),c=n("Us+F");var l={M:function(e){return e.getMonth()+1},MM:function(e){return d(e.getMonth()+1,2)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return d(e.getDate(),2)},DDD:function(e){return r(e)},DDDD:function(e){return d(r(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return o(e)},WW:function(e){return d(o(e),2)},YY:function(e){return d(e.getFullYear(),4).substr(2)},YYYY:function(e){return d(e.getFullYear(),4)},GG:function(e){return String(i(e)).substr(2)},GGGG:function(e){return i(e)},H:function(e){return e.getHours()},HH:function(e){return d(e.getHours(),2)},h:function(e){var t=e.getHours();return 0===t?12:t>12?t%12:t},hh:function(e){return d(l.h(e),2)},m:function(e){return e.getMinutes()},mm:function(e){return d(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return d(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return d(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return d(e.getMilliseconds(),3)},Z:function(e){return u(e.getTimezoneOffset(),":")},ZZ:function(e){return u(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};function u(e,t){t=t||"";var n=e>0?"-":"+",r=Math.abs(e),o=r%60;return n+d(Math.floor(r/60),2)+t+d(o,2)}function d(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return n}e.exports=function(e,t,n){var r=t?String(t):"YYYY-MM-DDTHH:mm:ss.SSSZ",o=(n||{}).locale,i=c.format.formatters,u=c.format.formattingTokensRegExp;o&&o.format&&o.format.formatters&&(i=o.format.formatters,o.format.formattingTokensRegExp&&(u=o.format.formattingTokensRegExp));var d=a(e);return s(d)?function(e,t,n){var r,o,i,a=e.match(n),s=a.length;for(r=0;r<s;r++)o=t[a[r]]||l[a[r]],a[r]=o||((i=a[r]).match(/\[[\s\S]/)?i.replace(/^\[|]$/g,""):i.replace(/\\/g,""));return function(e){for(var t="",n=0;n<s;n++)a[n]instanceof Function?t+=a[n](e,l):t+=a[n];return t}}(r,i,u)(d):"Invalid Date"}},cQYt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("Oy7l"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M9.414 8l3.293 3.293c.187.187.293.442.293.707v5a1 1 0 0 1-2 0v-4.586l-3-3V10.5a1 1 0 0 1-2 0V7a1 1 0 0 1 1-1h3.5a1 1 0 0 1 0 2H9.414zm8.293-1.707a.999.999 0 0 1 0 1.414l-2.5 2.5a.997.997 0 0 1-1.414 0 .999.999 0 0 1 0-1.414l2.5-2.5a.999.999 0 0 1 1.414 0z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorDecisionIcon";var c=s;t.default=c},cXlQ:function(e,t,n){"use strict";n.d(t,"f",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return p}),n.d(t,"g",function(){return f}),n.d(t,"e",function(){return h}),n.d(t,"h",function(){return m}),n.d(t,"i",function(){return g});var r=n("mrSG"),o=n("/IjO"),i=n("mG1W"),a=n("tQKV"),s=function(e){return!!e.type.spec.isolating},c=function(e,t){for(var n=o.TableMap.get(t),r=n.cellsInRect({left:0,top:0,right:1,bottom:n.height}),i=0;i<r.length;i++)try{var a=t.nodeAt(r[i]);if(a&&a.type!==e.schema.nodes.tableHeader)return!1}catch(e){return!1}return!0},l=function(e,t){for(var n=o.TableMap.get(t),r=0;r<n.width;r++){var i=t.nodeAt(n.map[r]);if(i&&i.type!==e.schema.nodes.tableHeader)return!1}return!0},u=function(e){return v(e,i.findTable,c,!1)},d=function(e){return v(e,i.findTable,l,!1)},p=function(e){return v(e,i.findTable,function(e,t){return!!t.attrs.isNumberColumnEnabled},!1)},f=function(e){var t=a.e.getState(e).pluginConfig.permittedLayouts,n=e.schema.nodes,r=n.bodiedExtension,o=n.layoutSection;return!Object(i.hasParentNodeOfType)([o,r])(e.selection)&&t&&("all"===t||t.indexOf("default")>-1&&t.indexOf("wide")>-1&&t.indexOf("full-page")>-1)},h=function(e){return b(e).reduce(function(e,t){return e+t},0)},m=function(e,t){var n=b(e),r=b(t);return!1===n.every(function(e,t){return e===r[t]})},g=function(e,t){var n=o.TableMap.get(t),r=o.TableMap.get(e);return n.width!==r.width};function v(e,t,n,r){var o=t(e.selection);return o?n(e,o.node,o.pos):r}function b(e){if(!e.content.firstChild)return[];var t=[];return e.content.firstChild.content.forEach(function(e){if(Array.isArray(e.attrs.colwidth)){var n=e.attrs.colspan||1;t.push.apply(t,r.__spread(e.attrs.colwidth.slice(0,n)))}}),t}},clh5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("OYD4"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="currentColor" fill-rule="evenodd" d="M8 10V8.002A4.004 4.004 0 0 1 12 4a4 4 0 0 1 4 4.002V10a2 2 0 0 1 2 2v6c0 1.105-.902 2-2.009 2H8.01A2 2 0 0 1 6 18v-6c0-1.102.897-1.995 2-2zm2 0h4V8.002A2.001 2.001 0 0 0 12 6c-1.102 0-2 .898-2 2.002V10zm2 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>'},e))};s.displayName="LockFilledIcon";var c=s;t.default=c},cqjR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("b/sn"),o=n("uSMm"),i=function(e,t){var n;this.match=e,this.handler="string"==typeof t?(n=t,function(e,t,r,o){var i=n;if(t[1]){var a=t[0].lastIndexOf(t[1]);i+=t[0].slice(a+t[1].length);var s=(r+=a)-o;s>0&&(i=t[0].slice(a-s,a)+i,r=o)}return e.tr.insertText(i,r,o)}):t};var a=500;function s(e,t,n,r,o,i){if(e.composing)return!1;var s=e.state,c=s.doc.resolve(t);if(c.parent.type.spec.code)return!1;for(var l=c.parent.textBetween(Math.max(0,c.parentOffset-a),c.parentOffset,null,"")+r,u=0;u<o.length;u++){var d=o[u].match.exec(l),p=d&&o[u].handler(s,d,t-(d[0].length-r.length),n);if(p)return e.dispatch(p.setMeta(i,{transform:p,from:t,to:n,text:r})),!0}return!1}var c=new i(/--$/,""),l=new i(/\.\.\.$/,""),u=new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,""),d=new i(/"$/,""),p=new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,""),f=new i(/'$/,""),h=[u,d,p,f];t.InputRule=i,t.inputRules=function(e){var t=e.rules,n=new r.Plugin({state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(this);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:function(e,r,o,i){return s(e,r,o,i,t,n)},handleDOMEvents:{compositionend:function(e){setTimeout(function(){var r=e.state.selection.$cursor;r&&s(e,r.pos,r.pos,"",t,n)})}}},isInputRules:!0});return n},t.undoInputRule=function(e,t){for(var n=e.plugins,r=0;r<n.length;r++){var o=n[r],i=void 0;if(o.spec.isInputRules&&(i=o.getState(e))){if(t){for(var a=e.tr,s=i.transform,c=s.steps.length-1;c>=0;c--)a.step(s.steps[c].invert(s.docs[c]));var l=a.doc.resolve(i.from).marks();t(a.replaceWith(i.from,i.to,e.schema.text(i.text,l)))}return!0}}return!1},t.emDash=c,t.ellipsis=l,t.openDoubleQuote=u,t.closeDoubleQuote=d,t.openSingleQuote=p,t.closeSingleQuote=f,t.smartQuotes=h,t.wrappingInputRule=function(e,t,n,r){return new i(e,function(e,i,a,s){var c=n instanceof Function?n(i):n,l=e.tr.delete(a,s),u=l.doc.resolve(a).blockRange(),d=u&&o.findWrapping(u,t,c);if(!d)return null;l.wrap(u,d);var p=l.doc.resolve(a-1).nodeBefore;return p&&p.type==t&&o.canJoin(l.doc,a-1)&&(!r||r(i,p))&&l.join(a-1),l})},t.textblockTypeInputRule=function(e,t,n){return new i(e,function(e,r,o,i){var a=e.doc.resolve(o),s=n instanceof Function?n(r):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t)?e.tr.delete(o,i).setBlockType(o,o,t,s):null})}},d9oQ:function(e,t){},dHel:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M11 7h6a1 1 0 0 1 0 2h-6a1 1 0 0 1 0-2zm0 4h6a1 1 0 0 1 0 2h-6a1 1 0 0 1 0-2zm0 4h6a1 1 0 0 1 0 2h-6a1 1 0 0 1 0-2zm-5 0h3v1H6v-1zm0 2h3v1H6v-1zm1-9H6V7h2v3H7V8zm-1 3h3v1.333h-.6V13H7.2v-.667H6V11zm0 2h3v1H6v-1zm2 3h2v1H8v-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorNumberListIcon";var c=s;t.default=c},dKBr:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n("35Wn"),i=n("hgAg");t.catchError=function(e){return function(t){var n=new a(e),r=t.lift(n);return n.caught=r}};var a=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.selector,this.caught))},e}(),s=function(e){function t(t,n,r){e.call(this,t),this.selector=n,this.caught=r}return r(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle(),this.add(i.subscribeToResult(this,n))}},t}(o.OuterSubscriber)},dWNr:function(e,t,n){e.exports=n.p+"build-favicon-stopped.f5c57a3393b4.ico"},dXC2:function(e,t,n){"use strict";n.d(t,"b",function(){return u});var r=n("b/sn"),o=n("cD+i"),i=n("mG1W"),a=n("9N/3"),s=n("fVm0"),c=n("5Df5"),l=n("JYy9"),u=new r.PluginKey("gapCursorPlugin"),d=new r.Plugin({key:u,view:function(){return{update:function(e){e.state.selection instanceof a.a&&Object(s.a)(e)}}},props:{decorations:function(e){var t=e.doc,n=e.selection;if(n instanceof a.a){var r=n.$from,s=n.side,c=document.createElement("span");c.className="ProseMirror-gapcursor "+(s===a.c.LEFT?"-left":"-right"),c.appendChild(document.createElement("span"));var l=n.head;if(s===a.c.RIGHT&&r.nodeBefore){var u=Object(i.findPositionOfNodeBefore)(n);"number"==typeof u&&(l=u)}return o.DecorationSet.create(t,[o.Decoration.widget(l,c,{key:""+a.b,side:-1})])}return null},createSelectionBetween:function(e,t,n){if(t.pos===n.pos&&a.a.valid(n))return new a.a(n)},handleClick:function(e,t,n){var r=e.posAtCoords({left:n.clientX,top:n.clientY});if(r&&r.inside!==t&&!Object(s.c)(n.target)){var o=n.offsetX>20?a.c.RIGHT:a.c.LEFT;return Object(c.d)(t,o)(e.state,e.dispatch)}return!1},handleDOMEvents:{beforeinput:function(e,t){return"deleteContentBackward"===t.inputType&&e.state.selection instanceof a.a&&(t.preventDefault(),Object(c.b)(l.a.BACKWARD)(e.state,e.dispatch))}}}});t.a=d},dqnb:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return f});var r=n("mrSG"),o=n("/IjO"),i=n("b/sn"),a=n("byeC"),s=n("mG1W"),c=n("ClUl");function l(e){var t=e.selection;if(!(t instanceof o.CellSelection&&u(e)))return e;for(var n,l=Object(s.getSelectionRect)(t),h=Object(s.findTable)(t),m=o.TableMap.get(h.node),g=[],v=m.cellsInRect(l),b=[],y=0;y<m.height;y++){for(var w=[],O=h.node.child(y),E=0;E<m.width;E++){var x=m.map[y*m.width+E];if((R=h.node.nodeAt(x))&&!(g.indexOf(x)>-1))if(g.push(x),E===l.left&&y===l.top){n=x;for(var k=d(R)?a.Fragment.empty:R.content,C=[n],S=l.top;S<l.bottom;S++)for(var j=l.left;j<l.right;j++){var T=m.map[S*m.width+j];if(-1===C.indexOf(T)){C.push(T);var M=h.node.nodeAt(T);M&&!d(M)&&(k=k.append(M.content))}}if((D=l.bottom-l.top)<1)return Object(c.a)({type:"MERGE_CELLS",problem:"NEGATIVE_ROWSPAN"})(e);var _=p(r.__assign({},R.attrs,{rowspan:D}),R.attrs.colspan,l.right-l.left-R.attrs.colspan),I=k===a.Fragment.empty?R.type.createAndFill(_,k,R.marks):R.type.createChecked(_,k,R.marks);w.push(I)}else-1===v.indexOf(x)&&w.push(R)}if(w.length)b.push(O.type.createChecked(O.attrs,w,O.marks));else for(S=b.length-1;S>=0;S--){var P=b[S],A=[],N=!1;for(j=0;j<P.childCount;j++){var R,D;if((D=(R=P.child(j)).attrs.rowspan)&&D+S-1>=b.length){if(N=!0,D<2)return Object(c.a)({type:"MERGE_CELLS",problem:"NEGATIVE_ROWSPAN"})(e);A.push(R.type.createChecked(r.__assign({},R.attrs,{rowspan:D-1}),R.content,R.marks))}else A.push(R)}N&&(b[S]=O.type.createChecked(P.attrs,A,P.marks))}}if(!b.length)return Object(c.a)({type:"MERGE_CELLS",problem:"EMPTY_TABLE"})(e);var L=f(h.node.type.createChecked(h.node.attrs,b,h.node.marks));return null===L?Object(c.a)({type:"MERGE_CELLS",problem:"REMOVE_EMPTY_COLUMNS"})(e):Object(c.a)({type:"MERGE_CELLS"})(e.replaceWith(h.pos,h.pos+h.node.nodeSize,L).setSelection(i.Selection.near(e.doc.resolve((n||0)+h.start))))}function u(e){var t=e.selection;if(!(t instanceof o.CellSelection)||t.$anchorCell.pos===t.$headCell.pos)return!1;var n=Object(s.getSelectionRect)(t);if(!n)return!1;var r=t.$anchorCell.node(-1);return!function(e,t){for(var n=e.width,r=e.height,o=e.map,i=t.top*n+t.left,a=i,s=(t.bottom-1)*n+t.left,c=i+(t.right-t.left-1),l=t.top;l<t.bottom;l++){if(t.left>0&&o[a]===o[a-1]||t.right<n&&o[c]===o[c+1])return!0;a+=n,c+=n}for(var l=t.left;l<t.right;l++){if(t.top>0&&o[i]===o[i-n]||t.bottom<r&&o[s]===o[s+n])return!0;i++,s++}return!1}(o.TableMap.get(r),n)}function d(e){var t=e.content;return 1===t.childCount&&t.firstChild&&t.firstChild.isTextblock&&0===t.firstChild.childCount}function p(e,t,n){void 0===n&&(n=1);var o=r.__assign({},e,{colspan:(e.colspan||1)+n});if(o.colwidth){o.colwidth=o.colwidth.slice();for(var i=0;i<n;i++)o.colwidth.splice(t,0,0)}return o}function f(e){var t=o.TableMap.get(e),n=function(e){for(var t=o.TableMap.get(e),n=[],i=t.width-1;i>=0;i--){var a=t.cellsInRect({left:i,right:i+1,top:0,bottom:t.height});if(a.length){var s=a.map(function(t){var n=e.nodeAt(t);if(n)return n.attrs.colspan}),c=Math.min.apply(Math,r.__spread(s));n[i+1]?n[i]=1:n[i]=c}}return n}(e);if(!n.some(function(e){return e>1}))return e;for(var i=[],a=function(o){var a={},s=Object.keys(n).map(Number);for(var c in s){var l=s[c],u=t.map[l+o*t.width],d=t.findCell(u),p=a[d.left]||e.nodeAt(u);if(p&&d.top===o)if(n[l]>1){var f=p.attrs.colspan-n[l]+1;if(f<1)return{value:null};var h=p.attrs.colwidth,m=p.type.createChecked(r.__assign({},p.attrs,{colspan:f,colwidth:h?h.slice(0,f):null}),p.content,p.marks);a[d.left]=m}else a[d.left]=p}var g=Object.keys(a).map(function(e){return a[e]}),v=e.child(o);v&&i.push(v.type.createChecked(v.attrs,g,v.marks))},s=0;s<t.height;s++){var c=a(s);if("object"==typeof c)return c.value}return i.length?e.type.createChecked(e.attrs,i,e.marks):null}},"dvq/":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("mrSG"),o=n("7UM5");function i(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=t.apply(void 0,r.__spread(n));if(a)try{o.a.trackEvent(e)}catch(e){console.error("An exception has been thrown when trying to track analytics event:",e)}return a}}},eMbh:function(e,t){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}([function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n=e.exports={version:"2.5.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports=!n(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(32)("wks"),o=n(9),i=n(0).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){var r=n(0),o=n(2),i=n(8),a=n(22),s=n(10),c=function(e,t,n){var l,u,d,p,f=e&c.F,h=e&c.G,m=e&c.S,g=e&c.P,v=e&c.B,b=h?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,y=h?o:o[t]||(o[t]={}),w=y.prototype||(y.prototype={});for(l in h&&(n=t),n)d=((u=!f&&b&&void 0!==b[l])?b:n)[l],p=v&&u?s(d,r):g&&"function"==typeof d?s(Function.call,d):d,b&&a(b,l,d,e&c.U),y[l]!=d&&i(y,l,p),g&&w[l]!=d&&(w[l]=d)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){var r=n(16),o=n(21);e.exports=n(3)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(24);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(28),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=e.type||"",i=o.replace(/\/.*$/,"");return n.some(function(e){var t=e.trim();return"."===t.charAt(0)?r.toLowerCase().endsWith(t.toLowerCase()):t.endsWith("/*")?i===t.replace(/\/.*$/,""):o===t})}return!0},n(14),n(34)},function(e,t,n){n(15),e.exports=n(2).Array.some},function(e,t,n){"use strict";var r=n(7),o=n(25)(3);r(r.P+r.F*!n(33)([].some,!0),"Array",{some:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(17),o=n(18),i=n(20),a=Object.defineProperty;t.f=n(3)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(1);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(3)&&!n(4)(function(){return 7!=Object.defineProperty(n(19)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(1),o=n(0).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(1);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(0),o=n(8),i=n(23),a=n(9)("src"),s=Function.toString,c=(""+s).split("toString");n(2).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var l="function"==typeof n;l&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(l&&(i(n,a)||o(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(10),o=n(26),i=n(27),a=n(12),s=n(29);e.exports=function(e,t){var n=1==e,c=2==e,l=3==e,u=4==e,d=6==e,p=5==e||d,f=t||s;return function(t,s,h){for(var m,g,v=i(t),b=o(v),y=r(s,h,3),w=a(b.length),O=0,E=n?f(t,w):c?f(t,0):void 0;w>O;O++)if((p||O in b)&&(g=y(m=b[O],O,v),e))if(n)E[O]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return O;case 2:E.push(m)}else if(u)return!1;return d?-1:l||u?u:E}}},function(e,t,n){var r=n(5);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(11);e.exports=function(e){return Object(r(e))}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(30);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(1),o=n(31),i=n(6)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(5);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(0),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){"use strict";var r=n(4);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){n(35),e.exports=n(2).String.endsWith},function(e,t,n){"use strict";var r=n(7),o=n(12),i=n(36),a="".endsWith;r(r.P+r.F*n(38)("endsWith"),"String",{endsWith:function(e){var t=i(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=o(t.length),s=void 0===n?r:Math.min(o(n),r),c=String(e);return a?a.call(t,c,s):t.slice(s-c.length,s)===c}})},function(e,t,n){var r=n(37),o=n(11);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},function(e,t,n){var r=n(1),o=n(5),i=n(6)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(6)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}}])},eO4U:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StopWordsTokenizer=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("STSs");t.StopWordsTokenizer=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._tokenizer=t}return r(e,[{key:"tokenize",value:function(e){return this._tokenizer.tokenize(e).filter(function(e){return!o.StopWordsMap[e]})}}]),e}()},eOH9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sizes=void 0;t.sizes={small:"16px",medium:"24px",large:"32px",xlarge:"48px"}},"eQE/":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=1e3},"eQJ+":function(e,t,n){"use strict";n.d(t,"b",function(){return v});var r=n("mrSG"),o=n("q1tI"),i=n("JRPe"),a=n("uR0y"),s=n.n(a),c=n("5oxn"),l=n("7UM5"),u=n("hksT"),d=n("AaNc"),p=n("RuAs"),f=n("x9Zv"),h=n("H4Ui"),m=n("ggOI"),g=n("hkcA"),v=Object(i.e)({underline:{id:"fabric.editor.underline",defaultMessage:"Underline",description:"Whether the text selection has underlined text"},strike:{id:"fabric.editor.strike",defaultMessage:"Strikethrough",description:"Whether the text selection has crossed out text"},code:{id:"fabric.editor.code",defaultMessage:"Code",description:"Whether the text selection has monospaced/code font"},subscript:{id:"fabric.editor.subscript",defaultMessage:"Subscript",description:"Whether the text selection is written below the line in a slightly smaller size"},superscript:{id:"fabric.editor.superscript",defaultMessage:"Superscript",description:"Whether the text selection is written above the line in a slightly smaller size"},clearFormatting:{id:"fabric.editor.clearFormatting",defaultMessage:"Clear formatting",description:"Remove all rich text formatting from the selected text"},moreFormatting:{id:"fabric.editor.moreFormatting",defaultMessage:"More formatting",description:"Clicking this will show a menu with additional formatting options"}}),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isOpen:!1},t.onOpenChange=function(e){t.setState({isOpen:e.isOpen})},t.handleTriggerClick=function(){t.onOpenChange({isOpen:!t.state.isOpen})},t.createItems=function(){var e=t.props,n=e.textFormattingState,r=e.clearFormattingState,o=e.editorView,i=e.intl.formatMessage,a=o.state.schema.marks,s=a.code,c=a.underline,l=a.subsup,d=a.strike,p=[];if(n){var f=n.underlineHidden,h=n.codeHidden,m=n.strikeHidden,g=n.subscriptHidden,b=n.superscriptHidden;!f&&c&&t.addRecordToItems(p,i(v.underline),"underline",Object(u.S)(u.R)),!m&&d&&t.addRecordToItems(p,i(v.strike),"strike",Object(u.S)(u.P)),!h&&s&&t.addRecordToItems(p,i(v.code),"code",Object(u.S)(u.M)),!g&&l&&t.addRecordToItems(p,i(v.subscript),"subscript"),!b&&l&&t.addRecordToItems(p,i(v.superscript),"superscript")}return r&&t.addRecordToItems(p,i(v.clearFormatting),"clearFormatting",Object(u.S)(u.i),!r.formattingIsPresent),[{items:p}]},t.addRecordToItems=function(e,n,r,i,a){var s=!1,c=!1;t.props.textFormattingState&&(s=t.props.textFormattingState[r+"Active"]||!1,c=a||t.props.textFormattingState[r+"Disabled"]||!1),e.push({key:r,content:n,elemAfter:o.createElement(f.g,null,i),value:r,isActive:s,isDisabled:c})},t.onItemActivated=function(e){var n=e.item;l.a.trackEvent("atlassian.editor.format."+n.value+".button");var r=t.props.editorView,o=r.state,i=r.dispatch;switch(n.value){case"underline":h.j({inputMethod:g.e.TOOLBAR})(o,i);break;case"code":h.d({inputMethod:g.e.TOOLBAR})(o,i);break;case"strike":h.f({inputMethod:g.e.TOOLBAR})(o,i);break;case"subscript":h.h()(o,i);break;case"superscript":h.i()(o,i);break;case"clearFormatting":Object(m.c)(g.e.TOOLBAR)(o,i)}t.setState({isOpen:!1})},t}return r.__extends(t,e),t.prototype.render=function(){var e=this,t=this.state.isOpen,n=this.props,r=n.popupsMountPoint,i=n.popupsBoundariesElement,a=n.popupsScrollableElement,l=n.isReducedSpacing,u=n.textFormattingState,h=void 0===u?{}:u,m=n.clearFormattingState,g=void 0===m?{}:m,b=n.intl.formatMessage,y=h.codeActive,w=h.underlineActive,O=h.strikeActive,E=h.subscriptActive,x=h.superscriptActive,k=h.codeDisabled,C=h.underlineDisabled,S=h.strikeDisabled,j=h.subscriptDisabled,T=h.superscriptDisabled,M=g.formattingIsPresent,_=this.createItems(),I=b(v.moreFormatting),P=function(n){return o.createElement(d.a,{spacing:l?"none":"default",selected:t||w||y||O||E||x,disabled:n,onClick:e.handleTriggerClick,title:I,iconBefore:o.createElement(f.h,null,o.createElement(s.a,{label:I}))})};return this.props.isDisabled||S&&!M&&k&&j&&T&&C||!(_[0].items.length>0)?o.createElement(f.i,null,o.createElement("div",null,P(!0)),o.createElement(f.f,null)):o.createElement(f.i,null,o.createElement(p.a,{items:_,onItemActivated:this.onItemActivated,onOpenChange:this.onOpenChange,mountTo:r,boundariesElement:i,scrollableElement:a,isOpen:t,zIndex:c.p,fitHeight:188,fitWidth:136},P(!1)),o.createElement(f.f,null))},t}(o.PureComponent);t.a=Object(i.f)(b)},eQiX:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){switch(e.userLevel){case"read":return"read"===e.requiredLevel;case"write":return["read","write"].includes(e.requiredLevel);case"admin":return!0;default:return!1}}},"eV/v":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("mrSG"),o=n("q1tI"),i=n("b/sn"),a=n("G7hI"),s=function(){function e(e,t,n,r,o,i,a,s){void 0===o&&(o={}),void 0===a&&(a=!1);var c=this;this.reactComponentProps={},this.handleRef=function(e){return c._handleRef(e)},this.node=e,this.view=t,this.getPos=n,this.portalProviderAPI=r,this.reactComponentProps=o,this.reactComponent=i,this.hasContext=a,this._viewShouldUpdate=s}return e.prototype.init=function(){var e=this;this.domRef=this.createDomRef(),this.setDomAttrs(this.node,this.domRef);var t=this.getContentDOM()||{dom:void 0,contentDOM:void 0},n=t.dom,r=t.contentDOM;return this.domRef&&n&&(this.domRef.appendChild(n),this.contentDOM=r||n,this.contentDOMWrapper=n||r),this.domRef.classList.add(this.node.type.name+"View-content-wrap"),this.renderReactComponent(function(){return e.render(e.reactComponentProps,e.handleRef)}),this},e.prototype.renderReactComponent=function(e){this.domRef&&e&&this.portalProviderAPI.render(e,this.domRef,this.hasContext)},e.prototype.createDomRef=function(){return this.node.isInline?document.createElement("span"):document.createElement("div")},e.prototype.getContentDOM=function(){},e.prototype._handleRef=function(e){var t=this.contentDOMWrapper||this.contentDOM;e&&t&&!e.contains(t)&&e.appendChild(t)},e.prototype.render=function(e,t){return this.reactComponent?o.createElement(this.reactComponent,r.__assign({view:this.view,getPos:this.getPos,node:this.node,forwardRef:t},e)):null},e.prototype.update=function(e,t,n){var r=this;return void 0===n&&(n=function(){return!0}),!(this.node.type!==e.type||!n(this.node,e))&&(this.domRef&&!this.node.sameMarkup(e)&&this.setDomAttrs(e,this.domRef),this.viewShouldUpdate(e)?(this.node=e,this.renderReactComponent(function(){return r.render(r.reactComponentProps,r.handleRef)}),!0):(this.node=e,!0))},e.prototype.viewShouldUpdate=function(e){return!this._viewShouldUpdate||this._viewShouldUpdate(e)},e.prototype.setDomAttrs=function(e,t){Object.keys(e.attrs||{}).forEach(function(n){t.setAttribute(n,e.attrs[n])})},Object.defineProperty(e.prototype,"dom",{get:function(){return this.domRef},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.domRef&&(this.portalProviderAPI.remove(this.domRef),this.domRef=void 0,this.contentDOM=void 0)},e.fromComponent=function(t,n,r,o){return function(i,a,s){return new e(i,a,s,n,r,t,!1,o).init()}},e}();t.b=s;var c=function(e){function t(t,n,r,o,i,s,c,l){void 0===i&&(i={}),void 0===c&&(c=!1);var u=e.call(this,t,n,r,o,i,s,c,l)||this;return u.isSelectionInsideNode=function(e,t,n,r){return n="number"!=typeof n?u.pos:n,r="number"!=typeof r?u.posEnd:r,"number"==typeof n&&"number"==typeof r&&(n<e&&t<r)},u.insideSelection=function(){var e=u.view.state.selection,t=e.from,n=e.to;return u.isSelectionInsideNode(t,n)},u.onSelectionChange=function(){u.update(u.node,[])},u.updatePos(),u.oldSelection=n.state.selection,u.selectionChangeState=a.b.getState(u.view.state),u.selectionChangeState.subscribe(u.onSelectionChange),u}return r.__extends(t,e),t.prototype.updatePos=function(){this.pos=this.getPos(),this.posEnd=this.pos+this.node.nodeSize},t.prototype.viewShouldUpdate=function(e){var t=this.view.state.selection,n=this.oldSelection;this.oldSelection=t;var r=this.pos,o=this.posEnd;this.updatePos();var a=t.from,s=t.to,c=n.from,l=n.to;if(this.node.type.spec.selectable){var u=t instanceof i.NodeSelection&&t.from===this.pos,d=n instanceof i.NodeSelection&&n.from===this.pos;if(u&&!d||d&&!u)return!0}var p=this.isSelectionInsideNode(a,s)&&!this.isSelectionInsideNode(c,l),f=!this.isSelectionInsideNode(a,s)&&this.isSelectionInsideNode(c,l),h=this.isSelectionInsideNode(a,s,r,o)&&!this.isSelectionInsideNode(a,s);return!!(p||f||h)},t.prototype.destroy=function(){this.selectionChangeState.unsubscribe(this.onSelectionChange),e.prototype.destroy.call(this)},t}(s)},enCP:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("mrSG"),o=n("q1tI"),i=n("8Wc3"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return o.createElement(i.a,Object(r.__assign)({withoutBackground:!0},this.props),this.props.link)},t}(o.PureComponent)},eodI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("uSMm"),o=n("byeC"),i=["ol",0],a=["ul",0],s=["li",0],c={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:function(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1}}}],toDOM:function(e){return 1==e.attrs.order?i:["ol",{start:e.attrs.order},0]}},l={parseDOM:[{tag:"ul"}],toDOM:function(){return a}},u={parseDOM:[{tag:"li"}],toDOM:function(){return s},defining:!0};function d(e,t){var n={};for(var r in e)n[r]=e[r];for(var o in t)n[o]=t[o];return n}t.orderedList=c,t.bulletList=l,t.listItem=u,t.addListNodes=function(e,t,n){return e.append({ordered_list:d(c,{content:"list_item+",group:n}),bullet_list:d(l,{content:"list_item+",group:n}),list_item:d(u,{content:t})})},t.wrapInList=function(e,t){return function(n,i){var a=n.selection,s=a.$from,c=a.$to,l=s.blockRange(c),u=!1,d=l;if(!l)return!1;if(l.depth>=2&&s.node(l.depth-1).type.compatibleContent(e)&&0==l.startIndex){if(0==s.index(l.depth-1))return!1;var p=n.doc.resolve(l.start-2);d=new o.NodeRange(p,p,l.depth),l.endIndex<l.parent.childCount&&(l=new o.NodeRange(s,n.doc.resolve(c.end(l.depth)),l.depth)),u=!0}var f=r.findWrapping(d,e,t,l);return!!f&&(i&&i(function(e,t,n,i,a){for(var s=o.Fragment.empty,c=n.length-1;c>=0;c--)s=o.Fragment.from(n[c].type.create(n[c].attrs,s));e.step(new r.ReplaceAroundStep(t.start-(i?2:0),t.end,t.start,t.end,new o.Slice(s,0,0),n.length,!0));for(var l=0,u=0;u<n.length;u++)n[u].type==a&&(l=u+1);for(var d=n.length-l,p=t.start+n.length-(i?2:0),f=t.parent,h=t.startIndex,m=t.endIndex,g=!0;h<m;h++,g=!1)!g&&r.canSplit(e.doc,p,d)&&(e.split(p,d),p+=2*d),p+=f.child(h).nodeSize;return e}(n.tr,l,f,u,e).scrollIntoView()),!0)}},t.splitListItem=function(e){return function(t,n){var i=t.selection,a=i.$from,s=i.$to,c=i.node;if(c&&c.isBlock||a.depth<2||!a.sameParent(s))return!1;var l=a.node(-1);if(l.type!=e)return!1;if(0==a.parent.content.size){if(2==a.depth||a.node(-3).type!=e||a.index(-2)!=a.node(-2).childCount-1)return!1;if(n){for(var u=o.Fragment.empty,d=a.index(-1)>0,p=a.depth-(d?1:2);p>=a.depth-3;p--)u=o.Fragment.from(a.node(p).copy(u));u=u.append(o.Fragment.from(e.createAndFill()));var f=t.tr.replace(a.before(d?null:-1),a.after(-3),new o.Slice(u,d?3:2,2));f.setSelection(t.selection.constructor.near(f.doc.resolve(a.pos+(d?3:2)))),n(f.scrollIntoView())}return!0}var h=s.pos==a.end()?l.contentMatchAt(a.indexAfter(-1)).defaultType:null,m=t.tr.delete(a.pos,s.pos),g=h&&[null,{type:h}];return!!r.canSplit(m.doc,a.pos,2,g)&&(n&&n(m.split(a.pos,2,g).scrollIntoView()),!0)}},t.liftListItem=function(e){return function(t,n){var i=t.selection,a=i.$from,s=i.$to,c=a.blockRange(s,function(t){return t.childCount&&t.firstChild.type==e});return!!c&&(!n||(a.node(c.depth-1).type==e?function(e,t,n,i){var a=e.tr,s=i.end,c=i.$to.end(i.depth);return s<c&&(a.step(new r.ReplaceAroundStep(s-1,c,s,c,new o.Slice(o.Fragment.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new o.NodeRange(a.doc.resolve(i.$from.pos),a.doc.resolve(c),i.depth)),t(a.lift(i,r.liftTarget(i)).scrollIntoView()),!0}(t,n,e,c):function(e,t,n){for(var i=e.tr,a=n.parent,s=n.end,c=n.endIndex-1,l=n.startIndex;c>l;c--)s-=a.child(c).nodeSize,i.delete(s-1,s+1);var u=i.doc.resolve(n.start),d=u.nodeAfter,p=0==n.startIndex,f=n.endIndex==a.childCount,h=u.node(-1),m=u.index(-1);if(!h.canReplace(m+(p?0:1),m+1,d.content.append(f?o.Fragment.empty:o.Fragment.from(a))))return!1;var g=u.pos,v=g+d.nodeSize;return i.step(new r.ReplaceAroundStep(g-(p?1:0),v+(f?1:0),g+1,v-1,new o.Slice((p?o.Fragment.empty:o.Fragment.from(a.copy(o.Fragment.empty))).append(f?o.Fragment.empty:o.Fragment.from(a.copy(o.Fragment.empty))),p?0:1,f?0:1),p?0:1)),t(i.scrollIntoView()),!0}(t,n,c)))}},t.sinkListItem=function(e){return function(t,n){var i=t.selection,a=i.$from,s=i.$to,c=a.blockRange(s,function(t){return t.childCount&&t.firstChild.type==e});if(!c)return!1;var l=c.startIndex;if(0==l)return!1;var u=c.parent,d=u.child(l-1);if(d.type!=e)return!1;if(n){var p=d.lastChild&&d.lastChild.type==u.type,f=o.Fragment.from(p?e.create():null),h=new o.Slice(o.Fragment.from(e.create(null,o.Fragment.from(u.type.create(null,f)))),p?3:1,0),m=c.start,g=c.end;n(t.tr.step(new r.ReplaceAroundStep(m-(p?3:1),g,m,g,h,1,!0)).scrollIntoView())}return!0}}},fF1e:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n("35Wn"),i=n("hgAg");t.takeUntil=function(e){return function(t){return t.lift(new a(e))}};var a=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.notifier))},e}(),s=function(e){function t(t,n){e.call(this,t),this.notifier=n,this.add(i.subscribeToResult(this,n))}return r(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.complete()},t.prototype.notifyComplete=function(){},t}(o.OuterSubscriber)},fVm0:function(e,t,n){"use strict";n.d(t,"e",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"a",function(){return f}),n.d(t,"c",function(){return h});var r=n("mG1W"),o=n("9N/3"),i=n("mIQt"),a=n("SdOD"),s=n("COqE"),c=["paragraph","bulletList","orderedList","listItem","taskItem","decisionItem","heading","blockquote"],l=function(e,t){for(var n=0;e&&1===e.nodeType;){var r=window.getComputedStyle(e),o=parseInt(r["margin-"+t],10);o>n&&(n=o),e=e["top"===t?"firstChild":"lastChild"]}return n},u=function(e){return!!e&&!function(e){return!!e&&-1!==c.indexOf(e.type.name)}(e)};function d(e,t,n,r){void 0===r&&(r=-1);var o=t,i=null,a=n.nodes,s=a.mediaSingle,c=a.media,l=a.mediaGroup;do{if(!(o=e.resolve(-1===r?o.before():o.after())))return null;if(!(i=(-1===r?o.nodeBefore:o.nodeAfter)||o.parent)||i.type===n.nodes.doc)return null;if(i.type===s||i.type===c||i.type===l)return i}while(o.depth>0);return null}var p=function(e,t,n,r){for(var o=n,i=null;o.depth>0;){if(!(o=e.resolve(-1===r?o.before():o.after())))return!1;if(!(i=(-1===r?o.nodeBefore:o.nodeAfter)||o.parent)||i.type===t.nodes.doc)return!1;if(i.isTextblock)return!0}for(var a=i;a&&a.firstChild;)if((a=a.firstChild)&&a.isTextblock)return!0;return!1};var f=function(e){var t=e.state,n=t.selection,i=t.schema,s=e.domAtPos,c=n,u=c.side,d=c.$from,p=u===o.c.LEFT?d.nodeAfter:d.nodeBefore;if(p){var f=u===o.c.LEFT?d.pos+1:Object(r.findPositionOfNodeBefore)(n);if(void 0!==f){var h=Object(r.findDomRefAtPos)(f,s.bind(e)),m=e.dom.querySelector(".ProseMirror-gapcursor span");if(m){var g,v=m.parentNode,b=v.previousSibling,y=function(e){if(!e)return!1;var t=e.firstChild;return!!t&&t.nodeType===Node.ELEMENT_NODE&&t.classList.contains("media-single")}(h),w=y&&/wrap-[right|left]/i.test(p.attrs.layout),O=l(b,"bottom"),E=0,x=0,k=0,C=0,S=0;do{var j=!!(g=h)&&!!g&&g.nodeType===Node.ELEMENT_NODE&&-1!==g.className.indexOf("-content-wrap"),T=h.firstChild,M=window.getComputedStyle(j&&!y&&T||h),_=/td|th/i.test(h.parentNode.nodeName);if(E=parseInt(M.height,10),x=parseInt(M.width,10),x+=parseInt(M.paddingLeft,10),x+=parseInt(M.paddingRight,10),E+=parseInt(M.paddingTop,10),E+=parseInt(M.paddingBottom,10),S+=parseInt(M.paddingLeft,10),b||w||_){var I=l(h,"top");I>O&&(k=I-O),w&&(k=I)}if((j||y)&&(C=x),h.parentElement.classList.contains("ProseMirror"))break;h=h.parentNode}while(h&&!h.contains(m));E<20&&(E=20,k-=Math.round(10)-1);var P=function(e){return e.attrs.layout?e.attrs.layout:e.marks&&e.marks.length?(e.marks.find(function(e){return"breakout"===e.type.name})||{attrs:{mode:""}}).attrs.mode:""}(p),A=/full-width|wide/i.test(P);if(A&&m.setAttribute("layout",P),p.type===i.nodes.table){var N=h.querySelector("table");if(!N)return;var R=window.getComputedStyle(N),D=a.g/2;k=parseInt(R.marginTop,10),S=u===o.c.RIGHT?A?a.g:D:0,E=parseInt(R.height,10),m.style.paddingLeft=S+"px"}w&&(v.setAttribute("layout",p.attrs.layout),"wrap-right"===p.attrs.layout&&(m.style.marginLeft="-"+x+"px")),m.style.height=E+"px",m.style.marginTop=k+"px",m.style.width=(C||x)+"px"}}}},h=function(e){if("BUTTON"===e.nodeName||Object(s.j)(e,"button"))return!0;for(var t,n=e;n;){if(n.className&&(n.getAttribute("class")||"").indexOf(i.a.TABLE_CONTAINER)>-1){t=n;break}n=n.parentNode}if(t){var r=t.querySelector("."+i.a.ROW_CONTROLS_WRAPPER),o=t.querySelector("."+i.a.COLUMN_CONTROLS_WRAPPER);return r&&r.contains(e)||o&&o.contains(e)}return!1}},"fX+y":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" focusable="false" role="presentation"><path d="M6 17h12a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-8h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1zm0-4h12a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorAlignImageLeftIcon";var c=s;t.default=c},fZCP:function(e,t,n){"use strict";var r,o;n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),function(e){e.INDENT="indent",e.OUTDENT="outdent"}(r||(r={})),function(e){e.PARAGRAPH="paragraph",e.LIST="list",e.HEADING="heading",e.CODE_BLOCK="codeBlock"}(o||(o={}))},fjjN:function(e,t,n){"use strict";var r=n("MVZn"),o=n.n(r),i=n("lwsE"),a=n.n(i),s=n("W8MJ"),c=n.n(s),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),p=n.n(d),f=n("7W2i"),h=n.n(f),m=n("PJYZ"),g=n.n(m),v=n("lSNA"),b=n.n(v),y=n("q1tI"),w=n.n(y),O=n("JRPe"),E=n("7IH9"),x=n("wdl7"),k=n("Lf/l"),C=n("gxo2"),S=n("wO5I"),j=n("Kkjj"),T=Object(O.e)({mergeStrategyLabel:{id:"frontbucket.repository.mergeStrategySelect.mergeStrategyLabel",defaultMessage:"Merge strategy"}}),M=C.m.modal()+10,_=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(o))),b()(g()(g()(n)),"formatOption",function(e){return w.a.createElement(E.z.Option,e,w.a.createElement("div",null,e.data.label),w.a.createElement("div",null,e.data.description))}),b()(g()(g()(n)),"getMergeStrategies",function(){return n.props.mergeStrategies.map(function(e){return S.a[e]})}),n}return h()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.intl,n=e.isBannerOpen,r={menuPortal:function(e){return n&&(e.top-=j.a),o()({},e,{zIndex:M})}};return w.a.createElement("div",null,w.a.createElement(k.a,{label:t.formatMessage(T.mergeStrategyLabel)}),w.a.createElement(x.a,{isSearchable:!1,menuPortalTarget:document.body,isDisabled:this.props.isDisabled,options:this.getMergeStrategies(),defaultValue:this.props.defaultValue,value:this.props.value,onChange:this.props.onChange,styles:r,components:{Option:this.formatOption}}))}}]),t}(y.Component);b()(_,"defaultProps",{isDisabled:!1});t.a=Object(O.f)(_)},flnf:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("mrSG"),o=n("b/sn"),i=n("w9Yk"),a=new o.PluginKey("analyticsPlugin");t.b=function(e){return{pmPlugins:function(){return[{name:"analyticsPlugin",plugin:function(){return function(e){if(e)return new o.Plugin({key:a,state:{init:function(){return null},apply:function(t){var n,o,s=t.getMeta(a);if(s)try{for(var c=r.__values(s),l=c.next();!l.done;l=c.next()){var u=l.value,d=u.payload,p=u.channel;Object(i.b)(e)({payload:d,channel:p})}}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}}}})}(e)}}]}}}},fqLF:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r,o=n("mrSG"),i=n("vOnD"),a=Object(i.css)(r||(r=o.__makeTemplateObject(["\n  .fabric-editor-indentation-mark {\n    &[data-level='1'] {\n      margin-left: 30px;\n    }\n    &[data-level='2'] {\n      margin-left: 60px;\n    }\n    &[data-level='3'] {\n      margin-left: 90px;\n    }\n    &[data-level='4'] {\n      margin-left: 120px;\n    }\n    &[data-level='5'] {\n      margin-left: 150px;\n    }\n    &[data-level='6'] {\n      margin-left: 180px;\n    }\n  }\n"],["\n  .fabric-editor-indentation-mark {\n    &[data-level='1'] {\n      margin-left: 30px;\n    }\n    &[data-level='2'] {\n      margin-left: 60px;\n    }\n    &[data-level='3'] {\n      margin-left: 90px;\n    }\n    &[data-level='4'] {\n      margin-left: 120px;\n    }\n    &[data-level='5'] {\n      margin-left: 150px;\n    }\n    &[data-level='6'] {\n      margin-left: 180px;\n    }\n  }\n"])))},gDVc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("G3Di");Object.defineProperty(t,"SimpleTokenizer",{enumerable:!0,get:function(){return r.SimpleTokenizer}});var o=n("KlyT");Object.defineProperty(t,"StemmingTokenizer",{enumerable:!0,get:function(){return o.StemmingTokenizer}});var i=n("eO4U");Object.defineProperty(t,"StopWordsTokenizer",{enumerable:!0,get:function(){return i.StopWordsTokenizer}})},gEIt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("pkjM"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M4.998 11.513c0-3.038 3.141-5.51 7.002-5.51 3.861 0 7.002 2.472 7.002 5.51 0 3.039-3.141 5.51-7.002 5.51-3.861 0-7.002-2.471-7.002-5.51zm14.84 7.771v-.002s-1.564-2.26-.767-3.116l-.037.02C20.261 14.902 21 13.279 21 11.513 21 7.371 16.963 4 12 4s-9 3.37-9 7.513 4.037 7.514 9 7.514c1.42 0 2.76-.285 3.957-.776 1.003 1.022 2.287 1.572 3.24 1.719l.002-.003a.524.524 0 0 0 .164.033.515.515 0 0 0 .474-.716z"/><rect x="7" y="9" width="10" height="2" rx="1"/><rect x="7" y="12" width="5" height="2" rx="1"/></g></svg>'},e))};s.displayName="CommentIcon";var c=s;t.default=c},gOBv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.ExactWordIndexStrategy=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"expandToken",value:function(e){return e?[e]:[]}}]),e}()},gfz1:function(e,t,n){var r=n("yNUO"),o=n("tMf1"),i=n("RJeW"),a=6048e5;e.exports=function(e){var t=r(e),n=o(t).getTime()-i(t).getTime();return Math.round(n/a)+1}},ggOI:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return l});var r=n("uSMm"),o=n("hkcA"),i=n("w9Yk"),a=["heading","codeBlock","blockquote"],s=["em","code","strike","strong","underline","textColor","subsup"],c={em:o.c.FORMAT_ITALIC,code:o.c.FORMAT_CODE,strike:o.c.FORMAT_STRIKE,strong:o.c.FORMAT_STRONG,underline:o.c.FORMAT_UNDERLINE,textColor:o.c.FORMAT_COLOR,subsup:"subsup"};function l(e){return function(e){return function(t,n){var l=t.tr,u=[];return s.forEach(function(e){var n=l.selection,r=n.from,o=n.to,i=t.schema.marks[e];i&&t.doc.rangeHasMark(r,o,i)&&(u.push(c[e]),l.removeMark(r,o,i))}),a.forEach(function(e){var n=t.schema.nodes[e],o=l.selection,i=o.$from,a=o.$to;l.doc.nodesBetween(i.pos,a.pos,function(o,i){if(o.type===n){if(n.isTextblock)return l.setNodeMarkup(i,t.schema.nodes.paragraph),u.push(e),!1;var a=l.doc.resolve(i+1),s=l.doc.resolve(i+o.nodeSize-1),c=a.blockRange(s);if(c){var d=Object(r.liftTarget)(c);(d||0===d)&&(u.push(e),l.lift(c,d))}}return!0})}),l.setStoredMarks([]),u.length&&e&&Object(i.a)(l,{action:o.a.FORMATTED,eventType:o.d.TRACK,actionSubject:o.b.TEXT,actionSubjectId:o.c.FORMAT_CLEAR,attributes:{inputMethod:e,formattingCleared:u}}),n&&n(l),!0}}(e)}},gphJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" focusable="false" role="presentation"><path d="M6 17h12a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm4-8h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1zM6 5h12a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorAlignImageCenterIcon";var c=s;t.default=c},gytx:function(e,t,n){"use strict";var r,o,i=n("q1tI"),a=n("b/sn"),s=n("uh4H"),c=n("OrOc"),l=n("qa+B"),u=n("QL7d"),d=n("byeC"),p=function(){return function(e,t,n){var r=this;this.update=function(e){return e.type===e.type.schema.nodes.placeholder&&(r.dom=d.DOMSerializer.renderSpec(document,e.type.spec.toDOM(e)).dom,r.dom.onclick=r.handleClick,!0)},this.destroy=function(){r.dom=void 0},this.handleClick=function(e){var t=r.view.state,n=r.getPos(),o=a.TextSelection.create(t.tr.doc,n),i=o.$anchor.nodeBefore;if(i&&i.type===r.view.state.schema.nodes.placeholder&&r.view.domAtPos(n).node===e.target){document.getSelection().removeAllRanges();var s=a.TextSelection.findFrom(o.$head,-1,!0);r.view.dispatch(t.tr.setSelection(s))}else document.getSelection().removeAllRanges(),r.view.dispatch(t.tr.setSelection(o));return!0},this.view=t,this.getPos=n,this.dom=d.DOMSerializer.renderSpec(document,e.type.spec.toDOM(e)).dom,this.dom.onclick=this.handleClick}}(),f=n("mrSG"),h=n("JRPe"),m=n("L/lg"),g=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},v=function(e,t,n){return function(r){if(!e)return r;var o=function(e){return parseFloat(window.getComputedStyle(e,void 0).lineHeight||"")}(g(t)),i=function(e,t,n){var r=t.getBoundingClientRect(),o=r.left,i=r.top,a=r.height;return{left:e.left-o,right:e.right-o,top:e.top-(i-n)+t.scrollTop,bottom:a-(e.top-(i-n)-t.scrollTop)}}(n(),e,o);return{left:r.left?i.left:void 0,right:r.right?i.right:void 0,top:r.top?i.top:void 0,bottom:r.bottom?i.bottom:void 0}}},b=n("zOsC"),y=n("vOnD"),w=n("gxo2"),O=n("b0Qh"),E=n("x9Zv"),x=y.default.div(o||(o=f.__makeTemplateObject(["\n  border-radius: ","px;\n  "," display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  padding: 4px 8px;\n  background-color: ",";\n  ",";\n"],["\n  border-radius: ","px;\n  "," display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  padding: 4px 8px;\n  background-color: ",";\n  ",";\n"])),Object(w.f)(),E.j,O.colors.N0,function(e){var t=e.height;return t?Object(y.css)(r||(r=f.__makeTemplateObject(["\n          height: ","px;\n        "],["\n          height: ","px;\n        "])),t):""}),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.containerRef,n=e.children,r=e.target,o=e.offset,a=e.fitWidth,s=e.fitHeight,c=void 0===s?40:s,l=e.onPositionCalculated,u=e.popupsMountPoint,d=e.popupsBoundariesElement,p=e.className,f=e.alignX,h=e.alignY,m=e.zIndex;return r?i.createElement(b.a,{alignX:f,alignY:h,target:r,zIndex:m,mountTo:u,boundariesElement:d,offset:o,fitWidth:a,fitHeight:c,onPositionCalculated:l},i.createElement(x,{height:c,className:p,innerRef:t},n)):null},t}(i.PureComponent),C=Object(h.e)({placeholderTextPlaceholder:{id:"fabric.editor.placeholderTextPlaceholder",defaultMessage:"Add placeholder text",description:""}}),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSubmit=function(e){e?(t.props.insertPlaceholder(e),t.props.setFocusInEditor()):t.props.hidePlaceholderFloatingToolbar()},t.handleBlur=function(){t.props.hidePlaceholderFloatingToolbar()},t}return f.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.getNodeFromPos,n=e.showInsertPanelAt,r=e.editorViewDOM,o=e.popupsMountPoint,a=e.getFixedCoordinatesFromPos,s=e.popupsBoundariesElement,c=e.intl.formatMessage,l=t(n),u=function(e,t){return t?t.offsetParent:e.offsetParent}(r,o),d=v(u,l,function(){return a(n)});return i.createElement(k,{target:g(l),onPositionCalculated:d,popupsMountPoint:o,popupsBoundariesElement:s,fitHeight:32,offset:[0,12]},i.createElement(m.a,{placeholder:c(C.placeholderTextPlaceholder),onSubmit:this.handleSubmit,onBlur:this.handleBlur,autoFocus:!0,width:300}))},t}(i.Component),j=Object(h.f)(S),T=n("wmfG");n.d(t,"b",function(){return M});var M=new a.PluginKey("placeholderTextPlugin");t.a=function(e){return{nodes:function(){return[{name:"placeholder",node:s.a}]},pmPlugins:function(){return[{name:"placeholderText",plugin:function(t){return function(e,t){var n=!!t.allowInserting;return new a.Plugin({key:M,state:{init:function(){return{showInsertPanelAt:null,allowInserting:n}},apply:function(t,r){var o=t.getMeta(M);if(o&&void 0!==o.showInsertPanelAt){var i={showInsertPanelAt:o.showInsertPanelAt,allowInserting:n};return e(M,i),i}return r.showInsertPanelAt?(i={showInsertPanelAt:t.mapping.map(r.showInsertPanelAt),allowInserting:n},e(M,i),i):r}},props:{nodeViews:{placeholder:function(e,t,n){return new p(e,t,n)}}},appendTransaction:function(e,t,n){if(e.some(function(e){return e.docChanged})){var r=t.selection.$head.nodeAfter===n.selection.$head.nodeAfter,o=n.selection.$head.nodeAfter,i=n.selection.$head.pos,s=n.schema.nodes.placeholder;if(o&&o.type===s&&r&&t.selection.$head.pos<n.selection.$head.pos&&!Object(l.f)(n.selection.$head.nodeBefore)){var c=a.NodeSelection.create(n.doc,i),d=c.$from,p=c.$to;return n.tr.deleteRange(d.pos,p.pos)}}return!M.getState(t).showInsertPanelAt&&M.getState(n).showInsertPanelAt?n.tr.setSelection(new u.a(n.selection.$from)):M.getState(t).showInsertPanelAt&&!M.getState(n).showInsertPanelAt&&n.selection instanceof u.a?n.tr.setSelection(new a.TextSelection(n.selection.$from)):void 0}})}(t.dispatch,e)}}]},contentComponent:function(e){var t=e.editorView,n=e.popupsMountPoint,r=e.popupsBoundariesElement,o=function(e){return Object(T.b)(e)(t.state,t.dispatch)},a=function(){return Object(T.a)(t.state,t.dispatch)},s=function(e){return t.domAtPos(e).node},l=function(e){return t.coordsAtPos(e)},u=function(){return t.focus()};return i.createElement(c.a,{plugins:{placeholderTextState:M},render:function(e){var c=e.placeholderTextState,d=void 0===c?{}:c;return d.showInsertPanelAt?i.createElement(j,{editorViewDOM:t.dom,popupsMountPoint:n,popupsBoundariesElement:r,getFixedCoordinatesFromPos:l,getNodeFromPos:s,hidePlaceholderFloatingToolbar:a,showInsertPanelAt:d.showInsertPanelAt,insertPlaceholder:o,setFocusInEditor:u}):null}})}}}},gz8L:function(e,t,n){"use strict";var r=n("mrSG"),o=n("4c1C"),i=n("HDK4"),a=n("DVyt"),s=n("xk4V"),c=n.n(s),l=n("zgma"),u=n.n(l),d=n("dlBi"),p=n("I+Ul"),f=n("DtPt"),h=n("vWDt"),m=n("YGhV"),g=n("4KWY"),v=n.n(g),b=n("kHFy"),y=n("AIp+"),w=function(e){return new Promise(function(t,n){var r=URL.createObjectURL(e),o=new Image;o.src=r,o.onload=function(){var e={width:o.width,height:o.height};URL.revokeObjectURL(r),t(e)},o.onerror=n})};n.d(t,"a",function(){return C});var O=1e3,E=100,x=function(e,t){return t?e+"-"+t:e},k=function(e,t){var n=t.reduce(function(e,t){var n=t.id,r=t.collection;return e[x(n,r)]=t.details,e},{});return e.map(function(e){var t=e.id,r=e.collection,o=x(t,r);return n[o]})},C=function(){function e(e){var t=this;this.mediaStore=e,this.batchLoadingFunc=function(e){return Object(r.__awaiter)(t,void 0,void 0,function(){var t,n,o=this;return Object(r.__generator)(this,function(i){switch(i.label){case 0:return"__media-single-file-collection__",t=e.reduce(function(e,t){var n=t.collection||"__media-single-file-collection__",r=e[n]||[];return r.push(t.id),e[n]=r,e},{}),n=[],[4,Promise.all(Object.keys(t).map(function(e){return Object(r.__awaiter)(o,void 0,void 0,function(){var o,i,a;return Object(r.__generator)(this,function(s){switch(s.label){case 0:return o=t[e],i="__media-single-file-collection__"===e?void 0:e,[4,this.mediaStore.getItems(o,i)];case 1:return a=s.sent(),n.push.apply(n,Object(r.__spread)(a.data.items)),[2]}})})}))];case 1:return i.sent(),[2,k(e,n)]}})})},this.createDownloadFileStream=function(e,n){return o.Observable.create(function(o){return Object(r.__awaiter)(t,void 0,void 0,function(){var t,i,a=this;return Object(r.__generator)(this,function(s){return(i=function(){return Object(r.__awaiter)(a,void 0,void 0,function(){var a,s,c;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.dataloader.load({id:e,collection:n})];case 1:return(a=r.sent())?(s=Object(p.d)(e,a),o.next(s),"processing"===s.status?t=window.setTimeout(i,O):o.complete(),[3,3]):[2];case 2:return c=r.sent(),o.error(c),[3,3];case 3:return[2]}})})})(),[2,function(){window.clearTimeout(t)}]})})})},this.dataloader=new u.a(this.batchLoadingFunc,{maxBatchSize:E})}return e.prototype.getFileState=function(e,t){var n=this;return v()(e)?Object(f.b)().getOrInsert(e,function(){var r=t&&t.collectionName,o=Object(a.publishReplay)(1)(n.createDownloadFileStream(e,r));return o.connect(),o}):o.Observable.create(function(t){t.error(e+" is not a valid file id")})},e.prototype.getCurrentState=function(e,t){return Object(y.a)(this.getFileState(e,t))},e.prototype.getArtifactURL=function(e,t,n){return this.mediaStore.getArtifactURL(e,t,n)},e.prototype.getFileBinaryURL=function(e,t){return this.mediaStore.getFileBinaryURL(e,t)},e.prototype.touchFiles=function(e,t){return this.mediaStore.touchFiles({descriptors:e},{collection:t}).then(function(e){return e.data})},e.prototype.generateUploadableFileUpfrontIds=function(e){var t=c()(),n=c()(),r={fileId:t,occurrenceKey:n,collection:e};return{id:t,occurrenceKey:n,deferredUploadId:this.touchFiles([r],e).then(function(e){return e.created[0].uploadId})}},e.prototype.uploadExternal=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,o,a,s,c,l,u,d,p=this;return Object(r.__generator)(this,function(h){return n=this.generateUploadableFileUpfrontIds(t),o=n.id,a=n.occurrenceKey,s=new i.ReplaySubject(1),c=fetch(e).then(function(e){return e.blob()}).catch(function(){}),l=new Promise(function(e,t){return Object(r.__awaiter)(p,void 0,void 0,function(){var n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,c];case 1:return(n=r.sent())||t("Could not fetch the blob"),e({value:n}),[2]}})})}),u=e.split("/").pop()||"",d={status:"processing",name:u,size:0,mediaType:"unknown",mimeType:"",id:o,occurrenceKey:a,preview:l},s.next(d),Object(f.b)().set(o,s),[2,new Promise(function(e,i){return Object(r.__awaiter)(p,void 0,void 0,function(){var d,p,f,h,m,g;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,c];case 1:return(d=r.sent())?(p=d.type,f=d.size,h={content:d,mimeType:p,collection:t,name:u},m=Object(b.a)(p),s.next({status:"processing",name:u,size:f,mediaType:m,mimeType:p,id:o,occurrenceKey:a,preview:l}),this.upload(h,void 0,n),[4,w(d)]):[2,i("Could not download remote file")];case 2:return g=r.sent(),e({dimensions:g,uploadableFileUpfrontIds:n}),[2]}})})})]})})},e.prototype.upload=function(e,t,n){"string"==typeof e.content&&(e.content=function(e){for(var t=e.split(",")[1],n=atob(t),r=[],o=function(e){var t=n.slice(e,e+512),o=t.split("").map(function(e,n){return t.charCodeAt(n)}),i=new Uint8Array(o);r.push(i)},i=0;i<n.length;i+=512)o(i);return new Blob(r,{type:"image/jpeg"})}(e.content));var o=e.content,a=e.name,s=void 0===a?"":a,c=e.collection;n||(n=this.generateUploadableFileUpfrontIds(c));var l,u=n.id,d=n.occurrenceKey,p="",m=0,g=function(e){if(e.content instanceof Blob){var t=e.content.type;return Object(b.a)(t)}return"unknown"}(e),v=new i.ReplaySubject(1);o instanceof Blob&&(m=o.size,p=o.type,l={value:o});var y={name:s,size:m,mediaType:g,mimeType:p,id:u,occurrenceKey:d,preview:l},w=function(e){v.next(Object(r.__assign)(Object(r.__assign)({status:"uploading"},y),{progress:e}))},O=Object(h.a)(e,this.mediaStore,n,{onUploadFinish:function(e){if(e)return v.error(e);v.next(Object(r.__assign)({status:"processing",representations:{}},y)),v.complete()},onProgress:w}).cancel;return Object(f.b)().set(u,v),setTimeout(function(){w(0)},0),t&&t.setAbort(O),v},e.prototype.downloadBinary=function(e,t,n){return void 0===t&&(t="download"),Object(r.__awaiter)(this,void 0,void 0,function(){var o,i,a,s,c,l;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return o=!!window.MSInputMethodContext&&!!document.documentMode,i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),a="media-download-iframe",s=document.createElement("a"),(c=document.getElementById(a))||((c=document.createElement("iframe")).style.display="none",c.id=a,c.name=a,document.body.appendChild(c)),l=s,[4,this.mediaStore.getFileBinaryURL(e,n)];case 1:return l.href=r.sent(),s.download=t,s.target=o||i?"_blank":a,document.body.appendChild(s),s.click(),document.body.removeChild(s),[2]}})})},e.prototype.copyFile=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,o,a,s,c,l,u,h,g,v,b,y,w,O,E;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=e.authProvider,o=e.collection,a=e.id,s=t.authProvider,c=t.collection,l=t.replaceFileId,u=t.occurrenceKey,h=new m.a({authProvider:s}),v=d.authToOwner,[4,n({collectionName:o})];case 1:return g=v.apply(void 0,[r.sent()]),b={sourceFile:{id:a,collection:o,owner:g}},y={collection:c,replaceFileId:l,occurrenceKey:u},[4,h.copyFileWithToken(b,y)];case 2:return w=r.sent().data,O=new i.ReplaySubject(1),E=Object(p.c)({data:w}),O.next(E),Object(f.b)().set(w.id,O),[2,w]}})})},e}()},hN8D:function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"a",function(){return f}),n.d(t,"d",function(){return h});var r=n("mG1W"),o=n("5oxn"),i=n("mIQt"),a=n("tQKV"),s=n("COqE"),c=n("4K8n"),l=n("HwHA"),u=n("TKSH"),d=function(e){var t=Object(a.d)(e).tableRef;if(t){var n=t.querySelector("tr");if(n){var r=n.children,o=t.parentElement;if(o&&o.parentElement){for(var s,l,u=o.querySelectorAll("."+i.a.COLUMN_CONTROLS_BUTTON_WRAP),d=t.querySelectorAll("tr"),p=o.parentElement.querySelectorAll("."+i.a.ROW_CONTROLS_BUTTON_WRAP),f=o.parentElement.querySelectorAll(i.a.NUMBERED_COLUMN_BUTTON),h=0,g=u.length;h<g;h++)r[h]&&(u[h].style.width=(s=r[h],l=void 0,((l=s.getBoundingClientRect())?l.width:s.offsetWidth)+1+"px"));for(h=0,g=p.length;h<g;h++)d[h]&&(p[h].style.height=m(d[h])+1+"px",f.length&&(f[h].style.height=m(d[h])+1+"px"));Object(c.b)(o,t,o.parentElement.querySelector("."+i.a.TABLE_RIGHT_SHADOW))}}}},p=function(e,t){var n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100},f=function(e){var t=document.createElement("div");t.className=i.a.COLUMN_RESIZE_HANDLE,e.parentNode.appendChild(t);var n=Object(s.j)(e,"."+i.a.WITH_CONTROLS),r={height:(n?e.offsetHeight+o.A:e.offsetHeight)+"px",top:(n?e.offsetTop-o.A:e.offsetTop)+"px"};return t.style.top=r.top,t.style.height=r.height,t},h=function(e,t){var n=Object(l.c)(e).resizeHandlePos;if(null===n||!Object(u.f)(e.doc.resolve(n)))return!1;var a=e.doc.resolve(n).start(-1)-1,c=Object(r.findDomRefAtPos)(a,t),d=c.querySelector("."+i.a.COLUMN_RESIZE_HANDLE),p=c.querySelector("table");if(p&&d){var f=Object(r.findDomRefAtPos)(n,t),h=Object(s.j)(p,"."+i.a.WITH_CONTROLS);d.style.height=(h?p.offsetHeight+o.A:p.offsetHeight)+"px",d.style.left=f.offsetLeft+f.offsetWidth+"px"}};function m(e){var t=e.getBoundingClientRect();return t?t.height:e.offsetHeight}},hUWc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M13.485 11.929l2.122-2.121a1 1 0 0 0-1.415-1.415l-2.12 2.122L9.95 8.393a1 1 0 0 0-1.414 1.415l2.12 2.12-2.12 2.122a1 1 0 0 0 1.414 1.414l2.121-2.12 2.121 2.12a1 1 0 1 0 1.415-1.414l-2.122-2.121zM12 20a8 8 0 1 1 0-16 8 8 0 0 1 0 16z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorErrorIcon";var c=s;t.default=c},hkcA:function(e,t,n){"use strict";var r,o,i,a,s;n.d(t,"d",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"e",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s}),function(e){e.OPERATIONAL="operational",e.SCREEN="screen",e.TRACK="track",e.UI="ui"}(r||(r={})),function(e){e.CHANGED_FULL_WIDTH_MODE="changedFullWidthMode",e.CHANGED_LAYOUT="changedLayout",e.CHANGED_TYPE="changedType",e.CLICKED="clicked",e.DELETED="deleted",e.DISPATCHED_INVALID_TRANSACTION="dispatchedInvalidTransaction",e.FORMATTED="formatted",e.INSERTED="inserted",e.INVOKED="invoked",e.OPENED="opened",e.PASTED="pasted",e.PASTED_AS_PLAIN="pastedAsPlain",e.STARTED="started",e.STOPPED="stopped",e.SUBSTITUTED="autoSubstituted",e.VISITED="visited"}(o||(o={})),function(e){e.ASCII="ascii",e.AUTO="auto",e.AUTO_DETECT="autoDetect",e.CARD="card",e.CLIPBOARD="clipboard",e.DRAG_AND_DROP="dragAndDrop",e.EXTERNAL="external",e.FORMATTING="autoformatting",e.FLOATING_TB="floatingToolbar",e.KEYBOARD="keyboard",e.INSERT_MENU="insertMenu",e.MANUAL="manual",e.PICKER="picker",e.PICKER_CLOUD="cloudPicker",e.QUICK_INSERT="quickInsert",e.SHORTCUT="shortcut",e.TOOLBAR="toolbar",e.TYPEAHEAD="typeAhead",e.CONTEXT_MENU="contextMenu",e.BUTTON="button"}(i||(i={})),function(e){e.BUTTON="button",e.DOCUMENT="document",e.EDITOR="editor",e.LAYOUT="layout",e.MEDIA="media",e.PANEL="panel",e.PICKER="picker",e.SMART_LINK="smartLink",e.TEXT="text",e.TYPEAHEAD="typeAhead",e.TABLE="table"}(a||(a={})),function(e){e.ACTION="action",e.ANNOTATE_BUTTON="annotateButton",e.BLOCK_QUOTE="blockQuote",e.BUTTON_HELP="helpButton",e.BUTTON_FEEDBACK="feedbackButton",e.CANCEL="cancel",e.CARD_INLINE="inlineCard",e.CARD_BLOCK="blockCard",e.CODE_BLOCK="codeBlock",e.DECISION="decision",e.DIVIDER="divider",e.EMOJI="emoji",e.FORMAT_BLOCK_QUOTE="blockQuote",e.FORMAT_CODE="code",e.FORMAT_COLOR="color",e.FORMAT_CLEAR="clearFormatting",e.FORMAT_HEADING="heading",e.FORMAT_INDENT="indentation",e.FORMAT_ITALIC="italic",e.FORMAT_LIST_NUMBER="numberedList",e.FORMAT_LIST_BULLET="bulletedList",e.FORMAT_STRIKE="strike",e.FORMAT_STRONG="strong",e.FORMAT_SUB="subscript",e.FORMAT_SUPER="superscript",e.FORMAT_UNDERLINE="underline",e.LINE_BREAK="lineBreak",e.LINK="link",e.LINK_PREVIEW="linkPreview",e.MEDIA="media",e.MENTION="mention",e.PICKER_CLOUD="cloudPicker",e.PICKER_EMOJI="emojiPicker",e.PRODUCT_NAME="productName",e.PANEL="panel",e.PUNC="punctuation",e.SAVE="save",e.SECTION="section",e.SMART_LINK="smartLink",e.STATUS="status",e.SYMBOL="symbol",e.TABLE="table",e.TYPEAHEAD_EMOJI="emojiTypeAhead",e.TYPEAHEAD_LINK="linkTypeAhead",e.TYPEAHEAD_MENTION="mentionTypeAhead",e.TYPEAHEAD_QUICK_INSERT="quickInsertTypeAhead",e.PASTE_BLOCK_CARD="blockCard",e.PASTE_BLOCKQUOTE="blockquote",e.PASTE_BODIED_EXTENSION="bodiedExtension",e.PASTE_BULLET_LIST="bulletList",e.PASTE_CODE_BLOCK="codeBlock",e.PASTE_DECISION_LIST="decisionList",e.PASTE_EXTENSION="extension",e.PASTE_HEADING="heading",e.PASTE_MEDIA_GROUP="mediaGroup",e.PASTE_MEDIA_SINGLE="mediaSingle",e.PASTE_ORDERED_LIST="orderedList",e.PASTE_PANEL="panel",e.PASTE_PARAGRAPH="paragraph",e.PASTE_RULE="rule",e.PASTE_TABLE_HEADER="tableHeader",e.PASTE_TABLE_CELL="tableCell",e.PASTE_TABLE_ROW="tableRow",e.PASTE_TABLE="table",e.PASTE_TASK_LIST="taskList"}(s||(s={}))},hksT:function(e,t,n){"use strict";n.d(t,"K",function(){return o}),n.d(t,"N",function(){return i}),n.d(t,"R",function(){return a}),n.d(t,"P",function(){return s}),n.d(t,"M",function(){return c}),n.d(t,"C",function(){return l}),n.d(t,"i",function(){return u}),n.d(t,"O",function(){return v}),n.d(t,"L",function(){return b}),n.d(t,"J",function(){return y}),n.d(t,"s",function(){return w}),n.d(t,"t",function(){return x}),n.d(t,"T",function(){return k}),n.d(t,"x",function(){return C}),n.d(t,"u",function(){return S}),n.d(t,"v",function(){return j}),n.d(t,"w",function(){return T}),n.d(t,"r",function(){return M}),n.d(t,"B",function(){return _}),n.d(t,"E",function(){return I}),n.d(t,"F",function(){return P}),n.d(t,"z",function(){return A}),n.d(t,"d",function(){return N}),n.d(t,"H",function(){return R}),n.d(t,"k",function(){return D}),n.d(t,"I",function(){return L}),n.d(t,"q",function(){return z}),n.d(t,"A",function(){return B}),n.d(t,"g",function(){return F}),n.d(t,"j",function(){return q}),n.d(t,"G",function(){return W}),n.d(t,"l",function(){return U}),n.d(t,"y",function(){return H}),n.d(t,"D",function(){return V}),n.d(t,"Q",function(){return G}),n.d(t,"f",function(){return K}),n.d(t,"e",function(){return $}),n.d(t,"b",function(){return J}),n.d(t,"c",function(){return Y}),n.d(t,"S",function(){return X}),n.d(t,"n",function(){return Z}),n.d(t,"o",function(){return ee}),n.d(t,"p",function(){return te}),n.d(t,"h",function(){return ie}),n.d(t,"m",function(){return ae}),n.d(t,"a",function(){return se});var r=n("WLpT"),o=oe("Bold","Mod-b"),i=oe("Italic","Mod-i"),a=oe("Underline","Mod-u"),s=oe("Strikethrough","Mod-Shift-s"),c=oe("Code","Mod-Shift-m"),l=oe("Paste Plain Text","Mod-Shift-v"),u=oe("Clear formatting","Mod-\\"),d=re("Normal text","","Cmd-Alt-0"),p=re("Heading 1","","Cmd-Alt-1"),f=re("Heading 2","","Cmd-Alt-2"),h=re("Heading 3","","Cmd-Alt-3"),m=re("Heading 4","","Cmd-Alt-4"),g=re("Heading 5","","Cmd-Alt-5"),v=re("Numbered list","","Cmd-Shift-7"),b=re("Bullet list","","Cmd-Shift-8"),y=re("Quote","","Cmd-Alt-9"),w=oe("Insert new line","Shift-Enter"),O=(oe("Shift Backspace","Shift-Backspace"),oe("Split code block","Enter")),E=oe("Split list item","Enter"),x=oe("Insert horizontal rule","Mod-Shift--"),k=oe("Undo","Mod-z"),C=oe("Move up","ArrowUp"),S=oe("Move down","ArrowDown"),j=oe("Move left","ArrowLeft"),T=oe("Move right","ArrowRight"),M=oe("Indent List","Tab"),_=oe("Outdent List","Shift-Tab"),I=re("Redo","Ctrl-y","Cmd-Shift-z"),P=re("Redo Barred","Ctrl-Shift-z","Cmd-y"),A=oe("Open Help","Mod-/"),N=oe("Link","Mod-k"),R=oe("Submit Content","Mod-Enter"),D=oe("Enter","Enter"),L=oe("Tab","Tab"),z=oe("Indent","Tab"),B=oe("Outdent","Shift-Tab"),F=oe("Backspace","Backspace"),q=oe("Delete","Delete"),W=oe("Space","Space"),U=oe("Escape","Escape"),H=oe("Next cell","Tab"),V=oe("Previous cell","Shift-Tab"),G=oe("Table","Shift-Alt-t"),K=oe("Add Row Above","Ctrl-Alt-ArrowUp"),$=oe("Add Row Below","Ctrl-Alt-ArrowDown"),J=oe("Add Column After","Ctrl-Alt-ArrowRight"),Y=oe("Add Column Before","Ctrl-Alt-ArrowLeft"),Q=(oe("Cut","Mod-x"),oe("Copy","Mod-c"),oe("Paste","Mod-v"),oe("Paste","Mod-Shift-v"),{ARROWLEFT:"",ARROWRIGHT:"",ARROWUP:"",ARROWDOWN:""});function X(e,t){if(e){var n=void 0,o=(n=r.a.mac?e.mac.replace(/Cmd/i,"").replace(/Shift/i,"").replace(/Ctrl/i,"").replace(/Alt/i,""):e.windows).split("-"),i=o[o.length-1].toUpperCase();return o[o.length-1]=Q[i]||i,n=o.join(r.a.mac?"":"+"),t?t+" "+n:n}}function Z(e){return ne.filter(function(t){return t.description.toUpperCase()===e.toUpperCase()})[0]}function ee(e){var t=Z(e);if(t)return te(t)}function te(e){return r.a.mac?e.mac:e.windows}var ne=[v,b,o,i,a,s,c,d,p,f,h,m,g,y,w,x,O,E,I,k];function re(e,t,n,r){return{description:e,windows:t,mac:n,common:r}}function oe(e,t){return re(e,t.replace(/Mod/i,"Ctrl"),t.replace(/Mod/i,"Cmd"),t)}function ie(e,t,n){var r=n[e],o=t;n[e]&&(o=function(e,n,o){return r(e,n)||t(e,n,o)}),n[e]=o}function ae(e){if(e)return r.a.mac?e.mac:e.windows}var se=37},hwUQ:function(e,t,n){"use strict";var r=n("pVnL"),o=n.n(r),i=n("QILm"),a=n.n(i),s=n("lwsE"),c=n.n(s),l=n("W8MJ"),u=n.n(l),d=n("a1gu"),p=n.n(d),f=n("Nsbk"),h=n.n(f),m=n("7W2i"),g=n.n(m),v=n("lSNA"),b=n.n(v),y=n("q1tI"),w=n.n(y),O=n("/MKj"),E=n("fVoa"),x=n("eRoQ"),k=n("8Shu"),C=function(e){function t(){return c()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.isProfileCardEnabled,n=e.isWorkspaceUiEnabled,r=e.profileCardPosition,i=e.profileCardTrigger,s=e.user,c=a()(e,["isProfileCardEnabled","isWorkspaceUiEnabled","profileCardPosition","profileCardTrigger","user"]);if(!s)return w.a.createElement(E.a,o()({},c,{isProfileCardEnabled:t,profileCardPosition:r,profileCardTrigger:i}));var l=n?void 0:Object(E.l)(s);return t&&"team"!==s.type?w.a.createElement(E.f,o()({href:l||void 0},c,{profileCardPosition:r,profileCardTrigger:i,profileClient:k.b,profileUrl:l,user:s})):w.a.createElement(E.f,o()({href:l||void 0},c,{user:s}))}}]),t}(y.PureComponent);b()(C,"defaultProps",{profileCardTrigger:"hover"});t.a=Object(O.c)(function(e,t){return{isProfileCardEnabled:!1!==t.isProfileCardEnabled&&!!e.global.features["user-profile-cards"],isWorkspaceUiEnabled:Object(x.ab)(e)}})(C)},iExR:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r,o=n("mrSG"),i=n("vOnD"),a=n("R30j"),s=n("RRdR"),c=Object(i.css)(r||(r=o.__makeTemplateObject(["\n  /* =============== INDENTATION SPACING ========= */\n\n  ul,\n  ol {\n    box-sizing: border-box;\n    padding-left: 24px;\n  }\n\n  ",", "," {\n    /*\n      Ensures list item content adheres to the list's margin instead\n      of filling the entire block row. This is important to allow\n      clicking interactive elements which are floated next to a list.\n    */\n    overflow: hidden;\n  }\n\n  /* =============== INDENTATION AESTHETICS ========= */\n\n  /**\n        We support nested lists up to six levels deep.\n    **/\n\n  ul,\n  ul ul ul ul {\n    list-style-type: disc;\n  }\n\n  ul ul,\n  ul ul ul ul ul {\n    list-style-type: circle;\n  }\n\n  ul ul ul,\n  ul ul ul ul ul ul {\n    list-style-type: square;\n  }\n\n  ol,\n  ol ol ol ol {\n    list-style-type: decimal;\n  }\n  ol ol,\n  ol ol ol ol ol {\n    list-style-type: lower-alpha;\n  }\n  ol ol ol,\n  ol ol ol ol ol ol {\n    list-style-type: lower-roman;\n  }\n"],["\n  /* =============== INDENTATION SPACING ========= */\n\n  ul,\n  ol {\n    box-sizing: border-box;\n    padding-left: 24px;\n  }\n\n  ",", "," {\n    /*\n      Ensures list item content adheres to the list's margin instead\n      of filling the entire block row. This is important to allow\n      clicking interactive elements which are floated next to a list.\n    */\n    overflow: hidden;\n  }\n\n  /* =============== INDENTATION AESTHETICS ========= */\n\n  /**\n        We support nested lists up to six levels deep.\n    **/\n\n  ul,\n  ul ul ul ul {\n    list-style-type: disc;\n  }\n\n  ul ul,\n  ul ul ul ul ul {\n    list-style-type: circle;\n  }\n\n  ul ul ul,\n  ul ul ul ul ul ul {\n    list-style-type: square;\n  }\n\n  ol,\n  ol ol ol ol {\n    list-style-type: decimal;\n  }\n  ol ol,\n  ol ol ol ol ol {\n    list-style-type: lower-alpha;\n  }\n  ol ol ol,\n  ol ol ol ol ol ol {\n    list-style-type: lower-roman;\n  }\n"])),a.b,s.b)},iLuq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.UnorderedSearchIndex=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._tokenToUidToDocumentMap={}}return o(e,[{key:"indexDocument",value:function(e,t,n){"object"!==r(this._tokenToUidToDocumentMap[e])&&(this._tokenToUidToDocumentMap[e]={}),this._tokenToUidToDocumentMap[e][t]=n}},{key:"search",value:function(e,t){for(var n={},o=this._tokenToUidToDocumentMap,i=0,a=e.length;i<a;i++){var s=o[e[i]];if(!s)return[];if(0===i)for(var c=0,l=(d=Object.keys(s)).length;c<l;c++){n[u=d[c]]=s[u]}else for(c=0,l=(d=Object.keys(n)).length;c<l;c++){var u=d[c];"object"!==r(s[u])&&delete n[u]}}var d,p=[];for(i=0,l=(d=Object.keys(n)).length;i<l;i++){u=d[i];p.push(n[u])}return p}}]),e}()},iS3C:function(e,t,n){"use strict";var r=n("mrSG"),o=n("QatU"),i=n("8FmZ"),a=new Set(Object.keys(i).filter(function(e){return i[e]&&"inline"===i[e].group})),s=n("vN5M"),c=n("hRjf");n.d(t,"a",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return x});var l=["link","em","strong","textColor","strike","subsup","underline","code","confluenceInlineComment","annotation"],u=function(e){return r.__spread(e).sort(function(e,t){return l.indexOf(e.type.name)-l.indexOf(t.type.name)})},d=function(e,t){return!(!e||!t)&&e.eq(t)},p=function(e,t,n){void 0===t&&(t=o.a),void 0===n&&(n="final");var r=x(e,t,n);return"doc"===r.type?(r.content=f(r.content),r):null},f=function(e){return void 0===e&&(e=[]),e.map(function(e){return a.has(e.type)?{type:"paragraph",content:[e]}:e})},h=/^#[0-9a-f]{6}$/i,m=/^\//,g=function(e,t,n){void 0===t&&(t=o.a),void 0===n&&(n="final");for(var i=[],a=!1,s=0;s<e.content.length;s++){var c=e.content[s],l=!(c.content&&c.content.length);s>0&&(a?i.push({type:"text",text:" "}):i.push({type:"hardBreak"})),l?i.push(x(c,t,n)):i.push.apply(i,r.__spread(g(c,t,n))),a=l}return i},v=function(e){return null!==e&&"object"==typeof e},b=function(e){return"string"==typeof e},y=function(e){return Object.keys(e).length},w=function(e){return v(e)&&2===y(e)&&b(e.url)&&b(e.label)},O=function(e){var t=y(e);return v(e)&&t<=2&&w(e.icon)&&(1===t||b(e.id))},E=function(e){var t=e.attrs,n=void 0===t?{}:t,r=e.content,o=e.text,i=e.type;if(!r||!r.length){var a={type:"text",text:o||n.text||"["+i+"]"},c=n.textUrl;return c&&Object(s.a)(c)&&(a.marks=[{type:"link",attrs:{href:c}}]),a}return{type:"unknownBlock",content:g(e)}},x=function(e,t,n){void 0===t&&(t=o.a),void 0===n&&(n="final");var r,i,a=e.attrs,s=e.marks,l=e.text,u=e.type,d=e.content,p={attrs:a,marks:s,text:l,type:u};if(d&&(p.content=d=function(e,t,n){return void 0===t&&(t=o.a),void 0===n&&(n="final"),e.map(function(e){return x(e,t,n)})}(d,t,n)),!t.nodes[u])return E(p);if(u)switch(u){case"applicationCard":if(!a)break;var h=a.text,m=a.link,g=a.background,y=a.preview,C=a.title,S=a.description,j=a.details,T=a.actions,M=a.context;if(!b(h)||!v(C)||!C.text)break;var _=Object.keys(C);if(_.length>2)break;if(2===_.length&&!C.user)break;if(C.user&&!O(C.user))break;if(m&&!m.url||g&&!g.url||y&&!y.url||S&&!S.text)break;if(M&&!b(M.text))break;if(M&&M.icon&&!w(M.icon))break;if(T&&!Array.isArray(T))break;if(T&&!T.length)break;if(T&&T.some(function(e){var t=e.key,n=e.title,r=e.target,o=e.parameters;return!(!t||b(t))||(!b(n)||(!r||(!b(r.key)||(!(!r.receiver||b(r.receiver))||(!(!o||v(o))||void 0)))))}))break;if(j&&!Array.isArray(j))break;if(j&&j.some(function(e){var t=e.badge,n=e.lozenge,r=e.users;return!(!t||"number"==typeof t.value)||(!(!n||n.text)||(!(!r||Array.isArray(r))||(!(!r||r.every(O))||void 0)))}))break;return{type:u,text:h,attrs:a};case"doc":if(e.version&&d&&d.length)return{type:u,content:d};break;case"codeBlock":return d&&(d=d.reduce(function(e,t){return"text"===t.type&&e.push({type:t.type,text:t.text}),e},[])),a&&a.language?{type:u,attrs:a,content:d,marks:s}:{type:u,content:d,marks:s};case"date":if(a&&a.timestamp)return{type:u,attrs:a};break;case"status":if(a&&a.text&&a.color)return{type:u,attrs:a};break;case"emoji":if(a&&a.shortName)return{type:u,attrs:a};break;case"inlineExtension":case"extension":if(a&&a.extensionType&&a.extensionKey)return{type:u,attrs:a};break;case"inlineCard":case"blockCard":if(a&&(a.url||a.data))return{type:u,attrs:a};break;case"bodiedExtension":if(a&&a.extensionType&&a.extensionKey&&d)return{type:u,attrs:a,content:d};break;case"hardBreak":return{type:u};case"media":var I="",P="",A=[],N="";if(a){var R=a.id,D=a.collection;I=R,P=a.type,A=D,N=a.url}if("external"===P&&N)return{type:u,attrs:{type:P,url:N,width:a.width,height:a.height}};if(I&&P){var L={type:P,id:I,collection:A};return a.width&&(L.width=a.width),a.height&&(L.height=a.height),{type:u,attrs:L}}break;case"mediaGroup":if(Array.isArray(d)&&!d.some(function(e){return"media"!==e.type}))return{type:u,content:d};break;case"mediaSingle":if(Array.isArray(d)&&1===d.length&&"media"===d[0].type)return{type:u,attrs:a,content:d,marks:s};break;case"mention":var z="",B=void 0,F=void 0;if(a){var q=a.text,W=a.displayName;z=q||W,B=R=a.id,F=a.accessLevel}if(z||(z=l||"@unknown"),z&&B){var U={type:u,attrs:{id:B,text:z,accessLevel:""}};return F&&(U.attrs.accessLevel=F),U}break;case"paragraph":return s?{type:u,content:d||[],marks:s}:{type:u,content:d||[]};case"rule":return{type:u};case"text":var H=p.marks;if(l)return H&&(H=H.reduce(function(e,t){var r=k(t,n);return r&&e.push(r),e},[])),H?{type:u,text:l,marks:H}:{type:u,text:l};break;case"heading":if(a){var V=a.level;if(V&&(i=6,(r=V)>=1&&r<=i))return s?{type:u,content:d,marks:s,attrs:{level:V}}:{type:u,content:d,attrs:{level:V}}}break;case"bulletList":if(d)return{type:u,content:d};break;case"orderedList":if(d)return{type:u,content:d,attrs:{order:a&&a.order}};break;case"listItem":if(d)return{type:u,content:f(d)};break;case"blockquote":if(d)return{type:u,content:d};break;case"panel":if(a&&d){var G=a.panelType;if(["info","note","tip","success","warning","error"].indexOf(G)>-1)return{type:u,attrs:{panelType:G},content:d}}break;case"layoutSection":if(d)return{type:u,marks:s,content:d};break;case"layoutColumn":if(a&&d&&a.width>0&&a.width<=100)return{type:u,content:d,attrs:a};break;case"decisionList":return{type:u,content:d,attrs:{localId:a&&a.localId||Object(c.a)()}};case"decisionItem":return{type:u,content:d,attrs:{localId:a&&a.localId||Object(c.a)(),state:a&&a.state||"DECIDED"}};case"taskList":return{type:u,content:d,attrs:{localId:a&&a.localId||Object(c.a)()}};case"taskItem":return{type:u,content:d,attrs:{localId:a&&a.localId||Object(c.a)(),state:a&&a.state||"TODO"}};case"table":if(Array.isArray(d)&&d.length>0&&!d.some(function(e){return"tableRow"!==e.type}))return{type:u,content:d,attrs:a};break;case"tableRow":if(Array.isArray(d)&&d.length>0&&!d.some(function(e){return"tableCell"!==e.type&&"tableHeader"!==e.type}))return{type:u,content:d};break;case"tableCell":case"tableHeader":if(d){var K={};return a&&(a.colspan&&a.colspan>1&&(K.colspan=a.colspan),a.rowspan&&a.rowspan>1&&(K.rowspan=a.rowspan),a.background&&(K.background=a.background),a.colwidth&&Array.isArray(a.colwidth)&&(K.colwidth=a.colwidth)),{type:u,content:f(d),attrs:a?K:void 0}}break;case"image":if(a&&a.src)return{type:u,attrs:a};break;case"placeholder":if(a&&void 0!==a.text)return{type:u,attrs:a}}return E(p)},k=function(e,t){void 0===t&&(t="final");var n=e.attrs,r=e.type;if(r)switch(r){case"action":if(n&&n.target&&n.target.key)return{type:r,attrs:n};break;case"code":case"em":return{type:r};case"link":if(n){var o=n.href,i=n.url,a=n.__confluenceMetadata,c=o||i;c&&-1===c.indexOf(":")&&!m.test(c)&&(c="http://"+c);var l={href:c};if(a&&(l.__confluenceMetadata=a),c&&Object(s.a)(c))return{type:r,attrs:l}}break;case"strike":case"strong":return{type:r};case"subsup":if(n&&n.type){var u=n.type;if(function(e){return"sub"===e||"sup"===e}(u))return{type:r,attrs:{type:u}}}break;case"textColor":if(n&&h.test(n.color))return{type:r,attrs:n};break;case"underline":return{type:r}}if("stage0"===t)switch(r){case"confluenceInlineComment":case"annotation":return{type:r,attrs:n}}return null}},iVaR:function(e,t,n){"use strict";n.d(t,"d",function(){return p}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return h}),n.d(t,"e",function(){return g}),n.d(t,"a",function(){return v});var r=n("mrSG"),o=n("byeC"),i=n("COqE"),a=n("qa+B"),s=n("9oG3"),c=n("mG1W"),l=n("s7yy");function u(e){return Object(i.c)(e)&&!Object(i.i)(e.selection,e.doc,a.e)}function d(e){return function(t,n){var r=t.tr,i=t.schema.nodes.paragraph,a=0;return u(t)&&(e.push(i.create()),a=1),r.replaceSelection(new o.Slice(o.Fragment.from(e),0,a)),n&&n(r),!0}}var p=function(e,t){return!!e.nodes.mediaSingle&&Object(i.u)(t)},f=function(e,t){var n=e.state,r=e.dispatch,o=n.schema.nodes,a=o.mediaSingle,s=o.media;return!!a&&(!(t.type!==s||!Object(i.u)(t.attrs.__fileMimeType)&&"external"!==t.attrs.type)&&d([a.create({},t)])(n,r))},h=function(e,t,n){if(void 0===n)return!1;var r=e.state,i=e.dispatch,a=r.selection.$from.node(-1),s=m(r.schema,n)(t);return a&&a.type.validContent(o.Fragment.from(s))?d([s])(r,i):i(Object(c.safeInsert)(u(e.state)?o.Fragment.fromArray([s,r.schema.nodes.paragraph.create()]):s)(r.tr)),!0},m=function(e,t){return function(n){var r=n.id,o=n.dimensions,i=n.scaleFactor,a=void 0===i?1:i,c=o||{height:void 0,width:void 0},l=c.width,u=c.height,d=e.nodes,p=d.media,f=d.mediaSingle,h=p.create({id:r,type:"file",collection:t,width:l&&Math.round(l/a),height:u&&Math.round(u/a)});return Object(s.a)(n,h),f.createChecked({},h)}};function g(e,t){var n=t.nodes,r=n.mediaSingle,o=n.layoutSection,i=n.table,a=n.bulletList,s=n.orderedList;return function(t){return Object(c.hasParentNodeOfType)([o,i,a,s])(t)?Object(l.e)(e,function(e){return"mediaSingle"===e.type.name?r.createChecked({},e.content,e.marks):e}):e}}var v=function(e,t,n){void 0===n&&(n=12);var o=t.width,i=t.layout,a=["wrap-left","wrap-right","align-end","align-start"];if((!o||100===o)&&-1===["align-start","align-end","wrap-left","wrap-right"].indexOf(i)&&["align-start","align-end","wrap-left","wrap-right"].indexOf(e)>-1)o=50;else if(e!==i&&["full-width","wide"].indexOf(i)>-1)o=void 0;else if(o){var s=Math.round(o/100*n),c=s,l=["center","wide","full-width"];a.indexOf(i)>-1&&l.indexOf(e)>-1?c=2*Math.floor(c/2):l.indexOf(i)>-1&&a.indexOf(e)>-1&&(s<=1?c=2:s>=n&&(c=10)),c!==s&&(o=c/n*100)}return r.__assign({},t,{layout:e,width:o})}},iWRJ:function(e,t,n){var r=n("yNUO"),o=n("tMf1");e.exports=function(e){var t=r(e),n=t.getFullYear(),i=new Date(0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);var a=o(i),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var c=o(s);return t.getTime()>=a.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}},ipvt:function(e){e.exports={a:"@atlaskit/smart-card",b:"11.1.5"}},jDAM:function(e,t,n){"use strict";n.d(t,"f",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"i",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"g",function(){return f}),n.d(t,"e",function(){return h}),n.d(t,"h",function(){return m}),n.d(t,"a",function(){return g});var r=n("wTIg"),o=n("b0Qh"),i=n("gxo2"),a="".concat(.2,"s"),s="\n  transition: all ".concat(a," ease-out;\n"),c=Object(r.a)("section",{target:"e8f23vi0"})({name:"16agjqd",styles:"overflow:hidden;width:100%;"}),l=Object(r.a)("div",{target:"e8f23vi1"})("display:flex;min-width:64px;height:100%;width:100%;background-color:",o.colors.N20,";",function(e){return e.shouldAnimate?s:null},";outline:none;"),u=Object(r.a)("div",{target:"e8f23vi2"})("height:100%;width:100%;cursor:ew-resize;position:absolute;&::after{content:'';position:absolute;left:5px;top:0;display:table;width:2px;height:100%;}&:hover::after,&:focus::after{background-color:",o.colors.B200,";}&:active::after{background-color:",o.colors.B200,";}"),d=Object(r.a)("div",{target:"e8f23vi3"})("box-sizing:border-box;display:",function(e){return e.isVisible?"flex":"none"},";flex-direction:column;"),p=Object(r.a)("div",{target:"e8f23vi4"})("box-sizing:border-box;display:",function(e){return e.isVisible?"flex":"none"},";flex-direction:column;padding:12px;"),f=Object(r.a)("div",{target:"e8f23vi5"})("margin-right:-17px;overflow-y:scroll;padding-right:17px;&::after{content:'';display:block;height:",8*Object(i.l)(),"px;}"),h=Object(r.a)("div",{target:"e8f23vi6"})({name:"1z0at8b",styles:"margin-top:12px;text-align:center;&:empty{margin-top:0;}"}),m=Object(r.a)("div",{target:"e8f23vi7"})("position:absolute;left:-8px;top:0;height:100%;width:12px;user-select:none;z-index:",i.m.card(),";"),g=Object(r.a)("button",{target:"e8f23vi8"})("background:none;border:none;opacity:0;position:absolute;top:50%;width:",2*Object(i.l)(),"px;left:-",1.5*Object(i.l)(),"px;padding-right:",Object(i.l)(),"px;cursor:pointer;&::-moz-focus-inner{border:0;}&:focus{box-shadow:0 0 0 2px ",o.colors.B100,";outline:none;}&::before,&::after{content:'';display:block;position:relative;margin-right:0;margin-left:auto;width:2px;height:8px;background-color:",o.colors.B200,";border-radius:5px;transition:all 0.15s ease-out;transform:rotate(0deg);}&::before{top:2px;transform-origin:1px 6px;}&::after{top:0;transform-origin:1px 2px;}&:hover,&:focus{opacity:1;&::before{transform:rotate( ",function(e){return e.isCollapsed?"45deg":"-45deg"}," );}&::after{transform:rotate( ",function(e){return e.isCollapsed?"-45deg":"45deg"}," );}}",m,":hover &{opacity:1;transition:all ",a," ease-out;}")},jWee:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M7.5 6h9A1.5 1.5 0 0 1 18 7.5v9a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 6 16.5v-9A1.5 1.5 0 0 1 7.5 6zm3.072 8.838l.143.154a.5.5 0 0 0 .769-.042l.13-.175 3.733-5.045a.8.8 0 0 0-.11-1.064.665.665 0 0 0-.984.118l-3.243 4.387-1.315-1.422a.663.663 0 0 0-.99 0 .801.801 0 0 0 0 1.07l1.867 2.019z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorTaskIcon";var c=s;t.default=c},jYNI:function(e,t,n){"use strict";var r=n("MVZn"),o=n.n(r),i=n("lwsE"),a=n.n(i),s=n("W8MJ"),c=n.n(s),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),p=n.n(d),f=n("7W2i"),h=n.n(f),m=n("lSNA"),g=n.n(m),v=n("q1tI"),b=n.n(v),y=n("7EGn"),w=n("Oajm"),O=n("gxo2");function E(e,t){return function(e){var t=e.isSideBySide,n=e.maxLineNumber.toString().length*Object(O.l)();return t||(n=2*n+Object(O.l)()),n+2*Object(O.l)()}({maxLineNumber:function(e){var t=0,n=e.chunks.length;if(!n)return t;var r=e.chunks[n-1],o=r.newStart,i=r.newLines,a=r.oldStart,s=r.oldLines;return o&&(t=Math.max(t,o+i)),a&&(t=Math.max(t,a+s)),t}(e),isSideBySide:t})}var x=function(){function e(){a()(this,e),g()(this,"inConflict",!1)}return c()(e,[{key:"check",value:function(e){var t=e.content.substr(0,8),n=o()({},e);if(this.inConflict||"+<<<<<<<"!==t){if(this.inConflict)switch(t){case"+=======":n.conflictType="marker";break;case"+>>>>>>>":n.conflictType="marker",this.inConflict=!1;break;default:n.conflictType="content"}}else this.inConflict=!0,n.conflictType="marker";return n}}]),e}(),k=n("PJYZ"),C=n.n(k),S=n("pVnL"),j=n.n(S),T={type:"empty",content:""};function M(e){for(var t,n,r=e.before.length,o=e.after.length,i=Math.abs(r-o),a=new Array(i),s=0;s<i;s+=1)a[s]=T;r>=o?(t=e.after).push.apply(t,a):(n=e.before).push.apply(n,a)}function _(e,t){switch(t.type){case"del":e.before.push(t);break;case"add":e.after.push(t);break;default:M(e),e.before.push(t),e.after.push(t)}return e}var I=n("JRPe");function P(e,t){return"loaded"===t.type&&0===e.rest.length?e.loadedBefore.push(t):"loaded"===t.type?e.loadedAfter.push(t):e.rest.push(t),e}var A=n("eq3s"),N=n("Rz6r"),R=Object(I.e)({addComment:{id:"bitkit.diff.addComment",defaultMessage:"Add comment"},fromLine:{id:"bitkit.diff.fromLine",defaultMessage:"From line {lineNumber}"},lineAdded:{id:"bitkit.diff.lineAdded.label",defaultMessage:"Added line"},lineDeleted:{id:"bitkit.diff.lineDeleted.label",defaultMessage:"Deleted line"},lineNormal:{id:"bitkit.diff.lineNormal.label",defaultMessage:"Unchanged line"},showMoreIcon:{id:"bitkit.diff.showMoreIcon",defaultMessage:"Show more lines"},showMoreLines:{id:"bitkit.diff.showMoreLines",defaultMessage:"Show more lines"},toLine:{id:"bitkit.diff.toLine",defaultMessage:"To line {lineNumber}"}}),D=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(o))),g()(C()(C()(n)),"props",void 0),g()(C()(C()(n)),"onClick",function(){var e=n.props,t=e.onShowMoreLines;e.isLoading||t()}),n}return h()(t,e),c()(t,[{key:"renderShowMoreControls",value:function(){var e=this.props,t=e.intl,n=e.gutterWidth,r=e.hasMoreLines,o=e.isLoading,i=e.isDummyChunk?"pr-diff-show-more-lines-is-dummy-chunk":"pr-diff-show-more-lines";return i+=o?"-is-loading":"",b.a.createElement(A.a,{content:t.formatMessage(R.showMoreLines),position:"right"},b.a.createElement(w.v,null,b.a.createElement(w.u,{gutterWidth:n,hasMoreLines:r,onClick:this.onClick,"data-qa":i},b.a.createElement(N.l,{size:N.k.Medium,shouldAnimate:o,label:t.formatMessage(R.showMoreIcon)}))))}},{key:"render",value:function(){var e=this.props,t=e.gutterWidth,n=e.hasMoreLines;return n?this.renderShowMoreControls():b.a.createElement(w.v,null,b.a.createElement(w.u,{gutterWidth:t,hasMoreLines:n}))}}]),t}(v.PureComponent),L=Object(I.f)(D),z=function(e){function t(){return a()(this,t),u()(this,p()(t).apply(this,arguments))}return h()(t,e),c()(t,[{key:"renderHeader",value:function(){var e=this.props,t=e.gutterWidth,n=e.heading,r=e.before,o=e.onShowMoreLines,i=e.isDummyChunk;return b.a.createElement(w.d,{gutterWidth:t},b.a.createElement(L,{gutterWidth:t,hasMoreLines:r&&r.hasMoreLines,onShowMoreLines:o,isLoading:r&&!!r.isLoading,isDummyChunk:i}),b.a.createElement(w.c,null,n))}},{key:"render",value:function(){var e=this.props.children;return b.a.createElement(w.b,null,e?b.a.createElement(w.i,null,this.renderHeader(),e):this.renderHeader())}}]),t}(v.PureComponent),B=n("FYQS"),F=n.n(B),q=n("b0Qh"),W=n("hbEN"),U=100,H=function(e){return e.displayName||e.name||"Component"};var V,G,K,$=function(e){var t=e.inlineContent,n=e.line,r=e.gutterWidth,o=e.isActive,i=n.oldLine,a=n.newLine,s=n.content,c=n.conflictType,l=n.type;return b.a.createElement(w.n,{gutterWidth:r},b.a.createElement(w.q,{gutterWidth:r,isActive:o}),b.a.createElement(w.l,{gutterWidth:r,conflictType:c,type:l,isActive:o},b.a.createElement(w.m,null,t&&t({lineFrom:i,lineTo:a,content:s}))))},J=(V=w.g,K=G=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(o))),g()(C()(C()(n)),"state",{isScroll:!1}),g()(C()(C()(n)),"onTouchMove",function(){n.state.isScroll||n.setState({isScroll:!0})}),g()(C()(C()(n)),"debouncedTouchMove",Object(W.a)(n.onTouchMove,U,{leading:!0,trailing:!1})),g()(C()(C()(n)),"onTouchEnd",function(e){var t=n.props.onTap;n.state.isScroll||t(e),n.setState({isScroll:!1})}),n}return h()(t,e),c()(t,[{key:"render",value:function(){return b.a.createElement(V,j()({onTouchMove:this.debouncedTouchMove,onTouchEnd:this.onTouchEnd},this.props))}}]),t}(v.Component),g()(G,"displayName","WithTap(".concat(H(V),")")),K),Y=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(o))),g()(C()(C()(n)),"addCommentButton",void 0),g()(C()(C()(n)),"onAddComment",function(e){e.preventDefault();var t=n.props,r=t.line,o=t.onAddComment;o&&"empty"!==r.type&&o({from:r.oldLine,to:r.newLine})}),g()(C()(C()(n)),"handlePermalinkClick",function(e,t){var r=n.props.onPermalinkClick;r&&(e.preventDefault(),r(t))}),g()(C()(C()(n)),"createUnifiedPermalink",function(e,t){return"L".concat(t).concat(e.oldLine?"F".concat(e.oldLine):"").concat(e.newLine?"T".concat(e.newLine):"")}),g()(C()(C()(n)),"createSideBySidePermalink",function(e,t,n){var r=n?"oldline":"newline",o=n?e.oldLine:e.newLine;return"chg_".concat(t,"_").concat(r).concat(o)}),g()(C()(C()(n)),"createPermalink",function(){var e=n.props,t=e.line,r=e.filePath,o=e.hideNewLines,i=e.hideOldLines;return r?o||i?n.createSideBySidePermalink(t,r,o):n.createUnifiedPermalink(t,r):""}),g()(C()(C()(n)),"getAriaLabelForLineType",function(e,t){return{add:t.formatMessage(R.lineAdded),del:t.formatMessage(R.lineDeleted),normal:t.formatMessage(R.lineNormal)}[e]||" "}),g()(C()(C()(n)),"getLineTypeSymbol",function(e){return{add:"+",del:"-",normal:""}[e]||" "}),n}return h()(t,e),c()(t,[{key:"renderInlineContent",value:function(e){var t=this.props,n=t.inlineContent,r=t.line,o=t.gutterWidth;return b.a.createElement($,{inlineContent:n,line:r,gutterWidth:o,isActive:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.activePermalink,r=t.line,o=t.index,i=t.gutterWidth,a=t.intl,s=t.inlineContent,c=t.onAddComment,l=t.hideNewLines,u=t.hideOldLines,d=t.showPermalinks,p=r.content,f=r.type,h=r.conflictType,m=r.oldLine,g=r.newLine,y=r.wordDiff,O="empty"===r.type,E=this.createPermalink(),x=d&&n===E,k=m?b.a.createElement(w.p,{href:E?"#".concat(E):void 0,onClick:function(t){return e.handlePermalinkClick(t,E)},"aria-label":a.formatMessage(R.fromLine,{lineNumber:m})},m):b.a.createElement(w.o,null),C=g?b.a.createElement(w.p,{href:E?"#".concat(E):void 0,onClick:function(t){return e.handlePermalinkClick(t,E)},"aria-label":a.formatMessage(R.toLine,{lineNumber:g})},g):b.a.createElement(w.o,null),S=b.a.createElement(v.Fragment,null,!u&&k,!l&&C),j=b.a.createElement(v.Fragment,null,!u&&b.a.createElement(w.o,{"aria-hidden":!m,"aria-label":a.formatMessage(R.fromLine,{lineNumber:m})},b.a.createElement("span",{"aria-hidden":"true"},m)),!l&&b.a.createElement(w.o,{"aria-hidden":!g,"aria-label":a.formatMessage(R.toLine,{lineNumber:g})},b.a.createElement("span",{"aria-hidden":"true"},g)));return b.a.createElement(w.s,{gutterWidth:i,conflictType:h,type:f,isActive:x,key:"chunk-line-".concat(o),"data-qa":"code-line",id:E||void 0},b.a.createElement(w.q,{gutterWidth:i,isActive:x},d?S:j),c&&!O&&b.a.createElement(w.a,{onClick:this.onAddComment,onTouchEnd:this.onAddComment,"aria-label":a.formatMessage(R.addComment),tabIndex:0},b.a.createElement(F.a,{size:"small",label:a.formatMessage(R.addComment),primaryColor:q.colors.B100,onClick:this.onAddComment})),b.a.createElement(J,{onTap:this.onAddComment},b.a.createElement(w.r,{"aria-label":this.getAriaLabelForLineType(f,a)},this.getLineTypeSymbol(f)),y?b.a.createElement(w.h,{dangerouslySetInnerHTML:{__html:y.slice(1)}}):b.a.createElement(w.h,null,p.slice(1))),s&&this.renderInlineContent(x))}}]),t}(b.a.PureComponent),Q=Object(I.f)(Y),X=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(o))),g()(C()(C()(n)),"renderCodeLine",function(e,t){var r,o=n.props,i=o.filePath,a=o.showPermalinks,s=o.activePermalink,c=o.onPermalinkClick;return n.isInlineContentExist(e)&&(r=n.props.inlineContent),b.a.createElement(Q,{key:"line-".concat(t),filePath:i,index:t,line:e,gutterWidth:n.props.gutterWidth,hideOldLines:n.props.hideOldLines,hideNewLines:n.props.hideNewLines,inlineContent:r,onAddComment:n.props.onAddComment,showPermalinks:a,onPermalinkClick:c,activePermalink:s})}),n}return h()(t,e),c()(t,[{key:"isInlineContentExist",value:function(e){var t=this.props.inlineContent,n=e.oldLine,r=e.newLine,o=e.content;return!!t&&!!t({lineFrom:n,lineTo:r,content:o})}},{key:"renderLines",value:function(){var e=this.props.chunk,t=e.changes.reduce(P,{loadedBefore:[],loadedAfter:[],rest:[]}),n=t.loadedBefore,r=t.loadedAfter,o=t.rest;return e.changes.length?b.a.createElement(v.Fragment,null,this.renderLoadedLines(n),o.map(this.renderCodeLine),this.renderLoadedLines(r)):null}},{key:"renderLoadedLines",value:function(e){return e.length?b.a.createElement(w.t,null,e.map(this.renderCodeLine)):null}},{key:"render",value:function(){var e=this.props,t=e.chunk,n=e.gutterWidth,r=e.onShowMoreLines,o=t.extra.before;return b.a.createElement(w.k,{"data-qa":"chunk"},b.a.createElement(w.j,null,b.a.createElement(z,{before:o,heading:t.content,gutterWidth:n,onShowMoreLines:r,isDummyChunk:t.isDummyChunk},this.renderLines())))}}]),t}(v.PureComponent);g()(X,"defaultProps",{hideNewLines:!1,hideOldLines:!1});var Z=Object(I.f)(X);function ee(e){var t=e.activePermalink,n=e.filePath,r=e.isSideBySide,i=e.inlineContent,a=e.chunk,s=e.gutterWidth,c=e.onShowMoreLines,l=e.onAddComment,u={activePermalink:t,gutterWidth:s,onShowMoreLines:c,filePath:n,showPermalinks:e.showPermalinks,onPermalinkClick:e.onPermalinkClick};if(r){var d=function(e){var t=e.changes.reduce(_,{before:[],after:[]});return M(t),{before:o()({},e,{changes:t.before}),after:o()({},e,{changes:t.after})}}(a),p=d.before,f=d.after;return b.a.createElement(w.e,null,b.a.createElement(w.w,null,b.a.createElement(Z,j()({},u,{hideNewLines:!0,chunk:p})),b.a.createElement(Z,j()({},u,{hideOldLines:!0,chunk:f}))))}return b.a.createElement(w.e,null,b.a.createElement(Z,j()({},u,{chunk:a,onAddComment:l,inlineContent:i})))}var te=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(i))),g()(C()(C()(n)),"state",{chunk:n.props.chunk}),g()(C()(C()(n)),"handleShowMoreLines",function(){var e=n.props,t=e.chunkIndex,r=e.onShowMoreLines,i=t,a=n.state.chunk,s=a.extra,c=s.before,l=o()({},a,{extra:o()({},s,{before:o()({},c,{isLoading:!0})})});n.setState({chunk:l}),r(i)}),n}return h()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){e.chunk!==this.props.chunk&&this.setState({chunk:e.chunk})}},{key:"render",value:function(){var e=this.props,t=e.activePermalink,n=e.isSideBySide,r=e.filePath,o=e.gutterWidth,i=e.inlineContent,a=e.onAddComment,s=e.onPermalinkClick,c=e.showPermalinks,l=this.state.chunk;return b.a.createElement(ee,{activePermalink:t,filePath:r,onShowMoreLines:this.handleShowMoreLines,gutterWidth:o,chunk:l,inlineContent:i,isSideBySide:n,onAddComment:a,onPermalinkClick:s,showPermalinks:c})}}]),t}(v.PureComponent);var ne=function(e){function t(e){var n;a()(this,t),n=u()(this,p()(t).call(this,e));var r=e.diff,o=e.isSideBySide;return n.state={gutterWidth:E(r,o)},n}return h()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.diff,n=e.isSideBySide;this.setState({gutterWidth:E(t,n)})}},{key:"renderChunks",value:function(){var e,t=this,n=this.props.diff.chunks,r=n[n.length-1],i={id:"dummy-chunk",changes:[],newStart:0,oldStart:0,newLines:0,oldLines:0,content:"",extra:{before:{hasMoreLines:!0},after:{hasMoreLines:!1}},isDummyChunk:!0},a=(e=new x).check.bind(e),s=n.map(function(e){return o()({},e,{changes:e.changes&&e.changes.map(a)})});return Object(y.a)(r,"extra.after.hasMoreLines")&&s.push(i),s.map(function(e,n){var r=t.props,o=r.activePermalink,i=r.filePath,a=r.isSideBySide,s=r.inlineContent,c=r.onAddComment,l=r.onShowMoreLines,u=r.onPermalinkClick,d=r.showPermalinks,p=t.state.gutterWidth;return b.a.createElement(te,{activePermalink:o,key:e.content,chunk:e,chunkIndex:n,filePath:i,gutterWidth:p,inlineContent:s,isSideBySide:a,onAddComment:c,onShowMoreLines:l,onPermalinkClick:u,showPermalinks:d})})}},{key:"render",value:function(){return b.a.createElement(w.j,null,b.a.createElement(w.f,null,this.renderChunks()))}}]),t}(v.PureComponent);g()(ne,"defaultProps",{filePath:"",isSideBySide:!1,showPermalinks:!1,onShowMoreLines:function(){}});n("16uF"),n("RIqP");n.d(t,"a",function(){return ne})},jqOG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sizes=void 0;t.sizes={small:"16px",medium:"24px",large:"32px",xlarge:"48px"}},jtNK:function(e,t){},jzz1:function(e,t){},k98C:function(e,t,n){"use strict";n.d(t,"e",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return h}),n.d(t,"d",function(){return m});var r=n("a4+5"),o=n.n(r),i=n("1CCG"),a=n.n(i),s=function(e){var t=new Date(Number(e));return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}},c=function(){var e=new Date;return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()).toString()},l=function(e){return e<10?"0"+e:e},u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],p=function(e,t){var n=new Date(Number(e));switch(t){case"ddd, DD MMM":return d[n.getUTCDay()]+", "+l(n.getUTCDate())+" "+u[n.getUTCMonth()];case"YYYY-MM-DD":return n.getUTCFullYear()+"-"+l(n.getUTCMonth()+1)+"-"+n.getUTCDate();default:return l(n.getUTCDate())+" "+u[n.getUTCMonth()]+" "+n.getUTCFullYear()}},f=function(e){return p(e,"YYYY-MM-DD")},h=function(e){return o()(f(Number(e)),f((new Date).valueOf()))},m=function(e){var t=new Date,n=new Date(Number(e)),r=a()(n,t),o=n.getUTCFullYear()===t.getUTCFullYear();return 0===r?"Today":1===r?"Tomorrow":p(e,-1===r?"Yesterday":o?"ddd, DD MMM":"DD MMM YYYY")}},kG6L:function(e,t,n){"use strict";var r,o,i=n("mrSG"),a=n("9lTW"),s=n.n(a),c=n("q1tI"),l=n("i8i4"),u=n("uSMm"),d=n("cD+i"),p=n("b/sn"),f=n("lgFk"),h=n("7UM5"),m=n("COqE"),g=n("vOnD"),v=n("b0Qh"),b=n("gxo2"),y=n("UZqS"),w=n.n(y),O=n("FPHD"),E=n("XYkG"),x=g.default.div(r||(r=i.__makeTemplateObject(["\n  color: ",";\n  background: ",";\n  border-radius: ","px;\n  margin: 5px 3px 25px;\n  width: ","px;\n  min-height: ","px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"],["\n  color: ",";\n  background: ",";\n  border-radius: ","px;\n  margin: 5px 3px 25px;\n  width: ","px;\n  min-height: ","px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),Object(O.a)(v.colors.B400,.4)||v.colors.B400,Object(O.a)(v.colors.B300,.6)||v.colors.B300,Object(b.f)(),E.a,E.b),k=g.default.div(o||(o=i.__makeTemplateObject(["\n  background: ",";\n  border-radius: ","px;\n  margin: 2px 0;\n  width: 100%;\n  height: 2px;\n"],["\n  background: ",";\n  border-radius: ","px;\n  margin: 2px 0;\n  width: 100%;\n  height: 2px;\n"])),v.colors.B200,Object(b.f)()),C=function(e){var t=e.type;return"single"===(void 0===t?"group":t)?c.createElement(k,null):c.createElement(x,null,c.createElement(w.a,{label:"Document",size:"medium"}))},S=n("byeC"),j=n("qa+B"),T=n("9oG3"),M=n("mG1W");var _=function(e,t,n){var r=e.state,o=e.dispatch,i=r.tr,a=r.schema,s=a.nodes,c=s.media,l=s.paragraph;if(c&&t.length){var u=I(t,n,c),d=A(r),p=i.doc.resolve(d).parent,f=i.doc.nodeAt(d),h=!function(e){var t=e.schema,n=e.selection.$anchor.node();return n&&n.type===t.nodes.mediaGroup}(r)&&function(e,t){var n=e.selection.$from.node(-1);return n&&n.type.validContent(S.Fragment.from(e.schema.nodes.mediaGroup.createChecked({},t)))}(r,u),g=function(e,t){var n=e.schema.nodes.media,r=t&&t.type===n;return(Object(m.q)(e)||Object(m.v)(e)||Object(m.f)(e)&&(!Object(T.f)(e)||Object(T.c)(e)))&&!r}(r,f);if(h){var v=g?u.concat(l.create()):u,b=N(r);return b?d<=b.start?i.deleteRange(b.start,b.end).insert(d,v):i.insert(d,v).deleteRange(b.start,b.end):i.insert(d,v),o(i),void D(e)}var y=p.type===a.nodes.mediaGroup?u:[a.nodes.mediaGroup.createChecked({},u)];g&&p.type!==a.nodes.mediaGroup&&y.push(l.create()),o(Object(M.safeInsert)(S.Fragment.fromArray(y),d)(i))}},I=function(e,t,n){return e.map(function(e){var r=e.id,o=n.create({id:r,type:"file",collection:t});return Object(T.a)(e,o),o})},P=function(e){var t=e.schema.nodes,n=t.mediaGroup,r=t.listItem;if(Object(M.hasParentNode)(function(e){return e.type===r})(e.selection)){var o=function(e){var t=e.schema.nodes,n=t.bulletList,r=t.orderedList;return Object(j.a)(function(e){return e.type===n||e.type===r})(e.selection)}(e);if(o){var i=o.pos+o.node.nodeSize,a=e.doc.nodeAt(i);return a&&a.type===n?i+1:i}}},A=function(e){var t=e.selection,n=t.$from,r=t.$to,o=P(e);if(o)return o;var i=Object(T.d)(e);return i&&(!Object(T.c)(e)||n.pos<i&&r.pos<i)?i:Object(T.c)(e)?r.pos:Object(m.e)(e)?r.pos+1:Object(m.c)(e)?n.pos-1:r.pos},N=function(e){var t=e.selection,n=t.$from,r=t.$to;if(!Object(T.e)(e))return!Object(T.b)(e)||Object(T.d)(e)?R(n.pos,r.pos):R(Object(m.H)(n)-1,Object(m.m)(r))},R=function(e,t){return void 0===t&&(t=e),{start:e,end:t}},D=function(e){var t=e.state,n=t.doc,r=Object(T.d)(t);if(r){var o=n.resolve(r),i=Object(m.m)(o);i+1>=n.nodeSize-1?Object(m.F)(e,r):Object(m.G)(e,i+1)}},L=n("t3eF"),z=n("iVaR"),B=n("hkcA"),F=n("UHEz"),q=n("+5la"),W=n("UopG");n.d(t,"b",function(){return V}),n.d(t,"a",function(){return K});var U=["ready","error","cancelled"],H=function(){function e(e,t,n,r,o){var a=this;this.allowsUploads=!1,this.ignoreLinks=!1,this.waitForMediaUpload=!0,this.allUploadsFinished=!0,this.showDropzone=!1,this.layout="center",this.mediaNodes=[],this.mediaGroupNodes={},this.mobileUploadComplete={},this.pendingTask=Promise.resolve(null),this.destroyed=!1,this.pickers=[],this.removeOnCloseListener=function(){},this.setMediaProvider=function(e){return i.__awaiter(a,void 0,void 0,function(){var t,n,r,o,a,c,l,u,d;return i.__generator(this,function(i){switch(i.label){case 0:if(!e)return this.destroyPickers(),this.allowsUploads=!1,this.destroyed||this.view.dispatch(this.view.state.tr.setMeta(V,{allowsUploads:this.allowsUploads})),[2];i.label=1;case 1:return i.trys.push([1,3,,4]),n=this,[4,e];case 2:return t=n.mediaProvider=i.sent(),s()(t&&t.viewContext,"MediaProvider promise did not resolve to a valid instance of MediaProvider - "+t),[3,4];case 3:return r=i.sent(),o=new Error("Media functionality disabled due to rejected provider: "+r.message),this.errorReporter.captureException(o),this.destroyPickers(),this.allowsUploads=!1,this.destroyed||this.view.dispatch(this.view.state.tr.setMeta(V,{allowsUploads:this.allowsUploads})),[2];case 4:return a=this,[4,this.mediaProvider.viewContext];case 5:return a.mediaContext=i.sent(),this.allowsUploads=!!this.mediaProvider.uploadContext,l=(c=this).view,u=c.allowsUploads,!this.destroyed&&l.dom.parentNode&&l.dispatch(l.state.tr.setMeta(V,{allowsUploads:u})),this.allowsUploads?(d=this,[4,this.mediaProvider.uploadContext]):[3,10];case 6:return d.uploadContext=i.sent(),this.mediaProvider.uploadParams&&this.uploadContext?[4,this.initPickers(this.mediaProvider.uploadParams,this.uploadContext,L.a,this.reactContext)]:[3,8];case 7:return i.sent(),[3,9];case 8:this.destroyPickers(),i.label=9;case 9:return[3,11];case 10:this.destroyPickers(),i.label=11;case 11:return[2]}})})},this.getMediaOptions=function(){return a.options},this.insertFile=function(e,t){var n=a.collectionFromProvider();if(void 0!==n){"mobile"===a.editorAppearance&&(a.mobileUploadComplete[e.id]=!1),a.allUploadsFinished=!1,Object(z.d)(a.view.state.schema,e.fileMimeType)?Object(z.c)(a.view,e,n):_(a.view,[e],n),t(a.handleMediaState);var r,o=function(e){return e.status&&-1!==U.indexOf(e.status)};if(!o(e)){a.pendingTask=(r=a.pendingTask,new Promise(function(e){t(function(t){o(t)&&e(t)})}).then(function(){return r})),a.pendingTask.then(function(){a.allUploadsFinished=!0})}var i=a.view;i.hasFocus()||i.focus()}},this.splitMediaGroup=function(){return Object(T.h)(a.view)},this.onPopupPickerClose=function(){a.dropzonePicker&&a.popupPicker&&"popup"===a.popupPicker.type&&a.dropzonePicker.activate()},this.showMediaPicker=function(){a.popupPicker&&(a.dropzonePicker&&"popup"===a.popupPicker.type&&a.dropzonePicker.deactivate(),a.popupPicker.show())},this.waitForPendingTasks=function(e,t){if(t&&a.pendingTask===t)return t;var n,r=a.pendingTask.then(function(){return a.waitForPendingTasks(void 0,a.pendingTask)});if(!e)return r;var o=new Promise(function(t,r){n=window.setTimeout(function(){return r(new Error("Media operations did not finish in "+e+" ms"))},e)});return Promise.race([o,r.then(function(){clearTimeout(n)})])},this.handleMediaNodeRemoval=function(e,t){var n=e;n||(n=a.view.state.doc.nodeAt(t())),Object(T.g)(a.view,n,t)},this.handleMediaNodeMount=function(e,t){a.mediaNodes.unshift({node:e,getPos:t})},this.handleMediaNodeUnmount=function(e){a.mediaNodes=a.mediaNodes.filter(function(t){var n=t.node;return e!==n})},this.findMediaNode=function(e){return q.b(a,e)},this.destroyPickers=function(){var e=a.pickers;e.forEach(function(e){return e.destroy()}),e.splice(0,e.length),a.popupPicker=void 0,a.dropzonePicker=void 0,a.customPicker=void 0},this.getInputMethod=function(e){switch(e){case"popup":return B.e.PICKER_CLOUD;case"clipboard":return B.e.CLIPBOARD;case"dropzone":return B.e.DRAG_AND_DROP}},this.updateMediaNodeAttrs=function(e,t,n){var r=a.view;if(r)return Object(W.a)(e,t,n)(r.state,r.dispatch)},this.handleMediaState=function(e){switch(e.status){case"error":var t=a.options.uploadErrorHandler;t&&t(e);break;case"mobile-upload-end":var n={id:e.publicId||e.id};"string"==typeof e.collection&&(n.collection=e.collection),a.updateMediaNodeAttrs(e.id,n,Object(z.d)(a.view.state.schema,e.fileMimeType)),a.mobileUploadComplete[n.id]=!0,delete a.mediaGroupNodes[e.id]}},this.isMobileUploadCompleted=function(e){return q.c(a,e)},this.removeNodeById=function(e){var t=e.id,n=q.a(a,t,Object(m.u)(e.fileMimeType));n&&Object(T.g)(a.view,n.node,n.getPos)},this.removeSelectedMediaContainer=function(){var e=a.view,t=a.selectedMediaContainerNode();if(!t)return!1;var n=e.state.selection.from;return Object(T.g)(e,t.firstChild,function(){return n+1}),!0},this.selectedMediaContainerNode=function(){var e=a.view.state,t=e.selection,n=e.schema;if(t instanceof p.NodeSelection&&(t.node.type===n.nodes.mediaSingle||t.node.type===n.nodes.mediaGroup))return t.node},this.handleDrag=function(e){var t="enter"===e;if(a.showDropzone!==t){a.showDropzone=t;var n=a.view;(0,n.dispatch)(n.state.tr)}},this.reactContext=n,this.options=t,this.editorAppearance=r,this.waitForMediaUpload=void 0===t.waitForMediaUpload||t.waitForMediaUpload;var c=e.schema.nodes;s()(c.media&&(c.mediaGroup||c.mediaSingle),"Editor: unable to init media plugin - media or mediaGroup/mediaSingle node absent in schema"),t.providerFactory.subscribe("mediaProvider",function(e,t){return a.setMediaProvider(t)}),this.errorReporter=t.errorReporter||new f.a,this.dispatchAnalyticsEvent=o}return e.prototype.updateElement=function(){var e,t=this.selectedMediaContainerNode(),n=this.view.state.schema.nodes.mediaSingle;t&&t.type===n&&(e=this.getDomElement(this.view.domAtPos.bind(this.view))),this.element!==e&&(this.element=e)},e.prototype.getDomElement=function(e){var t=this.view.state,n=t.selection,r=t.schema;if(n instanceof p.NodeSelection&&n.node.type===r.nodes.mediaSingle){var o=Object(M.findDomRefAtPos)(n.from,e);if(o)return o.childNodes.length?o.querySelector(".wrapper")||o:o.parentNode}},e.prototype.setView=function(e){this.view=e},e.prototype.destroy=function(){if(!this.destroyed){this.destroyed=!0;var e=this.mediaNodes;e.splice(0,e.length),this.removeOnCloseListener(),this.destroyPickers()}},e.prototype.initPickers=function(e,t,n,r){return i.__awaiter(this,void 0,void 0,function(){var o,a,s,c,l,u,d,p,f,h,m,g,v,b,y=this;return i.__generator(this,function(w){switch(w.label){case 0:return this.destroyed?[2]:(a=(o=this).errorReporter,(s=o.pickers).length?[3,6]:(c={context:t,errorReporter:a},l={uploadParams:e,proxyReactContext:r()},this.options.customMediaPicker?(d=(u=s).push,p=this,[4,new n("customMediaPicker",c,this.options.customMediaPicker).init()]):[3,2]));case 1:return d.apply(u,[p.customPicker=w.sent()]),[3,5];case 2:return h=(f=s).push,m=this,[4,new n(t.config&&t.config.userAuthProvider?"popup":"browser",c,l).init()];case 3:return h.apply(f,[m.popupPicker=w.sent()]),v=(g=s).push,b=this,[4,new n("dropzone",c,i.__assign({container:this.options.customDropzoneContainer,headless:!0},l)).init()];case 4:v.apply(g,[b.dropzonePicker=w.sent()]),this.dropzonePicker.onDrag(this.handleDrag),this.removeOnCloseListener=this.popupPicker.onClose(this.onPopupPickerClose),w.label=5;case 5:s.forEach(function(e){e.onNewMedia(y.insertFile),e.onNewMedia(y.trackNewMediaEvent(e.type))}),w.label=6;case 6:return s.forEach(function(t){return t.setUploadParams(e)}),[2]}})})},e.prototype.trackNewMediaEvent=function(e){var t=this;return function(n){if(h.a.trackEvent("atlassian.editor.media.file."+e,n.fileMimeType?{fileMimeType:n.fileMimeType}:{}),t.dispatchAnalyticsEvent){var r=t.getInputMethod(e),o=n.fileName.lastIndexOf("."),i=o>=0?n.fileName.substring(o+1):void 0,a={action:B.a.INSERTED,actionSubject:B.b.DOCUMENT,actionSubjectId:B.c.MEDIA,attributes:{inputMethod:r,fileExtension:i},eventType:B.d.TRACK};t.dispatchAnalyticsEvent(a)}}},e.prototype.collectionFromProvider=function(){return this.mediaProvider&&this.mediaProvider.uploadParams&&this.mediaProvider.uploadParams.collection},e}(),V=new p.PluginKey("mediaPlugin"),G=function(e){return V.getState(e)},K=function(e,t,n,r,o,a){var s=function(e){var t=document.createElement("div");return Object(F.a)(e)?l.render(c.createElement(C,{type:"single"}),t):l.render(c.createElement(C),t),t}(o);return new p.Plugin({state:{init:function(e,r){return new H(r,t,n,o,a)},apply:function(e,t){"number"==typeof t.editingMediaSinglePos&&(t.editingMediaSinglePos=e.mapping.map(t.editingMediaSinglePos));var n=e.getMeta(V);if(n&&r){var o=t.showMediaPicker,a=n.allowsUploads;r(V,i.__assign({},t,{allowsUploads:void 0===a?t.allowsUploads:a,showMediaPicker:o}))}return t}},key:V,view:function(e){var t=G(e.state);return t.setView(e),t.updateElement(),{update:function(){t.updateElement()},destroy:function(){t.destroy()}}},props:{decorations:function(e){if(G(e).showDropzone){var t=e.schema,n=e.selection.$anchor;if(e.selection instanceof p.NodeSelection){if(e.selection.node.type===t.nodes.mediaSingle){var r=d.Decoration.node(e.selection.from,e.selection.to,{class:"mediaSingle-selected"});return d.DecorationSet.create(e.doc,[r])}}else{var o=n.pos;if(n.parent.type!==t.nodes.paragraph&&n.parent.type!==t.nodes.codeBlock&&(o=Object(u.insertPoint)(e.doc,o,t.nodes.mediaGroup)),null!=o){var i=[d.Decoration.widget(o,s,{key:"drop-placeholder"})];return d.DecorationSet.create(e.doc,i)}}}},nodeViews:t.nodeViews,handleTextInput:function(e){return G(e.state).splitMediaGroup(),!1}}})}},kHFy:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return 0===e.indexOf("image/")?"image":0===e.indexOf("video/")?"video":0===e.indexOf("audio/")?"audio":0===e.indexOf("application/pdf")?"doc":"unknown"}},kHOZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M5 5a1 1 0 0 1 1 1v12a1 1 0 0 1-2 0V6a1 1 0 0 1 1-1zm4 0h6a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1zm10 0a1 1 0 0 1 1 1v12a1 1 0 0 1-2 0V6a1 1 0 0 1 1-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorLayoutThreeWithSidebarsIcon";var c=s;t.default=c},kOWh:function(e,t){var n=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];e.exports=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);var o=n.concat(t).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+o.join("|")+"|.)","g")}},kghT:function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n("b/sn"),o=new r.PluginKey("editorDisabledPlugin");var i={pmPlugins:function(){return[{name:"editorDisabled",plugin:function(e){return function(e){return new r.Plugin({key:o,state:{init:function(){return{editorDisabled:!1}},apply:function(t,n){var r=t.getMeta(o);return r&&n.editorDisabled!==r.editorDisabled?(e(o,r),r):n}}})}(e.dispatch)}}]}};t.a=i},knDx:function(e,t,n){"use strict";var r,o;n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),function(e){e.DELETED="deleted",e.CLEARED="cleared",e.MERGED="merged",e.SPLIT="split",e.COLORED="colored",e.TOGGLED_HEADER_COLUMN="toggledHeaderColumn",e.TOGGLED_HEADER_ROW="toggledHeaderRow",e.TOGGLED_NUMBER_COLUMN="toggledNumberColumn",e.CHANGED_BREAKOUT_MODE="changedBreakoutMode",e.CUT="cut",e.COPIED="copied",e.ADDED_ROW="addedRow",e.ADDED_COLUMN="addedColumn",e.DELETED_ROW="deletedRow",e.DELETED_COLUMN="deletedColumn"}(r||(r={})),function(e){e.WIDE="wide",e.FULL_WIDTH="fullWidth",e.NORMAL="normal"}(o||(o={}))},knpt:function(e,t,n){"use strict";var r=n("lwsE"),o=n.n(r),i=n("W8MJ"),a=n.n(i),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),u=n.n(l),d=n("7W2i"),p=n.n(d),f=n("q1tI"),h=n.n(f),m=n("wTIg"),g=Object(m.a)("span",{target:"eqbtvrw0"})("img{max-height:1em;vertical-align:text-bottom;&.emoji{height:1em;}}span:not(:first-of-type){",function(e){return e.fadeLinesAfterFirst?"opacity: 0.6":null},";}"),v=/[\n\r\t]+/g,b=new Set(["#text","CODE","EM","STRONG","A","IMG","DEL","ABBR"]),y=new Set(["P","BR","LI","H1","H2","H3","H4","H5","H6","BLOCKQUOTE","PRE"]),w=function(e){function t(){return o()(this,t),c()(this,u()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"render",value:function(){var e=this.props,t=e.renderedContent,n=e.fadeLinesAfterFirst;if(!t.html){var r=t.raw.replace(v," ");return h.a.createElement(g,{fadeLinesAfterFirst:!!n},r)}var o=document.createElement("SPAN");o.innerHTML=t.html,function e(t){for(var n=t.firstChild;n;){var r=n.nextSibling;if(e(n),!b.has(n.nodeName)){if(y.has(n.nodeName)){var o=document.createElement("SPAN");for(t.insertBefore(o,n),t.insertBefore(document.createTextNode(" "),n);n.firstChild;)o.appendChild(n.firstChild)}else for(;n.firstChild;)t.insertBefore(n.firstChild,n);t.removeChild(n)}n=r}}(o);var i=o.lastChild;return i&&"#text"===i.nodeName&&" "===i.textContent&&o.removeChild(i),h.a.createElement(g,{fadeLinesAfterFirst:!!n,dangerouslySetInnerHTML:{__html:o.innerHTML}})}}]),t}(f.PureComponent);n.d(t,"a",function(){return w})},koy1:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});n("/IjO");var r=n("mG1W"),o=function(e,t){return!(t||!e)||Object(r.isCellSelection)(e)!==Object(r.isCellSelection)(t)||Object(r.isCellSelection)(e)&&Object(r.isCellSelection)(t)&&e.ranges!==t.ranges},i=function(e){for(var t=[],n=e.left;n<e.right;n++)t.push(n);return t},a=function(e){for(var t=[],n=e.top;n<e.bottom;n++)t.push(n);return t}},l0Hi:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return u});var r=n("q1tI"),o=n("wacQ"),i=n("TSYQ"),a=n.n(i),s=n("Jnbn"),c=250,l=200;function u(e){var t=e.children,n=e.layout,i=e.width,c=e.height,l=e.containerWidth,u=void 0===l?i:l,d=e.isLoading,p=void 0!==d&&d,f=e.pctWidth,h=e.lineLength,m=e.className,g=f&&Object(s.e)(n);if(f&&g){var v=Math.ceil(Object(s.d)(f/100,h||u));c=c/i*v,i=v}return r.createElement(o.b,{layout:n,width:i,height:c,containerWidth:u,pctWidth:f,className:a()("media-single","image-"+n,m,{"is-loading":p,"media-wrapped":"wrap-left"===n||"wrap-right"===n})},r.Children.only(t))}},l8Zf:function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"c",function(){return f}),n.d(t,"d",function(){return h});var r=n("+80P"),o=n.n(r),i=n("s7yy"),a=n("vN5M"),s=/(https?|ftp):\/\/[^\s]+/,c=o()();c.add("sourcetree:","http:");var l="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function u(e){if(!e)return null;var t=h(e);return t.length||(t=c.match(e)),t&&t[0]}l.push("a[cdefgilmnoqrtuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrtuvwxyz]|n[acefgilopruz]|om|p[aefghkmnrtw]|qa|r[eosuw]|s[abcdegijklmnrtuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),c.tlds(l,!1);var d=function(){function e(){}return e.prototype.exec=function(e){if(e.endsWith(" ")){var t=e.slice(0,e.length-1).split(" "),n=t[t.length-1],r=c.match(n);if(r&&r.length>0){var o=r[r.length-1];return o.input=n,o.length=o.lastIndex-o.index+1,[o]}}return null},e}();function p(e){if(!e)return"";if(Object(a.a)(e))return e;var t=u(e);return t&&t.url||""}function f(e){return function(t){return Object(i.e)(t,function(t,n){if((!n||n.type!==e.nodes.codeBlock)&&t.isText){var r=[],o=t.type.schema.marks.link,i=t.text,a=function(e){var t=[],n=e&&c.match(e);n&&n.length>0&&n.forEach(function(e){t.push({start:e.index,end:e.lastIndex,title:e.raw,href:e.url})});return t}(i),s=0;return a.forEach(function(e){e.start>0&&r.push(t.cut(s,e.start)),r.push(t.cut(e.start,e.end).mark(o.create({href:p(e.href)}).addToSet(t.marks))),s=e.end}),s<i.length&&r.push(t.cut(s)),r}return t})}}var h=function(e){var t=[];if(!s.test(e))return t;for(var n,r=0;n=e.substr(r);){var o=(n.match(s)||[""])[0];if(!o)break;var i=n.search(s),a=i>=0?i+r:i,c=a+o.length;t.push({index:a,lastIndex:c,raw:o,url:o,text:o,schema:""}),r+=c}return t}},lEJf:function(e,t,n){e.exports=n.p+"build-favicon-running.d9615457985f.ico"},lGzI:function(e,t,n){"use strict";var r,o,i,a,s,c=n("mrSG"),l=n("q1tI"),u=n("vOnD"),d=n("gxo2"),p=n("JaVE"),f=n("b0Qh"),h=Object(d.l)(),m=u.default.div(r||(r=c.__makeTemplateObject(["\n  margin: 0;\n  word-wrap: break-word;\n  min-width: 0;\n  flex: 1 1 auto;\n"],["\n  margin: 0;\n  word-wrap: break-word;\n  min-width: 0;\n  flex: 1 1 auto;\n"]))),g=u.default.div(o||(o=c.__makeTemplateObject(["\n  display: flex;\n  flex-direction: row;\n\n  line-height: 20px;\n  border-radius: ","px;\n  margin: ","px 0;\n  padding: ","px ","px;\n  min-height: 36px;\n  box-sizing: border-box;\n  box-shadow: none;\n\n  &:hover {\n    box-shadow: none;\n    transition: box-shadow 0.2s ease-in-out;\n  }\n\n  background-color: ",";\n  border: 1px solid: ",";\n"],["\n  display: flex;\n  flex-direction: row;\n\n  line-height: 20px;\n  border-radius: ","px;\n  margin: ","px 0;\n  padding: ","px ","px;\n  min-height: 36px;\n  box-sizing: border-box;\n  box-shadow: none;\n\n  &:hover {\n    box-shadow: none;\n    transition: box-shadow 0.2s ease-in-out;\n  }\n\n  background-color: ",";\n  border: 1px solid: ",";\n"])),Object(d.f)(),h,h,h,Object(p.a)({light:f.colors.N30A,dark:f.colors.DN50}),Object(p.a)({light:"none",dark:f.colors.DN60})),v=(u.default.div(i||(i=c.__makeTemplateObject(["\n  margin: -2px 8px;\n"],["\n  margin: -2px 8px;\n"]))),u.default.div(a||(a=c.__makeTemplateObject(["\n  color: ",";\n  margin-top: ","px;\n  font-size: 12px;\n  font-weight: 500;\n"],["\n  color: ",";\n  margin-top: ","px;\n  font-size: 12px;\n  font-weight: 500;\n"])),f.colors.N200,h)),b=u.default.span(s||(s=c.__makeTemplateObject(["\n  margin: 0 0 0 ","px;\n  position: absolute;\n  color: ",";\n  pointer-events: none;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  max-width: calc(100% - 50px);\n"],["\n  margin: 0 0 0 ","px;\n  position: absolute;\n  color: ",";\n  pointer-events: none;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  max-width: calc(100% - 50px);\n"])),3*Object(d.l)(),f.colors.N80),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c.__extends(t,e),t.prototype.renderPlaceholder=function(){var e=this.props,t=e.children,n=e.placeholder;return e.showPlaceholder&&n&&!t?l.createElement(b,{contentEditable:!1},n):null},t.prototype.renderAttribution=function(){var e=this.props.attribution;return e?l.createElement(v,null,e):null},t.prototype.renderMessageAppearance=function(){var e=this.props,t=e.contentRef,n=e.children,r=e.icon;return l.createElement(g,null,r,this.renderPlaceholder(),l.createElement(m,{innerRef:t},n))},t.prototype.render=function(){return this.renderMessageAppearance()},t.defaultProps={appearance:"inline"},t}(l.PureComponent);t.a=y},lPmu:function(e,t,n){"use strict";var r=n("pVnL"),o=n.n(r),i=n("q1tI"),a=n.n(i),s=n("JRPe"),c=n("/MKj"),l=n("Ws1f"),u=n("viKH"),d=n("C2Nt"),p=n("ehUZ"),f=n("5XQs"),h=n("JKa8"),m=n("fw8x"),g=n("DJBN"),v=n("+dNt"),b=n("2Zmx"),y=n("xAiV"),w=function(e){var t=Object(y.a)(e.portalParentId);return a.a.createElement(b.e,o()({},e,{portal:t}))},O=Object(s.e)({commentsGlobalTitle:{id:"frontbucket.repository.commentsGlobalTitle",defaultMessage:"{count, number} {count, plural, one {comment} other {comments}}"},commentsGlobalAddComment:{id:"frontbucket.repository.commentsGlobalAddComment",defaultMessage:"Add a comment"},globalConversationLabel:{id:"frontbucket.repository.globalConversationLabel",defaultMessage:"Global comments"}}),E=n("wTIg"),x=n("gxo2"),k=Object(E.a)("div",{target:"e11d33kq0"})("margin-bottom:",3*Object(x.l)(),"px;padding-bottom:",3*Object(x.l)(),"px;"),C=function(e){var t=Object(m.b)(),n=Object(c.d)(),r=Object(i.useContext)(f.b),b=r.conversationProvider,y=r.additionalConversationProviders,E=e.conversation,x=e.containerId,C=e.isLoading,S=e.userAccessLevel,j=E?E.conversationId:null,T=t.formatMessage(O.commentsGlobalAddComment),M=function(e,t){return n(Object(d.b)(e,t))},_=a.a.createElement(p.d,null,a.a.createElement(s.a,o()({},O.commentsGlobalTitle,{values:{count:E?E.numOfComments:0}}))),I=E?k:i.Fragment;return a.a.createElement(p.c,{"data-qa":"conversations-global-style","aria-label":t.formatMessage(O.globalConversationLabel)},a.a.createElement(l.b,{header:_,isDefaultExpanded:!0},a.a.createElement(I,null,C?a.a.createElement(h.a,{size:"large"}):a.a.createElement(w,{onCommentPermalinkClick:function(t,n){Object(g.h)(n)&&(t.preventDefault(),e.onPermalinkHashChange&&e.onPermalinkHashChange("comment-".concat(n)))},showBeforeUnloadWarning:!0,provider:b,id:j,objectId:x,placeholder:T,dataProviders:y,allowFeedbackAndHelpButtons:!0,renderEditor:function(e,t){return a.a.createElement(e,o()({},t,u.a,{legacyImageUploadProvider:Promise.resolve(M)}))},canModerateComments:Object(v.a)(S)}))))};n.d(t,"b",function(){return C}),n.d(t,"a",function(){return w})},lRTb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M12.654 8.764a.858.858 0 0 1-1.213-1.213l1.214-1.214a3.717 3.717 0 0 1 5.257 0 3.714 3.714 0 0 1 .001 5.258l-1.214 1.214-.804.804a3.72 3.72 0 0 1-5.263.005.858.858 0 0 1 1.214-1.214c.781.782 2.05.78 2.836-.005l.804-.803 1.214-1.214a1.998 1.998 0 0 0-.001-2.831 2 2 0 0 0-2.83 0l-1.215 1.213zm-.808 6.472a.858.858 0 0 1 1.213 1.213l-1.214 1.214a3.717 3.717 0 0 1-5.257 0 3.714 3.714 0 0 1-.001-5.258l1.214-1.214.804-.804a3.72 3.72 0 0 1 5.263-.005.858.858 0 0 1-1.214 1.214 2.005 2.005 0 0 0-2.836.005l-.804.803L7.8 13.618a1.998 1.998 0 0 0 .001 2.831 2 2 0 0 0 2.83 0l1.215-1.213z" fill="currentColor"/></svg>'},e))};s.displayName="EditorLinkIcon";var c=s;t.default=c},lUCt:function(e,t,n){"use strict";var r=n("o0o1"),o=n.n(r),i=n("yXPU"),a=n.n(i),s=n("lwsE"),c=n.n(s),l=n("W8MJ"),u=n.n(l),d=n("a1gu"),p=n.n(d),f=n("Nsbk"),h=n.n(f),m=n("7W2i"),g=n.n(m),v=n("PJYZ"),b=n.n(v),y=n("lSNA"),w=n.n(y),O=n("q1tI"),E=n.n(O),x=n("/MKj"),k=n("eRoQ"),C=n("UOfN"),S=n("XTXV"),j=n.n(S),T=n("EDpw"),M=n.n(T),_=n("lEJf"),I=n.n(_),P=n("dWNr"),A=n.n(P),N=n("EFLc"),R=n.n(N),D=n("2VHb"),L=n("ErOA"),z=n("pVnL"),B=n.n(z),F=n("JRPe"),q=n("grSP"),W=n("llz4"),U=n.n(W),H=n("eq3s"),V=n("KXjM"),G=n("y+en"),K=n("Gzh5");function $(e){return e.reduce(function(e,t){return e[t.state]+=1,e},{FAILED:0,INPROGRESS:0,STOPPED:0,SUCCESSFUL:0})}var J=Object(F.e)({label:{id:"repository.buildStatus.label",defaultMessage:"Build statuses"},failedStatus:{id:"repository.buildStatus.tooltipFailed",defaultMessage:"{formattedCount} {total, plural, one {build} other {builds}} failed"},passedStatus:{id:"repository.buildStatus.tooltipSuccess",defaultMessage:"{formattedCount} {total, plural, one {build} other {builds}} passed"},zeroBuilds:{id:"repository.buildStatus.zeroBuilds",defaultMessage:"{formattedCount} builds"},errorHeading:{id:"repository.buildStatus.error.heading",defaultMessage:"Couldn't load contents"},errorAction:{id:"repository.buildStatus.error.action",defaultMessage:"Try again"}}),Y=n("J4zp"),Q=n.n(Y),X=n("Qp91"),Z=n("69ki"),ee=n.n(Z),te=n("wTIg"),ne=n("gxo2"),re=Object(te.a)("img",{target:"e1jexyus0"})({name:"68vl60",styles:"margin:12px auto 22px auto;display:block;height:100px;"}),oe=Object(te.a)("p",{target:"e1jexyus1"})("margin-bottom:",ne.l,";text-align:left;padding:0 ",Object(ne.l)()/2,"px;"),ie=Object(F.e)({promotionLineOne:{id:"frontbucket.repository.source.pipelinesPromotionLineOne",defaultMessage:"It looks like you don't have a build tool set up yet."},promotionLineTwo:{id:"frontbucket.repository.source.promotionLineTwo",defaultMessage:"Rapidly build, test, and deploy your code {usingBitbucketPipelines}."},promotionLinkedUsingBitbucketPipelines:{id:"frontbucket.repository.source.promotionLinkedUsingBitbucketPipelines",defaultMessage:"using Bitbucket Pipelines"},promotionLineThree:{id:"frontbucket.repository.source.promotionLineThree",defaultMessage:"Your plan already includes build minutes."}}),ae=function(e){function t(){return c()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.repositoryFullSlug.split("/"),t=Q()(e,2),n=t[0],r=t[1];return E.a.createElement(O.Fragment,null,E.a.createElement(re,{alt:"Code emerging from a folder, with a green tick implying it's correctly working.",height:"104",src:ee.a}),E.a.createElement(oe,null,ie.promotionLineOne.defaultMessage),E.a.createElement(oe,null,E.a.createElement(F.a,B()({},ie.promotionLineTwo,{values:{usingBitbucketPipelines:E.a.createElement("a",{href:X.a.ui.pipelines(n,r)},E.a.createElement(F.a,ie.promotionLinkedUsingBitbucketPipelines))}}))),E.a.createElement(oe,null,E.a.createElement(F.a,ie.promotionLineThree)))}}]),t}(O.PureComponent),se=function(e){function t(){var e,n;c()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=p()(this,(e=h()(t)).call.apply(e,[this].concat(o))),w()(b()(b()(n)),"renderLabels",function(){var e=n.props,t=e.builds,r=e.intl,o=$(t),i=o.FAILED,a=o.SUCCESSFUL;if(0===t.length){return{rich:E.a.createElement(F.a,B()({},J.zeroBuilds,{values:{formattedCount:E.a.createElement("strong",null,0)}})),plain:r.formatMessage(J.zeroBuilds,{formattedCount:0})}}if(i){var s="".concat(i," of ").concat(t.length);return{rich:E.a.createElement(F.a,B()({},J.failedStatus,{values:{total:t.length,formattedCount:E.a.createElement("strong",null,s)}})),plain:r.formatMessage(J.failedStatus,{total:t.length,formattedCount:s})}}var c="".concat(a," of ").concat(t.length);return{rich:E.a.createElement(F.a,B()({},J.passedStatus,{values:{total:t.length,formattedCount:E.a.createElement("strong",null,c)}})),plain:r.formatMessage(J.passedStatus,{total:t.length,formattedCount:c})}}),w()(b()(b()(n)),"renderExpanderContent",function(){var e=n.props,t=e.builds,r=e.hasError,o=e.onErrorClick,i=e.repositoryFullSlug,a=e.hasStatuses;return r?E.a.createElement(K.b,{iconType:"warning",title:E.a.createElement(F.a,J.errorHeading)},E.a.createElement(q.a,{appearance:"link",onClick:o},E.a.createElement(F.a,J.errorAction))):t.length?E.a.createElement(V.b,{builds:t}):i&&!a?E.a.createElement(ae,{repositoryFullSlug:i}):null}),n}return g()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.isCollapsed,n=e.isLoading,r=e.initialCardIsCollapsed,o=e.onChange,i=e.intl,a=e.builds,s=this.renderLabels(),c=s.plain,l=s.rich,u=E.a.createElement(U.a,{label:"Builds"}),d=a.every(function(e){return"SUCCESSFUL"===e.state});return t?E.a.createElement(H.a,{position:"left",content:c},E.a.createElement(q.a,{appearance:"subtle",iconBefore:u})):E.a.createElement(G.Expander,{icon:u,initialIsCollapsed:r||d,isLoading:n,onChange:o,label:l,ariaLabel:i.formatMessage(J.label)},this.renderExpanderContent())}}]),t}(O.PureComponent);w()(se,"defaultProps",{builds:[],isCollapsed:!1});var ce=Object(F.f)(se),le="build.card.collapsed",ue=function(e){function t(){var e,n;c()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=p()(this,(e=h()(t)).call.apply(e,[this].concat(i))),w()(b()(b()(n)),"state",{builds:[],hasStatuses:!1,isLoading:!0,hasError:!1}),w()(b()(b()(n)),"fetchStatuses",function(){var e=a()(o.a.mark(function e(t,r){var i,a,s,c,l,u;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&r&&!n.props.isCollapsed&&!n.props.builds){e.next=2;break}return e.abrupt("return");case 2:return n.setState({isLoading:!0,hasStatuses:!1}),e.prev=3,e.next=6,fetch(Object(L.a)(t));case 6:return i=e.sent,e.next=9,i.json();case 9:if(a=e.sent,s=a.has_statuses){e.next=14;break}return n.setState({hasStatuses:s,isLoading:!1}),e.abrupt("return");case 14:return e.next=16,fetch(Object(L.a)(r));case 16:return c=e.sent,e.next=19,c.json();case 19:l=e.sent,u=l.values,n.setState({builds:u,hasStatuses:s,isLoading:!1,hasError:!1}),n.props.updatesFavicon&&n.onUpdateFavicon(),n.props.onBuildsLoaded&&n.props.onBuildsLoaded(u),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(3),n.setState({isLoading:!1,hasError:!0});case 29:case"end":return e.stop()}},e,this,[[3,26]])}));return function(t,n){return e.apply(this,arguments)}}()),w()(b()(b()(n)),"onCardStatusChange",function(e){D.a.set(le,e.isCollapsed)}),w()(b()(b()(n)),"initialCardIsCollapsed",function(){return D.a.get(le,!1)}),n}return g()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.buildStatusURL,n=e.repositoryMetadataURL;this.fetchStatuses(n,t)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.buildStatusURL,n=e.repositoryMetadataURL;t===this.props.buildStatusURL&&n===this.props.repositoryMetadataURL||this.fetchStatuses(n,t)}},{key:"componentWillUnmount",value:function(){this.props.clearFavicon()}},{key:"getBuildStatusIcon",value:function(){var e=this.state.builds;if(0===e.length)return j.a;var t=$(e),n=t.FAILED,r=t.SUCCESSFUL,o=t.STOPPED;return n?M.a:o?A.a:e.length===r?R.a:I.a}},{key:"onUpdateFavicon",value:function(){var e=this.getBuildStatusIcon();this.props.updateFavicon(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.isCollapsed,r=t.repositoryFullSlug,o=t.builds,i=void 0===o?[]:o,a=this.state,s=a.builds,c=a.hasStatuses,l=a.isLoading,u=a.hasError,d=s.length?s:i;return E.a.createElement(ce,{builds:d,hasError:u,isCollapsed:n,initialCardIsCollapsed:this.initialCardIsCollapsed(),onChange:this.onCardStatusChange,isLoading:l,hasStatuses:c,repositoryFullSlug:r,onErrorClick:function(){return e.fetchStatuses(e.props.repositoryMetadataURL,e.props.buildStatusURL)}})}}]),t}(O.PureComponent);w()(ue,"defaultProps",{isCollapsed:!1,updatesFavicon:!1});var de={clearFavicon:C.a,updateFavicon:C.d},pe=Object(x.c)(function(e){return{repositoryFullSlug:Object(k.w)(e)}},de)(ue);n.d(t,"a",function(){return pe})},lWHl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M12 5a7 7 0 1 1 0 14 7 7 0 0 1 0-14zm0 12.5c3.033 0 5.5-2.467 5.5-5.5S15.033 6.5 12 6.5A5.506 5.506 0 0 0 6.5 12c0 3.033 2.467 5.5 5.5 5.5zm-1.5-6a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm3 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm.27 1.583a.626.626 0 0 1 .932.834A3.63 3.63 0 0 1 12 15.125a3.63 3.63 0 0 1-2.698-1.204.625.625 0 0 1 .93-.835c.901 1.003 2.639 1.003 3.538-.003z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorEmojiIcon";var c=s;t.default=c},lgFk:function(e,t,n){"use strict";var r=function(){function e(){this.handlerStorage=null}return e.prototype.captureMessage=function(e,t){this.handlerStorage&&this.handlerStorage.captureMessage(e,t)},e.prototype.captureException=function(e,t){this.handlerStorage&&this.handlerStorage.captureException(e,t)},Object.defineProperty(e.prototype,"handler",{set:function(e){this.handlerStorage=e},enumerable:!0,configurable:!0}),e}();t.a=r},liZE:function(e,t,n){"use strict";var r=n("mrSG"),o=n("q1tI"),i=n.n(o),a=n("3XPa"),s=n("G4OQ"),c=n("OAeU"),l=n("3gwn"),u=n("4c1C"),d=n("NVK1"),p=n("R87g"),f=n("fF1e"),h=n("dKBr"),m=function(){function e(e){this.getNow=e,this.entry=null,this.subscribers=[]}return e.prototype.subscribe=function(e,t){return this.subscribers.find(function(t){return t.uuid===e})||this.subscribers.push({uuid:e,fn:t}),t([this.entry?this.entry.state:null,this.hasExpired()]),function(){}},e.prototype.invalidate=function(){return this.entry&&(this.entry.goodTill=this.getNow()-1),this},e.prototype.getProp=function(e){if(null!==this.entry)return this.entry.state[e]},e.prototype.unsubscribe=function(e){this.subscribers=this.subscribers.filter(function(t){return t.uuid!==e})},e.prototype.hasExpired=function(){return null===this.entry||this.entry.goodTill<this.getNow()},e.prototype.update=function(e,t){this.entry={state:e,goodTill:this.getNow()+t},this.subscribers.forEach(function(t){return t.fn([e,!1])})},e}(),g=function(){function e(e){this.getNowTimeFn=e,this.store={},this.analyticsCallbacksPool={}}return e.prototype.get=function(e){return this.store[e]},e.prototype.getAllUrls=function(){return Object.keys(this.store)},e.prototype.init=function(e){if(this.store[e])throw new Error("Reinit the watcher for url: "+e);return this.store[e]=new m(this.getNowTimeFn)},e.prototype.set=function(e,t,n){if(!this.store[e])throw new Error("Set for non-existent url: "+e);return this.store[e].update(t,n)},e.prototype.exists=function(e){return void 0!==this.store[e]},e}(),v=n("maOm"),b="https://api-private.dev.atlassian.com",y={baseUrl:b,resolverUrl:b+"/object-resolver"},w="https://api-private.stg.atlassian.com",O={baseUrl:w,resolverUrl:w+"/object-resolver"},E={baseUrl:"https://api-private.atlassian.com",resolverUrl:"https://api-private.atlassian.com/object-resolver"},x={dev:y,development:y,stg:O,staging:O,prd:E,prod:E,production:E},k=function(e){return e in x?x[e]:E},C=15e3,S=1200,j=function(e){return{id:e.key,name:e.displayName,startAuthUrl:e.url}},T=function(e,t){return{status:e,definitionId:t.meta.definitionId,services:t.meta.auth.map(j),data:t.data}},M=function(e){if("not_found"===e.meta.visibility)return{status:"not-found"};switch(e.meta.access){case"forbidden":return T("forbidden",e);case"unauthorized":return T("unauthorized",e);default:return T("resolved",e)}},_=new(function(){function e(e,t){void 0===t&&(t="prod"),this.env=k(t),this.cacheLifespan=e&&e.cacheLifespan||C,this.store=new g(e&&e.getNowTimeFn||Date.now),this.loadingStateDelay=e&&e.loadingStateDelay||S}return e.prototype.fetchData=function(e){return(t="post",n=this.env.resolverUrl+"/resolve",o={resourceUrl:encodeURI(e)},new u.Observable(function(e){var i=new AbortController,a=r.__assign({method:t,signal:i.signal,credentials:"include",headers:{"Cache-Control":"no-cache",Accept:"application/json","Content-Type":"application/json"}},o?{body:JSON.stringify(o)}:{});try{fetch(n,a).then(function(e){return e.ok&&e.json()}).then(function(t){e.next(t),e.complete()}).catch(function(t){e.error(t)})}catch(t){e.error(t)}return function(){return i.abort()}})).toPromise();var t,n,o},e.prototype.startStreaming=function(e){return Object(l.fromPromise)(this.fetchData(e)).pipe(Object(d.map)(M),Object(h.catchError)(function(){return Object(s.of)({status:"errored"})}))},e.prototype.register=function(e){return this.store.exists(e)?this.store.get(e):this.store.init(e)},e.prototype.deregister=function(e,t){var n=this.store.get(e);return n&&n.unsubscribe(t),this},e.prototype.resolve=function(e,t,n){var r=this;if(!this.store.exists(e))throw new Error("Please, register a smart card before calling get()");var o=this.store.get(e);if(o&&o.hasExpired()){var i=this.startStreaming(e),a=Object(s.of)({status:"resolving"}).pipe(Object(p.delay)(this.loadingStateDelay),Object(f.takeUntil)(i));Object(c.merge)(a,i).subscribe(function(o){t&&("resolved"===o.status?t(Object(v.e)(o.definitionId)):t(Object(v.l)(o.status,o.definitionId))),r.store.set(e,o,r.cacheLifespan),n&&n()})}},e.prototype.reload=function(e,t,n){var r=this;this.store.get(e).invalidate(),this.resolve(e,function(){(function(e,t){return t?function(e,t){return t.filter(function(t){var n=e.get(t);return"resolved"!==(n&&n.getProp("status"))})}(e,function(e,t,n){return n.filter(function(n){var r=e.get(n);return(r&&r.getProp("definitionId"))===t})}(e,t,e.getAllUrls())):function(e,t){return t.filter(function(t){var n=e.get(t);return void 0===(n&&n.getProp("definitionId"))})}(e,e.getAllUrls())})(r.store,n).filter(function(t){return t!==e}).forEach(function(e){r.store.get(e).invalidate(),r.resolve(e,t)})})},e}()),I=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.client,n=e.children;return o.createElement(a.a.Consumer,null,function(e){return o.createElement(a.a.Provider,{value:t||e||_},n)})}}(o.Component),new(function(){function e(e){void 0===e&&(e="prod"),this.env=k(e)}return e.prototype.resolve=function(e,t){return r.__awaiter(this,void 0,void 0,function(){var n,o,i;return r.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),n=this.env.resolverUrl+"/check",[4,fetch(n,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json",Origin:this.env.baseUrl},body:JSON.stringify({resourceUrl:e})})];case 1:return[4,r.sent().json()];case 2:return(o=r.sent())&&o.isSupported?[2,{type:"inline"===t?"inlineCard":"blockCard",attrs:{url:e}}]:[3,4];case 3:return i=r.sent(),console.warn('Error when trying to check Smart Card url "'+e+" - "+i.prototype.name+" "+i.message,i),[3,4];case 4:return[2,Promise.reject(void 0)]}})})},e}()),n("pVnL")),P=n.n(I),A=n("cDf5"),N=n.n(A),R=n("MVZn"),D=n.n(R),L=n("lwsE"),z=n.n(L),B=n("W8MJ"),F=n.n(B),q=n("a1gu"),W=n.n(q),U=n("Nsbk"),H=n.n(U),V=n("PJYZ"),G=n.n(V),K=n("7W2i"),$=n.n(K),J=n("lSNA"),Y=n.n(J),Q=n("17x9"),X=n.n(Q),Z=n("RIqP"),ee=n.n(Z),te=n("iWIM"),ne=n.n(te),re=function(){function e(t){var n=this;z()(this,e),Y()(this,"payload",void 0),Y()(this,"clone",function(){return new e({payload:JSON.parse(JSON.stringify(n.payload))})}),this.payload=t.payload}return F()(e,[{key:"update",value:function(e){return"function"==typeof e?this.payload=e(this.payload):"object"===N()(e)&&(this.payload=D()({},this.payload,e)),this}}]),e}(),oe=console.warn,ie=function(e){function t(e){var n;return z()(this,t),n=W()(this,H()(t).call(this,e)),Y()(G()(n),"context",void 0),Y()(G()(n),"handlers",void 0),Y()(G()(n),"hasFired",void 0),Y()(G()(n),"clone",function(){return n.hasFired?(oe("Cannot clone an event after it's been fired."),null):new t({context:ee()(n.context),handlers:ee()(n.handlers),payload:JSON.parse(JSON.stringify(n.payload))})}),Y()(G()(n),"fire",function(e){n.hasFired?oe("Cannot fire an event twice."):(n.handlers.forEach(function(t){t(G()(n),e)}),n.hasFired=!0)}),n.context=e.context||[],n.handlers=e.handlers||[],n.hasFired=!1,n}return $()(t,e),F()(t,[{key:"update",value:function(e){return this.hasFired?(oe("Cannot update an event after it's been fired."),this):ne()(H()(t.prototype),"update",this).call(this,e)}}]),t}(re),ae=function(e){function t(e){var n;return z()(this,t),n=W()(this,H()(t).call(this,e)),Y()(G()(n),"originalEventProps",{}),Y()(G()(n),"patchedEventProps",{}),Y()(G()(n),"updatePatchedEventProps",function(e){var t=Object.keys(n.props.createEventMap).filter(function(t){return n.originalEventProps[t]!==e[t]});return t.length>0&&(n.patchedEventProps=D()({},n.patchedEventProps,n.mapCreateEventsToProps(t,e)),t.forEach(function(t){n.originalEventProps[t]=e[t]})),n.patchedEventProps}),Y()(G()(n),"mapCreateEventsToProps",function(e,t){return e.reduce(function(e,r){var o=n.props.createEventMap[r],i=t[r];if(!["object","function"].includes(N()(o)))return e;return D()({},e,Y()({},r,function(){var e="function"==typeof o?o(n.createAnalyticsEvent,t):n.createAnalyticsEvent(o);if(i){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];i.apply(void 0,a.concat([e]))}}))},{})}),Y()(G()(n),"createAnalyticsEvent",function(e){var t=n.context,r=t.getAtlaskitAnalyticsEventHandlers,o=t.getAtlaskitAnalyticsContext,i="function"==typeof o&&o()||[],a="function"==typeof r&&r()||[];return new ie({context:i,handlers:a,payload:e})}),Object.keys(n.props.createEventMap).forEach(function(t){n.originalEventProps[t]=e.wrappedComponentProps[t]}),n.patchedEventProps=n.mapCreateEventsToProps(Object.keys(n.props.createEventMap),e.wrappedComponentProps),n}return $()(t,e),F()(t,[{key:"render",value:function(){var e=this.updatePatchedEventProps(this.props.wrappedComponentProps);return this.props.children({createAnalyticsEvent:this.createAnalyticsEvent,patchedEventProps:e})}}]),t}(o.Component);Y()(ae,"contextTypes",{getAtlaskitAnalyticsEventHandlers:X.a.func,getAtlaskitAnalyticsContext:X.a.func}),Y()(ae,"defaultProps",{createEventMap:{}});var se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=i.a.forwardRef(function(n,r){return i.a.createElement(ae,{createEventMap:e,wrappedComponentProps:n},function(e){var o=e.createAnalyticsEvent,a=e.patchedEventProps;return i.a.createElement(t,P()({},n,a,{createAnalyticsEvent:o,ref:r}))})});return n.displayName="WithAnalyticsEvents(".concat(t.displayName||t.name,")"),n}},ce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.moduleImporter=function(e){Promise.all([n.e(24),n.e(47)]).then(n.bind(null,"5C8G")).then(function(n){t.CardContent=n.CardWithDataContent,e.forceUpdate()})},t.prototype.componentDidMount=function(){null===t.CardContent&&(this.props.importer||t.moduleImporter)(this)},t.prototype.render=function(){var e=this.props,n=e.appearance,r=e.data,i=e.isSelected,a=e.onClick;if(!r)throw new Error("@atlaskit/smart-cards: you are trying to render a card with data, but does not provide any");return t.CardContent?o.createElement(t.CardContent,{appearance:n,data:r,isSelected:i,onClick:a}):o.createElement("div",{"data-card-with-data":!0})},t.CardContent=null,t}(o.PureComponent),le=n("enCP");function ue(e){return new Promise(function(t,n){var r,o=null,i=function(e){if(e.source===o){var r=e.data;if("object"==typeof r)switch(r.type){case"outbound-auth:success":s(),t();break;case"outbound-auth:failure":s(),n(new Error(r.message))}}},a=function(){o&&o.closed&&(s(),n(new Error("The auth window was closed")))},s=function(){clearInterval(r),window.removeEventListener("message",i),o&&(o.close(),o=null)};window.addEventListener("message",i),o=window.open(e,e),r=window.setInterval(a,500)})}var de=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.moduleImporter=function(e){Promise.all([n.e(24),n.e(241)]).then(n.bind(null,"Eg8n")).then(function(n){t.CardContent=n.CardWithUrlContent,e.forceUpdate()})},t.prototype.componentDidMount=function(){null===t.CardContent&&(this.props.importer||t.moduleImporter)(this)},t.prototype.render=function(){var e=this.props,n=e.url,r=e.client,i=e.appearance,a=e.isSelected,s=e.onClick,c=e.createAnalyticsEvent,l=e.container;if(!n)throw new Error("@atlaskit/smart-card: url property is missing.");return null!==t.CardContent?o.createElement(t.CardContent,{url:n,client:r,appearance:i,onClick:s,isSelected:a,createAnalyticsEvent:c,authFn:ue,container:l}):o.createElement(le.a,{key:"chunk-placeholder",link:n})},t.CardContent=null,t}(o.PureComponent),pe=n("qTXh"),fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){return Object(pe.d)(this.props)?o.createElement(ce,r.__assign({},this.props)):o.createElement(de,r.__assign({},this.props))},t}(o.PureComponent),he=se()(fe);n.d(t,"a",function(){return he}),n.d(t,"b",function(){return a.a})},m0Bm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("WtSs"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M8.049 14.197c-.166-.476.103-.991.602-1.15.5-.159 1.039.098 1.205.575.06.174.225.487.495.796.426.488.955.764 1.649.764.693 0 1.223-.276 1.65-.764.27-.31.433-.622.494-.796.166-.476.706-.734 1.204-.575.5.159.77.673.603 1.15-.13.371-.395.876-.839 1.385C14.348 16.458 13.306 17 12 17s-2.348-.542-3.112-1.418a4.382 4.382 0 0 1-.839-1.385zM9.5 11a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM19 5h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0V7h-1a1 1 0 0 1 0-2h1V4a1 1 0 0 1 2 0v1zm-5-1.777V5.29A7 7 0 1 0 18.71 10h2.067A9 9 0 1 1 14 3.223z" fill="currentColor"/></svg>'},e))};s.displayName="EmojiAddIcon";var c=s;t.default=c},mG1W:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("b/sn"),o=n("byeC"),i=n("/IjO"),a=function(e,t){return function(n){Array.isArray(e)||(e=[e]);for(var r=0,o=e.length;r<o;r++){var i=_(e[r])(n.selection);if(i){var a=f(i.pos,t)(n);if(a!==n)return a}}return n}},s=function(e){return function(t){if(u(t.selection)){var n=t.selection,o=n.$from,i=n.$to;if(o.parent.canReplaceWith(o.index(),o.indexAfter(),e.type))return p(t.replaceWith(o.pos,i.pos,e).setSelection(new r.NodeSelection(o)))}return t}},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n){var o=r.Selection.findFrom(n.doc.resolve(e),t,!0);return o?n.setSelection(o):n}},l=function(e,t,n){return function(r){var o="number"==typeof t,i=r.selection.$from,l=o?r.doc.resolve(t):u(r.selection)?r.doc.resolve(i.pos+1):i,d=l.parent;l.depth;if(u(r.selection)&&n&&r!==(r=s(e)(r)))return r;if(b(d)&&r!==(r=a(d.type,e)(r)))return c(l.pos)(r);if(v(l,e))return r.insert(l.pos,e),p(c(o?l.pos:r.selection.$anchor.pos)(r));for(var f=l.depth;f>0;f--){var h=l.after(f),m=r.doc.resolve(h);if(v(m,e))return r.insert(h,e),p(c(h)(r))}return r}},u=function(e){return e instanceof r.NodeSelection},d=function(e,t){return Array.isArray(e)&&e.indexOf(t.type)>-1||t.type===e},p=function(e){return Object.assign(Object.create(e),e).setTime(Date.now())},f=function(e,t){return function(n){var r=n.doc.nodeAt(e),o=n.doc.resolve(e);if(h(o,t)){var i=(n=n.replaceWith(e,e+r.nodeSize,t)).selection.$from.pos-1;return n=c(Math.max(i,0),-1)(n),n=c(n.selection.$from.start())(n),p(n)}return n}},h=function(e,t){var n=e.node(e.depth);return n&&n.type.validContent(t instanceof o.Fragment?t:o.Fragment.from(t))},m=function(e){return function(t){var n=t.doc.nodeAt(e);return p(t.delete(e,e+n.nodeSize))}},g=function(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;var t={};return Object.keys(e.nodes).forEach(function(n){var r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)}),e.cached.tableNodeTypes=t,t},v=function(e,t){var n=e.index();return t instanceof o.Fragment?e.parent.canReplace(n,n,t):t instanceof o.Node&&e.parent.canReplaceWith(n,n,t.type)},b=function(e){return!e||"paragraph"===e.type.name&&2===e.nodeSize},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?e.createChecked(null,t):e.createAndFill()},w=function(e){return function(t){for(var n=i.TableMap.get(t.$anchorCell.node(-1)),r=t.$anchorCell.start(-1),o=n.cellsInRect(e),a=n.cellsInRect(n.rectBetween(t.$anchorCell.pos-r,t.$headCell.pos-r)),s=0,c=o.length;s<c;s++)if(-1===a.indexOf(o[s]))return!1;return!0}},O=function(e){return e[0].map(function(t,n){return e.map(function(e){return e[n]})})},E=function(e){for(var t=i.TableMap.get(e),n=[],r=0;r<t.height;r++){for(var o=[],a={},s=0;s<t.width;s++){var c=t.map[r*t.width+s],l=e.nodeAt(c),u=t.findCell(c);a[c]||u.top!==r?o.push(null):(a[c]=!0,o.push(l))}n.push(o)}return n},x=function(e,t){for(var n=[],r=i.TableMap.get(e),o=0;o<r.height;o++){for(var a=e.child(o),s=[],c=0;c<r.width;c++)if(t[o][c]){var l=r.map[o*r.width+c],u=t[o][c],d=e.nodeAt(l).type.createChecked(Object.assign({},u.attrs),u.content,u.marks);s.push(d)}n.push(a.type.createChecked(a.attrs,s,a.marks))}return e.type.createChecked(e.attrs,n,e.marks)},k=function(e,t,n,r){var o=t[0]>n[0]?-1:1,i=e.splice(t[0],t.length),a=i.length%2==0?1:0,s=void 0;return s=-1===r&&1===o?n[0]-1:1===r&&-1===o?n[n.length-1]-a+1:-1===o?n[0]:n[n.length-1]-a,e.splice.apply(e,[s,0].concat(i)),e},C=function(e,t,n,r){var o="Target position is invalid, you can't move the "+r+" "+e+" to "+t+", the target can't be split. You could use tryToFit option.";if(1===(e>t?-1:1)){if(-1!==n.slice(0,n.length-1).indexOf(t))throw new Error(o)}else if(-1!==n.slice(1).indexOf(t))throw new Error(o);return!0},S=function(e){return function(t){var n=t.$from;return j(n,e)}},j=function(e,t){for(var n=e.depth;n>0;n--){var r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}},T=function(e,t){return function(n){var r=S(e)(n);if(r)return P(r.pos,t)}},M=function(e){return function(t){return!!S(e)(t)}},_=function(e){return function(t){return S(function(t){return d(e,t)})(t)}},I=function(e){var t=e.$from.nodeBefore,n=r.Selection.findFrom(e.$from,-1);if(n&&t){var o=_(t.type)(n);return o?o.pos:n.$from.pos}},P=function(e,t){var n=t(e),r=n.node.childNodes[n.offset];return n.node.nodeType===Node.TEXT_NODE?n.node.parentNode:r&&r.nodeType!==Node.TEXT_NODE?r:n.node},A=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)throw new Error('Invalid "node" parameter');var n=[];return e.descendants(function(e,r){if(n.push({node:e,pos:r}),!t)return!1}),n},N=function(e,t,n){if(!e)throw new Error('Invalid "node" parameter');if(!t)throw new Error('Invalid "predicate" parameter');return A(e,n).filter(function(e){return t(e.node)})},R=function(e,t,n){return N(e,function(e){return e.type===t},n)};var D=function(e){return S(function(e){return e.type.spec.tableRole&&"table"===e.type.spec.tableRole})(e)},L=function(e){return e instanceof i.CellSelection},z=function(e){if(L(e)){var t=i.TableMap.get(e.$anchorCell.node(-1));return w({left:0,right:t.width,top:0,bottom:t.height})(e)}return!1},B=function(e){return function(t){var n=D(t);if(n){var r=i.TableMap.get(n.node);return(Array.isArray(e)?e:Array.from([e])).reduce(function(e,t){if(t>=0&&t<=r.width-1){var o=r.cellsInRect({left:t,right:t+1,top:0,bottom:r.height});return e.concat(o.map(function(e){var t=n.node.nodeAt(e),r=e+n.start;return{pos:r,start:r+1,node:t}}))}},[])}}},F=function(e){return function(t){var n=D(t);if(n){var r=i.TableMap.get(n.node);return(Array.isArray(e)?e:Array.from([e])).reduce(function(e,t){if(t>=0&&t<=r.height-1){var o=r.cellsInRect({left:0,right:r.width,top:t,bottom:t+1});return e.concat(o.map(function(e){var t=n.node.nodeAt(e),r=e+n.start;return{pos:r,start:r+1,node:t}}))}},[])}}},q=function(e){return function(t,n){return function(r){var o=D(r.selection),a="row"===e;if(o){var s=i.TableMap.get(o.node);if(t>=0&&t<(a?s.height:s.width)){var c=a?0:t,l=a?t:0,u=a?s.width:t+1,d=a?t+1:s.height;if(n){var f=J(r.selection.$from);if(!f)return r;var h=s.findCell(f.pos-o.start);a?(l=Math.min(l,h.top),d=Math.max(d,h.bottom)):(c=Math.min(c,h.left),u=Math.max(u,h.right))}var m=s.cellsInRect({left:c,top:l,right:a?u:c+1,bottom:a?l+1:d}),g=d-l==1?m:s.cellsInRect({left:a?c:u-1,top:a?d-1:l,right:u,bottom:d}),v=o.start+m[0],b=o.start+g[g.length-1],y=r.doc.resolve(v),w=r.doc.resolve(b);return p(r.setSelection(new i.CellSelection(w,y)))}}return r}}},W=q("column"),U=q("row"),H=function(e){return function(t){var n=D(t.selection);if(n){var r=i.TableMap.get(n.node);if(e>=0&&e<=r.height){for(var o=n.node,a=g(o.type.schema),s=n.start,c=0;c<e+1;c++)s+=o.child(c).nodeSize;var u=o.child(e),d=[],p=0;if(u.forEach(function(e){1===e.attrs.rowspan&&(p+=e.attrs.colspan,d.push(a[e.type.spec.tableRole].createAndFill(e.attrs,e.marks)))}),p<r.width){for(var f=[],h=function(n){var r=Q(n,function(t,r){var o=t.node.attrs.rowspan;return o>1&&n+o>e})(t);f.push.apply(f,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r))},m=e;m>=0;m--)h(m);f.length&&f.forEach(function(e){t=$(e,{rowspan:e.node.attrs.rowspan+1})(t)})}return l(a.row.create(u.attrs,d),s)(t)}}return t}},V=function(e){return function(t){var n=D(t.selection);if(n){var r=i.TableMap.get(n.node);if(0===e&&1===r.width)return K(t);if(e>=0&&e<=r.width)return i.removeColumn(t,{map:r,tableStart:n.start,table:n.node},e),p(t)}return t}},G=function(e){return function(t){var n=D(t.selection);if(n){var r=i.TableMap.get(n.node);if(0===e&&1===r.height)return K(t);if(e>=0&&e<=r.height)return i.removeRow(t,{map:r,tableStart:n.start,table:n.node},e),p(t)}return t}},K=function(e){for(var t=e.selection.$from,n=t.depth;n>0;n--){if("table"===t.node(n).type.spec.tableRole)return p(e.delete(t.before(n),t.after(n)))}return e},$=function(e,t){return function(n){return e?(n.setNodeMarkup(e.pos,null,Object.assign({},e.node.attrs,t)),p(n)):n}},J=function(e){return j(e,function(e){return e.type.spec.tableRole&&/cell/i.test(e.type.spec.tableRole)})},Y=function(e){var t=J(e);if(t){var n=function(e){return j(e,function(e){return e.type.spec.tableRole&&/table/i.test(e.type.spec.tableRole)})}(e),r=i.TableMap.get(n.node),o=t.pos-n.start;return r.rectBetween(o,o)}},Q=function(e,t){return function(n){var r=[],o=F(e)(n.selection);if(o)for(var i=o.length-1;i>=0;i--)t(o[i],n)&&r.push(o[i]);return r}},X=function(e){return function(t){for(var n=e,r=e,o=function(e){var o=B(e)(t.selection);o&&o.forEach(function(t){var o=t.node.attrs.colspan+e-1;o>=n&&(n=e),o>r&&(r=o)})},i=e;i>=0;i--)o(i);var a=function(e){var n=B(e)(t.selection);n&&n.forEach(function(t){var n=t.node.attrs.colspan+e-1;t.node.attrs.colspan>1&&n>r&&(r=n)})};for(i=e;i<=r;i++)a(i);var s=[];for(i=n;i<=r;i++){var c=B(i)(t.selection);c&&c.length&&s.push(i)}n=s[0],r=s[s.length-1];for(var l=B(n)(t.selection),u=F(0)(t.selection),d=t.doc.resolve(l[l.length-1].pos),p=void 0,f=r;f>=n;f--){var h=B(f)(t.selection);if(h&&h.length){for(var m=u.length-1;m>=0;m--)if(u[m].pos===h[0].pos){p=h[0];break}if(p)break}}return{$anchor:d,$head:t.doc.resolve(p.pos),indexes:s}}},Z=function(e){return function(t){for(var n=e,r=e,o=function(e){F(e)(t.selection).forEach(function(t){var o=t.node.attrs.rowspan+e-1;o>=n&&(n=e),o>r&&(r=o)})},i=e;i>=0;i--)o(i);var a=function(e){F(e)(t.selection).forEach(function(t){var n=t.node.attrs.rowspan+e-1;t.node.attrs.rowspan>1&&n>r&&(r=n)})};for(i=e;i<=r;i++)a(i);var s=[];for(i=n;i<=r;i++){var c=F(i)(t.selection);c&&c.length&&s.push(i)}n=s[0],r=s[s.length-1];for(var l=F(n)(t.selection),u=B(0)(t.selection),d=t.doc.resolve(l[l.length-1].pos),p=void 0,f=r;f>=n;f--){var h=F(f)(t.selection);if(h&&h.length){for(var m=u.length-1;m>=0;m--)if(u[m].pos===h[0].pos){p=h[0];break}if(p)break}}return{$anchor:d,$head:t.doc.resolve(p.pos),indexes:s}}};t.isNodeSelection=u,t.canInsert=v,t.convertTableNodeToArrayOfRows=E,t.convertArrayOfRowsToTableNode=x,t.findParentNode=S,t.findParentNodeClosestToPos=j,t.findParentDomRef=T,t.hasParentNode=M,t.findParentNodeOfType=_,t.findParentNodeOfTypeClosestToPos=function(e,t){return j(e,function(e){return d(t,e)})},t.hasParentNodeOfType=function(e){return function(t){return M(function(t){return d(e,t)})(t)}},t.findParentDomRefOfType=function(e,t){return function(n){return T(function(t){return d(e,t)},t)(n)}},t.findSelectedNodeOfType=function(e){return function(t){if(u(t)){var n=t.node,r=t.$from;if(d(e,n))return{node:n,pos:r.pos,depth:r.depth}}}},t.findPositionOfNodeBefore=I,t.findDomRefAtPos=P,t.flatten=A,t.findChildren=N,t.findTextNodes=function(e,t){return N(e,function(e){return e.isText},t)},t.findInlineNodes=function(e,t){return N(e,function(e){return e.isInline},t)},t.findBlockNodes=function(e,t){return N(e,function(e){return e.isBlock},t)},t.findChildrenByAttr=function(e,t,n){return N(e,function(e){return!!t(e.attrs)},n)},t.findChildrenByType=R,t.findChildrenByMark=function(e,t,n){return N(e,function(e){return t.isInSet(e.marks)},n)},t.contains=function(e,t){return!!R(e,t).length},t.findTable=D,t.isCellSelection=L,t.getSelectionRect=function(e){if(L(e)){var t=e.$anchorCell.start(-1);return i.TableMap.get(e.$anchorCell.node(-1)).rectBetween(e.$anchorCell.pos-t,e.$headCell.pos-t)}},t.isColumnSelected=function(e){return function(t){if(L(t)){var n=i.TableMap.get(t.$anchorCell.node(-1));return w({left:e,right:e+1,top:0,bottom:n.height})(t)}return!1}},t.isRowSelected=function(e){return function(t){if(L(t)){var n=i.TableMap.get(t.$anchorCell.node(-1));return w({left:0,right:n.width,top:e,bottom:e+1})(t)}return!1}},t.isTableSelected=z,t.getCellsInColumn=B,t.getCellsInRow=F,t.getCellsInTable=function(e){var t=D(e);if(t){var n=i.TableMap.get(t.node);return n.cellsInRect({left:0,right:n.width,top:0,bottom:n.height}).map(function(e){var n=t.node.nodeAt(e),r=e+t.start;return{pos:r,start:r+1,node:n}})}},t.selectColumn=W,t.selectRow=U,t.selectTable=function(e){var t=D(e.selection);if(t){var n=i.TableMap.get(t.node).map;if(n&&n.length){var r=t.start+n[0],o=t.start+n[n.length-1],a=e.doc.resolve(r),s=e.doc.resolve(o);return p(e.setSelection(new i.CellSelection(s,a)))}}return e},t.emptyCell=function(e,t){return function(n){if(e){var r=g(t).cell.createAndFill().content;if(!e.node.content.eq(r))return n.replaceWith(e.pos,e.pos+e.node.nodeSize-1,new o.Slice(r,0,0)),p(n)}return n}},t.addColumnAt=function(e){return function(t){var n=D(t.selection);if(n){var r=i.TableMap.get(n.node);if(e>=0&&e<=r.width)return p(i.addColumn(t,{map:r,tableStart:n.start,table:n.node},e))}return t}},t.moveRow=function(e,t,n){return function(r){var o=Object.assign({tryToFit:!1,direction:0},n),i=D(r.selection);if(!i)return r;var a=Z(e)(r).indexes,s=Z(t)(r).indexes;if(a.indexOf(t)>-1)return r;!o.tryToFit&&s.length>1&&C(e,t,s,"row");var c=function(e,t,n,r){var o=E(e.node);return o=k(o,t,n,r),x(e.node,o)}(i,a,s,o.direction);return p(r).replaceWith(i.pos,i.pos+i.node.nodeSize,c)}},t.moveColumn=function(e,t,n){return function(r){var o=Object.assign({tryToFit:!1,direction:0},n),i=D(r.selection);if(!i)return r;var a=X(e)(r).indexes,s=X(t)(r).indexes;if(a.indexOf(t)>-1)return r;!o.tryToFit&&s.length>1&&C(e,t,s,"column");var c=function(e,t,n,r){var o=O(E(e.node));return o=k(o,t,n,r),o=O(o),x(e.node,o)}(i,a,s,o.direction);return p(r).replaceWith(i.pos,i.pos+i.node.nodeSize,c)}},t.addRowAt=function(e,t){return function(n){var r=D(n.selection);if(r){var o=i.TableMap.get(r.node),a=e-1;if(t&&a>=0)return p(H(a)(n));if(e>=0&&e<=o.height)return p(i.addRow(n,{map:o,tableStart:r.start,table:r.node},e))}return n}},t.cloneRowAt=H,t.removeColumnAt=V,t.removeRowAt=G,t.removeTable=K,t.removeSelectedColumns=function(e){var t=e.selection;if(z(t))return K(e);if(L(t)){var n=D(t);if(n){var r=i.TableMap.get(n.node),o=r.rectBetween(t.$anchorCell.pos-n.start,t.$headCell.pos-n.start);if(0==o.left&&o.right==r.width)return!1;for(var a=Object.assign({},o,{map:r,table:n.node,tableStart:n.start}),s=a.right-1;i.removeColumn(e,a,s),s!==a.left;s--)a.table=a.tableStart?e.doc.nodeAt(a.tableStart-1):e.doc,a.map=i.TableMap.get(a.table);return p(e)}}return e},t.removeSelectedRows=function(e){var t=e.selection;if(z(t))return K(e);if(L(t)){var n=D(t);if(n){var r=i.TableMap.get(n.node),o=r.rectBetween(t.$anchorCell.pos-n.start,t.$headCell.pos-n.start);if(0==o.top&&o.bottom==r.height)return!1;for(var a=Object.assign({},o,{map:r,table:n.node,tableStart:n.start}),s=a.bottom-1;i.removeRow(e,a,s),s!==a.top;s--)a.table=a.tableStart?e.doc.nodeAt(a.tableStart-1):e.doc,a.map=i.TableMap.get(a.table);return p(e)}}return e},t.removeColumnClosestToPos=function(e){return function(t){var n=Y(e);return n?V(n.left)(c(e.pos)(t)):t}},t.removeRowClosestToPos=function(e){return function(t){var n=Y(e);return n?G(n.top)(c(e.pos)(t)):t}},t.forEachCellInColumn=function(e,t,n){return function(o){var i=B(e)(o.selection);if(i){for(var a=i.length-1;a>=0;a--)o=t(i[a],o);if(n){var s=o.doc.resolve(o.mapping.map(i[i.length-1].pos));o.setSelection(r.Selection.near(s))}return p(o)}return o}},t.forEachCellInRow=function(e,t,n){return function(o){var i=F(e)(o.selection);if(i){for(var a=i.length-1;a>=0;a--)o=t(i[a],o);if(n){var s=o.doc.resolve(o.mapping.map(i[i.length-1].pos));o.setSelection(r.Selection.near(s))}}return o}},t.setCellAttrs=$,t.createTable=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=g(e),a=i.cell,s=i.header_cell,c=i.row,l=i.table,u=[],d=[],p=0;p<n;p++)u.push(y(a,o)),r&&d.push(y(s,o));for(var f=[],h=0;h<t;h++)f.push(c.createChecked(null,r&&0===h?d:u));return l.createChecked(null,f)},t.findCellClosestToPos=J,t.findCellRectClosestToPos=Y,t.getSelectionRangeInColumn=X,t.getSelectionRangeInRow=Z,t.removeParentNodeOfType=function(e){return function(t){var n=_(e)(t.selection);return n?m(n.pos)(t):t}},t.replaceParentNodeOfType=a,t.removeSelectedNode=function(e){if(u(e.selection)){var t=e.selection.$from.pos,n=e.selection.$to.pos;return p(e.delete(t,n))}return e},t.replaceSelectedNode=s,t.setTextSelection=c,t.safeInsert=l,t.setParentNodeMarkup=function(e,t,n,r){return function(o){var i=_(e)(o.selection);return i?p(o.setNodeMarkup(i.pos,t,Object.assign({},i.node.attrs,n),r)):o}},t.selectParentNodeOfType=function(e){return function(t){if(!u(t.selection)){var n=_(e)(t.selection);if(n)return p(t.setSelection(r.NodeSelection.create(t.doc,n.pos)))}return t}},t.removeNodeBefore=function(e){var t=I(e.selection);return"number"==typeof t?m(t)(e):e}},mIQt:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s});var r=n("mrSG"),o=n("5Ix2"),i=n("82gI"),a={CONTROLS_HOVER:"CONTROLS_HOVER"},s=r.__assign({},i.a,{COLUMN_CONTROLS_WRAPPER:o.m+"-column-controls-wrapper",COLUMN_CONTROLS:o.m+"-column-controls",COLUMN_CONTROLS_INNER:o.m+"-column-controls__inner",COLUMN_CONTROLS_BUTTON_WRAP:o.m+"-column-controls__button-wrap",ROW_CONTROLS_WRAPPER:o.m+"-row-controls-wrapper",ROW_CONTROLS:o.m+"-row-controls",ROW_CONTROLS_INNER:o.m+"-row-controls__inner",ROW_CONTROLS_BUTTON_WRAP:o.m+"-row-controls__button-wrap",CONTROLS_BUTTON:o.m+"-controls__button",CONTROLS_BUTTON_ICON:o.m+"-controls__button-icon",CONTROLS_INSERT_BUTTON:o.m+"-controls__insert-button",CONTROLS_INSERT_BUTTON_INNER:o.m+"-controls__insert-button-inner",CONTROLS_INSERT_BUTTON_WRAP:o.m+"-controls__insert-button-wrap",CONTROLS_INSERT_LINE:o.m+"-controls__insert-line",CONTROLS_BUTTON_OVERLAY:o.m+"-controls__button-overlay",LAYOUT_BUTTON:o.m+"-layout-button",CONTROLS_INSERT_MARKER:o.m+"-controls__insert-marker",CONTROLS_INSERT_COLUMN:o.m+"-controls__insert-column",CONTROLS_INSERT_ROW:o.m+"-controls__insert-row",CONTROLS_DELETE_BUTTON_WRAP:o.m+"-controls__delete-button-wrap",CONTROLS_DELETE_BUTTON:o.m+"-controls__delete-button",CORNER_CONTROLS:o.m+"-corner-controls",CONTROLS_CORNER_BUTTON:o.m+"-corner-button",NUMBERED_COLUMN:o.m+"-numbered-column",NUMBERED_COLUMN_BUTTON:o.m+"-numbered-column__button",HOVERED_CELL:o.m+"-hovered-cell",WITH_CONTROLS:o.m+"-with-controls",RESIZING_PLUGIN:o.m+"-resizing-plugin",RESIZE_CURSOR:o.m+"-resize-cursor",IS_RESIZING:o.m+"-is-resizing",CONTEXTUAL_SUBMENU:o.m+"-contextual-submenu",CONTEXTUAL_MENU_BUTTON_WRAP:o.m+"-contextual-menu-button-wrap",CONTEXTUAL_MENU_BUTTON:o.m+"-contextual-menu-button",CONTEXTUAL_MENU_ICON:o.m+"-contextual-submenu-icon",COLUMN_RESIZE_HANDLE:"column-resize-handle",SELECTED_CELL:"selectedCell",NODEVIEW_WRAPPER:"tableView-content-wrap",TABLE_CELL_NODE_WRAPPER:o.j,TABLE_HEADER_NODE_WRAPPER:o.l,CELL_NODEVIEW_WRAPPER:o.i,TOP_LEFT_CELL:"table > tbody > tr:nth-child(2) > td:nth-child(1)"})},mLKr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("pkjM"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M13.31 5.343l7.359 13.17A1 1 0 0 1 19.796 20H4.204a1 1 0 0 1-.873-1.488l7.36-13.169a1.5 1.5 0 0 1 2.618 0zM12 8.5a1.091 1.091 0 0 0-1.081 1.239l.513 3.766a.573.573 0 0 0 1.136 0l.513-3.766A1.091 1.091 0 0 0 12 8.5zm0 8.63a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorWarningIcon";var c=s;t.default=c},mScT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sizes=void 0;t.sizes={small:"16px",medium:"24px",large:"32px",xlarge:"48px"}},maOm:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"l",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"g",function(){return p}),n.d(t,"i",function(){return f}),n.d(t,"h",function(){return h}),n.d(t,"j",function(){return m}),n.d(t,"k",function(){return g}),n.d(t,"f",function(){return v});var r=n("mrSG"),o=n("ipvt"),i="media",a={componentName:"smart-cards",packageName:o.a,packageVersion:o.b},s=function(e,t){t&&t(e).fire(i)},c=function(e){return{action:"resolved",actionSubject:"smartLink",eventType:"operational",attributes:r.__assign({},a,e?{definitionId:e}:{})}},l=function(e,t){return{action:"unresolved",actionSubject:"smartLink",eventType:"operational",attributes:r.__assign({},a,t?{definitionId:t}:{},{reason:e})}},u=function(e){return{action:"connectSucceeded",actionSubject:"smartLink",eventType:"operational",attributes:r.__assign({},a,e?{definitionId:e}:{})}},d=function(e,t){return{action:"connectFailed",actionSubject:"smartLink",actionSubjectId:t,eventType:"operational",attributes:r.__assign({},a,t?{reason:t}:{},e?{definitionId:e}:{})}},p=function(e){return{action:"connected",actionSubject:"applicationAccount",eventType:"track",attributes:r.__assign({},a,e?{definitionId:e}:{})}},f=function(e,t){return{action:"clicked",actionSubject:"button",actionSubjectId:"connectAccount",eventType:"ui",attributes:r.__assign({},a,{definitionId:e,display:t})}},h=function(e,t){return{action:"clicked",actionSubject:"smartLink",actionSubjectId:"tryAnotherAccount",eventType:"ui",attributes:r.__assign({},a,{definitionId:e,display:t})}},m=function(e,t){return{action:"clicked",actionSubject:"smartLink",eventType:"ui",attributes:r.__assign({},a,{definitionId:e,display:t})}},g=function(e,t){return{action:"closed",actionSubject:"consentModal",eventType:"ui",attributes:r.__assign({},a,{definitionId:e,display:t})}},v=function(e){return{actionSubject:"consentModal",eventType:"screen",attributes:r.__assign({},a,{definitionId:e})}}},mrRf:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("JRPe"),o=Object(r.e)({noAccessWarning:{id:"fabric.mention.noAccess.warning",defaultMessage:"{name} won't be notified as they have no access",description:"Warning message to show that the mentioned user won't be notified"},noAccessLabel:{id:"fabric.mention.noAccess.label",defaultMessage:"No access",description:"Label for no access icon"},defaultHeadline:{id:"fabric.mention.error.defaultHeadline",defaultMessage:"Something went wrong",description:"Error message shown when there is an error communicating with backend"},defaultAdvisedAction:{id:"fabric.mention.error.defaultAction",defaultMessage:"Try again in a few seconds",description:"Default advised action when an error occurs"},loginAgain:{id:"fabric.mention.error.loginAgain",defaultMessage:"Try logging out then in again",description:"Login again message when there is an authentication error occurs"},differentText:{id:"fabric.mention.error.differentText",defaultMessage:"Try entering different text",description:"Enter different text message when a forbidden error occurs"},memberCountWithoutYou:{id:"fabric.elements.mentions.team.member.count",defaultMessage:"{count} {count, plural, one {member} other {members}}",description:"Byline to show the number of members in the team when the current user is not a member of the team"},memberCountWithYou:{id:"fabric.elements.mentions.team.member.count.including.you",defaultMessage:"{count} {count, plural, one {member} other {members}}, including you",description:"Byline to show the number of members in the team when the current user is also a member of the team"},plus50MembersWithoutYou:{id:"fabric.elements.mentions.team.member.50plus",defaultMessage:"50+ members",description:"Byline to show the number of members in the team when the number exceeds 50"},plus50MembersWithYou:{id:"fabric.elements.mentions.team.member.50plus.including.you",defaultMessage:"50+ members, including you",description:"Byline to show the number of members in the team when the number exceeds 50 and also includes the current user"}})},mzXR:function(e,t,n){"use strict";(function(e){var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=0;t.IS_UNIQUE="__DO_NOT_DEDUPE_STYLE__";for(var i=/[A-Z]/g,a=/^ms-/,s=/&/g,c=/[ !#$%&()*+,.\/;<=>?@[\]^`{|}~"'\\]/g,l=function(e){return"-"+e.toLowerCase()},u=["animation-iteration-count","box-flex","box-flex-group","column-count","counter-increment","counter-reset","flex","flex-grow","flex-positive","flex-shrink","flex-negative","font-weight","line-clamp","line-height","opacity","order","orphans","tab-size","widows","z-index","zoom","fill-opacity","stroke-dashoffset","stroke-opacity","stroke-width"],d=Object.create(null),p=0,f=["-webkit-","-ms-","-moz-","-o-",""];p<f.length;p++)for(var h=f[p],m=0,g=u;m<g.length;m++){d[h+g[m]]=!0}function v(e){return e.replace(i,l).replace(a,"-ms-")}function b(e){for(var t=5381,n=e.length;n--;)t=33*t^e.charCodeAt(n);return(t>>>0).toString(36)}function y(e,t){return"number"!=typeof t||0===t||d[e]?e+":"+t:e+":"+t+"px"}function w(e){return e.sort(function(e,t){return e[0]>t[0]?1:-1})}function O(e){return e.map(function(e){var t=e[0],n=e[1];return Array.isArray(n)?n.map(function(e){return y(t,e)}).join(";"):y(t,n)}).join(";")}function E(e,t){return e.indexOf("&")>-1?e.replace(s,t):t+" "+e}function x(e,n,r,i,a){var s=function(e,n){for(var r=[],o=[],i=!1,a=0,s=Object.keys(e);a<s.length;a++){var c=s[a],l=e[c];null!=l&&(c===t.IS_UNIQUE?i=!0:"object"!=typeof l||Array.isArray(l)?r.push([v(c.trim()),l]):o.push([c.trim(),l]))}return{styleString:O(w(r)),nestedStyles:n?o:w(o),isUnique:i}}(r,!!n),c=s.styleString,l=s.nestedStyles,u=s.isUnique,d=c;if(64===n.charCodeAt(0)){var p=e.add(new _(n,a?void 0:c,e.hash));if(c&&a){var f=p.add(new M(c,p.hash,u?"u"+(++o).toString(36):void 0));i.push([a,f])}for(var h=0,m=l;h<m.length;h++){var g=m[h];d+=(C=g[0])+x(p,C,g[1],i,a)}}else{var b=a?E(n,a):n;if(c){f=e.add(new M(c,e.hash,u?"u"+(++o).toString(36):void 0));i.push([b,f])}for(var y=0,k=l;y<k.length;y++){var C,S=k[y];d+=(C=S[0])+x(e,C,S[1],i,b)}}return d}function k(e,n,r,o,i){for(var a=new j(e.hash),s=[],c=x(a,n,r,s),l="f"+a.hash(c),u=i?i+"_"+l:l,d=0,p=s;d<p.length;d++){var f=p[d],h=f[0],m=f[1],g=o?E(h,"."+t.escape(u)):h;m.add(new T(g,m.hash,void 0,c))}return{cache:a,pid:c,id:u}}function C(e){for(var t="",n=0;n<e.length;n++)t+=e[n];return t}t.escape=function(e){return e.replace(c,"\\$&")},t.hyphenate=v,t.stringHash=b;var S={add:function(){},change:function(){},remove:function(){}},j=function(){function e(e,t){void 0===e&&(e=b),void 0===t&&(t=S),this.hash=e,this.changes=t,this.sheet=[],this.changeId=0,this._keys=[],this._children=Object.create(null),this._counters=Object.create(null)}return e.prototype.add=function(t){var n=this._counters[t.id]||0,r=this._children[t.id]||t.clone();if(this._counters[t.id]=n+1,0===n)this._children[r.id]=r,this._keys.push(r.id),this.sheet.push(r.getStyles()),this.changeId++,this.changes.add(r,this._keys.length-1);else{if(r.getIdentifier()!==t.getIdentifier())throw new TypeError("Hash collision: "+t.getStyles()+" === "+r.getStyles());var o=this._keys.indexOf(t.id),i=this._keys.length-1,a=this.changeId;if(o!==i&&(this._keys.splice(o,1),this._keys.push(t.id),this.changeId++),r instanceof e&&t instanceof e){var s=r.changeId;r.merge(t),r.changeId!==s&&this.changeId++}this.changeId!==a&&(o===i?this.sheet.splice(o,1,r.getStyles()):(this.sheet.splice(o,1),this.sheet.splice(i,0,r.getStyles())),this.changes.change(r,o,i))}return r},e.prototype.remove=function(t){var n=this._counters[t.id];if(n>0){this._counters[t.id]=n-1;var r=this._children[t.id],o=this._keys.indexOf(r.id);if(1===n)delete this._counters[t.id],delete this._children[t.id],this._keys.splice(o,1),this.sheet.splice(o,1),this.changeId++,this.changes.remove(r,o);else if(r instanceof e&&t instanceof e){var i=r.changeId;r.unmerge(t),r.changeId!==i&&(this.sheet.splice(o,1,r.getStyles()),this.changeId++,this.changes.change(r,o,o))}}},e.prototype.merge=function(e){for(var t=0,n=e._keys;t<n.length;t++){var r=n[t];this.add(e._children[r])}return this},e.prototype.unmerge=function(e){for(var t=0,n=e._keys;t<n.length;t++){var r=n[t];this.remove(e._children[r])}return this},e.prototype.clone=function(){return new e(this.hash).merge(this)},e}();t.Cache=j;var T=function(){function e(e,t,n,r){void 0===n&&(n="s"+t(e)),void 0===r&&(r=""),this.selector=e,this.hash=t,this.id=n,this.pid=r}return e.prototype.getStyles=function(){return this.selector},e.prototype.getIdentifier=function(){return this.pid+"."+this.selector},e.prototype.clone=function(){return new e(this.selector,this.hash,this.id,this.pid)},e}();t.Selector=T;var M=function(e){function t(t,n,r){void 0===r&&(r="c"+n(t));var o=e.call(this,n)||this;return o.style=t,o.hash=n,o.id=r,o}return r(t,e),t.prototype.getStyles=function(){return this.sheet.join(",")+"{"+this.style+"}"},t.prototype.getIdentifier=function(){return this.style},t.prototype.clone=function(){return new t(this.style,this.hash,this.id).merge(this)},t}(j);t.Style=M;var _=function(e){function t(t,n,r,o,i){void 0===n&&(n=""),void 0===o&&(o="a"+r(t+"."+n)),void 0===i&&(i="");var a=e.call(this,r)||this;return a.rule=t,a.style=n,a.hash=r,a.id=o,a.pid=i,a}return r(t,e),t.prototype.getStyles=function(){return this.rule+"{"+this.style+C(this.sheet)+"}"},t.prototype.getIdentifier=function(){return this.pid+"."+this.rule+"."+this.style},t.prototype.clone=function(){return new t(this.rule,this.style,this.hash,this.id,this.pid).merge(this)},t}(j);t.Rule=_;var I=function(n){function i(t,r,i,a){void 0===t&&(t=b),void 0===r&&(r=void 0!==e&&!1),void 0===i&&(i="f"+(++o).toString(36));var s=n.call(this,t,a)||this;return s.hash=t,s.debug=r,s.id=i,s}return r(i,n),i.prototype.registerStyle=function(e,t){var n=k(this,"&",e,!0,this.debug?t:void 0),r=n.cache,o=n.id;return this.merge(r),o},i.prototype.registerKeyframes=function(e,t){return this.registerHashRule("@keyframes",e,t)},i.prototype.registerHashRule=function(e,n,r){var o=k(this,"",n,!1,this.debug?r:void 0),i=o.cache,a=o.pid,s=o.id,c=new _(e+" "+t.escape(s),void 0,this.hash,void 0,a);return this.add(c.merge(i)),s},i.prototype.registerRule=function(e,t){this.merge(k(this,e,t,!1).cache)},i.prototype.registerCss=function(e){this.merge(k(this,"",e,!1).cache)},i.prototype.getStyles=function(){return C(this.sheet)},i.prototype.getIdentifier=function(){return this.id},i.prototype.clone=function(){return new i(this.hash,this.debug,this.id,this.changes).merge(this)},i}(j);t.FreeStyle=I,t.create=function(e,t,n){return new I(e,t,void 0,n)}}).call(this,n("8oxB"))},na7B:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("mrSG");function o(e,t){return function e(t,n,o,i){var a=o[t.type]||o.any;var s=r.__assign({},t);if(a){var c=a(r.__assign({},s),n,i);if(!1===c)return!1;s=c||t}s.content&&(s.content=s.content.reduce(function(t,r,i){var a=e(r,{node:s,parent:n},o,i);return!1!==a&&t.push(a),t},[]));return s}(e,{node:void 0},t,0)}},nkeG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M9.414 8l3.293 3.293c.187.187.293.442.293.707v5a1 1 0 0 1-2 0v-4.586l-3-3V10.5a1 1 0 0 1-2 0V7a1 1 0 0 1 1-1h3.5a1 1 0 0 1 0 2H9.414zm8.293-1.707a.999.999 0 0 1 0 1.414l-2.5 2.5a.997.997 0 0 1-1.414 0 .999.999 0 0 1 0-1.414l2.5-2.5a.999.999 0 0 1 1.414 0z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorDecisionIcon";var c=s;t.default=c},ntQv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M7 11h10a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm2.5 4h5a1 1 0 0 1 0 2h-5a1 1 0 0 1 0-2zm0-8h5a1 1 0 0 1 0 2h-5a1 1 0 1 1 0-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorAlignCenterIcon";var c=s;t.default=c},o9vd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M15.148 6.852a.502.502 0 0 1 .708.004l2.288 2.288a.5.5 0 0 1 .004.708L11 17l-3-3 7.148-7.148zM7 15l3 3-3.51.877c-.27.068-.436-.092-.367-.367L7 15z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorEditIcon";var c=s;t.default=c},oKGv:function(e,t,n){"use strict";var r,o=n("mrSG"),i=n("q1tI"),a=n.n(i),s=n("vOnD"),c=n("gxo2"),l=n("JaVE"),u=n("b0Qh"),d=s.default.span(r||(r=o.__makeTemplateObject(["\n  flex: 0 0 16px;\n  width: 16px;\n  height: 16px;\n  position: relative;\n  align-self: start;\n  margin: 2px ","px 0 0;\n\n  & > input[type='checkbox'] {\n    position: absolute;\n    outline: none;\n    margin: 0;\n    opacity: 0;\n    left: 0;\n    top: 50%;\n    transform: translateY(-50%);\n\n    + label {\n      box-sizing: border-box;\n      display: block;\n      position: relative;\n      width: 100%;\n      cursor: pointer;\n\n      &::after {\n        background: ","\n        background-size: 16px;\n        border-radius: 3px;\n        border-style: solid;\n        border-width: 1px;\n        border-color: ","\n        box-sizing: border-box;\n        content: '';\n        height: 16px;\n        left: 50%;\n        position: absolute;\n        transition: border-color 0.2s ease-in-out;\n        top: 8px;\n        width: 16px;\n        transform: translate(-50%, -50%);\n      }\n    }\n    &:not([disabled]) + label:hover::after {\n      background: ","\n      transition: border 0.2s ease-in-out;\n    }\n    &[disabled] + label {\n      opacity: 0.5;\n      cursor: default;\n    }\n    &:checked {\n      + label::after {\n        background: url(data:image/svg+xml;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDEyIDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICA8cmVjdCB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJ4PSIyIiBmaWxsPSIjMDA1MkNDIj48L3JlY3Q+DQogIDxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik05LjM3NCA0LjkxNEw1LjQ1NiA4LjgzMmEuNzY5Ljc2OSAwIDAgMS0xLjA4OCAwTDIuNjI2IDcuMDkxYS43NjkuNzY5IDAgMSAxIDEuMDg4LTEuMDg5TDQuOTEyIDcuMmwzLjM3NC0zLjM3NGEuNzY5Ljc2OSAwIDEgMSAxLjA4OCAxLjA4OCI+PC9wYXRoPg0KPC9zdmc+)\n          no-repeat 0 0;\n        background-size: 16px;\n        border: 0;\n        border-color: transparent;\n        border-radius: 0; /* FS-1392 */\n      }\n      &:not([disabled]) + label:hover::after {\n        background: url(data:image/svg+xml;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDEyIDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICA8cmVjdCB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJ4PSIyIiBmaWxsPSIjMDc0N0E2Ij48L3JlY3Q+DQogIDxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik05LjM3NCA0LjkxNEw1LjQ1NiA4LjgzMmEuNzY5Ljc2OSAwIDAgMS0xLjA4OCAwTDIuNjI2IDcuMDkxYS43NjkuNzY5IDAgMSAxIDEuMDg4LTEuMDg5TDQuOTEyIDcuMmwzLjM3NC0zLjM3NGEuNzY5Ljc2OSAwIDEgMSAxLjA4OCAxLjA4OCI+PC9wYXRoPg0KPC9zdmc+)\n          no-repeat 0 0;\n        background-size: 16px;\n      }\n    }\n  }\n"],["\n  flex: 0 0 16px;\n  width: 16px;\n  height: 16px;\n  position: relative;\n  align-self: start;\n  margin: 2px ","px 0 0;\n\n  & > input[type='checkbox'] {\n    position: absolute;\n    outline: none;\n    margin: 0;\n    opacity: 0;\n    left: 0;\n    top: 50%;\n    transform: translateY(-50%);\n\n    + label {\n      box-sizing: border-box;\n      display: block;\n      position: relative;\n      width: 100%;\n      cursor: pointer;\n\n      &::after {\n        background: ","\n        background-size: 16px;\n        border-radius: 3px;\n        border-style: solid;\n        border-width: 1px;\n        border-color: ","\n        box-sizing: border-box;\n        content: '';\n        height: 16px;\n        left: 50%;\n        position: absolute;\n        transition: border-color 0.2s ease-in-out;\n        top: 8px;\n        width: 16px;\n        transform: translate(-50%, -50%);\n      }\n    }\n    &:not([disabled]) + label:hover::after {\n      background: ","\n      transition: border 0.2s ease-in-out;\n    }\n    &[disabled] + label {\n      opacity: 0.5;\n      cursor: default;\n    }\n    &:checked {\n      + label::after {\n        background: url(data:image/svg+xml;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDEyIDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICA8cmVjdCB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJ4PSIyIiBmaWxsPSIjMDA1MkNDIj48L3JlY3Q+DQogIDxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik05LjM3NCA0LjkxNEw1LjQ1NiA4LjgzMmEuNzY5Ljc2OSAwIDAgMS0xLjA4OCAwTDIuNjI2IDcuMDkxYS43NjkuNzY5IDAgMSAxIDEuMDg4LTEuMDg5TDQuOTEyIDcuMmwzLjM3NC0zLjM3NGEuNzY5Ljc2OSAwIDEgMSAxLjA4OCAxLjA4OCI+PC9wYXRoPg0KPC9zdmc+)\n          no-repeat 0 0;\n        background-size: 16px;\n        border: 0;\n        border-color: transparent;\n        border-radius: 0; /* FS-1392 */\n      }\n      &:not([disabled]) + label:hover::after {\n        background: url(data:image/svg+xml;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDEyIDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICA8cmVjdCB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJ4PSIyIiBmaWxsPSIjMDc0N0E2Ij48L3JlY3Q+DQogIDxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik05LjM3NCA0LjkxNEw1LjQ1NiA4LjgzMmEuNzY5Ljc2OSAwIDAgMS0xLjA4OCAwTDIuNjI2IDcuMDkxYS43NjkuNzY5IDAgMSAxIDEuMDg4LTEuMDg5TDQuOTEyIDcuMmwzLjM3NC0zLjM3NGEuNzY5Ljc2OSAwIDEgMSAxLjA4OCAxLjA4OCI+PC9wYXRoPg0KPC9zdmc+)\n          no-repeat 0 0;\n        background-size: 16px;\n      }\n    }\n  }\n"])),Object(c.l)(),Object(l.a)({light:u.colors.N0,dark:u.colors.DN10}),Object(l.a)({light:u.colors.N50,dark:u.colors.DN70}),Object(l.a)({light:u.colors.N30,dark:u.colors.B75})),p=n("lGzI"),f=n("pVnL"),h=n.n(f),m=n("cDf5"),g=n.n(m),v=n("MVZn"),b=n.n(v),y=n("lwsE"),w=n.n(y),O=n("W8MJ"),E=n.n(O),x=n("a1gu"),k=n.n(x),C=n("Nsbk"),S=n.n(C),j=n("PJYZ"),T=n.n(j),M=n("7W2i"),_=n.n(M),I=n("lSNA"),P=n.n(I),A=n("17x9"),N=n.n(A),R=n("RIqP"),D=n.n(R),L=n("iWIM"),z=n.n(L),B=function(){function e(t){var n=this;w()(this,e),P()(this,"payload",void 0),P()(this,"clone",function(){return new e({payload:JSON.parse(JSON.stringify(n.payload))})}),this.payload=t.payload}return E()(e,[{key:"update",value:function(e){return"function"==typeof e?this.payload=e(this.payload):"object"===g()(e)&&(this.payload=b()({},this.payload,e)),this}}]),e}(),F=console.warn,q=function(e){function t(e){var n;return w()(this,t),n=k()(this,S()(t).call(this,e)),P()(T()(n),"context",void 0),P()(T()(n),"handlers",void 0),P()(T()(n),"hasFired",void 0),P()(T()(n),"clone",function(){return n.hasFired?(F("Cannot clone an event after it's been fired."),null):new t({context:D()(n.context),handlers:D()(n.handlers),payload:JSON.parse(JSON.stringify(n.payload))})}),P()(T()(n),"fire",function(e){n.hasFired?F("Cannot fire an event twice."):(n.handlers.forEach(function(t){t(T()(n),e)}),n.hasFired=!0)}),n.context=e.context||[],n.handlers=e.handlers||[],n.hasFired=!1,n}return _()(t,e),E()(t,[{key:"update",value:function(e){return this.hasFired?(F("Cannot update an event after it's been fired."),this):z()(S()(t.prototype),"update",this).call(this,e)}}]),t}(B),W=function(e){function t(e){var n;return w()(this,t),n=k()(this,S()(t).call(this,e)),P()(T()(n),"originalEventProps",{}),P()(T()(n),"patchedEventProps",{}),P()(T()(n),"updatePatchedEventProps",function(e){var t=Object.keys(n.props.createEventMap).filter(function(t){return n.originalEventProps[t]!==e[t]});return t.length>0&&(n.patchedEventProps=b()({},n.patchedEventProps,n.mapCreateEventsToProps(t,e)),t.forEach(function(t){n.originalEventProps[t]=e[t]})),n.patchedEventProps}),P()(T()(n),"mapCreateEventsToProps",function(e,t){return e.reduce(function(e,r){var o=n.props.createEventMap[r],i=t[r];if(!["object","function"].includes(g()(o)))return e;return b()({},e,P()({},r,function(){var e="function"==typeof o?o(n.createAnalyticsEvent,t):n.createAnalyticsEvent(o);if(i){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];i.apply(void 0,a.concat([e]))}}))},{})}),P()(T()(n),"createAnalyticsEvent",function(e){var t=n.context,r=t.getAtlaskitAnalyticsEventHandlers,o=t.getAtlaskitAnalyticsContext,i="function"==typeof o&&o()||[],a="function"==typeof r&&r()||[];return new q({context:i,handlers:a,payload:e})}),Object.keys(n.props.createEventMap).forEach(function(t){n.originalEventProps[t]=e.wrappedComponentProps[t]}),n.patchedEventProps=n.mapCreateEventsToProps(Object.keys(n.props.createEventMap),e.wrappedComponentProps),n}return _()(t,e),E()(t,[{key:"render",value:function(){var e=this.updatePatchedEventProps(this.props.wrappedComponentProps);return this.props.children({createAnalyticsEvent:this.createAnalyticsEvent,patchedEventProps:e})}}]),t}(i.Component);function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=a.a.forwardRef(function(n,r){return a.a.createElement(W,{createEventMap:e,wrappedComponentProps:n},function(e){var o=e.createAnalyticsEvent,i=e.patchedEventProps;return a.a.createElement(t,h()({},n,i,{createAnalyticsEvent:o,ref:r}))})});return n.displayName="WithAnalyticsEvents(".concat(t.displayName||t.name,")"),n}}P()(W,"contextTypes",{getAtlaskitAnalyticsEventHandlers:N.a.func,getAtlaskitAnalyticsContext:N.a.func}),P()(W,"defaultProps",{createEventMap:{}});var H,V=(H="fabric-elements",function(e){return function(t){var n=t(e);return n.clone().fire(H),n}}),G=0,K=function(e){return e+"-"+G++},$=function(e){function t(t){var n=e.call(this,t)||this;return n.handleOnChange=function(e){var t=n.props,r=t.onChange,o=t.taskId,i=t.isDone,a=t.createAnalyticsEvent,s=!i;r&&r(o,s),a&&V({action:s?"checked":"unchecked",actionSubject:"action",eventType:"ui",attributes:{localId:o}})(a)},n.checkBoxId=K(t.taskId),n}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){e.taskId!==this.props.taskId&&(this.checkBoxId=K(e.taskId))},t.prototype.getAttributionText=function(){var e=this.props,t=e.creator,n=e.lastUpdater;return e.isDone&&n?"Completed by "+n.displayName:t&&t.displayName?"Added by "+t.displayName:void 0},t.prototype.render=function(){var e=this.props,t=e.appearance,n=e.isDone,r=e.contentRef,o=e.children,a=e.placeholder,s=e.showPlaceholder,c=e.disabled,l=i.createElement(d,{contentEditable:!1},i.createElement("input",{id:this.checkBoxId,name:this.checkBoxId,type:"checkbox",onChange:this.handleOnChange,checked:!!n,disabled:!!c,suppressHydrationWarning:!0}),i.createElement("label",{htmlFor:this.checkBoxId,suppressHydrationWarning:!0}));return i.createElement(p.a,{appearance:t,contentRef:r,icon:l,placeholder:a,showPlaceholder:s,attribution:this.getAttributionText()},o)},t.defaultProps={appearance:"inline"},t}(i.PureComponent),J=U()($),Y=n("HQ3m"),Q=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.onUpdate=function(e){n.setState({isDone:"DONE"===e})},n.handleOnChange=function(e,t){var r=n.props,o=r.taskDecisionProvider,i=r.objectAri,a=r.containerAri,s=r.onChange;n.setState({isDone:t}),o&&a&&i?o.then(function(r){n.mounted&&(r.toggleTask({localId:e,objectAri:i,containerAri:a},t?"DONE":"TODO"),s&&s(e,t),t&&n.setState({lastUpdater:r.getCurrentUser?r.getCurrentUser():void 0}))}):s&&s(e,t)},n.state={isDone:t.isDone,lastUpdater:t.lastUpdater},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.subscribe(this.props.taskDecisionProvider,this.props.containerAri,this.props.objectAri)},t.prototype.componentWillReceiveProps=function(e){e.taskDecisionProvider===this.props.taskDecisionProvider&&e.containerAri===this.props.containerAri&&e.objectAri===this.props.objectAri||(this.unsubscribe(),this.subscribe(e.taskDecisionProvider,e.containerAri,e.objectAri))},t.prototype.componentWillUnmount=function(){this.unsubscribe(),this.mounted=!1},t.prototype.subscribe=function(e,t,n){var r=this;e&&t&&n&&e.then(function(e){if(r.mounted){var o=r.props.taskId;e.subscribe({localId:o,objectAri:n,containerAri:t},r.onUpdate)}})},t.prototype.unsubscribe=function(){var e=this,t=this.props,n=t.taskDecisionProvider,r=t.taskId,o=t.objectAri,i=t.containerAri;n&&i&&o&&n.then(function(t){t.unsubscribe({localId:r,objectAri:o,containerAri:i},e.onUpdate)})},t.prototype.render=function(){var e=this.state,t=e.isDone,n=e.lastUpdater,r=this.props,o=r.appearance,a=r.children,s=r.containerAri,c=r.contentRef,l=r.creator,u=r.objectAri,d=r.showPlaceholder,p=r.placeholder,f=r.taskId,h=r.disabled;return i.createElement(Y.e,{data:{containerAri:s,objectAri:u}},i.createElement(J,{isDone:t,taskId:f,onChange:this.handleOnChange,appearance:o,contentRef:c,showPlaceholder:d,placeholder:p,creator:l,lastUpdater:n,disabled:h},a))},t.defaultProps={appearance:"inline"},t}(i.PureComponent);t.a=Q},oNoR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M18.062 11L16.5 9.914A1 1 0 1 1 17.914 8.5l2.616 2.616c.28.167.47.5.47.884s-.19.717-.47.884L17.914 15.5a1 1 0 0 1-1.414-1.414L18.062 13h-3.68c-.487 0-.882-.448-.882-1s.395-1 .882-1h3.68zM3.47 12.884c-.28-.167-.47-.5-.47-.884s.19-.717.47-.884L6.086 8.5A1 1 0 0 1 7.5 9.914L5.938 11h3.68c.487 0 .882.448.882 1s-.395 1-.882 1h-3.68L7.5 14.086A1 1 0 0 1 6.086 15.5L3.47 12.884z" fill="currentColor"/></svg>'},e))};s.displayName="EditorExpandIcon";var c=s;t.default=c},oo6x:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M18 5h1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1zM5 5h9a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorLayoutTwoRightSidebarIcon";var c=s;t.default=c},osD9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("NYRk"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><path d="M12.02 8h-.04A1.98 1.98 0 0 0 10 9.98V11h1V9.99a.99.99 0 0 1 .99-.99h.02a.99.99 0 0 1 .99.99V11h1V9.98A1.98 1.98 0 0 0 12.02 8M10 11h1v1h-1zm3 0h1v1h-1zm0 1h-3a1 1 0 0 0-1 1v2.001a1 1 0 0 0 .991.999h4.018a.992.992 0 0 0 .991-.999V13a1 1 0 0 0-1-1h-1z" fill="inherit"/></g></svg>'},e))};s.displayName="LockCircleIcon";var c=s;t.default=c},oteu:function(e,t,n){"use strict";var r=n("mrSG"),o=n("cr+I"),i=n("dlBi");function a(e,t,n){void 0===t&&(t={});var r=t.method,o=void 0===r?"GET":r,i=t.auth,a=t.params,s=t.headers,c=t.body,l=function(e){if(e.ok||e.redirected)return e;throw e};return"GET"===o?fetch(u(e,{params:a,auth:i}),{method:o,body:c,headers:s,signal:n&&n.signal}).then(l):fetch(u(e,{params:a}),{method:o,body:c,headers:d(i)(s)}).then(l)}function s(e){return e.json()}function c(e){return e.blob()}function l(e){return Promise.resolve()}function u(e,t){var n=t.params,a=t.auth,s=function(e){var t=e.indexOf("?");return t>0?{baseUrl:e.substring(0,t),queryParams:Object(o.parse)(e.substring(t+1,e.length))}:{baseUrl:e}}(e),c=s.baseUrl,l=s.queryParams,u=a&&function(e){return Object(i.isClientBasedAuth)(e)?{client:e.clientId,token:e.token}:{issuer:e.asapIssuer,token:e.token}}(a),d=Object(o.stringify)(Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},l),n),u));return c+(d.length>0?"?"+d:"")}function d(e){return function(t){return e?Object(r.__assign)(Object(r.__assign)({},t||{}),function(e){return Object(i.isClientBasedAuth)(e)?{"X-Client-Id":e.clientId,Authorization:"Bearer "+e.token}:{"X-Issuer":e.asapIssuer,Authorization:"Bearer "+e.token}}(e)):t}}n.d(t,"e",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return u})},p37s:function(e,t,n){"use strict";n.d(t,"b",function(){return g});var r=n("mrSG"),o=n("q1tI"),i=n("JRPe"),a=n("Kltz"),s=n.n(a),c=n("YF+z"),l=n.n(c),u=n("dvq/"),d=n("hksT"),p=n("AaNc"),f=n("x9Zv"),h=n("H4Ui"),m=n("hkcA"),g=Object(i.e)({bold:{id:"fabric.editor.bold",defaultMessage:"Bold",description:"This refers to bold or strong formatting, indicates that its contents have strong importance, seriousness, or urgency."},italic:{id:"fabric.editor.italic",defaultMessage:"Italic",description:"This refers to italics or emphasized formatting."}}),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleBoldClick=Object(u.a)("atlassian.editor.format.strong.button",function(){if(!t.props.textFormattingState.strongDisabled){var e=t.props.editorView,n=e.state,r=e.dispatch;return Object(h.g)({inputMethod:m.e.TOOLBAR})(n,r)}return!1}),t.handleItalicClick=Object(u.a)("atlassian.editor.format.em.button",function(){if(!t.props.textFormattingState.emDisabled){var e=t.props.editorView,n=e.state,r=e.dispatch;return Object(h.e)({inputMethod:m.e.TOOLBAR})(n,r)}return!1}),t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.disabled,n=e.isReducedSpacing,r=e.textFormattingState,i=e.intl.formatMessage,a=r.strongHidden,c=r.strongActive,u=r.strongDisabled,h=r.emHidden,m=r.emActive,v=r.emDisabled,b=i(g.bold),y=i(g.italic);return o.createElement(f.b,{width:n?"small":"large"},a?null:o.createElement(p.a,{spacing:n?"none":"default",onClick:this.handleBoldClick,selected:c,disabled:t||u,title:Object(d.S)(d.K,b),iconBefore:o.createElement(s.a,{label:b})}),h?null:o.createElement(p.a,{spacing:n?"none":"default",onClick:this.handleItalicClick,selected:m,disabled:t||v,title:Object(d.S)(d.N,y),iconBefore:o.createElement(l.a,{label:y})}))},t}(o.PureComponent);t.a=Object(i.f)(v)},pGlG:function(e){e.exports={a:"@atlaskit/tooltip",b:"15.1.1"}},pLeS:function(e,t,n){var r=n("yNUO");e.exports=function(e){var t=r(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}},pMm4:function(e,t,n){"use strict";var r=n("pVnL"),o=n.n(r),i=n("lwsE"),a=n.n(i),s=n("W8MJ"),c=n.n(s),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),p=n.n(d),f=n("7W2i"),h=n.n(f),m=n("lSNA"),g=n.n(m),v=n("q1tI"),b=n.n(v),y=n("vOnD"),w=n("GuH9"),O=n("ZeO0"),E=n("QETz"),x=n("gxo2"),k=n("73wN"),C=n("xxZo"),S=Object(x.l)()/2,j="".concat(S,"px"),T=y.default.div.withConfig({displayName:"AvatarGroup__Grid",componentId:"sc-19dfd4t-0"})(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  line-height: 1;\n  margin-left: -",";\n  margin-right: -",";\n\n  > * {\n    margin-bottom: ",";\n    padding-left: ",";\n    padding-right: ",";\n  }\n"],j,j,x.l,j,j),M=y.default.div.withConfig({displayName:"AvatarGroup__Stack",componentId:"sc-19dfd4t-1"})(["\n  display: flex;\n  line-height: 1;\n  /* Balance the negative margin of the children */\n  margin-right: ","px;\n\n  > * {\n    margin-right: -","px;\n  }\n"],function(e){return 2*C.c[e.size]+S},function(e){return 2*C.c[e.size]+S});var _=n("AB+3"),I=n("p/aY"),P=n("kMZk"),A=n("JaVE"),N=n("66Jq"),R={small:10,medium:11,large:12,xlarge:16},D=Object(P.a)(y.default.button.withConfig({displayName:"MoreIndicator__Outer",componentId:"sc-1l94pmy-0"})(["\n  "," background: 0;\n"],N.b)),L=Object(P.a)(y.default.span.withConfig({displayName:"MoreIndicator__Inner",componentId:"sc-1l94pmy-1"})(["\n  background-color: ",";\n  border-radius: ",";\n  align-items: center;\n  box-shadow: 0 0 0 "," ",";\n  color: ",";\n  cursor: pointer;\n  display: flex;\n  flex-basis: 100%;\n  flex-grow: 1;\n  font-size: ","px;\n  justify-content: center;\n  transition: box-shadow 200ms;\n"],Object(A.a)({light:k.N40,dark:k.DN70}),N.a,function(e){return e.isFocus&&!e.isActive?"".concat(C.c[e.size],"px"):0},k.B200,Object(A.a)({light:k.N500,dark:k.DN400}),function(e){return R[e.size]})),z=function(e){function t(){return a()(this,t),u()(this,p()(t).apply(this,arguments))}return h()(t,e),c()(t,[{key:"render",value:function(){var e=this.props.count,t=Object(_.a)(this),n=this.props,r={appearance:n.appearance,isActive:n.isActive,isFocus:n.isFocus,isHover:n.isHover,size:n.size},i=e>99?99:e;return b.a.createElement(D,o()({},t,{isInteractive:!0}),b.a.createElement(L,r,"+",i))}}]),t}(v.Component);g()(z,"defaultProps",{appearance:"circle"});var B=Object(I.a)(z),F=n("t7+/"),q=n("qaq/"),W={bottom:1,left:Object(q.multiply)(x.l,1.5),right:Object(q.multiply)(x.l,1.5),top:1},U={borderRadius:"0px",default:{background:k.backgroundOnLayer,text:k.N900},active:{text:k.N900,background:k.backgroundActive},padding:{default:W,compact:W}},H=g()({},F.e,U),V=n("QILm"),G=n.n(V),K=n("WvSQ"),$=function(e){function t(){return a()(this,t),u()(this,p()(t).apply(this,arguments))}return h()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.avatar,n=e.onAvatarClick,r=t.href,i=G()(t,["href"]),a=Object(_.a)(this);return b.a.createElement(K.a,o()({isInteractive:!0},a,{elemBefore:b.a.createElement(E.a,o()({},i,{borderColor:"transparent",enableTooltip:!1,size:"small"})),href:r,onClick:function(e){"function"==typeof n&&n({event:e,item:t})},rel:t.target?"noopener noreferrer":null,target:t.target}),t.name)}}]),t}(v.Component),J=Object(I.a)($);n.d(t,"a",function(){return X});var Y={grid:T,stack:M},Q={grid:11,stack:5},X=function(e){function t(){return a()(this,t),u()(this,p()(t).apply(this,arguments))}return h()(t,e),c()(t,[{key:"renderMoreDropdown",value:function(e,t){var n=this.props,r=n.appearance,i=n.data,a=n.borderColor,s=n.onMoreClick,c=n.showMoreButtonProps,l=n.onAvatarClick,u=n.size,d=n.boundariesElement;if(t<=e)return null;var p=function(n){return b.a.createElement(B,o()({},c,{borderColor:a,count:t-e,isInteractive:!0,isStack:"stack"===r,size:u},n))};if("function"==typeof s)return b.a.createElement(p,{onClick:s});var f=i.slice(e).map(function(e,t){return b.a.createElement(J,{isInteractive:!0,avatar:e,key:t,onAvatarClick:l})});return b.a.createElement(w.a,{trigger:b.a.createElement(p,null),position:"bottom right",boundariesElement:d,shouldFlip:!0},b.a.createElement(y.ThemeProvider,{theme:H},b.a.createElement(O.a,null,f)))}},{key:"render",value:function(){var e=this.props,t=e.avatar,n=e.appearance,r=e.borderColor,i=e.data,a=e.maxCount,s=e.onAvatarClick,c=e.size,l=0===a?Q[n]:a,u=i.length,d=Y[n],p=u>l?l-1:l,f=i.slice(0,p).map(function(e,i){return b.a.createElement(t,o()({},e,{borderColor:r,groupAppearance:n,index:i,key:i,onClick:e.onClick||s,size:c,stackIndex:l-i}))});return b.a.createElement(d,{size:c},f,this.renderMoreDropdown(+p,u))}}]),t}(v.Component);g()(X,"defaultProps",{appearance:"stack",avatar:E.a,maxCount:0,showMoreButtonProps:{},size:"medium"})},pqbV:function(e,t,n){"use strict";var r=n("mrSG"),o=n("17x9"),i=n("q1tI"),a=n("VekA"),s=n("anbf"),c=n("Yogy"),l=n("xy1K"),u=n("L6cg"),d=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.mounted=!1,r.handleLoadError=function(e,t){!r.state.invalidImage&&t&&r.setState({cachedEmoji:r.loadEmoji(t,r.context,!0)})},r.state={cachedEmoji:r.loadEmoji(t.emoji,n,!1)},r}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.UNSAFE_componentWillReceiveProps=function(e,t){e.emoji!==this.props.emoji&&this.mounted&&this.setState({cachedEmoji:this.loadEmoji(e.emoji,t,!1)})},t.prototype.loadEmoji=function(e,t,n){var r=this;if(t.emoji){var o=t.emoji.emojiProvider;if(o){var i=this.props.fitToHeight,l=Object(a.d)(e,i);if(o.optimisticMediaRendering(e,l)&&!n)return Object(c.a)("Optimistic rendering",e.shortName),e;Object(c.a)("Loading image via media cache",e.shortName);var u=o.loadMediaEmoji(e,l);if(!Object(s.n)(u))return Object(s.f)(u)?u:void 0;u.then(function(e){r.mounted&&r.setState({cachedEmoji:e,invalidImage:!e})}).catch(function(){r.mounted&&r.setState({cachedEmoji:void 0,invalidImage:!0})})}}},t.prototype.render=function(){var e,t=this.state.cachedEmoji,n=this.props,o=(n.children,n.placeholderSize,Object(r.__rest)(n,["children","placeholderSize"]));if(t)e=i.createElement(l.a,Object(r.__assign)({},o,{emoji:t,onLoadError:this.handleLoadError}));else{var a=this.props,s=a.emoji,c=a.placeholderSize,d=a.showTooltip,p=a.fitToHeight,f=s.shortName,h=s.representation;e=i.createElement(u.a,{size:p||c,shortName:f,showTooltip:d,representation:h})}return e},t.contextTypes={emoji:o.object},t}(i.PureComponent);t.a=function(e){e.placeholderSize;var t=Object(r.__rest)(e,["placeholderSize"]);return Object(s.k)(e.emoji)?i.createElement(d,Object(r.__assign)({},e)):i.createElement(l.a,Object(r.__assign)({},t))}},pwwv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M13.31 5.343l7.359 13.17A1 1 0 0 1 19.796 20H4.204a1 1 0 0 1-.873-1.488l7.36-13.169a1.5 1.5 0 0 1 2.618 0zM12 8.5a1.091 1.091 0 0 0-1.081 1.239l.513 3.766a.573.573 0 0 0 1.136 0l.513-3.766A1.091 1.091 0 0 0 12 8.5zm0 8.63a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorWarningIcon";var c=s;t.default=c},"qS+/":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r,o=n("mrSG"),i=n("vOnD"),a=Object(i.css)(r||(r=o.__makeTemplateObject(["\n  & h1 {\n    line-height: 1.167;\n    font-size: 1.714em;\n    margin-top: 1.667em;\n    margin-bottom: 0;\n  }\n\n  & h2 {\n    line-height: 1.2;\n    font-size: 1.429em;\n    margin-top: 1.8em;\n    margin-bottom: 0;\n  }\n\n  & h3 {\n    line-height: 1.25;\n    font-size: 1.143em;\n    margin-top: 2em;\n    margin-bottom: 0;\n  }\n\n  & h4 {\n    line-height: 1.429;\n    font-size: 1em;\n    margin-top: 1.357em;\n  }\n\n  & h5 {\n    line-height: 1.333;\n    font-size: 0.857em;\n    margin-top: 1.667em;\n  }\n\n  & h6 {\n    line-height: 1.455;\n    font-size: 0.786em;\n    margin-top: 1.455em;\n  }\n"],["\n  & h1 {\n    line-height: 1.167;\n    font-size: 1.714em;\n    margin-top: 1.667em;\n    margin-bottom: 0;\n  }\n\n  & h2 {\n    line-height: 1.2;\n    font-size: 1.429em;\n    margin-top: 1.8em;\n    margin-bottom: 0;\n  }\n\n  & h3 {\n    line-height: 1.25;\n    font-size: 1.143em;\n    margin-top: 2em;\n    margin-bottom: 0;\n  }\n\n  & h4 {\n    line-height: 1.429;\n    font-size: 1em;\n    margin-top: 1.357em;\n  }\n\n  & h5 {\n    line-height: 1.333;\n    font-size: 0.857em;\n    margin-top: 1.667em;\n  }\n\n  & h6 {\n    line-height: 1.455;\n    font-size: 0.786em;\n    margin-top: 1.455em;\n  }\n"])))},qTXh:function(e,t,n){"use strict";n.d(t,"d",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return u});var r=n("mrSG"),o=n("q1tI"),i=n("CnBM"),a=n.n(i),s=function(e){return!!e.data},c=function(e){var t=e.data;return t&&t.generator&&t.generator.icon&&t.generator.icon.url},l=function(e){var t=d[e.toLowerCase()];if(t){var n=r.__read(t,2),i=n[0],s=n[1];if(s){var c=a()({loader:function(){return s().then(function(e){return e.default})},loading:function(){return null}});return o.createElement(c,{label:i})}}},u=function(e){var t=d[e.toLowerCase()];if(t)return r.__read(t,1)[0]},d={"text/plain":["Document",function(){return n.e(22).then(n.t.bind(null,"svbg",7))}],"application/vnd.oasis.opendocument.text":["Document",function(){return n.e(22).then(n.t.bind(null,"svbg",7))}],"application/vnd.apple.pages":["Document",function(){return n.e(22).then(n.t.bind(null,"svbg",7))}],"application/vnd.google-apps.document":["Google Doc",function(){return n.e(263).then(n.t.bind(null,"d6Yr",7))}],"application/vnd.ms-word":["Word document",function(){return n.e(270).then(n.t.bind(null,"uCD0",7))}],"application/pdf":["PDF document",function(){return n.e(267).then(n.t.bind(null,"3+y3",7))}],"application/vnd.oasis.opendocument.spreadsheet":["Spreadsheet",function(){return n.e(31).then(n.t.bind(null,"y6tK",7))}],"application/vnd.apple.numbers":["Spreadsheet",function(){return n.e(31).then(n.t.bind(null,"y6tK",7))}],"application/vnd.google-apps.spreadsheet":["Google Sheet",function(){return n.e(265).then(n.t.bind(null,"SLnJ",7))}],"application/vnd.ms-excel":["Excel spreadsheet",function(){return n.e(259).then(n.t.bind(null,"ZSps",7))}],"application/vnd.oasis.opendocument.presentation":["Presentation",function(){return n.e(30).then(n.t.bind(null,"aZcv",7))}],"application/vnd.apple.keynote":["Presentation",function(){return n.e(30).then(n.t.bind(null,"aZcv",7))}],"application/vnd.google-apps.presentation":["Google Slide",function(){return n.e(266).then(n.t.bind(null,"H66B",7))}],"application/vnd.mspowerpoint":["PowerPoint presentation",function(){return n.e(268).then(n.t.bind(null,"Q0ec",7))}],"application/vnd.google-apps.form":["Google Form",function(){return n.e(264).then(n.t.bind(null,"Iq0V",7))}],"image/png":["Image",function(){return n.e(11).then(n.t.bind(null,"bmt9",7))}],"image/jpeg":["Image",function(){return n.e(11).then(n.t.bind(null,"bmt9",7))}],"image/bmp":["Image",function(){return n.e(11).then(n.t.bind(null,"bmt9",7))}],"image/webp":["Image",function(){return n.e(11).then(n.t.bind(null,"bmt9",7))}],"image/svg+xml":["Image",function(){return n.e(11).then(n.t.bind(null,"bmt9",7))}],"image/gif":["GIF",function(){return n.e(262).then(n.t.bind(null,"Ejqn",7))}],"audio/midi":["Audio",function(){return n.e(10).then(n.t.bind(null,"6+Ua",7))}],"audio/mpeg":["Audio",function(){return n.e(10).then(n.t.bind(null,"6+Ua",7))}],"audio/webm":["Audio",function(){return n.e(10).then(n.t.bind(null,"6+Ua",7))}],"audio/ogg":["Audio",function(){return n.e(10).then(n.t.bind(null,"6+Ua",7))}],"audio/wav":["Audio",function(){return n.e(10).then(n.t.bind(null,"6+Ua",7))}],"video/mp4":["Video",function(){return n.e(12).then(n.t.bind(null,"l37K",7))}],"video/webm":["Video",function(){return n.e(12).then(n.t.bind(null,"l37K",7))}],"video/ogg":["Video",function(){return n.e(12).then(n.t.bind(null,"l37K",7))}],"video/x-ms-wmv":["Video",function(){return n.e(12).then(n.t.bind(null,"l37K",7))}],"video/x-msvideo":["Video",function(){return n.e(12).then(n.t.bind(null,"l37K",7))}],"application/zip":["Archive",function(){return n.e(9).then(n.t.bind(null,"oDpv",7))}],"application/x-tar":["Archive",function(){return n.e(9).then(n.t.bind(null,"oDpv",7))}],"application/x-gtar":["Archive",function(){return n.e(9).then(n.t.bind(null,"oDpv",7))}],"application/x-7z-compressed":["Archive",function(){return n.e(9).then(n.t.bind(null,"oDpv",7))}],"application/x-apple-diskimage":["Archive",function(){return n.e(9).then(n.t.bind(null,"oDpv",7))}],"application/dmg":["Executable",function(){return n.e(260).then(n.t.bind(null,"36tD",7))}],"text/css":["Source Code",function(){return n.e(23).then(n.t.bind(null,"n4ZL",7))}],"text/html":["Source Code",function(){return n.e(23).then(n.t.bind(null,"n4ZL",7))}],"application/javascript":["Source Code",function(){return n.e(23).then(n.t.bind(null,"n4ZL",7))}],"application/octet-stream":["Binary file",function(){return n.e(261).then(n.t.bind(null,"31zB",7))}],"application/invision.prototype":["Prototype",void 0],"application/sketch":["Sketch",function(){return n.e(269).then(n.t.bind(null,"z0B1",7))}]}},"qa+B":function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"em",function(){return a}),n.d(r,"code",function(){return s}),n.d(r,"strike",function(){return c}),n.d(r,"strong",function(){return l}),n.d(r,"underline",function(){return u}),n.d(r,"link",function(){return d}),n.d(r,"subsup",function(){return p}),n.d(r,"textColor",function(){return f}),n.d(r,"inline_comment_marker",function(){return h}),n.d(r,"action",function(){return m}),n.d(r,"breakout",function(){return g}),n.d(r,"alignment",function(){return v}),n.d(r,"indentation",function(){return b}),n.d(r,"annotation",function(){return y}),n.d(r,"paragraph",function(){return w}),n.d(r,"paragraph_with_no_marks",function(){return O}),n.d(r,"paragraph_with_alignment",function(){return E}),n.d(r,"paragraph_with_indentation",function(){return x}),n.d(r,"bulletList",function(){return k}),n.d(r,"media",function(){return C}),n.d(r,"mediaSingle",function(){return S}),n.d(r,"text",function(){return j}),n.d(r,"codeBlock",function(){return T}),n.d(r,"codeBlock_with_no_marks",function(){return M}),n.d(r,"codeBlock_with_marks",function(){return _}),n.d(r,"listItem",function(){return I}),n.d(r,"orderedList",function(){return P}),n.d(r,"heading",function(){return A}),n.d(r,"heading_with_no_marks",function(){return N}),n.d(r,"heading_with_alignment",function(){return R}),n.d(r,"heading_with_indentation",function(){return D}),n.d(r,"panel",function(){return L}),n.d(r,"blockquote",function(){return z}),n.d(r,"rule",function(){return B}),n.d(r,"mediaGroup",function(){return F}),n.d(r,"applicationCard",function(){return q}),n.d(r,"decisionItem",function(){return W}),n.d(r,"decisionList",function(){return U}),n.d(r,"taskItem",function(){return H}),n.d(r,"taskList",function(){return V}),n.d(r,"table",function(){return G}),n.d(r,"tableRow",function(){return K}),n.d(r,"tableCell",function(){return $}),n.d(r,"tableHeader",function(){return J}),n.d(r,"extension",function(){return Y}),n.d(r,"inlineExtension",function(){return Q}),n.d(r,"bodiedExtension",function(){return X}),n.d(r,"hardBreak",function(){return Z}),n.d(r,"mention",function(){return ee}),n.d(r,"emoji",function(){return te}),n.d(r,"date",function(){return ne}),n.d(r,"status",function(){return re}),n.d(r,"placeholder",function(){return oe}),n.d(r,"blockCard",function(){return ie}),n.d(r,"inlineCard",function(){return ae}),n.d(r,"layoutColumn",function(){return se}),n.d(r,"layoutSection",function(){return ce}),n.d(r,"block_content",function(){return le}),n.d(r,"tableCell_content",function(){return ue}),n.d(r,"extension_content",function(){return de}),n.d(r,"formatted_text_inline",function(){return pe}),n.d(r,"link_text_inline",function(){return fe}),n.d(r,"code_inline",function(){return he}),n.d(r,"atomic_inline",function(){return me}),n.d(r,"inline",function(){return ge}),n.d(r,"doc",function(){return ve});var o=n("byeC"),i=n("mrSG"),a={props:{type:{type:"enum",values:["em"]}}},s={props:{type:{type:"enum",values:["code"]}}},c={props:{type:{type:"enum",values:["strike"]}}},l={props:{type:{type:"enum",values:["strong"]}}},u={props:{type:{type:"enum",values:["underline"]}}},d={props:{type:{type:"enum",values:["link"]},attrs:{props:{href:{type:"string"},title:{type:"string",optional:!0},id:{type:"string",optional:!0},collection:{type:"string",optional:!0},occurrenceKey:{type:"string",optional:!0}}}}},p={props:{type:{type:"enum",values:["subsup"]},attrs:{props:{type:{type:"enum",values:["sub","sup"]}}}}},f={props:{type:{type:"enum",values:["textColor"]},attrs:{props:{color:{type:"string",pattern:"^#[0-9a-f]{6}$"}}}}},h={props:{type:{type:"enum",values:["confluenceInlineComment"]},attrs:{props:{reference:{type:"string"}}}}},m={props:{type:{type:"enum",values:["action"]},attrs:{props:{title:{type:"string"},key:{type:"string",optional:!0},target:{props:{receiver:{type:"string",optional:!0},key:{type:"string"}}},parameters:{type:"object",optional:!0}}}}},g={props:{type:{type:"enum",values:["breakout"]},attrs:{props:{mode:{type:"enum",values:["wide","full-width"]}}}}},v={props:{type:{type:"enum",values:["alignment"]},attrs:{props:{align:{type:"enum",values:["center","end"]}}}}},b={props:{type:{type:"enum",values:["indentation"]},attrs:{props:{level:{type:"number",minimum:1,maximum:6}}}}},y={props:{type:{type:"enum",values:["annotation"]},attrs:{props:{id:{type:"string"},annotationType:{type:"enum",values:["inlineComment"]}}}}},w={props:{type:{type:"enum",values:["paragraph"]},content:{type:"array",items:["inline"],allowUnsupportedInline:!0,optional:!0},marks:{type:"array",items:[],optional:!0}}},O=["paragraph",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}],E=["paragraph",{props:{marks:{type:"array",items:["alignment"],optional:!0}}}],x=["paragraph",{props:{marks:{type:"array",items:["indentation"],optional:!0}}}],k={props:{type:{type:"enum",values:["bulletList"]},content:{type:"array",items:["listItem"],minItems:1}}},C={props:{type:{type:"enum",values:["media"]},attrs:[{props:{type:{type:"enum",values:["link","file"]},id:{type:"string",minLength:1},collection:{type:"string"},height:{type:"number",optional:!0},width:{type:"number",optional:!0},occurrenceKey:{type:"string",minLength:1,optional:!0}}},{props:{type:{type:"enum",values:["external"]},url:{type:"string"},width:{type:"number",optional:!0},height:{type:"number",optional:!0}}}]},required:["attrs"]},S={props:{type:{type:"enum",values:["mediaSingle"]},content:{type:"array",items:["media"],minItems:1,maxItems:1},attrs:{props:{width:{type:"number",minimum:0,maximum:100,optional:!0},layout:{type:"enum",values:["wide","full-width","center","wrap-right","wrap-left","align-end","align-start"]}},optional:!0},marks:{type:"array",items:["link"],optional:!0}}},j={props:{type:{type:"enum",values:["text"]},text:{type:"string",minLength:1},marks:{type:"array",items:[],optional:!0}}},T={props:{type:{type:"enum",values:["codeBlock"]},content:{type:"array",items:[["text",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}]],optional:!0},marks:{type:"array",items:[],optional:!0},attrs:{props:{language:{type:"string",optional:!0}},optional:!0}}},M=["codeBlock",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}],_=["codeBlock",{props:{marks:{type:"array",items:["breakout"],optional:!0}}}],I={props:{type:{type:"enum",values:["listItem"]},content:{type:"array",items:[["paragraph_with_no_marks","mediaSingle","codeBlock_with_no_marks"],["paragraph_with_no_marks","bulletList","mediaSingle","codeBlock_with_no_marks","orderedList"]],minItems:1}}},P={props:{type:{type:"enum",values:["orderedList"]},content:{type:"array",items:["listItem"],minItems:1},attrs:{props:{order:{type:"number",minimum:1}},optional:!0}}},A={props:{type:{type:"enum",values:["heading"]},content:{type:"array",items:["inline"],allowUnsupportedInline:!0,optional:!0},marks:{type:"array",items:[],optional:!0},attrs:{props:{level:{type:"number",minimum:1,maximum:6}}}}},N=["heading",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}],R=["heading",{props:{marks:{type:"array",items:["alignment"],optional:!0}}}],D=["heading",{props:{marks:{type:"array",items:["indentation"],optional:!0}}}],L={props:{type:{type:"enum",values:["panel"]},attrs:{props:{panelType:{type:"enum",values:["info","note","tip","warning","error","success"]}}},content:{type:"array",items:[["paragraph_with_no_marks","bulletList","orderedList","heading_with_no_marks"]],minItems:1}}},z={props:{type:{type:"enum",values:["blockquote"]},content:{type:"array",items:["paragraph_with_no_marks"],minItems:1}}},B={props:{type:{type:"enum",values:["rule"]}}},F={props:{type:{type:"enum",values:["mediaGroup"]},content:{type:"array",items:["media"],minItems:1}}},q={},W={props:{type:{type:"enum",values:["decisionItem"]},content:{type:"array",items:["inline"],allowUnsupportedInline:!0,optional:!0},attrs:{props:{localId:{type:"string"},state:{type:"string"}}}}},U={props:{type:{type:"enum",values:["decisionList"]},content:{type:"array",items:["decisionItem"],minItems:1},attrs:{props:{localId:{type:"string"}}}}},H={props:{type:{type:"enum",values:["taskItem"]},content:{type:"array",items:["inline"],allowUnsupportedInline:!0,optional:!0},attrs:{props:{localId:{type:"string"},state:{type:"enum",values:["TODO","DONE"]}}}}},V={props:{type:{type:"enum",values:["taskList"]},content:{type:"array",items:["taskItem"],minItems:1},attrs:{props:{localId:{type:"string"}}}}},G={props:{type:{type:"enum",values:["table"]},attrs:{props:{isNumberColumnEnabled:{type:"boolean",optional:!0},layout:{type:"enum",values:["wide","full-width","default"],optional:!0}},optional:!0},content:{type:"array",items:["tableRow"],minItems:1}}},K={props:{type:{type:"enum",values:["tableRow"]},content:{type:"array",items:[["tableCell","tableHeader"]]}}},$={props:{type:{type:"enum",values:["tableCell"]},attrs:{props:{colspan:{type:"number",optional:!0},rowspan:{type:"number",optional:!0},colwidth:{type:"array",items:[{type:"number"}],optional:!0},background:{type:"string",optional:!0}},optional:!0},content:"tableCell_content"},required:["content"]},J={props:{type:{type:"enum",values:["tableHeader"]},attrs:{props:{colspan:{type:"number",optional:!0},rowspan:{type:"number",optional:!0},colwidth:{type:"array",items:[{type:"number"}],optional:!0},background:{type:"string",optional:!0}},optional:!0},content:"tableCell_content"},required:["content"]},Y={props:{type:{type:"enum",values:["extension"]},attrs:{props:{extensionKey:{type:"string",minLength:1},extensionType:{type:"string",minLength:1},parameters:{type:"object",optional:!0},text:{type:"string",optional:!0},layout:{type:"enum",values:["wide","full-width","default"],optional:!0}}}}},Q={props:{type:{type:"enum",values:["inlineExtension"]},attrs:{props:{extensionKey:{type:"string",minLength:1},extensionType:{type:"string",minLength:1},parameters:{type:"object",optional:!0},text:{type:"string",optional:!0}}}}},X={props:{type:{type:"enum",values:["bodiedExtension"]},attrs:{props:{extensionKey:{type:"string",minLength:1},extensionType:{type:"string",minLength:1},parameters:{type:"object",optional:!0},text:{type:"string",optional:!0},layout:{type:"enum",values:["wide","full-width","default"],optional:!0}}},content:"extension_content"},required:["content"]},Z={props:{type:{type:"enum",values:["hardBreak"]},attrs:{props:{text:{type:"enum",values:["\n"],optional:!0}},optional:!0}}},ee={props:{type:{type:"enum",values:["mention"]},attrs:{props:{id:{type:"string"},text:{type:"string",optional:!0},userType:{type:"enum",values:["DEFAULT","SPECIAL","APP"],optional:!0},accessLevel:{type:"string",optional:!0}}}}},te={props:{type:{type:"enum",values:["emoji"]},attrs:{props:{id:{type:"string",optional:!0},shortName:{type:"string"},text:{type:"string",optional:!0}}}}},ne={props:{type:{type:"enum",values:["date"]},attrs:{props:{timestamp:{type:"string",minLength:1}}}}},re={props:{type:{type:"enum",values:["status"]},attrs:{props:{text:{type:"string",minLength:1},color:{type:"enum",values:["neutral","purple","blue","red","yellow","green"]},localId:{type:"string",optional:!0},style:{type:"string",optional:!0}}}}},oe={props:{type:{type:"enum",values:["placeholder"]},attrs:{props:{text:{type:"string"}}}}},ie={props:{type:{type:"enum",values:["blockCard"]},attrs:[{props:{url:{type:"string"}}},{props:{data:{type:"object"}}}]},required:["attrs"]},ae={props:{type:{type:"enum",values:["inlineCard"]},attrs:[{props:{url:{type:"string"}}},{props:{data:{type:"object"}}}]},required:["attrs"]},se={props:{type:{type:"enum",values:["layoutColumn"]},attrs:{props:{width:{type:"number",minimum:0,maximum:100}}},content:{type:"array",items:["block_content"],minItems:1}}},ce={props:{type:{type:"enum",values:["layoutSection"]},content:{type:"array",items:["layoutColumn"],minItems:2,maxItems:3},marks:{type:"array",items:["breakout"],optional:!0}}},le=["paragraph_with_no_marks","paragraph_with_alignment","paragraph_with_indentation","bulletList","mediaSingle","codeBlock_with_no_marks","orderedList","heading_with_no_marks","heading_with_alignment","heading_with_indentation","panel","blockquote","rule","mediaGroup","applicationCard","decisionList","taskList","table","extension","bodiedExtension","blockCard"],ue={type:"array",items:[["paragraph_with_no_marks","paragraph_with_alignment","paragraph_with_indentation","bulletList","mediaSingle","codeBlock_with_no_marks","orderedList","heading_with_no_marks","heading_with_alignment","heading_with_indentation","panel","blockquote","rule","mediaGroup","applicationCard","decisionList","taskList","extension","blockCard"]],minItems:1,allowUnsupportedBlock:!0},de={type:"array",items:[["paragraph_with_no_marks","bulletList","mediaSingle","codeBlock_with_no_marks","orderedList","heading_with_no_marks","panel","blockquote","rule","mediaGroup","applicationCard","decisionList","taskList","table","extension","blockCard"]],minItems:1,allowUnsupportedBlock:!0},pe=["text",{props:{marks:{type:"array",items:[["em","strike","strong","underline","link","subsup","textColor","action","annotation"]],optional:!0}}}],fe=["text",{props:{marks:{type:"array",items:["link"],optional:!0}}}],he=["text",{props:{marks:{type:"array",items:[["code","link","annotation"]],optional:!0}}}],me=["inlineExtension","hardBreak","mention","emoji","date","status","placeholder","inlineCard"],ge=["inlineExtension","hardBreak","mention","emoji","date","status","placeholder","inlineCard","formatted_text_inline","code_inline"],ve={props:{version:{type:"enum",values:[1]},type:{type:"enum",values:["doc"]},content:{type:"array",items:[["paragraph_with_no_marks","paragraph_with_alignment","paragraph_with_indentation","bulletList","mediaSingle","codeBlock_with_no_marks","codeBlock_with_marks","orderedList","heading_with_no_marks","heading_with_alignment","heading_with_indentation","panel","blockquote","rule","mediaGroup","applicationCard","decisionList","taskList","table","extension","bodiedExtension","blockCard","layoutSection"]],allowUnsupportedBlock:!0}}},be=function(e){return null!=e},ye=function(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)},we=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},Oe=function(e){return!0===e||!1===e||"[object Boolean]"===toString.call(e)},Ee=function(e){return"string"==typeof e||e instanceof String},xe=function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)},ke=function(e,t,n){return t[n]=e[n],t},Ce=function(e){return Array.isArray(e)?e:[e]};function Se(e){return be(e.forceContentValidation)}function je(e,t){void 0===t&&(t=function(e){return e});var n=e.props.marks,r=n.items,o=i.__rest(n,["items"]);return i.__assign({},e,{props:i.__assign({},e.props,{marks:i.__assign({},o,{items:r.length?Array.isArray(r[0])?r.map(t):[t(r)]:[[]]})})})}var Te=function(e,t){return Object.keys(e).reduce(function(n,r){return n[t(r,e[r],e)?0:1].push(r),n},[[],[]])};function Me(e,t){if(!be(e.type))return!!e.optional;if(!be(t))return!!e.optional;switch(e.type){case"boolean":return Oe(t);case"number":return ye(t)&&(!be(e.minimum)||e.minimum<=t)&&(!be(e.maximum)||e.maximum>=t);case"integer":return we(t)&&(!be(e.minimum)||e.minimum<=t)&&(!be(e.maximum)||e.maximum>=t);case"string":return Ee(t)&&(!be(e.minLength)||e.minLength<=t.length)&&(!e.pattern||new RegExp(e.pattern).test(t));case"object":return xe(t);case"array":if(!Se(e)){var n=e.items,r=n.length-1;if(Array.isArray(t))return t.every(function(e,t){return Me(n[Math.min(t,r)],e)})}return!1;case"enum":return Ee(t)&&e.values.indexOf(t)>-1}return!1}var _e=function(e){if(e&&e.props&&e.props.content){var t=e.props.content;return{allowUnsupportedBlock:t.allowUnsupportedBlock,allowUnsupportedInline:t.allowUnsupportedInline}}return{}},Ie=function(e,t,n){var r=e.type+": invalid content.";if(t)return t(i.__assign({},e),{code:"INVALID_CONTENT",message:r},_e(n));throw new Error(r)};function Pe(e,t,n){var o=function(e,t){return Object.keys(r).reduce(function(n,o){var a=i.__assign({},r[o]);return a.props&&(a.props=i.__assign({},a.props),Ee(a.props.content)&&(a.props.content=r[a.props.content]),a.props.content&&(a.props.content.items?a.props.content=i.__assign({},a.props.content):a.props.content={type:"array",items:(a.props.content||[]).map(function(e){return e.items})},a.props.content.items=a.props.content.items.map(function(e){return Ee(e)?Array.isArray(r[e])?r[e]:[e]:e}).map(function(n){return n.map(function(e){return Array.isArray(r[e])?r[e]:Ee(e)?e:["text",e]}).filter(function(t){return!e||e.indexOf(Array.isArray(t)?t[0]:t)>-1}).map(function(e){return Array.isArray(e)&&t?[e[0],je(e[1])]:e})}))),n[o]=a,n},{})}(e,t),a=n||{},s=a.mode,c=void 0===s?"strict":s,l=a.allowPrivateAttributes,u=void 0!==l&&l,d=function(e,n,r,a){var s=e.type,l=i.__assign({},e),p=function(e,t,r){var o=s+": "+t+".";if(n)return{valid:!1,entity:n(l,{code:e,message:o,meta:r},_e(a))};throw new Error(o)};if("applicationCard"===s)return p("DEPRECATED","applicationCard is not supported");if(!s)return p("INVALID_TYPE","ProseMirror Node/Mark should contain a `type`");var f=function(e,t){var n;if(!t)return{};for(var r=0,o=t.length;r<o;r++){var a=t[r],s=a,c={};if(Array.isArray(a)&&(s=(n=i.__read(a,2))[0],c=n[1]),s===e)return c}return!1}(s,r);if(!1===f)return p("INVALID_TYPE","type not allowed here");var h=o[s];if(!h)return p("INVALID_TYPE",s+": No validation spec found for type!");var m=i.__assign({},h,f,h.props?{props:i.__assign({},h.props,f.props||{})}:{});if(m){if(m.required&&!m.required.every(function(t){return be(e[t])}))return p("MISSING_PROPERTIES","required prop missing");if(m.props){if(m.props.text&&be(e.text)&&!Me(m.props.text,e.text))return p("INVALID_TEXT","'text' validation failed");if(m.props.content&&be(m.props.content.minItems)&&e.content){var g=e.content.length;if(m.props.content.minItems>g)return p("INVALID_CONTENT_LENGTH","'content' should have more than "+m.props.content.minItems+" child",{length:g})}var v=i.__read(Te(m.props,function(t,n){return n.optional||!!e[t]}),2)[1];if(v.length)return p("MISSING_PROPERTIES","required prop missing",{props:v});var b={};if(m.props.attrs&&e.attrs){for(var y=Ce(m.props.attrs),w=[],O=0,E=y.length;O<E;++O){var x=y[O];if(!(w=i.__read(Te(x.props,function(t,r){if(Se(r)&&r.forceContentValidation){for(var o=e.attrs[t]||[],a=[],s=r.items.reduce(function(e,t){return e.concat(t)}),c=0;c<o.length;c++){var u=d(o[c],n,s,m);!u.valid&&u.entity&&a.push(u.entity)}return l.attrs=i.__assign({},l.attrs),l.attrs[t]=a,!0}return Me(r,e.attrs[t])}),2)[1]).length){b=x;break}}if(w.length)return p("INVALID_ATTRIBUTES","'attrs' validation failed",{attrs:w})}var k=i.__read(Te(e,function(e){return be(m.props[e])}),2),C=k[0],S=k[1];if(S.length){if("loose"!==c)return p("REDUNDANT_PROPERTIES","redundant props found: "+S.join(", "),{props:S});l={type:s},C.reduce(function(t,n){return ke(e,t,n)},l)}if(e.attrs){var j=Object.keys(e.attrs).filter(function(e){return!(u&&e.startsWith("__"))});if(!b||!j.every(function(e){return!!b.props[e]})){if("loose"!==c){var T=j.filter(function(e){return!b.props[e]});return p("REDUNDANT_ATTRIBUTES","redundant attributes found: "+T.join(", "),{attrs:T})}l.attrs={},j.filter(function(e){return!!b.props[e]}).reduce(function(t,n){return ke(e.attrs||{},t,n)},l.attrs)}}if(m.props.content)if(e.content)l.content=e.content.map(function(e,t){var r=m.props.content.items.filter(function(t){return"listItem"===s||t.some(function(t){return(Array.isArray(t)?t[0]:t)===e.type})});if(r.length){var o=r[r.length>1?Math.min(t,r.length-1):0].filter(function(t){return(Array.isArray(t)?t[0]:t)===e.type});if(0===o.length)return Ie(e,n,m);for(var i=void 0,a=void 0,c=0,l=o.length;c<l;c++)try{var u=d(e,n,[o[c]],m),p=u.valid,f=u.entity;if(p)return f;a=a||f}catch(e){i=i||e}if(n)return a;throw i}return Ie(e,n,m)}).filter(Boolean);else if(!m.props.content.optional)return p("MISSING_PROPERTIES","missing `content` prop");if(e.marks){if(!m.props.marks)return p("REDUNDANT_MARKS","redundant marks",{marks:Object.keys(e.marks)});var M=m.props.marks.items,_=M.length?Array.isArray(M[0])?M[0]:M:[],I=e.marks.filter(function(e){return"strict"!==c||!t||t.indexOf(e.type)>-1}).map(function(e){return d(e,n,_,m).entity}).filter(Boolean);if(!I.length)return delete l.marks,{valid:!1,entity:l};l.marks=I}}else{var P=Object.keys(e);if(P.length>1)return p("REDUNDANT_PROPERTIES","redundant props found: "+Object.keys(e).join(", "),{props:P})}}return{valid:!0,entity:l}};return d}var Ae=n("7UM5");n.d(t,"e",function(){return Re}),n.d(t,"c",function(){return De}),n.d(t,"f",function(){return Le}),n.d(t,"d",function(){return ze}),n.d(t,"i",function(){return qe}),n.d(t,"b",function(){return We}),n.d(t,"a",function(){return Ue}),n.d(t,"g",function(){return He}),n.d(t,"h",function(){return Ve});var Ne=["code","alignment","indentation"];function Re(e){return!e||"paragraph"===e.type.name&&!e.textContent&&!e.childCount}function De(e){var t;if(e.isInline)return(t=e).isText?!!t.textContent.trim():"hardBreak"!==t.type.name;if(e.isBlock&&(e.isLeaf||e.isAtom))return!0;if(!e.childCount)return!1;for(var n=0;n<e.childCount;n++){if(De(e.child(n)))return!0}return!1}function Le(e){if(e&&e.textContent)return!1;if(!e||!e.childCount||1===e.childCount&&Re(e.firstChild))return!0;var t=[],n=[];return e.forEach(function(e){e.isInline?n.push(e):t.push(e)}),!n.length&&!t.filter(function(e){return!!e.childCount&&!(1===e.childCount&&Re(e.firstChild))||e.isAtom}).length}function ze(e){var t=e.content.firstChild;return!(1!==e.childCount||!t)&&!("paragraph"!==t.type.name||t.childCount||2!==t.nodeSize||t.marks&&0!==t.marks.length)}function Be(e,t){return void 0===t&&(t="block"),{type:"unsupported"+("block"===t?"Block":"Inline"),attrs:{originalValue:e}}}function Fe(e,t,n){void 0===n&&(n="block");var r=t.code,o=t.meta;Ae.a.trackEvent("atlassian.editor.unsupported",{name:e.type||"unknown",type:n,errorCode:r,meta:o&&JSON.stringify(o)})}function qe(e,t){if(t){var n;if("string"==typeof t)try{n=JSON.parse(t)}catch(e){return void console.error("Error processing value: "+t+" isn't a valid JSON")}else n=t;if(Array.isArray(n))console.error("Error processing value: "+n+" is an array, but it must be an object.");else try{var r=Object.keys(e.nodes),i=Object.keys(e.marks),a=Pe(r,i,{allowPrivateAttributes:!0});"doc"===n.type&&(Array.isArray(n.content)&&0===n.content.length&&n.content.push({type:"paragraph",content:[]}),n.version||(n.version=1));var s=a(n,function(e,t,n){if(!(i.indexOf(e.type)>-1))return"MISSING_PROPERTIES"===t.code&&"paragraph"===e.type?{type:"paragraph",content:[]}:"INVALID_CONTENT_LENGTH"===t.code?e:n.allowUnsupportedBlock?(Fe(e,t),Be(e)):n.allowUnsupportedInline?(Fe(e,t,"inline"),Be(e,"inline")):e;"INVALID_TYPE"===t.code&&Ne.indexOf(e.type)>-1||Fe(e,t,"mark")}).entity,c=void 0===s?{type:"doc",content:[]}:s,l=o.Node.fromJSON(e,c);return l.check(),l}catch(e){return void console.error('Error processing value: "'+JSON.stringify(n)+'"  '+e.message)}}}var We=function(e){var t=-1,n=-1;return e.steps.forEach(function(e){e.getMap().forEach(function(e,r,o,i){t=o<t||-1===t?o:t,n=i<n||-1===n?i:n})}),-1!==t?{from:t,to:n}:null},Ue=function(e){return function(t){for(var n=t.$from,r=null,o=n.depth;o>0;o--){var i=n.node(o);e(i)&&(r={pos:o>0?n.before(o):0,start:n.start(o),depth:o,node:i})}return r}},He=function(e){return e.selection.$to.parent.type===e.schema.nodes.paragraph&&e.selection.$to.pos===e.doc.resolve(e.selection.$to.pos).end()};function Ve(e,t,n){var r=We(e);r&&e.doc.nodesBetween(r.from,r.to,t,n)}},qcjj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.LowerCaseSanitizer=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"sanitize",value:function(e){return e?e.toLocaleLowerCase().trim():""}}]),e}()},qpc0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("DJck");Object.defineProperty(t,"AllSubstringsIndexStrategy",{enumerable:!0,get:function(){return r.AllSubstringsIndexStrategy}}),Object.defineProperty(t,"ExactWordIndexStrategy",{enumerable:!0,get:function(){return r.ExactWordIndexStrategy}}),Object.defineProperty(t,"PrefixIndexStrategy",{enumerable:!0,get:function(){return r.PrefixIndexStrategy}});var o=n("tifx");Object.defineProperty(t,"CaseSensitiveSanitizer",{enumerable:!0,get:function(){return o.CaseSensitiveSanitizer}}),Object.defineProperty(t,"LowerCaseSanitizer",{enumerable:!0,get:function(){return o.LowerCaseSanitizer}});var i=n("ULOC");Object.defineProperty(t,"TfIdfSearchIndex",{enumerable:!0,get:function(){return i.TfIdfSearchIndex}}),Object.defineProperty(t,"UnorderedSearchIndex",{enumerable:!0,get:function(){return i.UnorderedSearchIndex}});var a=n("gDVc");Object.defineProperty(t,"SimpleTokenizer",{enumerable:!0,get:function(){return a.SimpleTokenizer}}),Object.defineProperty(t,"StemmingTokenizer",{enumerable:!0,get:function(){return a.StemmingTokenizer}}),Object.defineProperty(t,"StopWordsTokenizer",{enumerable:!0,get:function(){return a.StopWordsTokenizer}});var s=n("rnfJ");Object.defineProperty(t,"Search",{enumerable:!0,get:function(){return s.Search}});var c=n("STSs");Object.defineProperty(t,"StopWordsMap",{enumerable:!0,get:function(){return c.StopWordsMap}});var l=n("sx4T");Object.defineProperty(t,"TokenHighlighter",{enumerable:!0,get:function(){return l.TokenHighlighter}})},"r/0h":function(e,t,n){"use strict";var r,o=n("lwsE"),i=n.n(o),a=n("W8MJ"),s=n.n(a),c=n("a1gu"),l=n.n(c),u=n("Nsbk"),d=n.n(u),p=n("PJYZ"),f=n.n(p),h=n("7W2i"),m=n.n(h),g=n("lSNA"),v=n.n(g),b=n("q1tI"),y=n.n(b),w=n("vOnD"),O=n("i1yl"),E=n("1wD3"),x=n("uqSJ"),k=n("Lf/l"),C=n("cNDh"),S=n("Aoej"),j=n("gxo2"),T=n("73wN"),M=Object(w.css)(["\n  color: ",";\n"],T.placeholderText),_=w.default.textarea.withConfig({displayName:"TextArea",componentId:"l4fqfr-0"})(["\n  background: transparent;\n  padding: 0;\n  margin: 0;\n  border: 0;\n  box-sizing: border-box;\n  color: inherit;\n  cursor: inherit;\n  font-family: ",";\n  font-size: ","px;\n  line-height: ",";\n  min-width: 0;\n  outline: none;\n  width: 100%;\n\n  [disabled] {\n    ",";\n  }\n\n  "," ","\n\n  &::-ms-clear {\n    display: none;\n  }\n\n  &:invalid {\n    box-shadow: none;\n  }\n\n  ",";\n"],function(e){return e.isMonospaced?Object(j.g)():"inherit"},j.j,20/Object(j.j)(),"\n  -webkit-text-fill-color: unset;\n  -webkit-opacity: 1;\n",function(e){var t=e.minimumRows;return"min-height: ".concat(20*t,"px;")},function(e){var t=e.enableResize;return t?"horizontal"===t?"resize: horizontal;":"vertical"===t?"resize: vertical;":null:"resize: none;"},(r=M,Object(w.css)(["\n  &::-webkit-input-placeholder {\n    /* WebKit, Blink, Edge */\n    ",";\n  }\n  &::-moz-placeholder {\n    /* Mozilla Firefox 19+ */\n    "," opacity: 1;\n  }\n  &::-ms-input-placeholder {\n    /* Microsoft Edge */\n    ",";\n  }\n  &:-moz-placeholder {\n    /* Mozilla Firefox 4 to 18 */\n    "," opacity: 1;\n  }\n  &:-ms-input-placeholder {\n    /* Internet Explorer 10-11 */\n    ",";\n  }\n"],r,r,r,r,r))),I=w.default.div.withConfig({displayName:"FieldTextAreaStateless__Wrapper",componentId:"sc-159dr31-0"})(["\n  flex: 1 1 100%;\n"]);var P=function(e){function t(){var e,n;i()(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=l()(this,(e=d()(t)).call.apply(e,[this].concat(o))),v()(f()(n),"input",void 0),n}return m()(t,e),s()(t,[{key:"focus",value:function(){this.input.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.autoFocus,r=t.compact,o=t.disabled,i=t.id,a=t.invalidMessage,s=t.isInvalid,c=t.isLabelHidden,l=t.isMonospaced,u=t.isReadOnly,d=t.isSpellCheckEnabled,p=t.label,f=t.maxLength,h=t.minimumRows,m=t.name,g=t.onBlur,v=t.onChange,b=t.onFocus,w=t.placeholder,O=t.enableResize,E=t.required,x=t.shouldFitContainer,S=t.value,j=t.isValidationHidden;return y.a.createElement(I,null,!c&&y.a.createElement(k.a,{htmlFor:i,isDisabled:o,isLabelHidden:c,isRequired:E,label:p}),y.a.createElement(C.a,{isCompact:r,isDisabled:o,isInvalid:s,isReadOnly:u,isRequired:E,invalidMessage:a,isFitContainerWidthEnabled:x,isValidationHidden:j},y.a.createElement(_,{disabled:o,readOnly:u,name:m,placeholder:w,value:S,required:E,isMonospaced:l,minimumRows:h,enableResize:O,onBlur:g,onChange:v,onFocus:b,id:i,autoFocus:n,spellCheck:d,maxLength:f,innerRef:function(t){e.input=t}})))}}]),t}(b.Component);v()(P,"defaultProps",{compact:!1,disabled:!1,isReadOnly:!1,required:!1,isInvalid:!1,label:"",type:"text",isSpellCheckEnabled:!0,minimumRows:1,isValidationHidden:!1});var A=Object(O.a)("atlaskit");t.a=Object(E.a)({componentName:"fieldTextArea",packageName:S.a,packageVersion:S.b})(Object(x.a)({onBlur:A({action:"blurred",actionSubject:"textArea",attributes:{componentName:"fieldTextArea",packageName:S.a,packageVersion:S.b}}),onFocus:A({action:"focused",actionSubject:"textArea",attributes:{componentName:"fieldTextArea",packageName:S.a,packageVersion:S.b}})})(P))},rIe8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M6.26 6.678l-3.237 9.534a.5.5 0 0 0 .473.66h1.032a.75.75 0 0 0 .717-.53l.648-2.107H9.63l.647 2.107a.75.75 0 0 0 .717.53h1.113a.5.5 0 0 0 .473-.66L9.337 6.677A1 1 0 0 0 8.39 6H7.207a1 1 0 0 0-.947.678zM7.736 8.08h.051l1.364 4.453H6.372L7.736 8.08zm11.113 2.043v-.327a1 1 0 0 1 1-1H20a1 1 0 0 1 1 1v6.078a1 1 0 0 1-1 1h-.151a1 1 0 0 1-1-1v-.312h-.088c-.392.874-1.232 1.439-2.418 1.439-1.975 0-3.221-1.613-3.221-4.182 0-2.546 1.254-4.15 3.221-4.15 1.172 0 2.026.595 2.418 1.454h.088zm-.045 2.712c0-1.47-.685-2.404-1.754-2.404-1.068 0-1.725.92-1.725 2.404 0 1.491.657 2.395 1.725 2.395 1.076 0 1.754-.911 1.754-2.395z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorTextStyleIcon";var c=s;t.default=c},rbIO:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return f}),n.d(t,"d",function(){return h}),n.d(t,"c",function(){return m});var r=n("mrSG");function o(e){return e===document.body}function i(e){return e&&3===e.nodeType}function a(e,t,n,r,a){if(a&&r)return r;if(!n)return"bottom";i(e)&&(e=e.parentElement);var s=t.getBoundingClientRect(),c=s.height,l=o(t)?0:s.top,u=e.getBoundingClientRect(),d=u.top,p=u.height,f=d-(l-t.scrollTop),h=l+c-(d+p);return h>=n||h>=f?"bottom":"top"}function s(e,t,n,r,o){if(o&&r)return r;if(!n)return r||"left";i(e)&&(e=e.parentElement);var a=e.getBoundingClientRect(),s=a.left,c=a.width,l=t.getBoundingClientRect(),u=l.left,d=s-u+c,p=u+l.width-s;return r&&d>n&&p>n?r:p>=n||p>=d&&!r?"left":"right"}function c(e,t,n,r,o,i,c){return[a(e,t,r,i,c),s(e,t,n,o,c)]}var l=function(e){var t=e.placement,n=e.targetLeft,r=e.targetRight,o=e.targetWidth,i=e.isPopupParentBody,a=e.popupOffsetParentLeft,s=e.popupOffsetParentRight,c=e.popupOffsetParentScrollLeft,l=e.popupClientWidth,u=e.offset,d={};if("left"===t)d.left=Math.ceil(n-a+(i?0:c)+u[0]);else if("center"===t)d.left=Math.ceil(n-a+(i?0:c)+u[0]+o/2-l/2);else if("end"===t){var p=Math.ceil(r-a+(i?0:c)+u[0]);d.left=p}else d.right=Math.ceil(s-r-(i?0:c)+u[0]);return d},u=function(e){var t=e.target,n=e.targetTop,o=e.targetHeight,i=e.popup,a=e.offset,s=e.position,c=m(t),l=r.__assign({},s);if(c){var u=n-c.getBoundingClientRect().top,d=o+u;if(c.clientHeight-d<=i.clientHeight+2*a[1]&&u<c.clientHeight){var p=d-c.clientHeight+2*a[1],f=l.top||0;f-=p+i.clientHeight,l.top=f}}return l},d=function(e){var t=e.target,n=e.targetTop,o=e.targetHeight,i=e.popupOffsetParentHeight,a=e.popupOffsetParent,s=e.offset,c=e.position,l=e.placement,u=m(t),d=r.__assign({},c);if(u){var p=u.getBoundingClientRect().top,f=n-p,h=u.scrollTop;if(f<0){var g=n+(h-p)+o+s[1]<h;"top"===l&&(d.bottom=g?i-(f+a.scrollTop+o):f+(d.bottom||0)),"start"===l&&(d.top=g?f+a.scrollTop+o:Math.abs(f)+(d.top||0)+s[1])}}return d},p=function(e){var t=e.placement,n=e.targetTop,r=e.targetHeight,o=e.isPopupParentBody,i=e.popupOffsetParentHeight,a=e.popupOffsetParentTop,s=e.popupOffsetParentScrollTop,c=e.borderBottomWidth,l=e.offset,u={};if("top"===t)u.bottom=Math.ceil(i-(n-a)-(o?0:s)-c+l[1]);else if("start"===t)u.top=Math.ceil(n-a-l[1]+(o?0:s));else{var d=Math.ceil(n-a+r+(o?0:s)-c+l[1]);u.top=d}return u};function f(e){var t=e.placement,n=e.target,a=e.popup,s=e.offset,c=e.stick,f={};if(!n||!a||!a.offsetParent)return f;i(n)&&(n=n.parentElement);var h=a.offsetParent,m=h.style,g=0;m&&m.borderBottomWidth&&(g=parseInt(m.borderBottomWidth,10));var v=r.__read(t,2),b=v[0],y=v[1],w=h.getBoundingClientRect(),O=w.top,E=w.left,x=w.right,k=w.height,C=n.getBoundingClientRect(),S=C.top,j=C.left,T=C.right,M=C.height,_=C.width,I=o(h),P=p({placement:b,targetTop:S,isPopupParentBody:I,popupOffsetParentHeight:k,popupOffsetParentTop:O,popupOffsetParentScrollTop:h.scrollTop||0,targetHeight:M,borderBottomWidth:g,offset:s});f=r.__assign({},f,P),"top"!==b&&"start"!==b||!c||(f=d({target:n,targetTop:S,targetHeight:M,popupOffsetParentHeight:k,popupOffsetParent:h,popup:a,offset:s,position:f,placement:b})),"top"!==b&&"start"!==b&&c&&(f=u({target:n,targetTop:S,targetHeight:M,popup:a,offset:s,position:f}));var A=l({placement:y,targetLeft:j,targetRight:T,targetWidth:_,isPopupParentBody:I,popupOffsetParentLeft:E,popupOffsetParentRight:x,popupOffsetParentScrollLeft:h.scrollLeft||0,popupClientWidth:a.clientWidth||0,offset:s});return f=r.__assign({},f,A)}function h(e){return!(!e||!e.offsetParent)}function m(e){var t=e;if(!t)return!1;for(;t=t.parentElement;){var n=window.getComputedStyle(t);if("scroll"===n.overflow||"scroll"===n.overflowX||"scroll"===n.overflowY||t.classList.contains("fabric-editor-popup-scroll-parent"))return t}return!1}},rclq:function(e,t,n){"use strict";var r,o,i,a,s;n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),function(e){e.INFO="info",e.SUCCESS="success",e.NOTE="note",e.WARNING="warning",e.ERROR="error"}(r||(r={})),function(e){e.EDIT="edit",e.NEW="new"}(o||(o={})),function(e){e.RESOLVED="resolved",e.UNRESOLVED="unresolved"}(i||(i={})),function(e){e.TEXT="text",e.INLINE_CARD="inlineCard",e.BLOCK_CARD="blockCard",e.EMBED="embed"}(a||(a={})),function(e){e.JIRA="jiraIssue",e.CONFLUENCE="confluencePage",e.BITBUCKET_PR="bitbucketPR",e.BITBUCKET_REPO="bitbucketRepo",e.TRELLO_CARD="trelloCard",e.TRELLO_BOARD="trelloBoard",e.STATUS_PAGE="statusPage",e.BOX="boxFile",e.DROPBOX="dropboxFile",e.OFFICE="office",e.DRIVE="drive",e.YOUTUBE="youtubeVideo",e.TWITTER="twitterTweet",e.OTHER="other"}(s||(s={}))},rnfJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Search=void 0;var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("vFnS"),a=(r=i)&&r.__esModule?r:{default:r},s=n("DJck"),c=n("tifx"),l=n("ULOC"),u=n("gDVc");t.Search=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw Error("js-search requires a uid field name constructor parameter");this._uidFieldName=t,this._indexStrategy=new s.PrefixIndexStrategy,this._searchIndex=new l.TfIdfSearchIndex(t),this._sanitizer=new c.LowerCaseSanitizer,this._tokenizer=new u.SimpleTokenizer,this._documents=[],this._searchableFields=[]}return o(e,[{key:"addDocument",value:function(e){this.addDocuments([e])}},{key:"addDocuments",value:function(e){this._documents=this._documents.concat(e),this.indexDocuments_(e,this._searchableFields)}},{key:"addIndex",value:function(e){this._searchableFields.push(e),this.indexDocuments_(this._documents,[e])}},{key:"search",value:function(e){var t=this._tokenizer.tokenize(this._sanitizer.sanitize(e));return this._searchIndex.search(t,this._documents)}},{key:"indexDocuments_",value:function(e,t){this._initialized=!0;for(var n=this._indexStrategy,r=this._sanitizer,o=this._searchIndex,i=this._tokenizer,s=this._uidFieldName,c=0,l=e.length;c<l;c++){var u,d=e[c];u=s instanceof Array?(0,a.default)(d,s):d[s];for(var p=0,f=t.length;p<f;p++){var h,m=t[p];if(null!=(h=m instanceof Array?(0,a.default)(d,m):d[m])&&"string"!=typeof h&&h.toString&&(h=h.toString()),"string"==typeof h)for(var g=i.tokenize(r.sanitize(h)),v=0,b=g.length;v<b;v++)for(var y=g[v],w=n.expandToken(y),O=0,E=w.length;O<E;O++){var x=w[O];o.indexDocument(x,u,d)}}}}},{key:"indexStrategy",set:function(e){if(this._initialized)throw Error("IIndexStrategy cannot be set after initialization");this._indexStrategy=e},get:function(){return this._indexStrategy}},{key:"sanitizer",set:function(e){if(this._initialized)throw Error("ISanitizer cannot be set after initialization");this._sanitizer=e},get:function(){return this._sanitizer}},{key:"searchIndex",set:function(e){if(this._initialized)throw Error("ISearchIndex cannot be set after initialization");this._searchIndex=e},get:function(){return this._searchIndex}},{key:"tokenizer",set:function(e){if(this._initialized)throw Error("ITokenizer cannot be set after initialization");this._tokenizer=e},get:function(){return this._tokenizer}}]),e}()},rriI:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("mrSG"),o=n("/IjO"),i=n("ClUl"),a=function(e,t,n){return function(a){for(var s=o.TableMap.get(t),c={},l=a.selection,u=0;u<s.width;u++)for(var d=0;d<s.height;d++){var p=e.cols[u].width,f=d*s.width+u,h=s.map[f],m=c[h]||r.__assign({},t.nodeAt(h).attrs),g=m.colspan||1;if(m.colwidth&&m.colwidth.length>g&&(a=Object(i.a)({type:"UPDATE_COLUMN_WIDTHS",problem:"COLWIDTHS_BEFORE_UPDATE",data:{colwidths:m.colwidth,colspan:g}})(a),m.colwidth=m.colwidth.slice(0,g)),!d||s.map[f]!==s.map[f-s.width]){var v=1===g?0:u-s.colCount(h);if(!m.colwidth||m.colwidth[v]!==p){var b=m.colwidth?m.colwidth.slice():Array.from({length:g},function(e){return 0});b[v]=p,b.length>g&&(a=Object(i.a)({type:"UPDATE_COLUMN_WIDTHS",problem:"COLWIDTHS_AFTER_UPDATE",data:{colwidths:b,colspan:g}})(a),b=b.slice(0,g)),c[h]=r.__assign({},m,{colwidth:b})}}}var y=[],w={};for(d=0;d<s.height;d++){var O=t.child(d),E=[];for(u=0;u<s.width;u++){f=d*s.width+u;var x=s.map[f],k=t.nodeAt(x);!w[x]&&k&&(E.push(k.type.createChecked(c[x]||k.attrs,k.content,k.marks)),w[x]=!0)}y.push(O.type.createChecked(O.attrs,E,O.marks))}var C=n-1;return a.replaceWith(C,C+t.nodeSize,t.type.createChecked(t.attrs,y,t.marks)).setSelection(l)}}},s7yy:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return l});var r=n("mrSG"),o=n("byeC");function i(e){return e.content}function a(e,t,n){void 0===n&&(n=null);for(var s=[],c=0,l=e.childCount;c<l;c++){var u=e.child(c),d=u.isLeaf?t(u,n,c):t(u.copy(a(u.content,t,u)),n,c);d&&(d instanceof o.Fragment?s.push.apply(s,r.__spread(i(d))):Array.isArray(d)?s.push.apply(s,r.__spread(d)):s.push(d))}return o.Fragment.fromArray(s)}function s(e,t){var n=a(e.content,t);return new o.Slice(n,e.openStart,e.openEnd)}function c(e,t){for(var n=[],i=0;i<e.childCount;i++){var a=t(e.child(i),i,e);Array.isArray(a)?n.push.apply(n,r.__spread(a)):n.push(a)}return o.Fragment.fromArray(n)}function l(e,t){for(var n=[],r=0;r<e.childCount;r++)n.push(t(e.child(r),r,e.content));return n}},s8dP:function(e,t,n){"use strict";var r=n("lwsE"),o=n.n(r),i=n("W8MJ"),a=n.n(i),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),u=n.n(l),d=n("7W2i"),p=n.n(d),f=n("PJYZ"),h=n.n(f),m=n("lSNA"),g=n.n(m),v=n("grSP"),b=n("q1tI"),y=n.n(b),w=n("JRPe"),O=n("/V68"),E=Object(w.e)({authorHeader:{id:"bitkit.commitList.authorHeader",defaultMessage:"Author"},buildsHeader:{id:"bitkit.commitList.buildsHeader",defaultMessage:"Builds"},dateHeader:{id:"bitkit.commitList.dateHeader",defaultMessage:"Date"},hashHeader:{id:"bitkit.commitList.hashHeader",defaultMessage:"Commit"},mergeCommitTooltip:{id:"bitkit.commitList.mergeCommitTooltip",defaultMessage:"This commit is a merge."},summaryHeader:{id:"bitkit.commitList.summaryHeader",defaultMessage:"Summary"},messageHeader:{id:"bitkit.commitList.messageHeader",defaultMessage:"Message"},showMoreCommits:{id:"bitkit.commitList.showMoreCommits",defaultMessage:"Show more"},showFullDiff:{id:"bitkit.commitList.showFullDiff",defaultMessage:"See all commits"},noCommits:{id:"bitkit.commitList.noCommits",defaultMessage:"No commits available"},commentLabel:{id:"bitkit.commitList.commentLabel",defaultMessage:"Comment"},summaryInfo:{id:"bitkit.commitList.summaryInfo",defaultMessage:"{author} - {id}, {date}"}}),x=n("wTIg"),k=n("gxo2"),C=n("b0Qh"),S=n("E1Xi"),j=Object(k.l)()/2,T=Object(x.a)("div",{target:"eyqohkz0"})("position:relative;width:100%;",function(e){return e.isDisabled?"pointer-events: none; user-select: none":null},";"),M=Object(x.a)("div",{target:"eyqohkz1"})({name:"1efvhw7",styles:"align-items:center;display:flex;flex-direction:column;"}),_=Object(x.a)("div",{target:"eyqohkz2"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),I=Object(x.a)("div",{target:"eyqohkz3"})("margin-left:",2*Object(k.l)(),"px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;",S.a.upToMedium("\n    display: none;\n  "),""),P=Object(x.a)(O.c,{target:"eyqohkz4"})("width:",27*Object(k.l)(),"px;",S.a.upToMedium("\n    width: ".concat(4.5*Object(k.l)(),"px;\n  ")),""),A=Object(x.a)(O.c,{target:"eyqohkz5"})("width:",12.5*Object(k.l)(),"px;"),N=Object(x.a)(O.c,{target:"eyqohkz6"})("width:",8*Object(k.l)(),"px;"),R=Object(x.a)(O.c,{target:"eyqohkz7"})("width:",15*Object(k.l)(),"px;"),D=Object(x.a)("col",{target:"eyqohkz8"})("width:",8*Object(k.l)(),"px;"),L=Object(x.a)(O.h,{target:"eyqohkz9"})({name:"xi606m",styles:"text-align:center;"}),z=Object(x.a)("div",{target:"eyqohkz10"})({name:"1l4w6pd",styles:"display:flex;justify-content:center;"}),B=Object(x.a)("col",{target:"eyqohkz11"})("width:",4*Object(k.l)(),"px;"),F=Object(x.a)("div",{target:"eyqohkz12"})({name:"gg4vpm",styles:"display:flex;justify-content:space-between;"}),q=Object(x.a)("span",{target:"eyqohkz13"})("font-family:",Object(k.g)(),";"),W=Object(x.a)("div",{target:"eyqohkz14"})("display:flex;align-items:center;width:100%;",S.a.upToLarge("\n    flex-wrap: wrap;\n  "),""),U=Object(x.a)("div",{target:"eyqohkz15"})("display:flex;align-items:center;flex-shrink:0;justify-content:center;",S.a.upToSmall("\n    justify-content: flex-start;\n  "),""),H=Object(x.a)("div",{target:"eyqohkz16"})("overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex-grow:1;line-height:2;img{max-height:1em;}",S.a.upToLarge("\n    flex-shrink: 1;\n    flex-basis: 60%;\n  "),""),V=Object(x.a)(H,{target:"eyqohkz17"})("& > p{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-left:",j,"px;",S.a.upToMedium("\n      padding-left: 0;\n    "),"}"),G=Object(x.a)(H,{target:"eyqohkz18"})("padding-left:",j,"px;",S.a.upToMedium("\n    padding-left: 0;\n  "),""),K=Object(x.a)("div",{target:"eyqohkz19"})("padding-left:",j,"px;",S.a.upToMedium("\n    padding-left: 0;\n  "),""),$=Object(x.a)("div",{target:"eyqohkz20"})({name:"8atqhb",styles:"width:100%;"}),J=Object(x.a)("tr",{target:"eyqohkz21"})(function(e){return e.hasPointerCursor?"cursor: pointer":null},";",function(e){return e.isFocused?"background-color: ".concat(C.colors.N20):null},";",function(e){return e.isMergeCommit?"opacity: 0.7":null},";"),Y=Object(x.a)("span",{target:"eyqohkz22"})({name:"1pmmkr1",styles:"line-height:2;display:inline-block;"}),Q=Object(x.a)("div",{target:"eyqohkz23"})({name:"1j8r2w0",styles:"cursor:default;"}),X=Object(x.a)("div",{target:"eyqohkz24"})("text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:none;font-size:12px;",S.a.upToSmall("\n    display: block;\n  "),""),Z=Object(x.a)("div",{target:"eyqohkz25"})("display:flex;margin-right:",.5*Object(k.l)(),"px;"),ee=Object(x.a)("small",{target:"eyqohkz26"})({name:"6tr4kf",styles:"text-size-adjust:none;"}),te=function(e){function t(){var e,n;o()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(h()(h()(n)),"isSelected",function(){var e=n.props,t=e.selectedCommitRangeStart,r=e.selectedCommitRangeEnd,o=e.mostRecentCommitHash;return e.mergeBaseHash===t&&o===r}),n}return p()(t,e),a()(t,[{key:"render",value:function(){var e=this.props,t=e.handleCommitChange,n=e.hasBuilds,r=e.mostRecentCommitHash,o=e.mergeBaseHash;return y.a.createElement(J,{tabIndex:0,onClick:function(){t(o,r)},onKeyPress:function(e){"Enter"===e.key&&t(o,r)},hasPointerCursor:!0},y.a.createElement(O.e,null,y.a.createElement("input",{type:"radio","aria-checked":this.isSelected(),checked:this.isSelected(),onChange:function(){}})),y.a.createElement("td",{colSpan:n?6:5},y.a.createElement(Y,null,y.a.createElement(w.a,E.showFullDiff))))}}]),t}(b.PureComponent);g()(te,"defaultProps",{hasBuilds:!1});var ne=n("pVnL"),re=n.n(ne),oe=n("gEIt"),ie=n.n(oe),ae=n("FbrI"),se=n("eq3s"),ce=n("fVoa"),le=n("KXjM"),ue=n("lJqg"),de=/\n|\r|\t/g,pe=function(e){function t(){var e,n;o()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(h()(h()(n)),"linkRef",void 0),g()(h()(h()(n)),"isSelected",function(e,t){var r=n.props,o=r.selectedCommitRangeStart,i=r.selectedCommitRangeEnd;return e===o&&t===i}),n}return p()(t,e),a()(t,[{key:"componentDidUpdate",value:function(e){this.linkRef&&(e.isFocused||!this.props.isFocused?e.isFocused&&!this.props.isFocused&&this.linkRef.blur():this.linkRef.focus())}},{key:"isMergeCommit",value:function(){var e=this.props.commit;return e.parents&&e.parents.length>=2}},{key:"renderBuilds",value:function(){var e=this.props,t=e.commit,n=e.renderBuildStatus,r=t.extra;return r&&r.builds?y.a.createElement(O.e,null,y.a.createElement(z,null,n?n(t):y.a.createElement(le.a,{builds:r.builds}))):null}},{key:"renderCommitHash",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.props,r=n.showCommitSelector,o=n.commit,i=n.linkComponent,a=n.linkTarget,s=y.a.createElement(q,{key:o.hash},function(e){return e.slice(0,7)}(o.hash));return r?s:i?y.a.createElement(i,re()({key:o.hash,href:o.links.html.href,to:o.links.html.href,innerRef:function(n){t&&(e.linkRef=n)}},a?{target:a}:{}),s):y.a.createElement("a",re()({key:o.hash,href:o.links.html.href,ref:function(n){t&&(e.linkRef=n)}},a?{target:a}:{}),s)}},{key:"renderCommitLabel",value:function(){var e=this.props.intl;return this.isMergeCommit()?y.a.createElement(se.a,{content:e.formatMessage(E.mergeCommitTooltip),position:"top"},y.a.createElement(Q,null,y.a.createElement(ae.a,null,"M"))):null}},{key:"renderCommitMessage",value:function(){var e=this.props,t=e.commit,n=e.renderAfterMessage,r=e.renderAuthorName,o=e.renderCommitMessage,i=r(t.author),a=t.summary&&t.summary.rendered_html&&function(e){var t=document.createElement("p");if(t.innerHTML=e.replace(/<br[^>]*>/g,""),!t.children.length)return null;if(1===t.children.length){var n=t.children.item(0);return n&&"P"===n.tagName?n.outerHTML:null}for(var r=document.createElement("p"),o=0;o<t.children.length;o++){var i=t.children.item(o);if(i&&"P"===i.tagName){var a=document.createElement("span");a.innerHTML="".concat(i.innerHTML," "),r.appendChild(a)}}return r.outerHTML}(t.summary.rendered_html),s=t.rendered&&t.rendered.message||t.summary;return y.a.createElement(W,null,s&&o?y.a.createElement(G,{title:s.raw},o(s)):a?y.a.createElement(V,{title:t.message,dangerouslySetInnerHTML:{__html:a}}):y.a.createElement(G,{title:t.message},t.message.replace(de," ")),y.a.createElement(X,null,y.a.createElement(ee,null,y.a.createElement(w.a,re()({},E.summaryInfo,{values:{author:i,date:y.a.createElement(ue.a,{key:"".concat(t.date,"-").concat(t.hash),date:t.date}),id:this.renderCommitHash()}})))),y.a.createElement(U,null,n(t)))}},{key:"renderCommitComments",value:function(){var e=this.props,t=e.commit,n=e.intl,r=t.extra&&!!t.extra.commentcount;return y.a.createElement(O.f,null,r?y.a.createElement(_,null,y.a.createElement(Z,null,y.a.createElement(ie.a,{size:"medium",label:n.formatMessage(E.commentLabel)})),t.extra&&t.extra.commentcount):null)}},{key:"render",value:function(){var e=this.props,t=e.commit,n=e.handleCommitChange,r=e.linkTarget,o=e.parentCommitHash,i=e.renderAuthorAvatar,a=e.renderAuthorName,s=e.showCommitComments,c=e.showCommitSelector,l=e.isDisabled,u=e.isFocused,d=e.index,p=i(t.author,{size:"small",target:r,isDisabled:l}),f=a(t.author);return y.a.createElement(J,{tabIndex:c?0:void 0,onClick:c?function(){n(o,t.hash)}:void 0,onKeyPress:function(e){c&&"Enter"===e.key&&n(o,t.hash)},hasPointerCursor:c,isFocused:u,isMergeCommit:this.isMergeCommit()},c?y.a.createElement(O.e,null,y.a.createElement("input",{type:"radio",value:t.hash,"aria-checked":this.isSelected(o,t.hash),checked:this.isSelected(o,t.hash)})):null,y.a.createElement(O.f,null,y.a.createElement(_,null,p," ",y.a.createElement(I,null,f))),y.a.createElement(O.f,null,y.a.createElement(F,{"data-qa":"commit-hash-wrapper-".concat(d)},this.renderCommitHash(!0),this.renderCommitLabel())),y.a.createElement(O.e,null,this.renderCommitMessage()),s?this.renderCommitComments():null,y.a.createElement(O.f,null,y.a.createElement(ue.a,{date:t.date})),this.renderBuilds())}}]),t}(b.PureComponent);g()(pe,"defaultProps",{handleCommitChange:function(){},renderAfterMessage:function(){return null},renderAuthorAvatar:function(e,t){var n=e.raw,r=e.user;return r?y.a.createElement(ce.f,re()({user:r},t)):y.a.createElement(ce.d,re()({rawCommitAuthor:n},t))},renderAuthorName:function(e){return e.user?y.a.createElement(ce.g,{user:e.user}):y.a.createElement(ce.e,{rawCommitAuthor:e.raw})}});var fe=Object(w.f)(pe),he=function(e){function t(){var e,n;o()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(h()(h()(n)),"renderColumnDefinitions",function(){var e=n.props,t=e.showCommitSelector,r=e.showComments,o=n.hasBuilds(),i=n.hasComments();return y.a.createElement("colgroup",null,t?y.a.createElement(B,null):null,y.a.createElement(P,null),y.a.createElement(A,null),y.a.createElement("col",null),r&&i?y.a.createElement(N,null):null,y.a.createElement(R,null),o?y.a.createElement(D,null):null)}),g()(h()(h()(n)),"renderColumnHeaders",function(){var e=n.props,t=e.showCommitSelector,r=e.showComments,o=n.hasBuilds(),i=n.hasComments();return y.a.createElement("tr",null,t?y.a.createElement(O.h,null):null,y.a.createElement(O.i,null,y.a.createElement(w.a,E.authorHeader)),y.a.createElement(O.i,null,y.a.createElement(w.a,E.hashHeader)),y.a.createElement(O.j,null,y.a.createElement(w.a,E.summaryHeader)),y.a.createElement(O.i,null,y.a.createElement(K,null,y.a.createElement(w.a,E.messageHeader))),r&&i?y.a.createElement(O.i,null):null,y.a.createElement(O.i,null,y.a.createElement(w.a,E.dateHeader)),o?y.a.createElement(L,null,y.a.createElement(w.a,E.buildsHeader)):null)}),g()(h()(h()(n)),"renderCommitSelector",function(){var e=n.props,t=e.commits,r=e.handleCommitChange,o=e.mergeBaseHash,i=e.selectedCommitRangeStart,a=e.selectedCommitRangeEnd,s=n.hasBuilds();return y.a.createElement(te,{handleCommitChange:r,hasBuilds:s,selectedCommitRangeStart:i,selectedCommitRangeEnd:a,mostRecentCommitHash:t[0].hash,mergeBaseHash:o})}),g()(h()(h()(n)),"createRenderCommit",function(){return function(e,t){var r,o=n.props,i=o.commits,a=o.isLoading,s=o.linkTarget,c=o.renderAfterMessage,l=o.showCommitSelector,u=o.showComments,d=o.handleCommitChange,p=o.renderAuthorAvatar,f=o.renderAuthorName,h=o.renderCommitMessage,m=o.focusedRowIndex,g=o.linkComponent,v=o.renderBuildStatus,b=n.hasComments(),w=i.length,O=e.parents||[];return r=w===t+1?"":O.length?O[0].hash:i[t+1].hash,y.a.createElement(fe,{key:e.hash,isDisabled:a,isFocused:t===m,linkComponent:g,commit:e,linkTarget:s,showCommitSelector:l,showCommitComments:u&&b,parentCommitHash:r,handleCommitChange:d,renderAfterMessage:c,renderAuthorAvatar:p,renderAuthorName:f,renderCommitMessage:h,selectedCommitRangeStart:n.props.selectedCommitRangeStart,selectedCommitRangeEnd:n.props.selectedCommitRangeEnd,renderBuildStatus:v,index:t})}}),n}return p()(t,e),a()(t,[{key:"hasBuilds",value:function(){return this.props.commits.some(function(e){return!!e.extra&&!!e.extra.builds})}},{key:"hasComments",value:function(){return this.props.commits.some(function(e){return!!e.extra&&!!e.extra.commentcount})}},{key:"render",value:function(){var e=this.props,t=e.commits,n=e.hasMore,r=e.isLoading,o=e.onShowMoreClick,i=e.renderPagination,a=e.shouldShowLoadingCover,s=e.showCommitSelector,c=e.showHeaders,l=t.length,u=c?this.renderColumnHeaders:null,d=s&&l>0?this.renderCommitSelector:null;return y.a.createElement(T,{isDisabled:r},y.a.createElement(M,null,0===l&&!r&&y.a.createElement(w.a,E.noCommits),y.a.createElement(O.m,{isLoading:r,renderColumnDefinitions:this.renderColumnDefinitions,renderHeaders:u,renderBeforeRows:d,renderPagination:i,rows:t,shouldShowLoadingCover:a},this.createRenderCommit()),n&&!r&&y.a.createElement($,null,y.a.createElement(v.a,{appearance:"link",onClick:o,shouldFitContainer:!0},y.a.createElement(w.a,E.showMoreCommits)))))}}]),t}(b.PureComponent);g()(he,"defaultProps",{commits:[],handleCommitChange:function(){},hasMore:!1,isLoading:!1,mergeBaseHash:"",onShowMoreClick:function(){},renderPagination:null,selectedCommitRangeEnd:"",selectedCommitRangeStart:"",showCommitSelector:!1,showComments:!1,showHeaders:!1,shouldShowLoadingCover:!0});var me=n("QILm"),ge=n.n(me),ve=function(e){function t(){var e,n;o()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(h()(h()(n)),"state",{selectedCommitRangeStart:n.props.mergeBaseHash,selectedCommitRangeEnd:n.props.commits[0]?n.props.commits[0].hash:""}),g()(h()(h()(n)),"handleCommitChange",function(e,t){n.setState({selectedCommitRangeStart:e,selectedCommitRangeEnd:t}),n.props.onCommitRangeChange(e,t)}),n}return p()(t,e),a()(t,[{key:"render",value:function(){var e=this.props,t=(e.onCommitRangeChange,ge()(e,["onCommitRangeChange"]));return y.a.createElement(he,re()({handleCommitChange:this.handleCommitChange,selectedCommitRangeStart:this.state.selectedCommitRangeStart,selectedCommitRangeEnd:this.state.selectedCommitRangeEnd},t))}}]),t}(b.PureComponent);g()(ve,"defaultProps",{commits:[],hasMore:!1,isLoading:!1,mergeBaseHash:"",onCommitRangeChange:function(){},onShowMoreClick:function(){},showCommitSelector:!0});n.d(t,"b",function(){return he}),n.d(t,"c",function(){return ve}),n.d(t,"a",function(){return 28})},"sBL/":function(e,t){function n(e,t,n){var r,o,i,a,s;function c(){var l=Date.now()-a;l<t&&l>=0?r=setTimeout(c,t-l):(r=null,n||(s=e.apply(i,o),i=o=null))}null==t&&(t=100);var l=function(){i=this,o=arguments,a=Date.now();var l=n&&!r;return r||(r=setTimeout(c,t)),l&&(s=e.apply(i,o),i=o=null),s};return l.clear=function(){r&&(clearTimeout(r),r=null)},l.flush=function(){r&&(s=e.apply(i,o),i=o=null,clearTimeout(r),r=null)},l}n.debounce=n,e.exports=n},sJKt:function(e,t,n){"use strict";var r=n("lwsE"),o=n.n(r),i=n("W8MJ"),a=n.n(i),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),u=n.n(l),d=n("7W2i"),p=n.n(d),f=n("lSNA"),h=n.n(f),m=n("q1tI"),g=n.n(m),v=n("mER7"),b=n.n(v),y=n("eq3s"),w=n("grSP"),O=n("y+en"),E=n("wTIg"),x=n("gxo2"),k=n("b0Qh"),C=n("N7jl"),S=Object(E.a)("div",{target:"e15c7e6i0"})("display:flex;margin-bottom:",2*Object(x.l)(),"px;"),j=Object(E.a)("div",{target:"e15c7e6i1"})("flex:1;min-width:0;padding:0 ",Object(x.l)(),"px;&:first-child{padding-left:0;}&:last-child{padding-right:0;}"),T=Object(E.a)("div",{target:"e15c7e6i2"})(k.typography.h200(),";margin-top:0;"),M=Object(E.a)("div",{target:"e15c7e6i3"})(Object(C.b)(),";"),_=Object(E.a)("div",{target:"e15c7e6i4"})("& + &{margin-top:",1.5*Object(x.l)(),"px;}"),I=function(e){function t(){return o()(this,t),c()(this,u()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"render",value:function(){var e=this.props,t=e.isCollapsed,n=e.label,r=e.isLoading,o=e.icon;return t?g.a.createElement(y.a,{position:"left",content:n},g.a.createElement(w.a,{appearance:"subtle",iconBefore:o})):g.a.createElement(_,null,g.a.createElement(O.Expander,{icon:o,label:n,isLoading:r},this.props.children))}}]),t}(m.Component);h()(I,"defaultProps",{icon:g.a.createElement(b.a,{label:"info"})});var P=function(e){return g.a.createElement(j,null,g.a.createElement(T,null,e.label),g.a.createElement(M,null,e.value))};n.d(t,"e",function(){return I}),n.d(t,"c",function(){return S}),n.d(t,"d",function(){return M}),n.d(t,"a",function(){return _}),n.d(t,"b",function(){return P})},sJtk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M15.185 7.4l-3.184 3.185-3.186-3.186a.507.507 0 0 0-.712.003l-.7.701a.496.496 0 0 0-.004.712l3.185 3.184L7.4 15.185a.507.507 0 0 0 .004.712l.7.7c.206.207.516.2.712.004l3.186-3.185 3.184 3.185a.507.507 0 0 0 .712-.004l.701-.7a.496.496 0 0 0 .003-.712l-3.186-3.186 3.186-3.184a.507.507 0 0 0-.003-.712l-.7-.7a.508.508 0 0 0-.36-.153.5.5 0 0 0-.353.15z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorCloseIcon";var c=s;t.default=c},sLFk:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var r=function(e){return!!e.dimensions},o=function(e){return e.original&&e.original.width&&e.original.height?{dimensions:{width:e.original.width,height:e.original.height},scaleFactor:1}:{}}},sPRa:function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return d});var r=n("wTIg"),o=n("gxo2"),i=n("b0Qh"),a="50px",s="100%",c=Object(r.a)("div",{target:"evqr4d40"})("display:flex;position:relative;margin-bottom:",3*Object(o.l)(),"px;min-height:",a,";max-height:280px;overflow:auto;iframe{display:block;}"),l=Object(r.a)("div",{target:"evqr4d41"})("display:flex;position:relative;margin-top:",Object(o.l)(),"px;overflow:auto;min-height:",a,";max-height:280px;iframe{display:block;overflow:auto;}"),u=Object(r.a)("span",{target:"evqr4d42"})(i.typography.h400(),";"),d=Object(r.a)("section",{target:"evqr4d43"})("margin-top:",Object(o.l)(),"px;margin-bottom:",Object(o.l)(),"px;")},shoj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M6 17h12a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm8-8h4a1 1 0 0 1 0 2h-4a1 1 0 0 1 0-2zm0 4h4a1 1 0 0 1 0 2h-4a1 1 0 0 1 0-2zM6 9h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1zm0-4h12a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorMediaWrapLeftIcon";var c=s;t.default=c},sx4T:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenHighlighter=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("DJck"),i=n("tifx");t.TokenHighlighter=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._indexStrategy=t||new o.PrefixIndexStrategy,this._sanitizer=n||new i.LowerCaseSanitizer,this._wrapperTagName=r||"mark"}return r(e,[{key:"highlight",value:function(e,t){for(var n=this._wrapText("").length,r={},o=0,i=t.length;o<i;o++)for(var a=this._sanitizer.sanitize(t[o]),s=this._indexStrategy.expandToken(a),c=0,l=s.length;c<l;c++){var u=s[c];r[u]?r[u].push(a):r[u]=[a]}for(var d="",p="",f=0,h=(o=0,e.length);o<h;o++){var m=e.charAt(o);" "===m?(d="",p="",f=o+1):(d+=m,p+=this._sanitizer.sanitize(m)),r[p]&&r[p].indexOf(p)>=0&&(d=this._wrapText(d),e=e.substring(0,f)+d+e.substring(o+1),o+=n,h+=n)}return e}},{key:"_wrapText",value:function(e){var t=this._wrapperTagName;return"<"+t+">"+e+"</"+t+">"}}]),e}()},t3eF:function(e,t,n){"use strict";var r=n("mrSG"),o=n("PQ/3"),i=function(){function e(e,t,n,r){void 0===r&&(r=o.b);var i=this;this.config=t,this.pickerConfig=n,this.mediaPickerFactoryClass=r,this.onDragListeners=[],this.onStartListeners=[],this.eventListeners={},this.handleUploadPreviewUpdate=function(e){var t=e.file,n=e.preview,r=Object(o.e)(n)?n:{dimensions:void 0,scaleFactor:void 0},a=r.dimensions,s=r.scaleFactor,c={id:t.id,fileName:t.name,fileSize:t.size,fileMimeType:t.type,dimensions:a,scaleFactor:s};i.eventListeners[t.id]=[],i.onStartListeners.forEach(function(e){return e(c,function(e){return i.subscribeStateChanged(t,e)})})},this.subscribeStateChanged=function(e,t){var n=i.eventListeners[e.id];n&&n.push(t)},this.handleUploadError=function(e){var t=e.error;if(t&&t.fileId){var n=i.eventListeners[t.fileId];n&&(n.forEach(function(e){return e({id:t.fileId,status:"error",error:t&&{description:t.description,name:t.name}})}),delete i.eventListeners[t.fileId])}else{var r=new Error("Media: unknown upload-error received from Media Picker: "+(t&&t.name));i.errorReporter.captureException(r)}},this.handleMobileUploadEnd=function(e){var t=e.file,n=i.eventListeners[t.id];n&&n.forEach(function(e){return e({id:t.id,status:"mobile-upload-end",fileMimeType:t.type,collection:t.collectionName,publicId:t.publicId})})},this.handleReady=function(e){var t=e.file,n=i.eventListeners[t.id];n&&(n.forEach(function(e){return e({id:t.id,status:"ready"})}),delete i.eventListeners[t.id])},this.handleDragEnter=function(){i.onDragListeners.forEach(function(e){return e.call(e,"enter")})},this.handleDragLeave=function(){i.onDragListeners.forEach(function(e){return e.call(e,"leave")})},this.pickerType=e,this.errorReporter=t.errorReporter}return e.prototype.init=function(){return r.__awaiter(this,void 0,void 0,function(){var e,t;return r.__generator(this,function(n){switch(n.label){case 0:return"customMediaPicker"!==this.pickerType?[3,1]:(e=this.picker=this.pickerConfig,[3,3]);case 1:return t=this,[4,this.mediaPickerFactoryClass(this.pickerType,this.config.context,this.pickerConfig)];case 2:e=t.picker=n.sent(),n.label=3;case 3:return e.on("upload-preview-update",this.handleUploadPreviewUpdate),e.on("upload-processing",this.handleReady),e.on("upload-error",this.handleUploadError),e.on("mobile-upload-end",this.handleMobileUploadEnd),Object(o.d)(e)&&(e.on("drag-enter",this.handleDragEnter),e.on("drag-leave",this.handleDragLeave)),Object(o.d)(e)&&e.activate(),[2,this]}})})},Object.defineProperty(e.prototype,"type",{get:function(){return this.pickerType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mediaPicker",{get:function(){return this.picker},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){var e=this.picker;if(e){e.removeAllListeners("upload-preview-update"),e.removeAllListeners("upload-processing"),e.removeAllListeners("upload-error"),Object(o.d)(e)&&(e.removeAllListeners("drag-enter"),e.removeAllListeners("drag-leave")),this.onStartListeners=[],this.onDragListeners=[];try{Object(o.d)(e)&&e.deactivate(),(Object(o.f)(e)||Object(o.c)(e))&&e.teardown()}catch(e){this.errorReporter.captureException(e)}}},e.prototype.setUploadParams=function(e){this.picker&&this.picker.setUploadParams(e)},e.prototype.onClose=function(e){var t=this.picker;return Object(o.f)(t)?(t.on("closed",e),function(){return t.off("closed",e)}):function(){}},e.prototype.activate=function(){var e=this.picker;Object(o.d)(e)&&e.activate()},e.prototype.deactivate=function(){var e=this.picker;Object(o.d)(e)&&e.deactivate()},e.prototype.show=function(){if(Object(o.f)(this.picker))try{this.picker.show()}catch(e){this.errorReporter.captureException(e)}else Object(o.c)(this.picker)&&this.picker.browse()},e.prototype.hide=function(){Object(o.f)(this.picker)&&this.picker.hide()},e.prototype.onNewMedia=function(e){this.onStartListeners.push(e)},e.prototype.onDrag=function(e){this.onDragListeners.push(e)},e}();t.a=i},t79S:function(e,t,n){"use strict";n.d(t,"d",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return f});var r=n("mrSG"),o=n("mG1W"),i=n("byeC"),a=n("9fMZ"),s=n("Z5Sc"),c=n("KiBw"),l=n("s7yy"),u=function(e){return function(t,n){var i,s,c=t.selection,l=t.schema,u=t.tr,d=l.nodes,p=d.bodiedExtension,f=d.extension,h=d.inlineExtension,m=Object(o.findParentNodeOfType)([p])(c),g=Object(o.findSelectedNodeOfType)([p,h,f])(c);if(!m&&!g)return!1;g?(i=g.pos,s=g.node):(i=m.pos,s=m.node);var v=a.b.getState(t);return u.setNodeMarkup(i,void 0,r.__assign({},s.attrs,{layout:e})).setMeta(a.b,r.__assign({},v,{layout:e})),n&&n(u),!0}},d=function(e){return function(t,n){var r=Object(c.a)(t);return!(!r||!e)&&(Object(s.a)(e,r.node,!0)(t,n),!0)}},p=function(){return function(e,t){var n=e.schema,i=e.selection,s=a.b.getState(e),l=e.tr.setMeta(a.b,r.__assign({},s,{element:null}));return l=Object(c.b)(i,n)?Object(o.removeSelectedNode)(l):Object(o.removeParentNodeOfType)(n.nodes.bodiedExtension)(l),t&&t(l),!0}},f=function(e,t){var n=t.nodes.bodiedExtension,r=Object(l.d)(e.content,function(t,r,o){if(t.type===n&&!r){var i=e.openStart&&0===o,a=e.openEnd&&o+1===e.content.childCount;if(i||a)return t.content}return t});return new i.Slice(r,r.firstChild&&r.firstChild.type!==e.content.firstChild.type?e.openStart-1:e.openStart,r.lastChild&&r.lastChild.type!==e.content.lastChild.type?e.openEnd-1:e.openEnd)}},tMf1:function(e,t,n){var r=n("x84W");e.exports=function(e){return r(e,{weekStartsOn:1})}},tQKV:function(e,t,n){"use strict";var r=n("mrSG"),o=n("b/sn"),i=n("mG1W"),a=n("cD+i"),s=n("WLpT"),c=n("11LQ"),l=n("q1tI"),u=n("byeC"),d=n("eV/v"),p=n("yxov"),f=n("4K8n"),h=n("OrOc"),m=n("YehR"),g=n("HwHA"),v=n("SqtV"),b=n("D4/y"),y=n("HeSN"),w=n("mIQt"),O=n("COqE"),E=function(e){return{"data-number-column":e.attrs.isNumberColumnEnabled,"data-layout":e.attrs.layout,"data-autosize":e.attrs.__autoSize}},x=function(e){function t(t){var n=e.call(this,t.node,t.view,t.getPos,t.portalProviderAPI,t)||this;n.resizeForBreakoutContent=function(e){var t=n.view,r=Object(O.j)(e,"."+w.a.TABLE_HEADER_NODE_WRAPPER+", ."+w.a.TABLE_CELL_NODE_WRAPPER),o=Object(v.a)(e,e).minWidth;if(n.node&&r&&r.offsetWidth<o){var i=t.posAtDOM(r,0),a=t.domAtPos.bind(t),s=t.state,c=t.dispatch;Object(b.b)(r,i-1,n.getPos()+1,o,n.node,a)(s,c)}},n.resizeForExtensionContent=function(e){if(n.node){var t=n.view,r=Object(O.j)(e,".inlineExtensionView-content-wrap, .extensionView-content-wrap");if(r){var o=Object(O.j)(e,"."+w.a.TABLE_HEADER_NODE_WRAPPER+", ."+w.a.TABLE_CELL_NODE_WRAPPER);if(o&&o.offsetWidth<r.offsetWidth){var i=t.domAtPos.bind(t),a=t.posAtDOM(o,0),s=t.state,c=t.dispatch;Object(b.b)(o,a-1,n.getPos()+1,r.offsetWidth,n.node,i)(s,c)}}}},n.handleMutation=function(e){if(e.length&&n.contentDOM){var t=new Set;e.forEach(function(e){var r=e.target;t.has(r)||(n.resizeForBreakoutContent(r),n.resizeForExtensionContent(r),t.add(r))})}};var r=window.MutationObserver;return n.observer=r&&new r(n.handleMutation),n}return r.__extends(t,e),t.prototype.getContentDOM=function(){var e,t,n,r=u.DOMSerializer.renderSpec(document,(e=this.node,t=this.reactComponentProps,n="",t.allowColumnResizing&&(n=["colgroup",{}].concat(Object(p.a)(e))),["table",E(e),n,["tbody",0]]));return r.dom&&(this.table=r.dom,this.observer&&this.observer.observe(r.dom,{subtree:!0,childList:!0,attributes:!0})),r},t.prototype.setDomAttrs=function(e){var t=this;if(this.table){var n=E(e);Object.keys(n).forEach(function(e){t.table.setAttribute(e,n[e])})}},t.prototype.render=function(e,t){var n=this;return l.createElement(h.a,{plugins:{containerWidth:m.b,pluginState:$,tableResizingPluginState:g.d},editorView:e.view,render:function(o){return l.createElement(f.a,r.__assign({},e,o,{node:n.node,width:o.containerWidth.width,contentDOM:t}))}})},t.prototype.ignoreMutation=function(){return!0},t.prototype.destroy=function(){this.observer&&this.observer.disconnect(),e.prototype.destroy.call(this)},t}(d.b),k=n("BCfg"),C=n("7WM6"),S=n("urQ4"),j=function(e,t){var n,o,a=Object(i.findTable)(e.selection);if(a){n=a.node;var s=e.doc.type.schema.nodes,c=s.tableCell,l=s.tableHeader,u=Object(i.findParentNodeOfType)([c,l])(e.selection);o=u?u.pos:void 0}var d=Object(S.a)(t.decorationSet);return t.tableNode!==n||t.targetCellPosition!==o||d.length?r.__assign({},t,J,{decorationSet:t.decorationSet.remove(d),targetCellPosition:o,tableNode:n}):t},T=n("/IjO"),M=n("7UM5"),_=n("w9Yk"),I=n("knDx"),P=n("hkcA"),A=function(e){return parseInt(e.getAttribute("data-index")||"-1",10)},N=n("KiAB"),R=n("OzeT"),D=n("BbRl"),L=function(e,t){var n=e.state,r=e.dispatch;return 11!==s.a.ie_version&&Object(k.i)(!1)(n,r),t.preventDefault(),!1},z=function(e,t){var n=e.state,r=e.dispatch;return Object(k.i)(!0)(n,r),t.preventDefault(),!1},B=function(e,t){var n=t.target,r=Object(i.findTable)(e.state.selection),o=n.matches?"matches":"msMatchesSelector";if(!r||!Object(O.s)(n)||n[o]("table .image, table p, table .image div"))return!1;var a=T.TableMap.get(r.node),s=Object(O.j)(n,"td")||Object(O.j)(n,"th"),c=s&&s.cellIndex,l=Object(O.j)(n,"tr"),u=l&&l.rowIndex,d=a.width*u+c,p=a.map[d+1],f=e.dispatch,h=e.state,m=h.tr,g=h.schema.nodes.paragraph,v=r.node.nodeAt(a.map[d]);return Object(O.w)(v)&&(m.insert(p+r.pos,g.create()),f(m),Object(O.F)(e,p+r.pos)),!0},F=function(e,t){var n,r,o=e.state,i=e.dispatch,a=t.target;if((r=(n=a).classList).contains(w.a.CONTROLS_INSERT_COLUMN)||Object(O.j)(n,"."+w.a.CONTROLS_INSERT_COLUMN)||r.contains(w.a.CONTROLS_BUTTON_OVERLAY)&&Object(O.j)(n,"."+w.a.COLUMN_CONTROLS))return Object(k.l)(A(a))(o,i);if(function(e){var t=e.classList;return t.contains(w.a.CONTROLS_INSERT_ROW)||Object(O.j)(e,"."+w.a.CONTROLS_INSERT_ROW)||t.contains(w.a.CONTROLS_BUTTON_OVERLAY)&&Object(O.j)(e,"."+w.a.ROW_CONTROLS)}(a))return Object(k.m)(A(a))(o,i);var s=Z(o),c=s.insertColumnButtonIndex,l=s.insertRowButtonIndex;return!(void 0===c&&void 0===l||!Object(k.e)()(o,i))},q=function(e){var t=e.state,n=e.dispatch,r=Z(t),o=r.insertColumnButtonIndex,i=r.insertRowButtonIndex;return!(void 0===o&&void 0===i||!Object(k.e)()(t,n))};function W(e,t){var n=e.state,r=e.dispatch,i=Object(T.cellAround)(n.doc.resolve(t));if(!i)return!1;var a=n.doc.nodeAt(i.pos);if(a){var s=o.Selection.findFrom(i,1,!0),c=o.Selection.findFrom(n.doc.resolve(i.pos+a.nodeSize),-1,!0);if(s&&c)return r(n.tr.setSelection(new o.TextSelection(s.$from,c.$to))),!0}return!1}var U=n("xn/V");n.d(t,"e",function(){return $}),n.d(t,"c",function(){return J}),n.d(t,"b",function(){return ee}),n.d(t,"a",function(){return X}),n.d(t,"d",function(){return Z});var H,V,G,K,$=new o.PluginKey("tablePlugin"),J={hoveredColumns:[],hoveredRows:[],isInDanger:!1},Y=Object(c.a)($,function(e,t){switch(t.type){case"TOGGLE_HEADER_COLUMN":return r.__assign({},e,{isHeaderColumnEnabled:e.isHeaderColumnEnabled});case"TOGGLE_HEADER_ROW":return r.__assign({},e,{isHeaderRowEnabled:e.isHeaderRowEnabled});case"CLEAR_HOVER_SELECTION":return r.__assign({},e,t.data,J);case"SET_TARGET_CELL_POSITION":return r.__assign({},e,t.data,{isContextualMenuOpen:!1});case"TOGGLE_CONTEXTUAL_MENU":return r.__assign({},e,{isContextualMenuOpen:!e.isContextualMenuOpen});case"SHOW_INSERT_ROW_BUTTON":return t.data.insertRowButtonIndex===e.insertRowButtonIndex?e:r.__assign({},e,t.data);case"SHOW_INSERT_COLUMN_BUTTON":return t.data.insertColumnButtonIndex===e.insertColumnButtonIndex?e:r.__assign({},e,t.data);case"HIDE_INSERT_COLUMN_OR_ROW_BUTTON":return void 0!==e.insertRowButtonIndex||void 0!==e.insertColumnButtonIndex?r.__assign({},e,{insertRowButtonIndex:void 0,insertColumnButtonIndex:void 0}):e;case"SET_TABLE_REF":case"HOVER_ROWS":case"HOVER_COLUMNS":case"HOVER_TABLE":case"SET_EDITOR_FOCUS":return r.__assign({},e,t.data);default:return e}},{mapping:function(e,t){if(e.docChanged&&t.targetCellPosition){var n=e.mapping.mapResult(t.targetCellPosition),o=n.pos,i=n.deleted;return r.__assign({},t,{targetCellPosition:i?void 0:o})}return t},onDocChanged:j,onSelectionChanged:j}),Q=Y.createPluginState,X=Y.createCommand,Z=Y.getPluginState,ee=function(e,t,n,c,l,u,d){H=l,V=c,G=u,K=d;var p=Q(e,r.__assign({pluginConfig:n,insertColumnButtonIndex:void 0,insertRowButtonIndex:void 0,decorationSet:a.DecorationSet.empty,isFullWidthModeEnabled:G,isHeaderRowEnabled:!0,isHeaderColumnEnabled:!1},J));return new o.Plugin({state:p,key:$,appendTransaction:function(e,t,n){var r=e.find(function(e){return"cut"===e.getMeta("uiEvent")});return r?Object(U.c)(function(e,t,n){var r=t.tr.selection,o=n.tr;if(r instanceof T.CellSelection){var a=e.doc.resolve(e.mapping.map(r.$anchorCell.pos)),s=e.doc.resolve(e.mapping.map(r.$headCell.pos)),c=new T.CellSelection(a,s);if(o.setSelection(c),o.selection instanceof T.CellSelection){var l=Object(i.getSelectionRect)(c);if(l){var u=Object(N.a)(o.selection),d=u.verticalCells,p=u.horizontalCells,f=u.totalCells,h=u.totalRowCount,m=u.totalColumnCount;if((o=Object(_.a)(o,{action:I.a.CUT,actionSubject:P.b.TABLE,actionSubjectId:null,attributes:{verticalCells:d,horizontalCells:p,totalCells:f,totalRowCount:h,totalColumnCount:m},eventType:P.d.TRACK})).selection instanceof T.CellSelection)if(o.selection.isRowSelection()&&o.selection.isColSelection())o=Object(i.removeTable)(o);else if(o.selection.isRowSelection()){var g=Z(n).pluginConfig.isHeaderRowRequired;o=Object(R.a)(l,g)(o),M.a.trackEvent("atlassian.editor.format.table.delete_row.button")}else o.selection.isColSelection()&&(M.a.trackEvent("atlassian.editor.format.table.delete_column.button"),o=Object(D.a)(l)(o))}}}return o}(r,t,n)):e.find(function(e){return e.docChanged})?Object(U.c)(n.tr):void 0},view:function(e){var t=e.domAtPos.bind(e);return{update:function(e){var n,r=e.state,o=e.dispatch,a=r.selection,s=Z(r);if(s.editorHasFocus){var c=Object(i.findParentDomRefOfType)(r.schema.nodes.table,t)(a);c&&(n=c.querySelector("table"))}if(s.tableRef!==n&&Object(k.k)(n)(r,o),s.editorHasFocus&&s.tableRef){var l=Object(i.findParentNodeOfType)(r.schema.nodes.tableHeader)(r.selection);l&&Object(k.a)(l)(r,o)}}}},props:{decorations:function(e){return Z(e).decorationSet},handleClick:function(e,t,n){var r=e.state,o=e.dispatch,i=Z(r).decorationSet;if(Object(S.a)(i).length&&Object(C.a)()(r,o),s.a.chrome&&n.target){var a=n.target.classList;if(a.contains(w.a.CONTROLS_BUTTON)||a.contains(w.a.CONTEXTUAL_MENU_BUTTON))return!0}return!1},nodeViews:{table:function(e,n,r){return function(e,t,n,r,o){var i=Z(t.state).pluginConfig,a=Object(y.b)(i).allowColumnResizing;return new x({node:e,view:t,allowColumnResizing:a,portalProviderAPI:r,getPos:n,options:o}).init()}(e,n,r,t,{isBreakoutEnabled:H,dynamicTextSizing:V,isFullWidthModeEnabled:G,wasFullWidthModeEnabled:K})}},handleDOMEvents:{blur:L,focus:z,mousedown:function(e,t){return!!(t.target&&t.target instanceof HTMLElement&&(t.target.classList.contains(w.a.CONTROLS_BUTTON)||t.target.classList.contains(w.a.NUMBERED_COLUMN_BUTTON)))},mouseover:F,mouseleave:q,click:B},handleTripleClick:W}})}},tWMU:function(e,t,n){"use strict";n.r(t);var r=n("MVZn"),o=n.n(r),i=n("/MKj"),a=n("7EGn"),s=n("4Nyd"),c=n("eRoQ"),l=n("YCJd"),u=n("SYgN"),d=n("Iy3U"),p=n("Xwpv"),f=n("lwsE"),h=n.n(f),m=n("W8MJ"),g=n.n(m),v=n("a1gu"),b=n.n(v),y=n("Nsbk"),w=n.n(y),O=n("7W2i"),E=n.n(O),x=n("lSNA"),k=n.n(x),C=n("q1tI"),S=n.n(C),j=n("+WM3"),T=n("UcqW"),M=n("6rBg"),_=n("qmOl"),I=n("dluv"),P=n("FUV3"),A=n("INKy"),N=n("66Gi"),R=n("PJYZ"),D=n.n(R),L=n("JRPe"),z=n("OUqj"),B=n("RQK+"),F=n("M5Z1"),q=n("DJBN"),W=n("5XQs"),U=n("JjJU"),H=n("pVnL"),V=n.n(H),G=n("W5a9"),K=n("KTSs"),$=n("3HTq"),J=n("sPRa"),Y=function(e){function t(){return h()(this,t),b()(this,w()(t).apply(this,arguments))}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.principalId,n=e.target;return S.a.createElement(G.c,{moduleType:"webPanels",principalId:t,target:n,location:"org.bitbucket.pullrequest.overview.informationPanel",height:"".concat(J.e),width:"".concat(J.f),options:{autoresize:!0},loadingComponent:function(){return null},loadingFailedComponent:function(){return null}},function(e){return e.length>0&&S.a.createElement(C.Fragment,null,e.map(function(e){var t=e.Component,n=e.module;return S.a.createElement(J.d,{"data-qa":"connect-pullrequestview-webpanel",key:n.id,onLoad:function(){Object(I.d)("pullRequstWebPanelScreen")}},n.descriptor.name&&S.a.createElement(J.c,null,n.descriptor.name.value),S.a.createElement(J.a,{key:n.id},S.a.createElement(t,{loadingComponent:function(){return S.a.createElement($.a,{module:n,delay:K.a})},loadingTimeoutComponent:function(e){return S.a.createElement($.a,V()({action:"timeout"},e,{module:n}))},loadingFailedComponent:function(){return S.a.createElement($.a,{action:"failed",module:n})}})))}))})}}]),t}(C.PureComponent),Q=function(e){function t(){return h()(this,t),b()(this,w()(t).apply(this,arguments))}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.principalId,n=e.target;return e.isPRWebPanelsEnabled&&t&&n?S.a.createElement(Y,{principalId:t,target:n}):null}}]),t}(C.PureComponent),X=Object(i.c)(function(e){return{principalId:Object(U.e)(e),target:Object(c.p)(e),isPRWebPanelsEnabled:e.global.features["pr-web-panels"]||!1}})(Q),Z=n("Gzh5"),ee=n("JKa8"),te=n("ANjH"),ne=n("Muja"),re=n("Jz2V"),oe=n("QILm"),ie=n.n(oe),ae=n("5k0t"),se=n("Fxkd"),ce=n("xSdc");var le=n("zjw2"),ue=n("va6X"),de=n("k3RL"),pe=n("Juz6"),fe=n.n(pe);function he(e){for(var t=0;t<e.headers.length;++t){var n=e.headers[t].match(/^File excluded by pattern "(.*)"$/);if(n)return n[1]}return""}var me=n("1RPK"),ge=n("MQJq"),ve=n("C2Nt"),be=n("jYNI"),ye=n("Kkjj"),we=n("v3lD"),Oe=n("2wA+"),Ee=n("grSP"),xe=Object(L.e)({trigger:{id:"frontbucket.repository.pullRequest.outdatedComments.trigger",defaultMessage:"{number_of_outdated_comments, number} prior {number_of_outdated_comments, plural, one {comment} other {comments}}"}}),ke=n("wTIg"),Ce=Object(ke.a)("div",{target:"emjkauh0"})({name:"u70tf2",styles:"cursor:auto;"}),Se=S.a.memo(function(e){var t=Object(i.d)(),n=e.count,r=e.file;if(!n)return null;var o=Object(ge.a)(r);return S.a.createElement(Ce,null,S.a.createElement(Ee.a,{onClick:function(e){e.stopPropagation(),t({type:u.G,payload:o})},spacing:"compact"},S.a.createElement(L.a,V()({},xe.trigger,{values:{number_of_outdated_comments:n},tagName:"strong"}))))}),je=Object(i.c)(function(e,t){var n=t.file;return{count:n?Object(c.cb)(e,{file:n}):0}})(Se),Te=n("ifKl"),Me=n("eaSS"),_e=n.n(Me),Ie=n("GuH9"),Pe=n("ZeO0"),Ae=n("WvSQ"),Ne=n("fw8x"),Re=n("JrcR"),De=n("55Ip"),Le=S.a.forwardRef(function(e,t){return e.hasNewSourceEnabled?S.a.createElement(De.b,{to:e.viewHref,target:e.target,className:e.className,innerRef:t},e.children):S.a.createElement("a",{href:e.viewHref,target:e.target,className:e.className,ref:t},e.children)}),ze=Object(i.c)(function(e,t){var n=t.isDeleted,r=t.filepath,o=n?Object(c.fb)(e):Object(c.ib)(e),i=o?o.full_name:"",a=n?Object(c.eb)(e):Object(c.hb)(e)||"";return{hasNewSourceEnabled:Object(c.W)(e),viewHref:Re.a.ui.source(i,{refOrHash:a,path:r})}},null,null,{forwardRef:!0})(Le),Be=n("o9Ch"),Fe=Object(i.c)(null,function(e){return{onClick:function(){return e({type:u.h})}}})(Ae.a),qe=Object(i.c)(null,function(e){return{onClick:function(){return e({type:u.m})}}})(Ae.a),We=function(e){function t(){return h()(this,t),b()(this,w()(t).apply(this,arguments))}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.toggleGlobalSideBySideMode,n=e.isGlobalSideBySideDiffEnabled;return S.a.createElement(Ae.a,{onClick:t},S.a.createElement(L.a,n?Be.a.unifiedDiff:Be.a.sideBySide))}}]),t}(C.Component),Ue=Object(i.c)(function(e){return{isGlobalSideBySideDiffEnabled:Object(p.H)(e)}},function(e){return{toggleGlobalSideBySideMode:function(){return e({type:u.Z})}}})(We),He=S.a.memo(function(e){var t=e.filepath,n=e.onAddComment,r=void 0===n?Te.a:n,o=e.onDiffActionsMenuClicked,a=e.onSideBySide,s=e.isDeleted,c=e.isSideBySide,l=e.isAnonymousUser,d=e.shouldIgnoreWhitespace,p=Object(Ne.b)(),f=Object(i.d)(),h=S.a.createElement(L.a,Be.a.viewFile),m=S.a.forwardRef(function(e,n){var r=e.className;return S.a.createElement(ze,{className:r,filepath:t,target:"_blank",isDeleted:!!s,ref:n},h)}),g=Object(C.useCallback)(function(){f({type:u.F,payload:t}),r()},[r,t,f]);return S.a.createElement(Ie.a,{triggerType:"button",position:"bottom right",triggerButtonProps:{appearance:"subtle",iconBefore:S.a.createElement(_e.a,{label:p.formatMessage(Be.a.diffActionsButtonLabel)})},onOpenChange:o},S.a.createElement(Pe.a,{title:p.formatMessage(Be.a.thisFile)},a&&S.a.createElement(Ae.a,{"data-qa":"pr-diff-file-side-by-side",key:"file-actions-menu-sbs",onClick:a},c?S.a.createElement(L.a,Be.a.unifiedDiff):S.a.createElement(L.a,Be.a.sideBySide)),S.a.createElement(Ae.a,{key:"file-actions-menu-view",linkComponent:m}),!l&&S.a.createElement(Ae.a,{"data-qa":"pr-diff-file-comment",key:"file-actions-menu-comment",onClick:g},S.a.createElement(L.a,Be.a.comment))),S.a.createElement(Pe.a,{title:p.formatMessage(Be.a.allFiles)},S.a.createElement(Ue,{key:"file-actions-menu-toggle-side-by-side-all"}),S.a.createElement(Fe,{key:"file-actions-menu-collapse-all"},S.a.createElement(L.a,Be.a.collapseAll)),S.a.createElement(qe,{key:"file-actions-menu-expand-all"},S.a.createElement(L.a,Be.a.expandAll)),S.a.createElement(Ae.a,{key:"file-actions-menu-ignore-whitespace",onClick:function(){return d||f({type:u.J,payload:{name:"bitbucket.pullrequests.ignoreWhitespace.click"}}),void f({type:u.Y})}},d?S.a.createElement(L.a,Be.a.showWhitespace):S.a.createElement(L.a,Be.a.ignoreWhitespace))))}),Ve=Object(L.f)(He),Ge=Object(i.c)(function(e){return{isAnonymousUser:Object(c.G)(e),shouldIgnoreWhitespace:Object(p.bb)(e)}})(Ve),Ke=n("FbrI"),$e=n("eq3s"),Je=Object(L.e)({conflictedLabel:{id:"frontbucket.repository.pullRequest.diff.conflicted",defaultMessage:"CONFLICTED"}}),Ye=function(e){var t=e.conflictMessage;return S.a.createElement($e.a,{content:t,position:"bottom",style:{alignSelf:"center"}},S.a.createElement(Ke.a,{appearance:"moved",isBold:!0},S.a.createElement(L.a,Je.conflictedLabel)))},Qe=n("Gp5W"),Xe=n("0Yu2"),Ze=n("Oajm"),et=n("lPmu"),tt=n("+dNt"),nt=n("viKH"),rt=S.a.memo(function(e){var t=e.containerId,n=e.conversation,r=void 0===n?{}:n,o=e.userAccessLevel,a=e.popupMountElement,s=ie()(e,["containerId","conversation","userAccessLevel","popupMountElement"]),c=Object(i.d)(),l=Object(C.useCallback)(function(e,t){Object(q.h)(t)&&(e.preventDefault(),c(Object(u.kb)("comment-".concat(t))))},[c]),d=Object(C.useCallback)(function(e,t){return S.a.createElement(e,V()({},t,nt.a,{popupsMountPoint:a,legacyImageUploadProvider:Promise.resolve(function(e,t){return c(Object(ve.b)(e,t))})}))},[a,c]),p=r.conversationId;return S.a.createElement(W.b.Consumer,null,function(e){var n=e.conversationProvider;return S.a.createElement(et.a,V()({key:p,id:p,showBeforeUnloadWarning:!0,allowFeedbackAndHelpButtons:!0,provider:n,objectId:t,isExpanded:!1,dataProviders:F.b,renderEditor:d,canModerateComments:Object(tt.a)(o),onCommentPermalinkClick:l},s))})}),ot=Object(i.c)(function(e){return{containerId:Object(c.g)(e),userAccessLevel:Object(c.lb)(e)}})(rt),it=S.a.memo(function(e){return S.a.createElement(ot,V()({},e,{isExpanded:!0}))}),at=function(){},st=[],ct=S.a.memo(function(e){var t=e.file,n=e.isCommenting,r=void 0!==n&&n,o=e.onCancel,a=void 0===o?at:o,s=e.onEditorClose,c=void 0===s?at:s,l=e.conversations,d=void 0===l?st:l,p=Object(ge.a)(t),f=Object(i.d)(),h=Object(C.useCallback)(function(){f({type:u.f,payload:p}),a()},[f,p,a]);return 0!==d.length||r?S.a.createElement(Ze.x,null,S.a.createElement(Ze.m,null,S.a.createElement(S.a.Fragment,null,d.map(function(e){return S.a.createElement(ot,{key:"".concat(e.conversationId,"-").concat(e.createdAt),conversation:e,meta:{path:p}})}),r&&S.a.createElement(it,{onCancel:h,onEditorClose:c,meta:{path:Object(ge.a)(t)}})))):null}),lt=Object(i.c)(function(e,t){var n=Object(ge.a)(t.file);return{isCommenting:!!e.repository.pullRequest.diffCommentingMap[n],conversations:Object(N.i)(e,t)}})(ct);var ut=function(e){function t(e){var n;return h()(this,t),n=b()(this,w()(t).call(this,e)),k()(D()(D()(n)),"showMoreLinesExpanderIndex",void 0),k()(D()(D()(n)),"popupMountElement",void 0),k()(D()(D()(n)),"numInlineEditorsOpen",0),k()(D()(D()(n)),"handleSideBySideClick",function(){n.numInlineEditorsOpen>0?n.setState({discardCommentsDialogType:"sideBySide"}):n.activateSideBySideMode()}),k()(D()(D()(n)),"activateSideBySideMode",function(){var e=n.props,t=e.pullRequest,r=e.file;(0,e.dispatchSideBySideMode)(Object(ge.a)(r));var o=Object(s.uncurlyUuid)(Object(a.a)(t,"destination.repository.owner.uuid","")),i={to_repository_uuid:Object(s.uncurlyUuid)(Object(a.a)(t,"destination.repository.uuid","")),to_repository_owner_uuid:o||void 0,from_repository_uuid:Object(s.uncurlyUuid)(Object(a.a)(t,"source.repository.uuid","")),pull_request_id:t?t.id:""};Object(I.a)(new ue.a("bitbucket.pullrequests.sideBySideDiff.click",i))}),k()(D()(D()(n)),"handleShowMoreLinesClick",function(e){n.showMoreLinesExpanderIndex=e,n.numInlineEditorsOpen>0?n.setState({discardCommentsDialogType:"expandContext"}):n.getMoreContextLines()}),k()(D()(D()(n)),"getMoreContextLines",function(){var e=n.props,t=e.expandContext,r=e.file,o=e.fileIndex;t({filepath:Object(ge.a)(r),fileIndex:o,expanderIndex:n.showMoreLinesExpanderIndex})}),k()(D()(D()(n)),"renderDiffConversations",function(e){var t=n.state.newConversationMeta,r=n.props,o=r.file,i=r.conversations,a=Object(ge.a)(o),s=function(e,t,n){return!(!e||!e.file||e.file.to!==t&&e.file.from!==t||e.lineTo!==n.lineTo||e.lineFrom!==n.lineFrom)}(t,a,e),c=e.lineTo,l=e.lineFrom,u=i.filter(function(e){var t=e.meta,n=t.to,r=t.from;return!!c&&n===c||!!l&&r===l});if(!u.length&&!s)return null;var d=t&&S.a.createElement(it,{meta:{path:a,to:e.lineTo,from:e.lineFrom},popupMountElement:n.popupMountElement,onEditorOpen:n.handleEditorOpen,onEditorClose:n.handleEditorClose,onCancel:n.state.onCancel});return S.a.createElement(C.Fragment,null,u.map(function(t){return S.a.createElement(ot,{key:a,conversation:t,meta:{path:a,to:e.lineTo||e.lineFrom},popupMountElement:n.popupMountElement,onEditorOpen:n.handleEditorOpen,onEditorClose:n.handleEditorClose})}),s&&d)}),k()(D()(D()(n)),"handleEditorOpen",function(){n.numInlineEditorsOpen++,n.props.onEditorOpenStateChange(!0)}),k()(D()(D()(n)),"handleEditorClose",function(){n.numInlineEditorsOpen--,n.numInlineEditorsOpen||n.props.onEditorOpenStateChange(!1)}),k()(D()(D()(n)),"handleEditorCancel",function(){n.setState({newConversationMeta:void 0})}),k()(D()(D()(n)),"handleAddComment",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:void 0,to:void 0},r=t.from,o=t.to;n.setState({newConversationMeta:{file:e,lineTo:o,lineFrom:r}})}),k()(D()(D()(n)),"handleOnCommentPermalinkClick",function(e,t){Object(q.h)(t)&&(e.preventDefault(),n.props.onPermalinkHashChange("comment-".concat(t)))}),k()(D()(D()(n)),"renderDiscardCommentsDialog",function(){var e={sideBySide:{messageDescriptor:Be.a.discardCommentsModalBody__SideBySideToggle,onDiscard:n.activateSideBySideMode},expandContext:{messageDescriptor:Be.a.discardCommentsModalBody__ExpandContext,onDiscard:n.getMoreContextLines}},t=n.state.discardCommentsDialogType;if(!t)return null;var r=e[t];return r?S.a.createElement(Xe.a,{onCancel:function(){return n.setState({discardCommentsDialogType:void 0})},onDiscard:function(){n.setState({discardCommentsDialogType:void 0}),n.handleEditorCancel(),r.onDiscard()}},S.a.createElement(L.a,V()({},r.messageDescriptor,{tagName:"p"}))):null}),n.state={newConversationMeta:void 0,isDiffActionsMenuOpen:!1,discardCommentsDialogType:void 0,onCancel:function(){return n.setState({newConversationMeta:void 0})}},n}return E()(t,e),g()(t,[{key:"componentDidUpdate",value:function(e){e.conversations.length!==this.props.conversations.length&&this.setState({newConversationMeta:void 0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.activePermalink,r=t.file,o=t.intl,i=t.isOpen,a=t.onExpand,s=t.onPermalinkClick,c=t.isAnonymousUser,l=t.isSideBySide,u=t.isBannerOpen,d=r.conflictMessage,p=r.fileDiffStatus,f=r.isConflicted,h=this.state.isDiffActionsMenuOpen,m=Object(ge.a)(r),g=S.a.createElement(Ge,{filepath:m,isDeleted:"removed"===p,isSideBySide:l,onSideBySide:function(){a(m,!0),e.handleSideBySideClick()},onAddComment:function(){e.handleAddComment(r)},onDiffActionsMenuClicked:function(t){return e.setState({isDiffActionsMenuOpen:t.isOpen})}}),v=u?Qe.b+ye.a:Qe.b;return S.a.createElement(C.Fragment,null,S.a.createElement("article",{"data-qa":"pr-diff-file-styles",ref:function(t){e.popupMountElement=t},"aria-label":o.formatMessage(Be.a.diffFileTitle,{filepath:m})},S.a.createElement(Oe.a,{prevFilePath:Object(ge.b)(r),filePath:m,icon:p?S.a.createElement(we.a,{fileDiffStatus:p}):void 0,dropdownMenu:g,isCollapsible:!0,isDropdownMenuOpen:h,isExpanded:i,hasStickyHeader:!0,stickyHeaderOffset:v,toggleExpanded:function(){return a(m,!i)},renderAfterFilePath:f&&d?function(){return S.a.createElement(Ye,{conflictMessage:d})}:void 0,renderBeforeActions:function(){return S.a.createElement(je,{file:r})}},S.a.createElement(lt,{file:r,popupMountElement:this.popupMountElement,onEditorClose:this.state.onCancel}),S.a.createElement(be.a,{activePermalink:n,diff:{chunks:r.chunks},filePath:m,inlineContent:this.renderDiffConversations,isSideBySide:l,onAddComment:c?void 0:function(t){return e.handleAddComment(r,t)},onShowMoreLines:this.handleShowMoreLinesClick,onPermalinkClick:s,showPermalinks:!0}))),this.renderDiscardCommentsDialog())}}]),t}(C.Component);k()(ut,"defaultProps",{conversations:[],isOpen:!0});var dt=Object(L.f)(ut),pt=Object(i.c)(function(e,t){var n=Object(p.c)(e),r=Object(N.j)(e,t),o=Object(c.p)(e),i=Object(c.G)(e),a=Boolean(Object(c.rb)(e)),s=Object(ge.a)(t.file),l=Object(p.cb)(e,s),u=Object(p.H)(e);return{activePermalink:n,conversations:r,isAnonymousUser:i,isBannerOpen:a,isSideBySide:void 0===l?u:l,pullRequest:o}},function(e){return{imageUploadHandler:function(t,n){return e(Object(ve.b)(t,n))},expandContext:function(t){return e(Object(u.hb)(t))},onExpand:function(t,n){return e({type:u.X,payload:{filepath:t,isOpening:n}})},onPermalinkClick:function(t){return e({type:u.a,payload:t})},onPermalinkHashChange:function(t){e(Object(u.kb)(t))},dispatchSideBySideMode:function(t){return e(Object(u.pb)(t))},onEditorOpenStateChange:function(t){return e(Object(u.jb)(t))}}})(dt),ft=n("BNRs"),ht=n("QatU"),mt=function(e,t){var n=[];return e.content.forEach(function(e){n.push(Pt(e,t))}),"> "+n.join("")},gt=function(e,t){var n=[];return e.forEach(function(e){n.push("* "+Pt(e,t))}),n.join("\n")},vt=function(e,t){var n=[],r="";return e.forEach(function(e){var o=Pt(e,t);"mention"!==r||o.startsWith(" ")?n.push(o):n.push(" "+o),r=e.type.name}),"<> "+n.join("").trim()},bt=function(){return"\n"},yt=function(e,t){var n=[];return e.forEach(function(e){n.push(Pt(e,t))}),n.join("")},wt=function(e,t){var n=[];return e.forEach(function(e){n.push(Pt(e,t))}),n.join("\n")},Ot=function(e){var t=0;return e.content.forEach(function(e){"file"===e.attrs.type&&(t+=1)}),t?" "+t+" "+(t>1?"Files":"File"):""},Et=function(e,t){var n=[];return e.forEach(function(e,r,o){n.push(o+1+". "+Pt(e,t))}),n.join("\n")},xt=function(e,t){var n=[];return e.forEach(function(e){n.push(Pt(e,t))}),n.join("\n")},kt=function(e,t){var n=[],r="";return e.forEach(function(e){var o=Pt(e,t);"mention"!==r||o.startsWith(" ")?n.push(o):n.push(" "+o),r=e.type.name}),n.join("").trim()},Ct=function(){return""},St=function(e,t){var n=[];return e.forEach(function(e){n.push(jt(e,t))}),"|"+n.join("|")+"|"},jt=function(e,t){var n=[];return e.forEach(function(e){n.push(Pt(e,t))}),n.join("\n")},Tt=function(e,t){var n=[];return e.forEach(function(e){n.push(St(e,t))}),n.join("\n")},Mt=function(e,t){var n=[],r="",o="DONE"===e.attrs.state?"[x]":"[]";return e.forEach(function(e){var o=Pt(e,t);"mention"!==r||o.startsWith(" ")?n.push(o):n.push(" "+o),r=e.type.name}),o+" "+n.join("").trim()},_t=n("YH6B"),It=function(e,t){var n=[];return e.forEach(function(e){n.push(Pt(e,t))}),n.length>0?n.join(""):Object(_t.b)(e)},Pt=function(e,t){return(At[e.type.name]||At.unknown)(e,t)},At={blockquote:mt,bulletList:gt,decisionItem:vt,hardBreak:bt,heading:yt,listItem:wt,mediaGroup:Ot,orderedList:Et,panel:xt,paragraph:kt,rule:Ct,table:Tt,taskItem:Mt,unknown:It},Nt=function(){function e(e){this.schema=e,this.schema=e}return e.prototype.serializeFragment=function(e){var t=this,n=[];return e.forEach(function(e){n.push(Pt(e,t.schema))}),n.join("\n").replace(/\n+/g,"\n")},e.fromSchema=function(t){return void 0===t&&(t=ht.a),new e(t)},e}(),Rt=n("Aood"),Dt=n("gxo2"),Lt=n("b0Qh"),zt=new Nt(ft.a),Bt=3.5*Object(Dt.l)(),Ft=4*Object(Dt.l)(),qt=2.5*Object(Dt.l)(),Wt="repeating-linear-gradient(".concat(Lt.colors.N20,", ").concat(Lt.colors.N20," ").concat(40,"px, ").concat(Lt.colors.N40," ").concat(40,"px, ").concat(Lt.colors.N40," ").concat(41,"px, ").concat(Lt.colors.N0," ").concat(40,"px, ").concat(Lt.colors.N0," 100%)"),Ut=Object(ke.a)("div",{target:"e2limm0"})("height:",function(e){var t=e.lines,n=e.chunks,r=e.conversations,o=e.comments;return e.isOpen?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=t*qt,i=Math.max(0,r-n)*Bt;return e*qt+o+40+(n*Ft+76*r+i)}(t,n,r,o):40},"px;margin-bottom:12px;display:flex;flex-direction:column;justify-content:flex-end;font-size:",Object(Dt.j)(),"px;font-family:",Object(Dt.g)(),";border:1px solid ",Lt.colors.N40,";border-radius:",Object(Dt.f)(),"px ",Object(Dt.f)(),"px 0 0;background:",Wt,";color:",Lt.colors.N0,";overflow:hidden;word-break:break-all;"),Ht={chunks:[]},Vt=function(e){var t=Object(C.useContext)(W.b).conversationProvider,n=e.lines,r=e.chunks,o=e.file,i=void 0===o?Ht:o,s=e.conversations,c=e.isOpen,l=ie()(e,["lines","chunks","file","conversations","isOpen"]),u="/dev/null"===i.to?i.from:i.to,d=0,p=[];return c&&(p=(s||[]).map(function(e){var n=e.conversationId,r=t.getConversation(n);return Object(a.a)(r,"comments",[]).map(function(e){d++;var t=Object(a.a)(e,"document.adf",{}),n=e.createdBy.name;return"".concat(n," ").concat(Object(Rt.a)(t,zt).result)})})),S.a.createElement(Ut,V()({lines:n,chunks:r,conversations:(s||[]).length,comments:d,isOpen:c},l,{"data-qa":"pr-diff-placeholder-wrapper"}),c?S.a.createElement(C.Fragment,null,u,(i.chunks||[]).map(function(e){return e.changes.map(function(e){return e.content})})):S.a.createElement("span",{style:{margin:"auto 0",paddingLeft:"".concat(Object(Dt.l)(),"px")}},S.a.createElement(j.a,{size:"xsmall"})),p)};Vt.defaultProps={isOpen:!0};var Gt=S.a.memo(Vt),Kt=Object(i.c)(function(e,t){return{conversations:Object(c.wb)(e,t)}},null)(Gt),$t=Object(ke.a)("ul",{target:"e6xrczn0"})("list-style:none;padding-left:0;margin-top:",1.5*Object(Dt.l)(),"px;li{display:inline-block;&:not(:first-child){margin-left:",.5*Object(Dt.l)(),"px;&::before{content:'\0b7';margin-right:",.5*Object(Dt.l)(),"px;}}}"),Jt=function(e){function t(){var e,n;h()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=b()(this,(e=w()(t)).call.apply(e,[this].concat(o))),k()(D()(D()(n)),"state",{isDiffActionsMenuOpen:!1}),n}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this,t=this.state.isDiffActionsMenuOpen,n=this.props,r=n.file,o=n.heading,i=n.description,a=n.actions,s=n.isOpen,c=n.onExpand,l=r.conflictMessage,u=r.fileDiffStatus,d=r.isConflicted,p=Object(ge.a)(r),f=S.a.createElement(Ge,{filepath:p,onDiffActionsMenuClicked:function(t){return e.setState({isDiffActionsMenuOpen:t.isOpen})}});return S.a.createElement(Oe.a,{dropdownMenu:f,icon:u?S.a.createElement(we.a,{fileDiffStatus:u}):void 0,isCollapsible:!0,isDropdownMenuOpen:t,isExpanded:s,toggleExpanded:function(){return c(p,!s)},filePath:p,prevFilePath:Object(ge.b)(r),renderAfterFilePath:d&&l?function(){return S.a.createElement(Ye,{conflictMessage:l})}:void 0,hasStickyHeader:!0,stickyHeaderOffset:Qe.b},S.a.createElement(lt,{file:r}),S.a.createElement(Z.b,{iconType:"info",title:o},i&&i,a&&S.a.createElement($t,null,a)))}}]),t}(C.PureComponent);k()(Jt,"defaultProps",{isOpen:!0,onExpand:function(){}});var Yt=Object(i.c)(void 0,function(e){return{onExpand:function(t,n){return e({type:u.X,payload:{filepath:t,isOpening:n}})}}})(Jt),Qt=Object(i.c)(function(e,t){var n=Object(c.w)(e)||"",r=Object(c.hb)(e),o={source:Object(c.eb)(e)||"",destination:r||""};return{hasNewSourceEnabled:Object(c.W)(e),viewHref:Re.a.ui.diff(n,t.filepath,o)}},function(){return{}})(Le),Xt=Object(L.e)({heading:{id:"frontbucket.diff.binary.heading",defaultMessage:"Binary file"},description:{id:"frontbucket.diff.binary.description",defaultMessage:"We can't show you the diff for this binary file here, but you can open the diff in a new tab instead."},action:{id:"frontbucket.diff.binary.action",defaultMessage:"Open file's diff"}}),Zt=function(e){function t(){return h()(this,t),b()(this,w()(t).apply(this,arguments))}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.file,n=e.isOpen,r=Object(ge.a)(t);return S.a.createElement(Yt,{file:t,isOpen:n,heading:S.a.createElement(L.a,Xt.heading),description:S.a.createElement(L.a,V()({tagName:"p"},Xt.description)),actions:S.a.createElement("li",null,S.a.createElement(Qt,{filepath:r,target:"_blank"},S.a.createElement(L.a,Xt.action)))})}}]),t}(C.PureComponent);k()(Zt,"defaultProps",{isOpen:!0});var en=Object(L.f)(Zt),tn=Object(L.e)({heading:{id:"frontbucket.diff.emptyDiff.heading",defaultMessage:"Empty diff"},description:{id:"frontbucket.diff.emptyDiff.description",defaultMessage:"The diff for this file is empty."}}),nn=function(e){function t(){return h()(this,t),b()(this,w()(t).apply(this,arguments))}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.file,n=e.isOpen;return S.a.createElement(Yt,{file:t,isOpen:n,heading:S.a.createElement(L.a,tn.heading),description:S.a.createElement(L.a,V()({tagName:"p"},tn.description))})}}]),t}(C.PureComponent);k()(nn,"defaultProps",{isOpen:!0});var rn=Object(L.f)(nn),on=n("Qp91"),an=Object(L.e)({title:{id:"frontbucket.diffCommentDialogTrigger.title",defaultMessage:"View ({commentsCount}) {commentsCount, plural, one {comment } other {comments }}"}});var sn=Object(te.d)(Object(i.c)(function(e,t){var n=t.file;return{commentsCount:Object(c.d)(e,{file:n})}},function(e,t){var n=t.file,r=Object(ge.a)(n);return{onClick:function(){return e({type:u.E,payload:r})}}}),L.f)(function(e){var t=e.intl,n=e.commentsCount,r=e.onClick;return n?S.a.createElement("li",null,S.a.createElement(Ee.a,{appearance:"link",onClick:r,spacing:"none"},t.formatMessage(an.title,{commentsCount:n}))):null}),cn=n("R4cy"),ln=n("VAMm"),un=n("epTX"),dn=n.n(un),pn=n("QETz"),fn=n("fVoa"),hn=n("8Shu"),mn=function(e){function t(){return h()(this,t),b()(this,w()(t).apply(this,arguments))}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.isProfileCardEnabled,n=e.isWorkspaceUiEnabled,r=e.profileCardPosition,o=e.profileCardTrigger,i=e.user,a=ie()(e,["isProfileCardEnabled","isWorkspaceUiEnabled","profileCardPosition","profileCardTrigger","user"]);if(!i||!i.id)return S.a.createElement(fn.a,V()({},a,{isProfileCardEnabled:t,profileCardPosition:r,profileCardTrigger:o}));var s=i.avatarUrl,c=i.id,l=i.name,u=i.profileUrl,d=n?void 0:u,p=S.a.createElement(pn.a,V()({},a,{enableTooltip:!t,href:d,name:l,src:s}));return t?S.a.createElement(fn.h,{position:r,profileUrl:d,profileClient:hn.b,trigger:o,userId:c},p):p}}]),t}(C.PureComponent);k()(mn,"defaultProps",{profileCardTrigger:"hover"});var gn=Object(i.c)(function(e,t){return{isProfileCardEnabled:!1!==t.isProfileCardEnabled&&!!e.global.features["user-profile-cards"],isWorkspaceUiEnabled:Object(c.ab)(e)}})(mn),vn=function(e){function t(){return h()(this,t),b()(this,w()(t).apply(this,arguments))}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.isProfileCardEnabled,n=e.isWorkspaceUiEnabled,r=e.profileCardPosition,o=e.profileCardTrigger,i=e.user,a=ie()(e,["isProfileCardEnabled","isWorkspaceUiEnabled","profileCardPosition","profileCardTrigger","user"]);if(!i||!i.id)return S.a.createElement(fn.b,V()({},a,{isProfileCardEnabled:t,profileCardPosition:r,profileCardTrigger:o}));var s=i.id,c=i.name,l=i.profileUrl,u=n?void 0:l,d=u?S.a.createElement("a",{href:u},c):S.a.createElement("span",null,c);return t?S.a.createElement(fn.h,{position:r,profileUrl:u,profileClient:hn.b,trigger:o,userId:s},d):d}}]),t}(C.PureComponent);k()(vn,"defaultProps",{profileCardTrigger:"hover"});var bn=Object(i.c)(function(e,t){return{isProfileCardEnabled:!1!==t.isProfileCardEnabled&&!!e.global.features["user-profile-cards"],isWorkspaceUiEnabled:Object(c.ab)(e)}})(vn),yn=n("Vbab"),wn=n("W0xF"),On=Object(ke.a)("div",{target:"e1kaq4s20"})("box-shadow:none;border-bottom:1px solid ",Lt.colors.N30,";"),En=Object(ke.a)("div",{target:"e1kaq4s21"})("padding-top:",2*Object(Dt.l)(),"px;padding-bottom:",2*Object(Dt.l)(),"px;"),xn=Object(ke.a)("div",{target:"e1kaq4s22"})("display:flex;justify-content:center;align-items:center;min-height:",20*Object(Dt.l)(),"px;"),kn=Object(ke.a)("div",{target:"e1kaq4s23"})("display:flex;padding-bottom:",Object(Dt.l)(),"px;"),Cn=Object(ke.a)("div",{target:"e1kaq4s24"})("flex-grow:1;margin-left:",Object(Dt.l)(),"px;"),Sn=Object(ke.a)("div",{target:"e1kaq4s25"})("padding-top:",Object(Dt.l)(),"px;padding-bottom:",Object(Dt.l)(),"px;"),jn=Object(ke.a)(cn.d,{target:"e1kaq4s26"})("box-shadow:none;border-top:1px solid ",Lt.colors.N30,";justify-content:flex-end;"),Tn=Object(L.e)({title:{id:"frontbucket.pullRequest.outdatedCommentsDialogTitle",defaultMessage:"Comments on prior versions"},subtitle:{id:"frontbucket.pullRequest.outdatedCommentsDialogSubtitle",defaultMessage:"{name} commented on a file"},discardCommentsModalBody:{id:"frontbucket.pullRequest.outdatedCommentsDialogDiscardWarning",defaultMessage:"Closing the {outdatedCommentsDialogTitle} dialog discards your unsaved comments."},fileHeaderLozenge:{id:"frontbucket.pullRequest.outdatedCommentsDialogFileHeaderLozenge",defaultMessage:"Outdated"}}),Mn=function(e){function t(){var e,n;h()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=b()(this,(e=w()(t)).call.apply(e,[this].concat(i))),k()(D()(D()(n)),"state",{showDiscardCommentsDialog:!1}),k()(D()(D()(n)),"numEditorsOpen",0),k()(D()(D()(n)),"hideMoreLinesInDiff",function(e){return{chunks:e.chunks.map(function(e){return o()({},e,{extra:{before:{hasMoreLines:!1,isLoading:!1},after:{hasMoreLines:!1,isLoading:!1}}})})}}),k()(D()(D()(n)),"getDiffsForConversation",function(e){if(e.meta&&e.meta.context_lines){var t=dn()(e.meta.context_lines);if(t&&t[0])return n.hideMoreLinesInDiff(t[0])}return null}),k()(D()(D()(n)),"isContextLinesAvailable",function(){return n.props.conversations.filter(function(e){return e.meta&&void 0!==e.meta.context_lines&&!Object(wn.b)(e)}).length>0}),k()(D()(D()(n)),"shouldFetchContextLines",function(){return!n.props.conversations.every(function(e){return!!Object(wn.b)(e)})&&!n.isContextLinesAvailable()}),k()(D()(D()(n)),"handleOnOpenComplete",function(){n.props.scrollToCommentInDialog()}),k()(D()(D()(n)),"handleEditorOpen",function(){n.numEditorsOpen++,n.props.onEditorOpenStateChange(!0)}),k()(D()(D()(n)),"handleEditorClose",function(){n.numEditorsOpen--,n.numEditorsOpen||n.props.onEditorOpenStateChange(!1)}),k()(D()(D()(n)),"handleClose",function(){n.numEditorsOpen>0?n.setState({showDiscardCommentsDialog:!0}):n.props.onClose()}),k()(D()(D()(n)),"handleDiscardComments",function(){n.setState({showDiscardCommentsDialog:!1}),n.props.onClose()}),k()(D()(D()(n)),"handleDiscardCommentsCancel",function(){n.setState({showDiscardCommentsDialog:!1})}),n}return E()(t,e),g()(t,[{key:"componentDidMount",value:function(){this.props.fetchContextLines()}},{key:"componentDidUpdate",value:function(){this.shouldFetchContextLines()&&this.props.fetchContextLines()}},{key:"render",value:function(){var e=this,t=this.props,n=t.conversations,r=t.containerId,o=t.heading,i=t.imageUploadHandler,a=t.file,s=t.isFileOutdated,c=t.userAccessLevel,l=this.state.showDiscardCommentsDialog;if(!a)return null;var u=Object(ge.a)(a),d=this.shouldFetchContextLines(),p=o||S.a.createElement(L.a,Tn.title),f=function(){return S.a.createElement(On,null,S.a.createElement(cn.e,{showKeyline:!0},S.a.createElement(cn.f,null,p)))},h=function(){return S.a.createElement(jn,{showKeyline:!0},S.a.createElement(Ee.a,{appearance:"primary",onClick:e.handleClose},S.a.createElement(L.a,yn.a.close)))},m=function(t,n){return S.a.createElement(et.a,{showBeforeUnloadWarning:!0,key:t.conversationId,id:t.conversationId,portalParentId:"comments-dialog-profile-card-portal",provider:n,meta:{path:u,to:a.to||a.from},objectId:r,isExpanded:!1,dataProviders:F.b,allowFeedbackAndHelpButtons:!0,onEditorOpen:e.handleEditorOpen,onEditorClose:e.handleEditorClose,renderEditor:function(e,t){return S.a.createElement(e,V()({},t,nt.a,{legacyImageUploadProvider:Promise.resolve(i)}))},canModerateComments:Object(tt.a)(c)})},g=function(e,t,n){return S.a.createElement(Oe.b,{filePath:t.meta.path,prevFilePath:Object(ge.b)(a),isCollapsible:!1,toggleExpanded:function(){},renderBeforeActions:function(){return s&&S.a.createElement(Ke.a,{appearance:"moved"},S.a.createElement(L.a,Tn.fileHeaderLozenge))}},S.a.createElement(be.a,{filePath:t.meta.path,diff:e,isSideBySide:!1,onShowMoreLines:function(){},inlineContent:function(e){return function(e,t,n){return!e||e.lineTo!==t.meta.to&&e.lineFrom!==t.meta.from?null:m(t,n)}(e,t,n)}}))};return S.a.createElement(W.b.Consumer,null,function(t){return S.a.createElement(S.a.Fragment,null,S.a.createElement(ln.a,{onClose:e.handleClose,autoFocus:!1,shouldCloseOnEscapePress:!1,header:f,footer:h,width:"x-large",onOpenComplete:e.handleOnOpenComplete},S.a.createElement("div",{id:"comments-dialog-profile-card-portal"}),S.a.createElement(En,null,d&&S.a.createElement(xn,null,S.a.createElement(j.a,{size:"medium"})),!d&&n.map(function(n){var r=n.createdBy,o=e.getDiffsForConversation(n),i=o?g(o,n,t.conversationProvider):m(n,t.conversationProvider);return S.a.createElement(kn,{key:n.conversationId},S.a.createElement(gn,{size:"medium",user:r}),S.a.createElement(Cn,null,S.a.createElement(Sn,null,S.a.createElement(L.a,V()({},Tn.subtitle,{values:{name:S.a.createElement(bn,{user:r})}}))),i))}))),l&&S.a.createElement(Xe.a,{onCancel:e.handleDiscardCommentsCancel,onDiscard:e.handleDiscardComments},S.a.createElement(L.a,V()({},Tn.discardCommentsModalBody,{tagName:"p",values:{outdatedCommentsDialogTitle:S.a.createElement(L.a,V()({},Tn.title,{tagName:"em"}))}}))))})}}]),t}(C.Component),_n=Object(i.c)(function(e){var t=Object(p.L)(e),n=t.file,r=t.isFileOutdated,o=r?Object(c.a)(e,{file:n}):Object(c.db)(e,{file:n});return{file:n,isFileOutdated:r,userAccessLevel:Object(c.lb)(e),containerId:Object(c.g)(e),conversations:o}},function(e){return{onClose:function(){return e({type:u.g})},imageUploadHandler:function(t,n){return e(Object(ve.b)(t,n))},dispatchContextLines:function(t){return e({type:u.w.REQUEST,payload:{file:t}})},scrollToCommentInDialog:function(){return e({type:u.R})},onEditorOpenStateChange:function(t){return e(Object(u.jb)(t))}}},function(e,t,n){var r=e.file;return o()({},e,t,{fetchContextLines:function(){return t.dispatchContextLines(r)}},n)})(Mn),In=Object(L.e)({dialogHeading:{id:"frontbucket.diffCommentDialog.heading",defaultMessage:"{commentsCount, plural, one {Comment } other {Comments }} on {filepath}"}});var Pn=Object(te.d)(L.f,Object(i.c)(function(e){var t=Object(p.x)(e);return{file:t,commentsCount:Object(c.d)(e,{file:t}),conversations:Object(c.a)(e,{file:t})}},function(e){return{dispatchContextLines:function(t){return e({type:u.t.REQUEST,payload:{file:t}})},onClose:function(){return e({type:u.e})}}},function(e,t,n){var r=e.file,i=e.commentsCount,a=n.intl,s=Object(ge.a)(r);return o()({},e,t,{fetchContextLines:function(){return t.dispatchContextLines(r)},isFileOutdated:!1,heading:a.formatMessage(In.dialogHeading,{filepath:s,commentsCount:i})})}))(_n),An=Object(L.e)({heading:{id:"frontbucket.diff.excludeDiff.heading",defaultMessage:"Excluded diff"},description:{id:"frontbucket.diff.excludeDiff.description",defaultMessage:'The diff for this file was excluded by the pattern "{pattern}".'},defaultLinkText:{id:"frontbucket.diff.excludeDiff.defaultLinkText",defaultMessage:"Learn more"},adminLinkText:{id:"frontbucket.diff.excludeDiff.adminLinkText",defaultMessage:"Configure excluded files"},action:{id:"frontbucket.diff.excludeDiff.action",defaultMessage:"Open file's diff"}}),Nn=function(e){function t(){return h()(this,t),b()(this,w()(t).apply(this,arguments))}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.file,n=e.repoSlug,r=e.pattern,o=e.isOpen,i=e.userLevel,a=Object(ge.a)(t);return S.a.createElement(Yt,{file:t,isOpen:o,heading:S.a.createElement(L.a,An.heading),description:S.a.createElement(L.a,V()({tagName:"p"},An.description,{values:{pattern:r}})),actions:S.a.createElement(C.Fragment,null,S.a.createElement(sn,{file:t}),S.a.createElement("li",null,S.a.createElement(Qt,{filepath:a,target:"_blank"},S.a.createElement(L.a,An.action))),S.a.createElement("li",null,"admin"===i?S.a.createElement("a",{href:on.a.ui.excludedFiles(n),target:"_blank"},S.a.createElement(L.a,An.adminLinkText)):S.a.createElement("a",{href:on.a.external.excludedFilesLearnMore,target:"_blank"},S.a.createElement(L.a,An.defaultLinkText))))})}}]),t}(C.PureComponent);k()(Nn,"defaultProps",{isOpen:!0});var Rn=Object(te.d)(L.f,Object(i.c)(function(e){return{repoSlug:Object(c.w)(e),userLevel:Object(c.lb)(e)}}))(Nn),Dn=Object(L.e)({heading:{id:"frontbucket.diff.excessiveDiff.heading",defaultMessage:"Diff too large"},description:{id:"frontbucket.diff.excessiveDiff.description",defaultMessage:"The diff for this file is too large to render ({size} bytes)."},action:{id:"frontbucket.diff.excessiveDiff.action",defaultMessage:"Open file's diff"},excludedFilesLinkText:{id:"frontbucket.diff.excessiveDiff.excludedFilesLinkText",defaultMessage:"Learn how to always exclude this file"}}),Ln=function(e){function t(){return h()(this,t),b()(this,w()(t).apply(this,arguments))}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.file,n=e.size,r=e.isOpen,o=Object(ge.a)(t);return S.a.createElement(Yt,{file:t,isOpen:r,heading:S.a.createElement(L.a,Dn.heading),description:S.a.createElement(L.a,V()({tagName:"p"},Dn.description,{values:{size:n}})),actions:S.a.createElement(C.Fragment,null,S.a.createElement(sn,{file:t}),S.a.createElement("li",null,S.a.createElement(Qt,{filepath:o,target:"_blank"},S.a.createElement(L.a,Dn.action))),S.a.createElement("li",null,S.a.createElement("a",{href:on.a.external.excludedFilesLearnMore,target:"_blank"},S.a.createElement(L.a,Dn.excludedFilesLinkText))))})}}]),t}(C.PureComponent);k()(Ln,"defaultProps",{isOpen:!0});var zn=Object(L.f)(Ln),Bn=Object(L.e)({heading:{id:"frontbucket.diff.fileContentsUnchangedDiff.heading",defaultMessage:"File contents unchanged"},description:{id:"frontbucket.diff.fileContentsUnchangedDiff.description",defaultMessage:"There are only whitespace differences to display."},action:{id:"frontbucket.diff.fileContentsUnchangedDiff.action",defaultMessage:"Show whitespace"}}),Fn=function(e){function t(){return h()(this,t),b()(this,w()(t).apply(this,arguments))}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.file,n=e.isOpen,r=e.onToggleWhitespace;return S.a.createElement(Yt,{file:t,isOpen:n,heading:S.a.createElement(L.a,Bn.heading),description:S.a.createElement(L.a,V()({tagName:"p"},Bn.description)),actions:S.a.createElement("li",null,S.a.createElement(Ee.a,{appearance:"link",onClick:function(){return r()}},S.a.createElement(L.a,Bn.action)))})}}]),t}(C.PureComponent);k()(Fn,"defaultProps",{isOpen:!0});var qn=Object(te.d)(L.f,Object(i.c)(null,function(e){return{onToggleWhitespace:function(){return e({type:u.Y})}}}))(Fn),Wn=Object(ke.a)("div",{target:"e1sanmi10"})("position:relative;margin-bottom:",1.5*Object(Dt.l)(),"px;"),Un=Object(ke.a)("div",{target:"e1sanmi11"})("position:absolute;top:-",Qe.b,"px;left:0;"),Hn=n("J4zp"),Vn=n.n(Hn),Gn=n("abTI"),Kn=n("E1Xi"),$n=Lt.colors.R50,Jn=Lt.colors.G50,Yn=Lt.colors.R500,Qn=Lt.colors.G500,Xn=Lt.colors.N50,Zn=Object(ke.a)("h4",{target:"e3exupf0"})("&&{margin:",2*Object(Dt.l)(),"px 0 ",3*Object(Dt.l)(),"px;}"),er=Object(ke.a)("dl",{target:"e3exupf1"})("justify-self:flex-end;padding:",2*Object(Dt.l)(),"px 0 0 0;margin:auto 0 ",3*Object(Dt.l)(),"px;& dt{",Lt.typography.h400()," display:inline-block;margin-top:0;color:black;}& dd{display:inline-block;margin:0;}"),tr=Object(ke.a)("div",{target:"e3exupf2"})("padding:0 ",4*Object(Dt.l)(),"px;"),nr=Object(ke.a)("img",{target:"e3exupf3"})("flex-shrink:0;max-width:100%;background-size:40px 40px;background-position:0 0,0 20px,20px -20px,-20px 0;background-image:linear-gradient(45deg,",Xn," 25%,transparent 25%),linear-gradient(-45deg,",Xn," 25%,transparent 25%),linear-gradient(45deg,transparent 75%,",Xn," 75%),linear-gradient(-45deg,white 75%,",Xn," 75%);"),rr=Object(ke.a)("div",{target:"e3exupf4"})("display:inline-flex;flex-direction:column;align-items:center;",function(e){return e.isFullWidth&&"width: 100%;"}," background:",function(e){var t=e.isBefore;return e.hasError?"transparent":t?$n:Jn},";",Kn.a.upToMedium("\n    width: 100%;\n  ")," &,& *{box-sizing:border-box;}",Zn,"{color:",function(e){return e.isBefore?Yn:Qn},";}",nr,"{border:3px solid ",function(e){return e.isBefore?Yn:Qn},";}",er," dd{color:",function(e){return e.isBefore?Yn:Qn},";}"),or=Object(ke.a)("div",{target:"e3exupf5"})("display:flex;justify-content:space-around;& ",rr,"{max-width:50%;min-width:50%;}",Kn.a.upToMedium("\n    flex-direction: column;\n  "),""),ir=Object(L.e)({error:{id:"frontbucket.repository.pullRequest.imageDiffs.error",defaultMessage:"We couldn't load this image."},before:{id:"frontbucket.repository.pullRequest.imageDiffs.before",defaultMessage:"BEFORE"},after:{id:"frontbucket.repository.pullRequest.imageDiffs.after",defaultMessage:"AFTER"},removed:{id:"frontbucket.repository.pullRequest.imageDiffs.removed",defaultMessage:"REMOVED"},added:{id:"frontbucket.repository.pullRequest.imageDiffs.added",defaultMessage:"ADDED"},oldImage:{id:"frontbucket.repository.pullRequest.imageDiffs.oldImage",defaultMessage:"Old image"},newImage:{id:"frontbucket.repository.pullRequest.imageDiffs.newImage",defaultMessage:"New image"},width:{id:"frontbucket.repository.pullRequest.imageDiffs.width",defaultMessage:"width"},height:{id:"frontbucket.repository.pullRequest.imageDiffs.height",defaultMessage:"height"}}),ar=n("qnTW"),sr=Object(ke.a)(Z.b,{target:"e1w85ceg0"})({name:"d5gdhc",styles:"display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;"}),cr=function(){return S.a.createElement(sr,{iconType:"error",title:S.a.createElement(L.a,ar.a.errorHeading)},S.a.createElement(L.a,V()({tagName:"p"},ir.error,{values:{contactLink:S.a.createElement("a",{href:"https://support.atlassian.com/"},"support.atlassian.com")}})))};function lr(e){var t=this;this.value=e,this.message=" is an invalid image URL. Unable to load image diff.",this.toString=function(){return t.value+t.message}}var ur=function(e){var t=e.title,n=e.source,r=e.isBefore,o=void 0!==r&&r,i=e.isFullWidth,a=void 0!==i&&i,s=e.onReady,c=void 0===s?function(){}:s,l=e.onError,u=void 0===l?function(){}:l,d=Object(Ne.b)(),p=Object(C.useState)(!1),f=Vn()(p,2),h=f[0],m=f[1],g=Object(C.useState)([]),v=Vn()(g,2),b=v[0],y=v[1],w=Vn()(b,2),O=w[0],E=w[1],x="number"==typeof E&&"number"==typeof O;Object(C.useEffect)(function(){var e=new Image;return e.src=n,e.onload=function(){y([e.height,e.width]),c()},e.onerror=function(){Gn.captureException(new lr(e.src)),u(),m(!0)},function(){e.onload=null,e.onerror=null,e.src=""}},[u,c,n]);var k=o?ir.oldImage:ir.newImage;return S.a.createElement(rr,{isFullWidth:a,isBefore:o,hasError:h},h?S.a.createElement(cr,null):S.a.createElement(S.a.Fragment,null,S.a.createElement(Zn,null,t),S.a.createElement(tr,null,S.a.createElement(nr,{src:n,alt:d.formatMessage(k)})),S.a.createElement(er,null,x&&S.a.createElement(S.a.Fragment,null,S.a.createElement("dt",{"aria-label":d.formatMessage(ir.width)},"W:")," ",S.a.createElement("dd",null,E,"px")," |"," ",S.a.createElement("dt",{"aria-label":d.formatMessage(ir.height)},"H:")," ",S.a.createElement("dd",null,O,"px")))))},dr=n("eStm"),pr=function(e){var t=Object(Ne.b)();return S.a.createElement(ur,V()({},e,{title:t.formatMessage(ir.added)}))},fr=function(e){var t=Object(Ne.b)();return S.a.createElement(ur,V()({},e,{title:t.formatMessage(ir.removed),isBefore:!0}))},hr=function(e){var t=Object(Ne.b)();return S.a.createElement(ur,V()({},e,{title:t.formatMessage(ir.before),isBefore:!0}))},mr=function(e){var t=Object(Ne.b)();return S.a.createElement(ur,V()({},e,{title:t.formatMessage(ir.after)}))},gr=function(e){var t=e.children;return S.a.createElement(or,null,t)},vr=function(e){function t(){var e,n;h()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=b()(this,(e=w()(t)).call.apply(e,[this].concat(o))),k()(D()(D()(n)),"state",{isDiffActionsMenuOpen:!1}),n}return E()(t,e),g()(t,[{key:"renderImageDiff",value:function(e){var t=this.props,n=t.pullRequestSourceHash,r=t.pullRequestDestHash,o=t.owner,i=t.repoSlug,a="".concat(o,"/").concat(i);switch(e.fileDiffStatus){case"added":var s=dr.a.source(a,n,e.to);return S.a.createElement(pr,{source:s,isFullWidth:!0});case"removed":var c=dr.a.source(a,r,e.from);return S.a.createElement(fr,{source:c,isFullWidth:!0});case"binary conflict":case"modified":var l=dr.a.source(a,r,e.to),u=dr.a.source(a,n,e.from);return S.a.createElement(gr,null,S.a.createElement(hr,{source:l}),S.a.createElement(mr,{source:u}));default:return null}}},{key:"render",value:function(){var e=this,t=this.props,n=t.file,r=t.isOpen,o=t.onExpand,i=t.isBannerOpen,a=Object(ge.a)(n),s=n.conflictMessage,c=n.fileDiffStatus,l=n.isConflicted,u=this.state.isDiffActionsMenuOpen,d=S.a.createElement(Ge,{onSideBySide:void 0,onAddComment:void 0,filepath:a,isDeleted:"removed"===c,onDiffActionsMenuClicked:function(t){return e.setState({isDiffActionsMenuOpen:t.isOpen})}}),p=i?Qe.b+ye.a:Qe.b;return S.a.createElement(Oe.a,{dropdownMenu:d,icon:S.a.createElement(we.a,{fileDiffStatus:c}),isCollapsible:!0,isDropdownMenuOpen:u,isExpanded:r,toggleExpanded:function(){return o(a,!r)},filePath:a,prevFilePath:Object(ge.b)(n),renderAfterFilePath:l&&s?function(){return S.a.createElement(Ye,{conflictMessage:s})}:void 0,hasStickyHeader:!0,stickyHeaderOffset:p},S.a.createElement(lt,{file:n}),this.renderImageDiff(n))}}]),t}(C.PureComponent);k()(vr,"defaultProps",{isOpen:!0,onExpand:function(){}});var br=Object(i.c)(function(e){var t=Object(p.Z)(e),n=Object(p.P)(e),r=Object(p.u)(e);return{pullRequestSourceHash:t,pullRequestDestHash:n,owner:r.owner,repoSlug:r.slug,isBannerOpen:Boolean(Object(c.rb)(e))}},function(e){return{onExpand:function(t,n){return e({type:u.X,payload:{filepath:t,isOpening:n}})}}})(vr),yr=function(e){return e.chunks.reduce(function(e,t){return e+t.changes.length},0)},wr=function(e){function t(){return h()(this,t),b()(this,w()(t).apply(this,arguments))}return E()(t,e),g()(t,[{key:"componentDidMount",value:function(){this.props.dispatchInitialDiffsRendered(),Object(ae.a)(function(){Object(se.b)("speedcurve.diffs.rendered")})}},{key:"componentDidUpdate",value:function(){this.props.dispatchDiffsHaveRendered()}},{key:"renderDiff",value:function(e,t){var n=this.props,r=n.diffsExpansionState,o=n.isNewImageDiffsEnabled,i=n.intl,a=Object(ge.a)(e),s=!0===r[a],c=void 0===r[a];if(e.isFileContentsUnchanged)return S.a.createElement(qn,{file:e,isOpen:s});if(o&&e.isImage&&"type changed"!==e.fileDiffStatus)return S.a.createElement(br,{file:e,isOpen:s});if(e.isBinary&&"type changed"!==e.fileDiffStatus)return S.a.createElement(en,{file:e,isOpen:s});var l=he(e);if(l)return S.a.createElement(Rn,{file:e,pattern:l,isOpen:s});if(0===e.chunks.length&&"renamed"===e.fileDiffStatus)return S.a.createElement(Yt,{file:e,isOpen:s,heading:i.formatMessage(Be.a.fileRenamed)});if(0===e.chunks.length)return S.a.createElement(rn,{file:e,isOpen:s});if(this.props.skipExcessiveDiffs){var u=function(e){return e.chunks.reduce(function(e,t){return e+t.changes.reduce(function(e,t){return e+t.content.length},0)},0)}(e);if(u>102400)return S.a.createElement(zn,{file:e,size:u,isOpen:s})}return S.a.createElement(pt,{file:e,fileIndex:t,isOpen:s||c&&!e.deleted})}},{key:"renderDiffPlaceholder",value:function(e){var t=this.props.diffsExpansionState,n=he(e),r=Object(ge.a)(e),o=!0===t[r],i=void 0===t[r];return n||e.isBinary||e.isFileContentsUnchanged?S.a.createElement(Gt,{lines:0,chunks:0}):S.a.createElement(Kt,{lines:yr(e),chunks:e.chunks.length,file:e,isOpen:o||i&&!e.deleted})}},{key:"render",value:function(){var e=this,t=this.props,n=t.files,r=t.onDiffScrolledIntoView,o=t.onDiffScrolledOutOfView,i=t.intl;return S.a.createElement("section",{"aria-label":i.formatMessage(Be.a.diffSetLabel)},(n||[]).map(function(t,n){var i=Object(ge.a)(t),a=Object(me.a)(i),s="-".concat(Qe.b,"px 0% -90% 0%");return S.a.createElement(fe.a,{rootMargin:s,key:n},function(i){return i?r(a):o(a),S.a.createElement(Wn,{key:t.from+t.to},S.a.createElement(Un,{id:a}),S.a.createElement(fe.a,{triggerOnce:!0},function(r){return r?e.renderDiff(t,n):e.renderDiffPlaceholder(t)}))})}))}}]),t}(C.Component);k()(wr,"defaultProps",{diffsExpansionState:{},onMount:function(){}});var Or=Object(L.f)(wr);var Er,xr,kr,Cr=Object(te.d)(Object(re.a)("performance.diffs.rendered"),Object(le.a)(de.a.PullRequest),Object(i.c)(function(e){var t=Object(c.s)(e),n=Object(c.ib)(e),r=Object(c.fb)(e),o=Object(P.j)(e),i={from_repository_uuid:Object(s.uncurlyUuid)(Object(a.a)(n,"uuid","")),pull_request_id:t,to_repository_uuid:Object(s.uncurlyUuid)(Object(a.a)(r,"uuid","")),to_repository_owner_uuid:Object(s.uncurlyUuid)(Object(a.a)(r,"owner.uuid",""))},l=e.global.features["crf-skip-excessive-diffs"];return{diffsExpansionState:Object(p.B)(e),factData:i,skipExcessiveDiffs:l,isNewImageDiffsEnabled:o}},function(e){return{dispatchDiffsHaveRendered:function(){return e({type:u.j})},dispatchInitialDiffsRendered:function(){return e({type:u.A})},onDiffScrolledIntoView:function(t){return e({type:u.z,payload:t})},onDiffScrolledOutOfView:function(t){return e({type:u.N,payload:t})}}},null,{areStatesEqual:function(e,t){var n=Object(p.B)(t),r=Object(p.B)(e),o=Object(p.c)(e),i=Object(p.c)(t);return Object(ne.a)(n,r)&&Object(ne.a)(i,o)}}),(Er="bitbucket.pullrequests.diffs.rendered",xr=ue.a,function(e){var t,n,r;return n=t=function(t){function n(){return h()(this,n),b()(this,w()(n).apply(this,arguments))}return E()(n,t),g()(n,[{key:"componentDidMount",value:function(){var e=this.props.factData;Object(ae.a)(function(){!function(e,t,n,r){if(Object(ce.a)()){var i=Object(se.a)("factMetric",n);if(i){var a=i.loadType,s=i.duration,c=o()({duration:Math.ceil(s),load_type:a},r);Object(I.a)(new t(e,c))}}}(Er,xr,kr,e)})}},{key:"render",value:function(){var t=this.props,n=(t.factData,ie()(t,["factData"]));return S.a.createElement(e,n)}}]),n}(C.Component),k()(t,"WrappedComponent",e),k()(t,"displayName","withFact(".concat((r=e).displayName||r.name||"Component",")")),n}))(Or),Sr=function(){return S.a.createElement(Z.b,{iconType:"error",title:S.a.createElement(L.a,ar.a.errorHeading)},S.a.createElement(L.a,V()({tagName:"p"},Be.a.diffError,{values:{contactLink:S.a.createElement("a",{href:"https://support.atlassian.com/"},"support.atlassian.com")}})))},jr=function(){return S.a.createElement(Z.b,{iconType:"warning",title:S.a.createElement(L.a,Be.a.missingDiffsTitle)},S.a.createElement(L.a,V()({tagName:"p"},Be.a.missingDiffs)))},Tr=function(){return S.a.createElement(Z.b,{iconType:"info",title:S.a.createElement(L.a,Be.a.noFilesTitle)},S.a.createElement(L.a,V()({tagName:"p"},Be.a.noFiles)))},Mr=function(e){function t(){return h()(this,t),b()(this,w()(t).apply(this,arguments))}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.errorCode,r=e.files,o=n&&"".concat(n).startsWith("4"),i=n&&"".concat(n).startsWith("5");return t?S.a.createElement(ee.a,{size:"medium"}):o?S.a.createElement(jr,null):i?S.a.createElement(Sr,null):r&&!r.length?S.a.createElement(Tr,null):S.a.createElement(Cr,{files:r})}}]),t}(C.Component),_r=Object(i.c)(function(e){return{files:Object(p.y)(e),isLoading:e.repository.pullRequest.isDiffsLoading,errorCode:e.repository.pullRequest.errorCode}})(Mr),Ir={onPermalinkHashChange:u.kb},Pr=Object(i.c)(function(e){var t=Object(c.i)(e);return{conversation:Vn()(t,1)[0],containerId:Object(c.g)(e),userAccessLevel:Object(c.lb)(e),isLoading:!1}},Ir)(et.b),Ar=n("I2a2"),Nr=n("2DQA"),Rr=n("6Giq"),Dr=n("yFMo"),Lr=n("1FuN"),zr=n("By+Q"),Br=n("ehUZ"),Fr=n("knpt"),qr=n("cvhE"),Wr=n("hwUQ"),Ur=n("lJqg"),Hr=n("CrEW"),Vr=n("aa7c"),Gr=n("7rAk"),Kr=n("JWFn"),$r=function(e){function t(){return h()(this,t),b()(this,w()(t).apply(this,arguments))}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.principalId,n=e.target,r=e.component;return e.isPRWebItemsEnabled?S.a.createElement(G.g,{location:"org.bitbucket.pullrequest.summary.info",principalId:t,target:n,component:r,loadingComponent:function(){return null},loadingFailedComponent:function(){return null}},function(e){return e.map(function(e){return S.a.createElement("div",{role:"button",key:e.key,onClick:function(){Object(I.f)({action:"clicked",actionSubject:"button",source:"pullrequestHeaderAction",actionSubjectId:"pullrequestSummaryInfoClicked"})}},e)})}):null}}]),t}(C.Component),Jr=Object(i.c)(function(e){return{principalId:Object(U.e)(e),target:Object(c.p)(e),isPRWebItemsEnabled:e.global.features["pr-webitems"]||!1}})($r),Yr=function(e){function t(){return h()(this,t),b()(this,w()(t).apply(this,arguments))}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.principalId,n=e.target,r=e.component;return e.isPRWebItemsEnabled?S.a.createElement(G.g,{location:"org.bitbucket.pullrequest.summary.actions",principalId:t,target:n,component:r,loadingComponent:function(){return null},loadingFailedComponent:function(){return null}},function(e){return e.map(function(e){return S.a.createElement("div",{role:"button",key:e.key,onClick:function(){Object(I.f)({action:"clicked",actionSubject:"button",source:"pullrequestHeaderAction",actionSubjectId:"pullrequestSummaryActionsClicked"})}},e)})}):null}}]),t}(C.Component),Qr=Object(i.c)(function(e){return{principalId:Object(U.e)(e),target:Object(c.p)(e),isPRWebItemsEnabled:e.global.features["pr-webitems"]||!1}})(Yr),Xr=function(e){function t(){return h()(this,t),b()(this,w()(t).apply(this,arguments))}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.principalId,n=e.target;if(!e.isPRWebItemsEnabled)return null;var r=[{target:n,modules:[{location:"org.bitbucket.pullrequest.summary.info",moduleType:"webItems"},{location:"org.bitbucket.pullrequest.summary.actions",moduleType:"webItems"}]}];return S.a.createElement(G.d,{principalId:t,query:r})}}]),t}(C.PureComponent),Zr=Object(i.c)(function(e){return{principalId:Object(U.e)(e),target:Object(c.p)(e),isPRWebItemsEnabled:e.global.features["pr-webitems"]||!1}})(Xr),eo=Object(L.e)({mergePullRequestAction:{id:"frontbucket.repository.pullRequest.mergePullRequest",defaultMessage:"Merge"},editPullRequestAction:{id:"frontbucket.repository.pullRequest.editPullRequest",defaultMessage:"Edit"},declinePullRequestAction:{id:"frontbucket.repository.pullRequest.declinePullRequest",defaultMessage:"Decline"},declineDialogTitle:{id:"frontbucket.repository.pullRequest.declinePullRequestDialog",defaultMessage:"Decline pull request"},declineDialogInfo:{id:"frontbucket.repository.pullRequest.declineDialogInfo",defaultMessage:"No one can reopen a declined pull request, but you can create a new pull request from the same branch. If you have feedback for the author, leave comments on this pull request instead."},declineDialogLabel:{id:"frontbucket.repository.pullRequest.declineLabel",defaultMessage:"Why are you declining this pull request?"},watchPullRequestAction:{id:"frontbucket.repository.pullRequest.watchPullRequest",defaultMessage:"Watch"},stopWatchingPullRequestAction:{id:"frontbucket.repository.pullRequest.stopWatchingPullRequest",defaultMessage:"Stop watching"},reviewersListLabel:{id:"frontbucket.repository.pullRequest.reviewersListLabel",defaultMessage:"Reviewers list"}}),to=Object(i.c)(function(e){var t=Object(c.z)(e),n=Object(c.B)(e),r=Object(c.s)(e),o=t&&n&&r?l.a.ui.edit(t,n,r):"#";return{children:S.a.createElement(L.a,eo.editPullRequestAction),href:o}})(function(e){return S.a.createElement(Ae.a,e)}),no=function(e){function t(){return h()(this,t),b()(this,w()(t).apply(this,arguments))}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this,t=S.a.createElement(j.a,{size:"small",delay:250}),n=S.a.createElement(L.a,this.props.message);return S.a.createElement(Ae.a,{href:"#",elemAfter:this.props.isLoading?t:null,isDisabled:this.props.isLoading,children:n,onClick:function(t){t.preventDefault(),e.props.isWatching?e.props.stopWatch():e.props.startWatch()}})}}]),t}(C.PureComponent),ro=Object(i.c)(function(e){var t=Object(c.yb)(e),n=Object(c.xb)(e);return{isLoading:t,isWatching:n,message:n?eo.stopWatchingPullRequestAction:eo.watchPullRequestAction}},function(e){return{startWatch:function(){return e({type:u.U.BEGIN})},stopWatch:function(){return e({type:u.V.BEGIN})}}})(function(e){return S.a.createElement(no,e)}),oo=n("yUoh"),io={approve:function(){return{type:u.c.REQUEST}},unapprove:function(){return{type:u.bb.REQUEST}}},ao=Object(i.c)(function(e){var t=e.repository.pullRequest,n=t.isLoading,r=t.isError,o=t.isDisabled,i=Object(c.E)(e),a=i?i.uuid:null,s=Object(c.t)(e).find(function(e){return!!e.user&&e.user.uuid===a});return{hasApproved:s&&s.approved,isError:r,isLoading:n,isDisabled:o}},io)(oo.a),so=n("anJf"),co=n.n(so),lo=Object(L.e)({mergePullRequestAction:{id:"frontbucket.repository.pullRequest.mergePullRequest",defaultMessage:"Merge"}}),uo=function(e){function t(){return h()(this,t),b()(this,w()(t).apply(this,arguments))}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.isMergePending,n=e.onClick,r=e.tabIndex,o=e.isMergeable;return e.hasMergeChecklistFeature?S.a.createElement(Ee.a,{onClick:n,iconBefore:t?S.a.createElement(co.a,{label:"spinner"}):void 0,tabIndex:r,appearance:o?"primary":"default"},S.a.createElement(L.a,lo.mergePullRequestAction)):S.a.createElement(Ee.a,{onClick:n,iconBefore:t?S.a.createElement(co.a,{label:"spinner"}):void 0,tabIndex:r},S.a.createElement(L.a,lo.mergePullRequestAction))}}]),t}(C.PureComponent),po={onClick:Ar.v},fo=Object(i.c)(function(e){return{isMergePending:Object(Ar.o)(e),isMergeable:Object(p.U)(e),hasMergeChecklistFeature:e.global.features["new-code-review-merge-checklist"]}},po)(uo),ho=n("/6YG"),mo=n("nEUC"),go=Object(L.e)({couldNotConnect:{id:"frontbucket.repository.pullRequest.couldNotConnect",defaultMessage:"Could not connect to server. Try again."}}),vo=Object(i.c)(function(e){var t=Object(c.r)(e),n=Object(mo.j)(e),r=e.repository.pullRequest.isErrorDialogOpen;return{content:t&&n?S.a.createElement(L.a,go.couldNotConnect):t,isOpen:r,placement:"bottom"}},function(e){return{onClose:function(){return e({type:u.y})}}})(ho.a),bo=n("l6aU"),yo=Object(i.c)(null,function(e){return{onClick:function(){return e(Object(bo.i)())}}})(Ae.a),wo=Object(L.e)({approveAction:{id:"frontbucket.repository.pullRequest.approvePullRequest",defaultMessage:"Approve"},unapproveAction:{id:"frontbucket.repository.pullRequest.unapprovePullRequest",defaultMessage:"Unapprove"},approveLabel:{id:"frontbucket.repository.pullRequest.label.approvePullRequest",defaultMessage:"Approve this pull request"},unapproveLabel:{id:"frontbucket.repository.pullRequest.label.unapprovePullRequest",defaultMessage:"Unapprove this pull request"}}),Oo=(n("qKvR"),2*Object(Dt.l)()),Eo=Object(ke.a)("div",{target:"e1vsqsia0"})("align-items:center;display:inline-flex;flex-wrap:wrap;justify-content:flex-end;margin-top:-",Oo,"px;"),xo={name:"1hyfx7x",styles:"display:none;"},ko=Object(ke.a)("div",{target:"e1vsqsia1"})("margin-top:",Oo,"px;text-align:left;",Kn.a.upToLarge("\n    ".concat(function(e){return e.isHeaderSticky&&xo},"\n  ")),";"),Co=Object(ke.a)("div",{target:"e1vsqsia2"})({name:"1uzv6oc",styles:"text-align:initial;"}),So=Object(ke.a)("div",{target:"e1vsqsia3"})("min-width:",19*Object(Dt.l)(),"px;"),jo=Object(ke.a)("div",{target:"e1vsqsia4"})("margin-left:",2*Object(Dt.l)(),"px;margin-top:",Oo,"px;"),To=function(e){return"OPEN"===e.state},Mo=Object(L.f)(function(e){var t=e.isHeaderSticky,n=e.pullRequest,r=e.intl;return S.a.createElement(Eo,null,S.a.createElement(ko,{isHeaderSticky:!!t,"aria-label":r.formatMessage(eo.reviewersListLabel),"data-qa":"pr-header-actions-reviewers-style"},S.a.createElement(Gr.a,{pullRequest:n,maxCount:4,size:t?"small":"medium",appearance:"stack"})),S.a.createElement(jo,null,S.a.createElement(Vr.a,null,S.a.createElement(vo,null,S.a.createElement(ao,{messages:wo})),S.a.createElement(Kr.a,{requiredLevel:"write"},To(n)&&S.a.createElement(fo,null)),S.a.createElement(Co,{"data-qa":"pr-header-actions-drop-down-menu-styles"},S.a.createElement(Zr,null),S.a.createElement(Ie.a,{triggerType:"button",shouldFlip:!1,position:"bottom right",triggerButtonProps:{iconBefore:S.a.createElement(_e.a,{label:"More"})},onOpenChange:function(e){e.isOpen&&Object(I.f)({action:"clicked",actionSubject:"button",source:"pullrequestHeaderAction",actionSubjectId:"pullrequestHeaderActionClicked"})}},S.a.createElement(So,null,S.a.createElement(Pe.a,null,S.a.createElement(Kr.a,{requiredLevel:"write"},To(n)&&S.a.createElement(to,null),To(n)&&S.a.createElement(yo,null,S.a.createElement(L.a,eo.declinePullRequestAction))),S.a.createElement(ro,null),S.a.createElement(Jr,{component:Ae.a}),S.a.createElement(Qr,{component:Ae.a}))))))))}),_o=n("/u5F"),Io=n.n(_o),Po=n("RpOt"),Ao=n("HEF0"),No=n("IAlb"),Ro=Object(L.e)({deletedRepository:{id:"frontbucket.repository.pullRequest.sourceRefLabel.deletedRepository",defaultMessage:"Deleted repository"}}),Do=S.a.memo(function(e){var t=e.description;return S.a.createElement(Po.b,{name:t})});var Lo=Object(te.d)(L.f,Object(i.c)(function(e,t){var n=t.intl,r=Object(p.M)(e),i=Object(p.ab)(e),a=Object(p.G)(e),s=Object(c.ab)(e),l=function(e){return e?{scm:e.scm||"git",repoName:e.name,repoHref:e.links.html.href,repoAvatarSrc:e.links.avatar.href,repoOwnerAvatarSrc:Object(Ao.a)(e),repoOwnerHref:Object(Ao.c)(e),repoOwnerName:Object(Ao.b)(e)}:{}}(i),u=i?i.full_name:"",d=n.formatMessage(Ro.deletedRepository),f=a?"".concat(u||d,":").concat(r):r,h=u.split("/"),m=Vn()(h,2),g=m[0],v=m[1],b=g&&v?No.a.ui.branch(g,v,r):null;return o()({},l,{branchHref:b,branchName:r,isWorkspaceUiEnabled:s,children:S.a.createElement(Do,{description:f})})}))(Po.a),zo=S.a.memo(function(e){var t=e.description;return S.a.createElement(Po.b,{name:t})}),Bo=Object(i.c)(function(e){var t=Object(p.w)(e),n=Object(p.Q)(e),r=Object(p.G)(e),o=function(e,t,n){return n?"".concat(e,":").concat(t):t}(n?n.full_name:"",t,r),i=(n?n.full_name:"").split("/"),s=Vn()(i,2),l=s[0],u=s[1];return{branchName:t,branchHref:No.a.ui.branch(l,u,t),isWorkspaceUiEnabled:Object(c.ab)(e),scm:Object(a.a)(n,"scm","git"),repoName:Object(a.a)(n,"name"),repoHref:Object(a.a)(n,"links.html.href"),repoAvatarSrc:Object(a.a)(n,"links.avatar.href"),repoOwnerAvatarSrc:Object(Ao.a)(n),repoOwnerHref:Object(Ao.c)(n),repoOwnerName:Object(Ao.b)(n),children:S.a.createElement(zo,{description:o})}})(Po.a),Fo=n("IJDW"),qo=n("Amlx");var Wo=function(e){var t=e.pullRequestState,n=e.pullRequestStateDates;return S.a.createElement(qo.b,{"data-qa":"pr-branches-and-state-styles"},S.a.createElement(qo.c,null,S.a.createElement(Lo,null)),S.a.createElement(qo.c,null,S.a.createElement(Io.a,{label:"to",size:"small"})),S.a.createElement(qo.c,null,S.a.createElement(Bo,null)),S.a.createElement(Fo.a,{"data-qa":"state-lozenge",pullRequestState:t,pullRequestStateDates:n}))},Uo=Lt.colors.N0,Ho=Lt.colors.N40,Vo=Object(ke.a)("div",{target:"e15g5lfg0"})("align-items:center;background-color:",Uo,";border-bottom:1px solid ",Ho,";box-sizing:border-box;display:flex;height:56px;justify-content:space-between;padding:",Object(Dt.l)(),"px 0;margin:0 ",5*Object(Dt.l)(),"px;width:100%;",Kn.a.upToSmall("justify-content: flex-end;"),""),Go=Object(ke.a)("div",{target:"e15g5lfg1"})("display:flex;",function(e){return e.isHeaderSticky&&Kn.a.upToSmall("display: none")},";"),Ko=Object(ke.a)("div",{target:"e15g5lfg2"})("margin-right:",2*Object(Dt.l)(),"px;",Kn.a.upToXXLarge("display: none;"),""),$o=Object(ke.a)("div",{target:"e15g5lfg3"})("align-items:center;display:flex;",Kn.a.upToXXLarge("display: none;"),"");var Jo=function(e){if(!e.currentPullRequest)return null;var t=e.currentPullRequest,n=t.author,r=t.state,o=t.created_on,i=t.closed_on;return S.a.createElement(Vo,null,S.a.createElement(Go,{isHeaderSticky:!0},S.a.createElement(Ko,null,S.a.createElement(Wr.a,{profileCardPosition:"bottom-start",user:n})),S.a.createElement($o,null,S.a.createElement(Wo,{pullRequestState:r,pullRequestStateDates:{createdOn:o,closedOn:i}}))),S.a.createElement(Mo,{isHeaderSticky:!0,pullRequest:t}))},Yo=n("MZCo"),Qo=n("Yk3w"),Xo=n("+mR5"),Zo=Object(L.e)({pullRequests:{id:"frontbucket.repository.pullRequest.breadcrumbs.pullRequests",defaultMessage:"Pull requests"}}),ei=function(e){function t(){return h()(this,t),b()(this,w()(t).apply(this,arguments))}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.intl,n=e.repository;if(!n||!n.owner)return null;var r=n.full_name.split("/"),o=Vn()(r,2),i=o[0],a=o[1],s=l.a.ui.pullrequests(i,a),c=t.formatMessage(Zo.pullRequests);return S.a.createElement(Qo.a,{href:s,text:c,component:Xo.a})}}]),t}(C.PureComponent),ti=Object(L.f)(ei),ni=Object(i.c)(function(e){return{repository:Object(Yo.b)(e)}})(ti),ri=n("xPRF"),oi=n("V7VQ"),ii=Object(ke.a)("div",{target:"e1l2dck10"})("margin-bottom:",1.5*Object(Dt.l)(),"px;"),ai=Object(L.e)({mergedPullRequestStateMessage:{id:"frontbucket.repository.pullRequest.mergedPullRequestStateMessage",defaultMessage:"Merged pull request"},declinedPullRequestStateMessage:{id:"frontbucket.repository.pullRequest.declinedPullRequestStateMessage",defaultMessage:"Declined pull request"},readyToMergePullRequestStateMessage:{id:"frontbucket.repository.pullRequest.readyToMergePullRequestStateMessage",defaultMessage:"This pull request is ready to merge"},readyToMergePullRequestDescription:{id:"frontbucket.repository.pullRequest.readyToMergePullRequestDescription",defaultMessage:"All merge checks have passed"},mergePullRequestLink:{id:"frontbucket.repository.pullRequest.mergePullRequestLink",defaultMessage:"Merge pull request"}}),si={openMergeDialog:Ar.v},ci=function(e){function t(){return h()(this,t),b()(this,w()(t).apply(this,arguments))}return E()(t,e),g()(t,[{key:"render",value:function(){var e,t,n=this.props,r=n.pullRequestState,o=n.mergeCommit,i=n.intl,a=n.isMergeable,s=n.hasMergeChecklistFeature;if("MERGED"===r){if(!(o&&o.message&&o.author&&o.date))return null;var c=o.author,l=Object(fn.l)(c.user),u=c.user?Object(fn.j)(c.user,i):Object(fn.m)(c.raw),d=o.links;return S.a.createElement(ii,null,S.a.createElement(ri.a,{appearance:"confirmation",title:i.formatMessage(ai.mergedPullRequestStateMessage),actions:[{key:"hash",href:d.html.href,text:Object(oi.b)(o.hash)},{key:"author",href:l,text:u},{key:"date",text:o.date?Object(Ur.b)(o.date,i):""}]},S.a.createElement("p",null,(e=o.message,-1===(t=e.indexOf("\n"))?e:e.substring(0,t)))))}if("DECLINED"===r){var p=this.props,f=p.closedBy,h=p.closedOn;if(!h)return null;var m=Object(fn.l)(f),g=Object(fn.j)(f,i);return S.a.createElement(ii,null,S.a.createElement(ri.a,{appearance:"error",title:i.formatMessage(ai.declinedPullRequestStateMessage),actions:[{key:"closed-by",href:m,text:g},{key:"date",text:Object(Ur.b)(h,i)}]},S.a.createElement("p",null,this.props.reason)))}return a&&s?S.a.createElement(ii,null,S.a.createElement(ri.a,{appearance:"info",title:i.formatMessage(ai.readyToMergePullRequestStateMessage),actions:[{key:"merge-dialog",onClick:this.props.openMergeDialog,text:i.formatMessage(ai.mergePullRequestLink)}]},S.a.createElement("p",null,i.formatMessage(ai.readyToMergePullRequestDescription)))):null}}]),t}(C.PureComponent),li=Object(i.c)(function(e){return{isMergeable:Object(p.U)(e),hasMergeChecklistFeature:e.global.features["new-code-review-merge-checklist"]}},si)(Object(L.f)(ci)),ui=Object(ke.a)("span",{target:"e8ot85s0"})({name:"17xuc21",styles:"img.emoji{height:1em;}"}),di=function(e){function t(){return h()(this,t),b()(this,w()(t).apply(this,arguments))}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props.renderedTitle,t=document.createElement("DIV");return t.innerHTML=e.html,1===t.children.length&&"P"===t.children[0].nodeName?S.a.createElement(ui,{dangerouslySetInnerHTML:{__html:t.children[0].innerHTML}}):S.a.createElement(ui,null,e.raw)}}]),t}(C.PureComponent),pi=2*Object(Dt.l)(),fi=Object(ke.a)("div",{target:"e1q0qh510"})("margin-right:",Object(Dt.l)(),"px;"),hi=(Object(ke.a)("div",{target:"e1q0qh511"})({name:"1v8x7dw",styles:"overflow:auto;"}),Object(ke.a)("div",{target:"e1q0qh512"})("display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;margin-bottom:",2*Object(Dt.l)(),"px;margin-top:-",pi,"px;")),mi=Object(ke.a)("div",{target:"e1q0qh513"})({name:"13brihr",styles:"text-align:left;"}),gi=Object(ke.a)("small",{target:"e1q0qh514"})("display:block;overflow:hidden;text-overflow:ellipsis;margin-top:",Object(Dt.l)()/2,"px;white-space:nowrap;",Kn.a.upToSmall("\n    max-width: ".concat(31*Object(Dt.l)(),"px;\n  ")),""),vi=Object(ke.a)("div",{target:"e1q0qh515"})("display:flex;align-items:center;margin-top:",pi,"px;margin-right:",Object(Dt.l)(),"px;",Kn.a.upToSmall("\n    margin-right: 0;\n  "),""),bi=Object(ke.a)("div",{target:"e1q0qh516"})("margin-top:",pi,"px;margin-left:auto;"),yi=Object(L.e)({created:{id:"frontbucket.repository.pullRequest.header.created",defaultMessage:"Created {date}"},lastUpdated:{id:"frontbucket.repository.pullRequest.header.lastUpdated",defaultMessage:"Last updated {date}"},pullRequestHeaderLabel:{id:"frontbucket.repository.pullRequest.header.label",defaultMessage:"Pull request header"}}),wi=function(e){function t(){return h()(this,t),b()(this,w()(t).apply(this,arguments))}return E()(t,e),g()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.hasCreatePendingMergeFeature,n=e.onFetchPendingMergeStatus;t&&n()}},{key:"getAuthorStatus",value:function(){var e=this.props.currentPullRequest,t=e.participants,n=e.author;if(t.some(function(e){return!!e.user&&!!n&&e.user.uuid===n.uuid&&e.approved}))return"approved"}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentPullRequest,r=t.isBannerOpen,o=t.isNavigationOpen,i=t.isNavNextEnabled,a=t.isMobileHeaderActive,s=t.sidebarWidth,c=t.intl,l=n.author,u=n.state,d=n.rendered,p=n.created_on,f=n.closed_on,h=n.updated_on;return S.a.createElement(C.Fragment,null,S.a.createElement(Br.b,{"data-qa":"pr-header-page-header-wrapper","aria-label":c.formatMessage(yi.pullRequestHeaderLabel)},S.a.createElement(Br.a,null,S.a.createElement(Dr.a,{breadcrumbs:S.a.createElement(zr.a,null,S.a.createElement(ni,null)),bottomBar:S.a.createElement(C.Fragment,null,S.a.createElement(hi,null,S.a.createElement(vi,null,S.a.createElement(fi,{"data-qa":"pr-header-author-styles"},S.a.createElement(Wr.a,{profileCardPosition:"bottom-start",user:l,status:this.getAuthorStatus()})),S.a.createElement(mi,null,S.a.createElement(Wo,{pullRequestState:u,pullRequestStateDates:{createdOn:p,closedOn:f}}),S.a.createElement(gi,null,S.a.createElement(L.a,V()({},yi.created,{values:{date:S.a.createElement(Ur.a,{date:p})}})),"",S.a.createElement(L.a,V()({},yi.lastUpdated,{values:{date:S.a.createElement(Ur.a,{date:h})}}))))),S.a.createElement(bi,null,S.a.createElement(Mo,{pullRequest:n}))),S.a.createElement(li,{pullRequestState:n.state,mergeCommit:n.merge_commit,closedBy:n.closed_by,closedOn:n.closed_on,reason:n.reason}))},S.a.createElement(Hr.a,{feature:"markdown-and-linkify-commits",fallback:S.a.createElement(di,{renderedTitle:d.title})},S.a.createElement(Fr.a,{renderedContent:d.title}))))),!a&&(i?S.a.createElement(Lr.a,null,function(t){var o=t.state;return S.a.createElement(qr.b,{offset:Object(Qe.d)(!o.isCollapsed,a,s,o.productNavWidth),trigger:e,topOffset:r?ye.a:0},S.a.createElement(Jo,{currentPullRequest:n}))}):S.a.createElement(qr.b,{offset:Object(Qe.c)(o,a,s),trigger:this,topOffset:r?ye.a:0},S.a.createElement(Jo,{currentPullRequest:n}))))}}]),t}(C.PureComponent);k()(wi,"defaultProps",{onFetchPendingMergeStatus:function(){}});var Oi=Object(i.c)(function(e){return{sidebarWidth:Object(Rr.e)(e)?Object(Rr.b)(e):Nr.b,isNavigationOpen:Object(c.S)(e),hasCreatePendingMergeFeature:e.global.targetFeatures&&e.global.targetFeatures.pr_post_build_merge,isBannerOpen:Boolean(Object(c.rb)(e)),isMobileHeaderActive:Object(c.R)(e),isNavNextEnabled:e.global.features["navigation-next"]||!1}},function(e){return{onFetchPendingMergeStatus:function(){return e(Object(Ar.k)())}}})(wi),Ei=n("Uffc"),xi=n("+6V3"),ki=n("o0o1"),Ci=n.n(ki),Si=n("yXPU"),ji=n.n(Si),Ti=n("keC1"),Mi=n("WuKZ"),_i=n("2tiB"),Ii=n("ErOA"),Pi=Object(L.e)({welcomeDialogTitle:{id:"frontbucket.repository.pullRequest.welcomeDialog.title",defaultMessage:"Start using the new pull request experience"},welcomeDialogDescMain:{id:"frontbucket.repository.pullRequest.welcomeDialog.descriptionMain",defaultMessage:"With everything now in one place, you can efficiently navigate files with the file tree, spot commits front and center, get side-by-side diffs on the same page, and much more. {link}"},welcomeDialogAccept:{id:"frontbucket.repository.pullRequest.welcomeDialog.accept",defaultMessage:"Try it out"},welcomeDialogReject:{id:"frontbucket.repository.pullRequest.welcomeDialog.reject",defaultMessage:"Not right now"},oldCodeReviewFailureTitle:{id:"frontbucket.repository.pullRequest.welcomeDialog.oldCodeReviewFailureTitle",defaultMessage:"Something went wrong"},oldCodeReviewFailureDescription:{id:"frontbucket.repository.pullRequest.welcomeDialog.oldCodeReviewFailureDescription",defaultMessage:"You can disable the new pull request experience in Bitbucket Labs."},learnMoreLink:{id:"frontbucket.repository.pullRequest.welcomeDialog.learnMoreLink",defaultMessage:"Learn more"},labsLink:{id:"frontbucket.repository.pullRequest.welcomeDialog.labsLink",defaultMessage:"Go to Bitbucket Labs"}}),Ai=n("VBC3"),Ni=n.n(Ai),Ri=Object(ke.a)("p",{target:"e15iznu30"})("color:",Lt.colors.N500,";");function Di(e,t,n){Object(I.f)({action:e,actionSubject:t,actionSubjectId:n,source:"welcomeDialog"})}var Li=function(e){function t(){var e,n;h()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=b()(this,(e=w()(t)).call.apply(e,[this].concat(o))),k()(D()(D()(n)),"handleAccept",function(){Di("clicked","button","tryItOutButton"),n.props.closeDialog()}),k()(D()(D()(n)),"handleReject",ji()(Ci.a.mark(function e(){var t,r,o,i,a,s,c;return Ci.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.currentUser,o=t.closeDialog,i=t.repositoryFullSlug,a=t.pullRequestId,s=t.showError,Di("clicked","button","notRightNowButton"),o(),e.prev=3,c=No.a.api.internal.toggleFeature,e.next=7,fetch(Object(Ii.a)(c(r.uuid,"force-old-code-review"),{method:"POST"}));case 7:if(e.sent.ok){e.next=10;break}throw new Error;case 10:window.location.replace(No.a.ui.pullRequest(i,a)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),s();case 16:case"end":return e.stop()}},e,this,[[3,13]])}))),n}return E()(t,e),g()(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&Di("opened","dialog","welcomeDialogOpened")}},{key:"render",value:function(){var e=this.props,t=e.intl,n=e.isOpen;return S.a.createElement(C.Fragment,null,n&&S.a.createElement(Ti.a,{actions:[{onClick:this.handleAccept,text:t.formatMessage(Pi.welcomeDialogAccept)},{onClick:this.handleReject,text:t.formatMessage(Pi.welcomeDialogReject)}],heading:t.formatMessage(Pi.welcomeDialogTitle),image:Ni.a,key:"code-review-welcome-dialog"},S.a.createElement(Ri,null,S.a.createElement(L.a,V()({},Pi.welcomeDialogDescMain,{values:{link:S.a.createElement("a",{href:"https://confluence.atlassian.com/x/190gOQ",target:"_blank"},S.a.createElement(L.a,Pi.learnMoreLink))}})))))}}]),t}(C.PureComponent),zi={closeDialog:function(){return{type:u.d}},showError:function(){return Object(Mi.c)({title:{msg:Pi.oldCodeReviewFailureTitle},description:{msg:Pi.oldCodeReviewFailureDescription},actions:[{content:{msg:Pi.labsLink},href:_i.a.ui.labs()}],id:"force-old-code-review-error",iconType:"error",autoDismiss:!1})}},Bi=Object(te.d)(Object(i.c)(function(e){return{isOpen:Object(c.zb)(e),currentUser:Object(c.E)(e),repositoryFullSlug:Object(c.w)(e),pullRequestId:Object(c.s)(e)}},zi),L.f)(Li),Fi=n("17x9"),qi=n.n(Fi),Wi=n("eMbh"),Ui=n.n(Wi),Hi="undefined"==typeof document||!document||!document.createElement||"multiple"in document.createElement("input");function Vi(e,t){return"application/x-moz-file"===e.type||Ui()(e,t)}function Gi(e){e.preventDefault()}var Ki={borderStyle:"solid",borderColor:"#c66",backgroundColor:"#eee"},$i={opacity:.5},Ji={borderStyle:"solid",borderColor:"#6c6",backgroundColor:"#eee"},Yi={width:200,height:200,borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5},Qi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xi=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Zi(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var ea=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.renderChildren=function(e,t,n,o){return"function"==typeof e?e(Qi({},r.state,{isDragActive:t,isDragAccept:n,isDragReject:o})):e},r.composeHandlers=r.composeHandlers.bind(r),r.onClick=r.onClick.bind(r),r.onDocumentDrop=r.onDocumentDrop.bind(r),r.onDragEnter=r.onDragEnter.bind(r),r.onDragLeave=r.onDragLeave.bind(r),r.onDragOver=r.onDragOver.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDrop=r.onDrop.bind(r),r.onFileDialogCancel=r.onFileDialogCancel.bind(r),r.onInputElementClick=r.onInputElementClick.bind(r),r.setRef=r.setRef.bind(r),r.setRefs=r.setRefs.bind(r),r.isFileDialogActive=!1,r.state={draggedFiles:[],acceptedFiles:[],rejectedFiles:[]},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,S.a.Component),Xi(t,[{key:"componentDidMount",value:function(){var e=this.props.preventDropOnDocument;this.dragTargets=[],e&&(document.addEventListener("dragover",Gi,!1),document.addEventListener("drop",this.onDocumentDrop,!1)),this.fileInputEl.addEventListener("click",this.onInputElementClick,!1),window.addEventListener("focus",this.onFileDialogCancel,!1)}},{key:"componentWillUnmount",value:function(){this.props.preventDropOnDocument&&(document.removeEventListener("dragover",Gi),document.removeEventListener("drop",this.onDocumentDrop)),null!=this.fileInputEl&&this.fileInputEl.removeEventListener("click",this.onInputElementClick,!1),window.removeEventListener("focus",this.onFileDialogCancel,!1)}},{key:"composeHandlers",value:function(e){return this.props.disabled?null:e}},{key:"onDocumentDrop",value:function(e){this.node&&this.node.contains(e.target)||(e.preventDefault(),this.dragTargets=[])}},{key:"onDragStart",value:function(e){this.props.onDragStart&&this.props.onDragStart.call(this,e)}},{key:"onDragEnter",value:function(e){var t=this;e.preventDefault(),-1===this.dragTargets.indexOf(e.target)&&this.dragTargets.push(e.target),Promise.resolve(this.props.getDataTransferItems(e)).then(function(e){t.setState({isDragActive:!0,draggedFiles:e})}),this.props.onDragEnter&&this.props.onDragEnter.call(this,e)}},{key:"onDragOver",value:function(e){e.preventDefault(),e.stopPropagation();try{e.dataTransfer.dropEffect=this.isFileDialogActive?"none":"copy"}catch(e){}return this.props.onDragOver&&this.props.onDragOver.call(this,e),!1}},{key:"onDragLeave",value:function(e){var t=this;e.preventDefault(),this.dragTargets=this.dragTargets.filter(function(n){return n!==e.target&&t.node.contains(n)}),this.dragTargets.length>0||(this.setState({isDragActive:!1,draggedFiles:[]}),this.props.onDragLeave&&this.props.onDragLeave.call(this,e))}},{key:"onDrop",value:function(e){var t=this,n=this.props,r=n.onDrop,o=n.onDropAccepted,i=n.onDropRejected,a=n.multiple,s=n.disablePreview,c=n.accept,l=n.getDataTransferItems;e.preventDefault(),this.dragTargets=[],this.isFileDialogActive=!1,this.draggedFiles=null,this.setState({isDragActive:!1,draggedFiles:[]}),Promise.resolve(l(e)).then(function(n){var l=[],u=[];n.forEach(function(e){if(!s)try{e.preview=window.URL.createObjectURL(e)}catch(e){0}Vi(e,c)&&function(e,t,n){return e.size<=t&&e.size>=n}(e,t.props.maxSize,t.props.minSize)?l.push(e):u.push(e)}),a||u.push.apply(u,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(l.splice(1))),r&&r.call(t,l,u,e),u.length>0&&i&&i.call(t,u,e),l.length>0&&o&&o.call(t,l,e)})}},{key:"onClick",value:function(e){var t=this.props,n=t.onClick;t.disableClick||(e.stopPropagation(),n&&n.call(this,e),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?this.open():setTimeout(this.open.bind(this),0))}},{key:"onInputElementClick",value:function(e){e.stopPropagation(),this.props.inputProps&&this.props.inputProps.onClick&&this.props.inputProps.onClick()}},{key:"onFileDialogCancel",value:function(){var e=this,t=this.props.onFileDialogCancel;this.isFileDialogActive&&setTimeout(function(){null!=e.fileInputEl&&(e.fileInputEl.files.length||(e.isFileDialogActive=!1));"function"==typeof t&&t()},300)}},{key:"setRef",value:function(e){this.node=e}},{key:"setRefs",value:function(e){this.fileInputEl=e}},{key:"open",value:function(){this.isFileDialogActive=!0,this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var e=this.props,t=e.accept,n=e.acceptClassName,r=e.activeClassName,o=e.children,i=e.disabled,a=e.disabledClassName,s=e.inputProps,c=e.multiple,l=e.name,u=e.rejectClassName,d=Zi(e,["accept","acceptClassName","activeClassName","children","disabled","disabledClassName","inputProps","multiple","name","rejectClassName"]),p=d.acceptStyle,f=d.activeStyle,h=d.className,m=void 0===h?"":h,g=d.disabledStyle,v=d.rejectStyle,b=d.style,y=Zi(d,["acceptStyle","activeStyle","className","disabledStyle","rejectStyle","style"]),w=this.state,O=w.isDragActive,E=w.draggedFiles,x=E.length,k=c||x<=1,C=x>0&&function(e,t){return e.every(function(e){return Vi(e,t)})}(E,this.props.accept),j=x>0&&(!C||!k),T=!(m||b||f||p||v||g);O&&r&&(m+=" "+r),C&&n&&(m+=" "+n),j&&u&&(m+=" "+u),i&&a&&(m+=" "+a),T&&(b=Yi,f=Ji,p=Ji,v=Ki,g=$i);var M=Qi({position:"relative"},b);f&&O&&(M=Qi({},M,f)),p&&C&&(M=Qi({},M,p)),v&&j&&(M=Qi({},M,v)),g&&i&&(M=Qi({},M,g));var _={accept:t,disabled:i,type:"file",style:Qi({position:"absolute",top:0,right:0,bottom:0,left:0,opacity:1e-5,pointerEvents:"none"},s.style),multiple:Hi&&c,ref:this.setRefs,onChange:this.onDrop,autoComplete:"off"};l&&l.length&&(_.name=l);y.acceptedFiles,y.preventDropOnDocument,y.disablePreview,y.disableClick,y.onDropAccepted,y.onDropRejected,y.onFileDialogCancel,y.maxSize,y.minSize,y.getDataTransferItems;var I=Zi(y,["acceptedFiles","preventDropOnDocument","disablePreview","disableClick","onDropAccepted","onDropRejected","onFileDialogCancel","maxSize","minSize","getDataTransferItems"]);return S.a.createElement("div",Qi({className:m,style:M},I,{onClick:this.composeHandlers(this.onClick),onDragStart:this.composeHandlers(this.onDragStart),onDragEnter:this.composeHandlers(this.onDragEnter),onDragOver:this.composeHandlers(this.onDragOver),onDragLeave:this.composeHandlers(this.onDragLeave),onDrop:this.composeHandlers(this.onDrop),ref:this.setRef,"aria-disabled":i}),this.renderChildren(o,O,C,j),S.a.createElement("input",Qi({},s,_)))}}]),t}(),ta=ea;ea.propTypes={accept:qi.a.oneOfType([qi.a.string,qi.a.arrayOf(qi.a.string)]),children:qi.a.oneOfType([qi.a.node,qi.a.func]),disableClick:qi.a.bool,disabled:qi.a.bool,disablePreview:qi.a.bool,preventDropOnDocument:qi.a.bool,inputProps:qi.a.object,multiple:qi.a.bool,name:qi.a.string,maxSize:qi.a.number,minSize:qi.a.number,className:qi.a.string,activeClassName:qi.a.string,acceptClassName:qi.a.string,rejectClassName:qi.a.string,disabledClassName:qi.a.string,style:qi.a.object,activeStyle:qi.a.object,acceptStyle:qi.a.object,rejectStyle:qi.a.object,disabledStyle:qi.a.object,getDataTransferItems:qi.a.func,onClick:qi.a.func,onDrop:qi.a.func,onDropAccepted:qi.a.func,onDropRejected:qi.a.func,onDragStart:qi.a.func,onDragEnter:qi.a.func,onDragOver:qi.a.func,onDragLeave:qi.a.func,onFileDialogCancel:qi.a.func},ea.defaultProps={preventDropOnDocument:!0,disabled:!1,disablePreview:!1,disableClick:!1,inputProps:{},multiple:!0,maxSize:1/0,minSize:0,getDataTransferItems:function(e){var t=[];if(e.dataTransfer){var n=e.dataTransfer;n.files&&n.files.length?t=n.files:n.items&&n.items.length&&(t=n.items)}else e.target&&e.target.files&&(t=e.target.files);return Array.prototype.slice.call(t)}};var na=n("DWq1"),ra=n.n(na),oa=n("bFe0"),ia=Object(ke.a)("div",{target:"epm4uhj0"})("margin-top:",Object(Dt.l)()/2,"px;display:flex;align-items:center;"),aa={width:"200px",height:"200px",borderWidth:"2px",borderColor:Lt.colors.N40,borderStyle:"dashed",borderRadius:"".concat(2*Object(Dt.f)(),"px"),color:Lt.colors.N400,display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",padding:"".concat(Object(Dt.l)(),"px"),cursor:"pointer"},sa=Object(L.e)({uploadImageTitle:{id:"frontbucket.repository.pullRequest.uploadImageTitle",defaultMessage:"Upload image"},uploadImageInstructions:{id:"forntbucket.repository.pullRequest.uploadImageInstructions",defaultMessage:"Drag and drop... or click here to upload your image"},genericError:{id:"forntbucket.repository.pullRequest.uploadImageGenericError",defaultMessage:"Something went wrong with that file. Please try again."}}),ca=Object(L.f)(function(e){function t(){var e,n;h()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=b()(this,(e=w()(t)).call.apply(e,[this].concat(o))),k()(D()(D()(n)),"handleFileDrop",function(e){var t=n.props,r=t.onAcceptedFileDropped,o=t.onRejectedFileDropped,i=t.intl;e[0]?r(e[0]):o(i.formatMessage(sa.genericError))}),n}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.intl,n=e.onClose,r=e.errorMessage;return S.a.createElement(ln.a,{header:function(){return S.a.createElement(cn.e,null,S.a.createElement(cn.f,null,S.a.createElement(L.a,sa.uploadImageTitle)))},width:"small",onClose:n,actions:[{text:t.formatMessage(yn.a.cancel),onClick:n}]},S.a.createElement(oa.a,null,S.a.createElement(ta,{multiple:!1,style:aa,accept:ve.a,onDrop:this.handleFileDrop},S.a.createElement(L.a,sa.uploadImageInstructions)),r&&S.a.createElement(ia,null,S.a.createElement(ra.a,{size:"medium",primaryColor:Lt.colors.Y300,label:r}),r)))}}]),t}(C.PureComponent)),la={onClose:function(){return{type:xi.a}},onAcceptedFileDropped:xi.i,onRejectedFileDropped:function(e){return{type:xi.c.ERROR,payload:e}}},ua=Object(i.c)(function(e){return{errorMessage:Object(xi.f)(e)}},la)(ca),da=n("2RCx"),pa=Object(ke.a)(Ee.a,{target:"es4y1pl0"})("margin-right:",Object(Dt.l)(),"px;"),fa=Object(ke.a)(cn.d,{target:"es4y1pl1"})({name:"1a9getn",styles:"justify-content:flex-end;"}),ha=Object(ke.a)("div",{target:"es4y1pl2"})("margin-top:",Object(Dt.l)()/2,"px;display:flex;align-items:center;"),ma=Object(ke.a)("div",{target:"es4y1pl3"})({name:"79elbk",styles:"position:relative;"}),ga=Object(ke.a)("span",{target:"es4y1pl4"})(function(e){return e.isDisabled?"visibility: hidden":""},";"),va=Object(ke.a)("span",{target:"es4y1pl5"})("min-width:100%;height:100%;position:absolute;display:flex;flex-direction:column;justify-content:center;align-items:center;padding-top:",Object(Dt.l)()/2,"px;"),ba=function(e){function t(){var e,n;h()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=b()(this,(e=w()(t)).call.apply(e,[this].concat(o))),k()(D()(D()(n)),"state",{reason:""}),k()(D()(D()(n)),"submit",function(){n.props.declinePullRequest(n.state.reason)}),k()(D()(D()(n)),"updateReason",function(e){n.setState({reason:e.target.value})}),n}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.intl,r=t.onClose,o=t.isRequesting,i=t.isErrored,a=t.errorMessage;return S.a.createElement(ln.a,{heading:S.a.createElement(L.a,eo.declineDialogTitle),onClose:r,footer:function(){return S.a.createElement(fa,null,S.a.createElement(pa,{appearance:"primary",isDisabled:o,onClick:e.submit},S.a.createElement(ma,null,o?S.a.createElement(va,null,S.a.createElement(j.a,{size:"small"})):null,S.a.createElement(ga,{isDisabled:o},S.a.createElement(L.a,eo.declinePullRequestAction)))),S.a.createElement(Ee.a,{onClick:r},S.a.createElement(L.a,yn.a.cancel)))}},S.a.createElement(L.a,eo.declineDialogInfo),S.a.createElement(da.a,{autoFocus:!0,label:n.formatMessage(eo.declineDialogLabel),shouldFitContainer:!0,onChange:this.updateReason}),i&&S.a.createElement(ha,null,S.a.createElement(ra.a,{size:"medium",primaryColor:Lt.colors.Y300,label:a||""}),a))}}]),t}(C.Component),ya=Object(L.f)(ba),wa={declinePullRequest:bo.j,onClose:bo.b},Oa=Object(i.c)(function(e){return{isRequesting:Object(bo.h)(e),isErrored:Object(bo.g)(e),errorMessage:Object(bo.e)(e)}},wa)(ya),Ea=n("PZI2"),xa=n("RySL"),ka=n("Lf/l"),Ca=n("r/0h"),Sa=n("ZuLr"),ja=n("fjjN"),Ta=n("HTLT"),Ma=n("wO5I"),_a=Object(L.e)({mergePullRequestAction:{id:"frontbucket.repository.pullRequest.mergePullRequest",defaultMessage:"Merge"},mergeDialogTitle:{id:"frontbucket.repository.pullRequest.mergePullRequestDialog",defaultMessage:"Merge pull request"},mergeDialogCommitMessageLabel:{id:"frontbucket.repository.pullRequest.mergeDialogCommitMessageLabel",defaultMessage:"Commit message"},mergeDialogMergeStrategyLabel:{id:"frontbucket.repository.pullRequest.mergeDialogMergeStrategyLabel",defaultMessage:"Merge strategy"},sourceBranch:{id:"frontbucket.repository.pullRequest.mergeDialogSourceBranch",defaultMessage:"Source"},destinationBranch:{id:"frontbucket.repository.pullRequest.mergeDialogDestinationBranch",defaultMessage:"Destination"},closeSourceBranch:{id:"frontbucket.repository.pullRequest.closeSourceBranch",defaultMessage:"Close source branch"},closeSourceBranchAndRetargetStackedPullRequests:{id:"frontbucket.repository.pullRequest.closeSourceBranchAndRetargetStackedPullRequests",defaultMessage:"Close source branch and retarget {stackedPullRequests}"},stackedPullRequestsLink:{id:"frontbucket.repository.pullRequest.stackedPullRequestsLink",defaultMessage:"{count} affected {count, plural, one {pull request} other {pull requests}}"},mergedInLabel:{id:"frontbucket.respository.pullRequest.mergedInLabel",defaultMessage:"Merged in"},approvedByLabel:{id:"frontbucket.respository.pullRequest.approvedByLabel",defaultMessage:"Approved-by:"},pullRequestLabel:{id:"frontbucket.respository.pullRequest.pullRequestLabel",defaultMessage:"pull request"},createPendingMergeHeading:{id:"frontbucket.respository.pullRequest.createPendingMergeTitle",defaultMessage:"All builds need to pass before merge"},createPendingMergeDescription:{id:"frontbucket.respository.pullRequest.createPendingMergeDescription",defaultMessage:"You can schedule to automatically merge the pull request if all builds are successful."},createPendingMergeAction:{id:"frontbucket.repository.pullRequest.createPendingMergeAction",defaultMessage:"Merge when builds pass"},cancelPendingMergeHeading:{id:"frontbucket.respository.pullRequest.cancelPendingMergeTitle",defaultMessage:"Youve got a pending merge"},cancelPendingMergeDescription:{id:"frontbucket.respository.pullRequest.cancelPendingMergeDescription",defaultMessage:"We'll merge this pull request automatically if all builds are successful."},cancelPendingMergeAction:{id:"frontbucket.repository.pullRequest.cancelPendingMergeAction",defaultMessage:"Stop pending merge"}}),Ia=Object(ke.a)("div",{target:"euookzx0"})("margin-top:",Object(Dt.l)()/2,"px;display:flex;align-items:center;"),Pa=Object(ke.a)("span",{target:"euookzx1"})(function(e){return e.isDisabled?"visibility: hidden":""},";"),Aa=function(e){function t(e){var n;h()(this,t),n=b()(this,w()(t).call(this,e)),k()(D()(D()(n)),"mergeStrategies",void 0),k()(D()(D()(n)),"availableMergeStrategies",void 0),k()(D()(D()(n)),"submit",function(){var e=n.state,t=e.closeSourceBranch,r=e.mergeStrategy,o=e.message;n.props.mergePullRequest({closeSourceBranch:t,mergeStrategy:r,message:o})}),k()(D()(D()(n)),"createPendingMerge",function(){var e=n.state,t=e.closeSourceBranch,r=e.mergeStrategy,o=e.message;n.props.onCreatePendingMerge({closeSourceBranch:t,mergeStrategy:r,message:o})}),k()(D()(D()(n)),"cancelPendingMerge",function(){return n.props.onCancelPendingMerge()}),k()(D()(D()(n)),"updateCommitMessage",function(e){n.setState({message:e.target.value})}),k()(D()(D()(n)),"updateCloseSourceBranch",function(e){n.setState({closeSourceBranch:e.target.checked})}),k()(D()(D()(n)),"updateMergeStrategy",function(e){e!==n.state.mergeStrategy&&n.setState({mergeStrategy:e,message:n.getDefaultCommitMessage(e)})}),k()(D()(D()(n)),"handleMergeStrategyChange",function(e){e&&n.updateMergeStrategy(e.value)});var r=e.defaultMergeStrategy,o=e.currentPullRequest,i=e.mergeInfo,a=o.destination.branch.merge_strategies;n.availableMergeStrategies=a;var s=a[0];r&&a.includes(r)&&(s=r);var c=i.closeSourceBranch,l=void 0===c?o.close_source_branch:c,u=i.mergeStrategy,d=void 0===u?s||Ta.a.MergeCommit:u,p=i.message,f=void 0===p?n.getDefaultCommitMessage(s||Ta.a.MergeCommit):p;return n.state={closeSourceBranch:l,mergeStrategy:d,message:f},n}return E()(t,e),g()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.defaultMergeStrategy;!e.defaultMergeStrategy&&t&&this.updateMergeStrategy(t)}},{key:"getDefaultCommitMessage",value:function(e){if(e===Ta.a.FastForward)return"";var t=this.props,n=t.approvers,r=t.commits,o=t.currentPullRequest,i=t.intl,a=o.id,s=o.source,c=o.title,l=i.formatMessage(_a.mergedInLabel),u=i.formatMessage(_a.approvedByLabel),d=i.formatMessage(_a.pullRequestLabel),p="".concat(l," ").concat(s&&s.branch.name),f="(".concat(d," #").concat(a,")"),h="".concat(p," ").concat(f,"\n\n").concat(c);if(e===Ta.a.Squash&&(1!==r.length||r[0].message!==c)){var m=r.reverse().map(function(e){return"* ".concat(e.message)}).join("\n");h+="\n\n".concat(m)}if(n.length>0){var g=n.map(function(e){return"".concat(u," ").concat(Object(fn.j)(e.user,i))}).join("\n");h+="\n\n".concat(g)}return h}},{key:"render",value:function(){var e=this,t=this.props,n=t.canCreatePendingMerge,r=t.currentPullRequest,o=t.errorMessage,i=t.isErrored,a=t.isMergePending,s=t.isRequesting,c=t.isRequestingPendingMerge,l=t.intl,u=t.onClose,d=t.isBannerOpen,p=t.stackedPullRequestsCount,f=r.source,h=r.destination,m=function(){if(p>0&&f.repository){var e=f.repository.full_name.split("/"),t=Vn()(e,2),n=t[0],r=t[1];return S.a.createElement(L.a,V()({},_a.closeSourceBranchAndRetargetStackedPullRequests,{values:{stackedPullRequests:S.a.createElement("a",{target:"_blank",href:on.a.ui.pullRequestsTargetingBranch(n,r,f.branch.name)},S.a.createElement(L.a,V()({},_a.stackedPullRequestsLink,{values:{count:p}})))}}))}return S.a.createElement(L.a,_a.closeSourceBranch)};return S.a.createElement(ln.a,{autoFocus:!(a||n),heading:S.a.createElement(L.a,_a.mergeDialogTitle),onClose:u,footer:function(){return S.a.createElement(cn.d,null,S.a.createElement("div",null,S.a.createElement(xa.a,{isChecked:e.state.closeSourceBranch,isDisabled:a,label:m(),onChange:e.updateCloseSourceBranch,name:"close-source-branch-checkbox",value:l.formatMessage(_a.closeSourceBranch)})),S.a.createElement(Vr.a,null,S.a.createElement(Ee.a,{appearance:"primary",isDisabled:s||c||a,isLoading:s,label:l.formatMessage(_a.mergePullRequestAction),onClick:e.submit},S.a.createElement(Pa,{"data-qa":"merge-dialog-merge-button"},S.a.createElement(L.a,_a.mergePullRequestAction))),S.a.createElement(Ee.a,{onClick:u,label:l.formatMessage(yn.a.cancel)},S.a.createElement(L.a,yn.a.cancel))))},width:"medium"},a&&S.a.createElement(function(){return S.a.createElement(ri.a,{appearance:"info",title:l.formatMessage(_a.cancelPendingMergeHeading),actions:[{key:"cancel",onClick:e.cancelPendingMerge,text:l.formatMessage(_a.cancelPendingMergeAction)}]},S.a.createElement(L.a,V()({tagName:"p"},_a.cancelPendingMergeDescription)))},null),n&&S.a.createElement(function(){return S.a.createElement(ri.a,{appearance:"warning",title:l.formatMessage(_a.createPendingMergeHeading),actions:[{key:"create",onClick:e.createPendingMerge,text:l.formatMessage(_a.createPendingMergeAction)}]},S.a.createElement(L.a,V()({tagName:"p"},_a.createPendingMergeDescription)))},null),S.a.createElement(ka.a,{label:l.formatMessage(_a.sourceBranch)}),S.a.createElement(Sa.a,{text:f&&f.branch.name}),S.a.createElement(ka.a,{label:l.formatMessage(_a.destinationBranch)}),S.a.createElement(Sa.a,{text:h&&h.branch.name}),S.a.createElement(Ca.a,{label:l.formatMessage(_a.mergeDialogCommitMessageLabel),disabled:this.state.mergeStrategy===Ta.a.FastForward||a,minimumRows:5,onChange:this.updateCommitMessage,shouldFitContainer:!0,enableResize:!0,value:this.state.message}),this.availableMergeStrategies.length>1&&S.a.createElement(ja.a,{isBannerOpen:d,defaultValue:Ma.a[this.state.mergeStrategy],isDisabled:a,mergeStrategies:this.availableMergeStrategies,onChange:this.handleMergeStrategyChange}),i&&S.a.createElement(Ia,null,S.a.createElement(ra.a,{size:"medium",primaryColor:Lt.colors.Y300,label:o||""}),o))}}]),t}(C.Component),Na=Object(L.f)(Aa),Ra={mergePullRequest:Ar.w,onCreatePendingMerge:Ar.i,onCancelPendingMerge:Ar.g,onClose:Ar.h},Da=Object(i.c)(function(e){return{canCreatePendingMerge:Object(Ar.l)(e),isMergePending:Object(Ar.o)(e),currentPullRequest:Object(p.i)(e),approvers:Object(p.o)(e),commits:Object(Ea.b)(e),isRequesting:Object(Ar.p)(e),isRequestingPendingMerge:Object(Ar.q)(e),isErrored:Object(Ar.n)(e),errorMessage:Object(Ar.r)(e),mergeInfo:Object(Ar.s)(e),defaultMergeStrategy:e.repository.pullRequest.defaultMergeStrategy,isBannerOpen:Boolean(Object(c.rb)(e)),stackedPullRequestsCount:Object(Ar.t)(e)}},Ra)(Na),La=Object(i.c)(function(e){return{isDeclineDialogOpen:Object(bo.f)(e),isMergeDialogOpen:Object(Ar.m)(e),isImageUploadDialogOpen:Object(xi.g)(e),isOutdatedCommentsDialogOpen:Object(p.I)(e),isNewCodeReviewEnabled:Object(c.T)(e),isDiffCommentsDialogOpen:Object(p.F)(e)}})(function(e){function t(){return h()(this,t),b()(this,w()(t).apply(this,arguments))}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.isMergeDialogOpen,n=e.isDeclineDialogOpen,r=e.isImageUploadDialogOpen,o=e.isOutdatedCommentsDialogOpen,i=e.isNewCodeReviewEnabled,a=e.isDiffCommentsDialogOpen;return S.a.createElement(C.Fragment,null,S.a.createElement(Ei.b,null,t&&S.a.createElement(Da,null),n&&S.a.createElement(Oa,null),r&&S.a.createElement(ua,null),o&&S.a.createElement(_n,null),!i&&S.a.createElement(Bi,null),a&&S.a.createElement(Pn,null)))}}]),t}(C.PureComponent)),za=Object(ke.a)("main",{target:"epa2q480"})("padding-bottom:",32*Object(Dt.l)(),"px;"),Ba=n("Ws1f"),Fa=n("oxMo"),qa=n("wwut"),Wa=n("2eu7"),Ua=Object(L.e)({commitListLoading:{id:"frontbucket.repository.pullRequest.commitListLoadingLabel",defaultMessage:"Loading commits..."},commitListLoadMore:{id:"frontbucket.repository.pullRequest.commitListLoadMore",defaultMessage:"Load more commits"},commitListTitle:{id:"frontbucket.repository.pullrequest.commitListTitle",defaultMessage:"{hasError, select, true {Commits} other {{count}}}{hasMore, select, true {+} other {}}\n       {hasError, select, other {{count, plural, one {commit} other {commits}}} true {}}"},commitListLabel:{id:"frontbucket.repository.pullRequest.commitListLabel",defaultMessage:"Commit list"},commitListGenericError:{id:"frontbucket.repository.pullRequest.commitListGenericError",defaultMessage:"Couldn't load commits"}}),Ha=n("mER7"),Va=n.n(Ha),Ga=n("a8hx"),Ka=Object(L.e)({text:{id:"frontbucket.repository.pullRequest.branchSyncInfo.text",defaultMessage:"Branches are out of sync."},action:{id:"frontbucket.repository.pullRequest.branchSyncInfo.action",defaultMessage:"Sync now"}}),$a=Object(ke.a)("span",{target:"eyqhrzh0"})("display:flex;align-items:center;height:",2.5*Object(Dt.l)(),"px;"),Ja=Object(ke.a)("div",{target:"eyqhrzh1"})("height:",4*Object(Dt.l)(),"px;background:",Lt.colors.B50,";display:flex;align-items:center;justify-content:center;"),Ya=Object(ke.a)("span",{target:"eyqhrzh2"})("margin-right:",Object(Dt.l)()/2,"px;margin-top:",Object(Dt.l)()/4,"px;"),Qa=Object(ke.a)("div",{target:"eyqhrzh3"})("margin-left:-",Object(Dt.l)(),"px;"),Xa=n("ZerX"),Za=n("beM4"),es=Object(L.e)({conflictsDialogTitle:{id:"frontbucket.repository.pullRequest.conflictsDialogTitle",defaultMessage:"Syncing this branch will result in merge conflicts"},conflictsDialogMessage:{id:"frontbucket.repository.pullRequest.conflictsDialogMessage",defaultMessage:"Resolve the merge conflicts before attempting to sync this branch."},conflictsDialogInstruction:{id:"frontbucket.repository.pullRequest.conflictsDialogInstruction",defaultMessage:'To manually merge these changes into "{branch}", run the following commands:'},conflictsDialogWarning:{id:"frontbucket.repository.pullRequest.conflictsDialogWarning",defaultMessage:"Note: This will create a detached head!"},closeConflictsDialogButton:{id:"frontbucket.repository.pullRequest.closeConflictsDialogButton",defaultMessage:"Close"}}),ts=function(e){function t(){var e,n;h()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=b()(this,(e=w()(t)).call.apply(e,[this].concat(o))),k()(D()(D()(n)),"getActions",function(){return[{text:n.props.intl.formatMessage(es.closeConflictsDialogButton),onClick:n.props.onClose}]}),k()(D()(D()(n)),"getGitSyncCode",function(){var e=n.props,t=e.intl,r=e.sourceBranchName,o=e.destinationHash,i=e.sourceRepositoryFullName,a=e.destinationRepositoryFullName,s=e.sourceCloneLink,c=["git checkout ".concat(o.substr(0,7))],l="origin";return i!==a&&(l=i,c.push("git remote add ".concat(l," ").concat(s),"git fetch ".concat(l))),c.push("# ".concat(t.formatMessage(es.conflictsDialogWarning)),"git merge remotes/".concat(l,"/").concat(r)),c.join("\n")}),k()(D()(D()(n)),"getHgSyncCode",function(){var e=n.props,t=e.sourceHash,r=e.destinationHash,o=e.sourceRepositoryFullName,i=e.destinationRepositoryFullName,a=e.sourceCloneLink,s=["hg update ".concat(r.substr(0,7))];return o!==i&&s.push("hg pull -r ".concat(t.substr(0,7)," ").concat(a)),s.push("hg merge ".concat(t.substr(0,7))),s.join("\n")}),k()(D()(D()(n)),"getSyncCode",function(){return"hg"===n.props.scm?n.getHgSyncCode():n.getGitSyncCode()}),n}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.intl,n=e.isOpen,r=e.onClose,o=e.sourceBranchName,i=e.destinationBranchName,a=e.sourceRepositoryFullName,s=e.destinationRepositoryFullName;if(!n)return null;var c=Object(Za.a)(o,i,a,s);return S.a.createElement(ln.a,{appearance:"warning",actions:this.getActions(),onClose:r,heading:t.formatMessage(es.conflictsDialogTitle),shouldCloseOnEscapePress:!0,shouldCloseOnOverlayClick:!0},S.a.createElement(L.a,V()({},es.conflictsDialogMessage,{tagName:"p"})),S.a.createElement(L.a,V()({},es.conflictsDialogInstruction,{values:{branch:c.destinationBranchName},tagName:"p"})),S.a.createElement("p",null,S.a.createElement(Xa.a,{text:this.getSyncCode()})))}}]),t}(S.a.Component),ns=Object(L.f)(ts),rs={openSyncDialog:Ga.w},os=Object(i.c)(function(e){var t=Object(p.Q)(e),n=Object(p.ab)(e);return{scm:Object(c.A)(e),sourceCloneLink:Object(c.C)(e),branchSyncInfo:Object(p.e)(e),hasConflicts:Object(p.f)(e),destinationBranchName:Object(p.M)(e),sourceBranchName:Object(p.w)(e),destinationRepositoryFullName:n&&n.full_name,sourceRepositoryFullName:t&&t.full_name,sourceHash:Object(p.P)(e),destinationHash:Object(p.Z)(e)}},rs)(function(e){var t=e.branchSyncInfo,n=e.sourceHash,r=e.destinationHash,o=e.destinationBranchName,i=e.sourceBranchName,a=e.destinationRepositoryFullName,s=e.sourceRepositoryFullName,c=e.appearance,l=void 0===c?"block":c,d=e.hasConflicts,p=e.scm,f=e.sourceCloneLink,h=e.openSyncDialog,m=Object(C.useState)(!1),g=Vn()(m,2),v=g[0],b=g[1],y="inline"===l?$a:Ja;return t&&t.behind>0?S.a.createElement(y,null,"inline"===l&&S.a.createElement(Ya,null,S.a.createElement(Va.a,{label:"info",size:"small",primaryColor:Lt.colors.B400})),S.a.createElement("span",null,S.a.createElement("strong",null,t.behind,t.behindTruncated&&"+"," "),S.a.createElement(L.a,Ka.text)),S.a.createElement(Qa,null,S.a.createElement(Ee.a,{appearance:"link",spacing:"compact",onClick:function(e){e.preventDefault(),e.stopPropagation(),d?b(!0):h({destinationBranchName:o,sourceBranchName:i,destinationRepositoryFullName:a,sourceRepositoryFullName:s,reloadAction:Object(u.mb)({needsDiff:!0,needsConversations:!1,needsPullRequest:!0})})}},S.a.createElement(L.a,Ka.action))),S.a.createElement(ns,{isOpen:v,sourceCloneLink:f,sourceBranchName:i,destinationBranchName:o,sourceRepositoryFullName:s,destinationRepositoryFullName:a,sourceHash:n,destinationHash:r,scm:p,onClose:function(){return b(!1)}})):null}),is=Object(ke.a)("div",{target:"er6naye0"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),as=Object(ke.a)("div",{target:"er6naye1"})("border-top:",Object(Dt.l)()/4,"px solid ",Lt.colors.N40,";border-bottom:",Object(Dt.l)()/4,"px solid ",Lt.colors.N40,";"),ss=Object(ke.a)("div",{target:"er6naye2"})({name:"k008qs",styles:"display:flex;"}),cs=Object(ke.a)("div",{target:"er6naye3"})("margin-left:",Object(Dt.l)(),"px;"),ls=function(e){var t=e.commits,n=e.hasMore,r=e.hasError;return S.a.createElement(is,null,S.a.createElement("strong",null,S.a.createElement(L.a,V()({},Ua.commitListTitle,{values:{hasError:r.toString(),hasMore:n.toString(),count:t||0}}))),r&&S.a.createElement($e.a,{tag:"span",content:S.a.createElement(L.a,Ua.commitListGenericError)},S.a.createElement(ra.a,{primaryColor:Lt.colors.Y300,label:""})))},us=function(){return S.a.createElement(Br.d,null,S.a.createElement(L.a,Ua.commitListLoading))},ds=function(e){var t=e.isLoading,n=Object(i.d)();return S.a.createElement(Ee.a,{isLoading:t,appearance:"subtle",onClick:function(){return n({type:Fa.a.FETCH_MORE_COMMITS})},theme:function(e,t){return o()({},e(t),{buttonStyles:o()({},e(t).buttonStyles,{display:"block",margin:"0 auto"})})}},S.a.createElement(L.a,Ua.commitListLoadMore))},ps=Object(i.c)(function(e){var t=Object(Ea.c)(e);return{commits:t.commits||[],hasError:t.hasError,isLoading:t.isLoading,hasMore:!!t.nextUrl,isSyncNowEnabled:Object(P.n)(e)}})(function(e){var t=e.commits,n=void 0===t?[]:t,r=e.isLoading,o=void 0===r||r,a=e.hasError,s=void 0!==a&&a,c=e.hasMore,l=void 0!==c&&c,u=e.isSyncNowEnabled,d=Object(i.d)(),p=Object(Ne.b)(),f=Object(C.useState)(!1),h=Vn()(f,2),m=h[0],g=h[1],v=o?S.a.createElement(us,null):S.a.createElement(ss,null,S.a.createElement(ls,{commits:n.length,hasMore:l,hasError:s}),u&&!m&&S.a.createElement(cs,null,S.a.createElement(os,{appearance:"inline"})));return S.a.createElement(Br.c,{"data-qa":"pr-commit-list-styles","aria-label":p.formatMessage(Ua.commitListLabel)},S.a.createElement(Ba.a,{header:v,isExpanded:m,onChange:g},n.length>0&&S.a.createElement(as,null,u&&S.a.createElement(C.Fragment,null,S.a.createElement(os,null),S.a.createElement(Wa.a,null)),S.a.createElement(qa.a,{commits:n})),o&&!l&&S.a.createElement(ee.a,null),l&&S.a.createElement(ds,{isLoading:o}),s&&!o&&S.a.createElement(Z.b,{iconType:"warning",title:S.a.createElement(L.a,ar.a.errorHeading)},S.a.createElement(Ee.a,{appearance:"link",onClick:function(){return d({type:Fa.a.RETRY_COMMITS})}},S.a.createElement(L.a,ar.a.tryAgain)))))}),fs=Object(L.e)({descriptionLabel:{id:"frontbucket.repository.pullRequest.descriptionLabel",defaultMessage:"Pull request description"}}),hs=function(e){function t(e){var n;h()(this,t),n=b()(this,w()(t).call(this,e)),k()(D()(D()(n)),"handleHashChange",function(){var e=Object(q.g)();e&&(n.props.updateMobileHeaderState("none"),n.props.onPermalinkHashChange(e))}),k()(D()(D()(n)),"renderDescriptionSection",function(){var e=n.props,t=e.currentPullRequest,r=e.areProfileCardsEnabled,o=e.intl,i=t&&Object(a.a)(t,"rendered.description.html","");return i&&S.a.createElement("section",{"aria-label":o.formatMessage(fs.descriptionLabel),"data-qa":"pull-request-description",tabIndex:0},S.a.createElement(F.a,{areProfileCardsEnabled:r,src:i,format:"html"}))});var r=n.props,i=r.areProfileCardsEnabled,s=r.intl,c=r.user,u=r.slug,d=r.owner,p=r.pullRequestId,f=r.onAddComment,m=r.onDeleteComment,g=r.fabricConversations,v=r.usesCpusMentions,y=l.a.api.v20,O=y.commentSave,E=y.commentUpdate,x=y.commentDelete,C={commentSave:function(){return O(d,u,p)},commentUpdate:function(e){return E(d,u,p,e)},commentDelete:function(e){return x(d,u,p,e)}};return n.state=o()({},Object(W.a)({areProfileCardsEnabled:i,user:c,urls:C,onAddComment:f,onDeleteComment:m,owner:d,slug:u,intl:s,fabricConversations:g,usesCpusMentions:v}),{previousFabricConversations:g}),n}return E()(t,e),g()(t,[{key:"componentDidMount",value:function(){window.addEventListener("hashchange",this.handleHashChange)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("hashchange",this.handleHashChange)}},{key:"render",value:function(){var e=this.props,t=e.currentPullRequest,n=e.intl,r=this.renderDescriptionSection();return S.a.createElement(W.b.Provider,{value:this.state},S.a.createElement(za,null,S.a.createElement(Oi,{currentPullRequest:t,intl:n}),S.a.createElement(z.a,{spacing:"comfortable"},S.a.createElement(B.a,{"data-qa":"pr-description-grid-column"},r,S.a.createElement(X,null),S.a.createElement(Pr,null),S.a.createElement(ps,null))),S.a.createElement(z.a,{layout:"fluid",spacing:"comfortable"},S.a.createElement(B.a,null,S.a.createElement(_r,null)))),S.a.createElement(La,null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.fabricConversations;return t.previousFabricConversations!==n?(t.conversationProvider.getConversations(n),o()({},t,{previousFabricConversations:n})):null}}]),t}(C.PureComponent),ms=Object(L.f)(hs),gs={onAddComment:function(e){return{type:u.b.SUCCESS,payload:e}},onDeleteComment:function(e){return{type:u.i.SUCCESS,payload:e}},onPermalinkHashChange:u.kb,updateMobileHeaderState:A.a},vs=Object(i.c)(function(e){var t=Object(c.u)(e),n=t.owner,r=t.slug,o=t.id,i=Object(c.p)(e),a=Object(P.g)(e),s=Object(P.h)(e);return{areProfileCardsEnabled:!!e.global.features["user-profile-cards"],user:Object(c.E)(e),currentPullRequest:i,owner:n,slug:r,pullRequestId:o,fabricConversations:Object(N.h)(e),usesCpusMentions:e.global.identityPassthroughEnabled,isNewCodeReviewFeatureEnabledForUser:a,isNewCodeReviewFeatureEnabledForTeam:s}},gs)(ms),bs=n("TJpk"),ys=n.n(bs),ws=Object(L.e)({pullRequestTitle:{id:"frontbucket.repository.pullRequest.pullRequestTitle",defaultMessage:"Pull Request"}}),Os=function(e){function t(){var e,n;h()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=b()(this,(e=w()(t)).call.apply(e,[this].concat(o))),k()(D()(D()(n)),"titleTemplate",function(e,t){var r=n.props.intl.formatMessage(ws.pullRequestTitle);return"/ ".concat(r," #").concat(e,": ").concat(t)}),n}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.currentPullRequest,n=e.intl,r="/ ".concat(n.formatMessage(ws.pullRequestTitle));if(t){var o=t.id,i=t.title;r=this.titleTemplate(o,i)}return S.a.createElement(ys.a,{title:r,defer:!1})}}]),t}(C.PureComponent),Es=Object(L.f)(Os),xs=Object(i.c)(function(e){return{currentPullRequest:Object(c.p)(e)}})(Es),ks=n("EC67"),Cs=n("95U1"),Ss=n("ZXbd"),js=n("OG7Z"),Ts=n("lUCt"),Ms=n("KfkX"),_s=n("uXh8"),Is=n("2VHb"),Ps="file.tree.card.collapsed",As=function(e){function t(){var e,n;h()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=b()(this,(e=w()(t)).call.apply(e,[this].concat(o))),k()(D()(D()(n)),"onCardStatusChange",function(e){Is.a.set(Ps,e.isCollapsed)}),k()(D()(D()(n)),"initialCardIsCollapsed",function(){return Is.a.get(Ps,!1)}),n}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.activeDiff,n=e.isCollapsed,r=e.onFileClick,o=e.hasConflicts,i=e.fileTree,a=e.diffStatError,s=e.fetchDiffStat;return S.a.createElement(_s.a,{activeDiff:t,onFileClick:r,isCollapsed:n,fileTree:i,hasConflicts:o,hasError:!!a,onErrorClick:s,onChange:this.onCardStatusChange,initialCardIsCollapsed:this.initialCardIsCollapsed()})}}]),t}(C.Component),Ns=Object(i.c)(function(e){var t=Object(p.u)(e),n=t.owner,r=t.slug;return{activeDiff:Object(p.b)(e),owner:n,slug:r,pullRequestId:Object(p.s)(e),fileTree:Object(Ms.a)(e),hasConflicts:Object(p.f)(e),diffStatError:Object(p.A)(e)}},function(e){return{onFileClick:function(t,n){if(e({type:u.J,payload:{name:"bitbucket.pullrequests.filepath.click"}}),n.href){var r=n.href.replace(/#/,"");e(Object(A.a)("none")),e(Object(u.nb)(r))}},fetchDiffStat:function(){return e({type:u.P})}}})(As),Rs=n("u70n"),Ds=n.n(Rs),Ls=n("y+en"),zs=function(e){function t(){var e,n;h()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=b()(this,(e=w()(t)).call.apply(e,[this].concat(o))),k()(D()(D()(n)),"handleTaskStateChange",function(){n.props.onTaskStateChange({url:n.props.task.links.self.href,nextTaskState:"RESOLVED"===n.props.task.state?"UNRESOLVED":"RESOLVED"})}),n}return E()(t,e),g()(t,[{key:"render",value:function(){return S.a.createElement(xa.a,{isChecked:"RESOLVED"===this.props.task.state,onChange:this.handleTaskStateChange,label:this.props.task.content.raw,name:"".concat(this.props.task.id),value:this.props.task.id,isFullWidth:!0})}}]),t}(C.PureComponent),Bs=Object(ke.a)("span",{target:"e14fab7b0"})({name:"in3yi3",styles:"font-weight:bold;"}),Fs=Object(L.e)({label:{id:"frontbucket.repository.pullrequest.tasksCardLabel",defaultMessage:"Tasks"},taskCounts:{id:"frontbucket.repository.pullrequest.tasksCount",defaultMessage:"{totalTaskCount, plural, =0 {0} other {{resolvedTaskCount} of {totalTaskCount}}}"},tasksCompleted:{id:"frontbucket.repository.pullrequest.tasksCompleted",defaultMessage:"{totalTaskCount, plural, one {task} other {tasks}} {totalTaskCount, plural, =0 {} other {complete}}"},errorHeading:{id:"frontbucket.repository.pullrequest.tasks.errorHeading",defaultMessage:"Couldn't load tasks"}}),qs=function(e){function t(){var e,n;h()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=b()(this,(e=w()(t)).call.apply(e,[this].concat(o))),k()(D()(D()(n)),"fetchTasks",function(){var e=n.props;(0,e.onFetchTasks)({owner:e.owner,repoSlug:e.repoSlug,pullRequestId:e.pullRequestId})}),k()(D()(D()(n)),"countResolvedTasks",function(){return n.props.tasks.filter(function(e){return"RESOLVED"===e.state}).length}),n}return E()(t,e),g()(t,[{key:"componentDidMount",value:function(){this.props.shouldRepressFetch||this.fetchTasks()}},{key:"renderExpanderLabel",value:function(){return this.props.isLoading?null:S.a.createElement("div",null,S.a.createElement(Bs,null,S.a.createElement(L.a,V()({},Fs.taskCounts,{values:{resolvedTaskCount:this.countResolvedTasks(),totalTaskCount:this.props.tasks.length}})))," ",S.a.createElement(L.a,V()({},Fs.tasksCompleted,{values:{totalTaskCount:this.props.tasks.length}})))}},{key:"renderExpanderLabelPlain",value:function(){if(this.props.isLoading)return null;var e=this.props.intl.formatMessage(Fs.taskCounts,{resolvedTaskCount:this.countResolvedTasks(),totalTaskCount:this.props.tasks.length}),t=this.props.intl.formatMessage(Fs.tasksCompleted,{totalTaskCount:this.props.tasks.length});return"".concat(e," ").concat(t)}},{key:"renderExpanderChildren",value:function(){var e=this.props,t=e.hasError,n=e.tasks,r=e.onTaskStateChange;return t?S.a.createElement(Z.b,{iconType:"warning",title:S.a.createElement(L.a,Fs.errorHeading)},S.a.createElement(Ee.a,{appearance:"link",onClick:this.fetchTasks},S.a.createElement(L.a,ar.a.tryAgain))):n.map(function(e){return S.a.createElement(zs,{key:e.id,task:e,onTaskStateChange:r})})}},{key:"render",value:function(){var e=this.props,t=e.intl,n=e.isSidebarCollapsed,r=e.isLoading,o=S.a.createElement(Ds.a,{label:"Tasks"});return n?S.a.createElement($e.a,{position:"left",content:this.renderExpanderLabelPlain()},S.a.createElement(Ee.a,{appearance:"subtle",iconBefore:o})):S.a.createElement(Ls.Expander,{icon:o,initialIsCollapsed:!0,isLoading:r,label:this.renderExpanderLabel(),ariaLabel:t.formatMessage(Fs.label)},this.renderExpanderChildren())}}]),t}(C.PureComponent),Ws=Object(L.f)(qs),Us=Object(i.c)(function(e){var t=Object(c.vb)(e),n=t.isLoading,r=t.hasError;return{owner:Object(c.z)(e),repoSlug:Object(c.B)(e),pullRequestId:Object(c.s)(e),isLoading:n,hasError:r,tasks:Object(c.ub)(e)}},function(e){return{onFetchTasks:function(t){e(Object(u.ib)(t))},onTaskStateChange:function(t){e(Object(u.ob)(t))}}})(Ws),Hs=n("Qyje"),Vs=n.n(Hs),Gs=n("xj9K"),Ks=Object(L.e)({feedbackCardLabel:{id:"frontbucket.repository.pullRequest.feedbackCardLabel",defaultMessage:"Early access preview"},feedbackCardAriaLabel:{id:"frontbucket.repository.pullRequest.feedbackCardAriaLabel",defaultMessage:"Feedback and temporary opt out"},feedbackCardMessage:{id:"frontbucket.repository.pullRequest.feedbackCardMessage",defaultMessage:"You're using the new pull request experience. Care to share your thoughts? ({link})"},feedbackCardOptOutLinkText:{id:"frontbucket.repository.pullRequest.feedbackCardOptOutLinkText",defaultMessage:"View old experience"},feedbackCardDocumentationMessage:{id:"frontbucket.repository.pullRequest.feedbackCardDocumentationMessage",defaultMessage:"Read {link} for details about planned features or steps to opt out of the early access preview."},feedbackCardDocumentationLinkText:{id:"frontbucket.repository.pullRequest.feedbackCardDocumentationLinkText",defaultMessage:"the docs"}}),$s=Object(ke.a)("div",{target:"elsh5820"})("padding-top:",Object(Dt.l)(),"px;padding-bottom:",2*Object(Dt.l)(),"px;"),Js="feedback.card.collapsed",Ys=function(e){function t(){var e,n;h()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=b()(this,(e=w()(t)).call.apply(e,[this].concat(o))),k()(D()(D()(n)),"linkSource",void 0),k()(D()(D()(n)),"extractLinkSource",function(){var e=n.props,t=e.location,r=e.history,o=t.pathname,i=t.search,a=t.hash,s=t.state,c=Vs.a.parse(i,{ignoreQueryPrefix:!0}),l=c.link_source,u=ie()(c,["link_source"]),d=Vs.a.stringify(u,{addQueryPrefix:!0,indices:!1});l&&!n.linkSource&&(n.linkSource=l,r.replace("".concat(o).concat(d).concat(a),s))}),k()(D()(D()(n)),"handleOptOutClick",function(){var e=n.props,t=e.sourceRepo,r=e.destRepo,o=e.pullRequestId,i=e.numDiffFiles,a=e.numDiffLines,c=e.isBrowserMsie11,l=e.isMobileHeaderActive,u={from_repository_uuid:Object(s.uncurlyUuid)(t.uuid),is_mobile:l,is_browser_msie_11:c,link_source:n.linkSource,number_of_files:i,number_of_diff_lines:a,pull_request_id:o,to_repository_uuid:Object(s.uncurlyUuid)(r.uuid),to_repository_owner_uuid:Object(s.uncurlyUuid)(r.owner&&r.owner.uuid||"")};Object(I.a)(new ue.a("bitbucket.pullrequests.tempOptOut.click",u))}),k()(D()(D()(n)),"onCardStatusChange",function(e){Is.a.set(Js,e.isCollapsed)}),k()(D()(D()(n)),"initialCardIsCollapsed",function(){return Is.a.get(Js,!1)}),k()(D()(D()(n)),"getJiraIssueCollectorKey",function(){var e="";return n.props.isNewCodeReviewFeatureEnabledForUser&&(e="code-review-beta"),n.props.isNewCodeReviewFeatureEnabledForTeam&&(e="code-review-rollout"),e}),n}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props.intl;return this.extractLinkSource(),S.a.createElement(Ls.Expander,{isLoading:!1,label:S.a.createElement(Ke.a,{appearance:"new"},S.a.createElement(L.a,Ks.feedbackCardLabel)),ariaLabel:e.formatMessage(Ks.feedbackCardAriaLabel),initialIsCollapsed:this.initialCardIsCollapsed(),onChange:this.onCardStatusChange},S.a.createElement(L.a,V()({},Ks.feedbackCardMessage,{values:{link:S.a.createElement("a",{href:this.props.optOutUrl,onClick:this.handleOptOutClick},S.a.createElement(L.a,Ks.feedbackCardOptOutLinkText))}})),S.a.createElement($s,null,S.a.createElement(Gs.a,{feedbackKey:this.getJiraIssueCollectorKey()})),S.a.createElement(L.a,V()({},Ks.feedbackCardDocumentationMessage,{values:{link:S.a.createElement("a",{href:"https://confluence.atlassian.com/x/190gOQ",target:"_blank"},S.a.createElement(L.a,Ks.feedbackCardDocumentationLinkText))}})))}}]),t}(C.PureComponent),Qs=Object(L.f)(Ys),Xs=Object(te.d)(ks.g,Object(i.c)(function(e){return{sourceRepo:Object(p.ab)(e),destRepo:Object(p.Q)(e),pullRequestId:Object(p.s)(e),numDiffFiles:Object(p.S)(e),numDiffLines:Object(p.T)(e),isBrowserMsie11:e.global.isBrowserMsie11,isMobileHeaderActive:Object(c.R)(e),isNewCodeReviewFeatureEnabledForUser:Object(P.g)(e),isNewCodeReviewFeatureEnabledForTeam:Object(P.h)(e)}}))(Qs),Zs=n("5ezd"),ec=n.n(Zs),tc=n("Ld6T"),nc=n.n(tc),rc=n("/ZN0"),oc=n.n(rc),ic=n("BGDq"),ac=n.n(ic),sc=Lt.colors.N40A,cc=Object(ke.a)("span",{target:"e10navn00"})({name:"in3yi3",styles:"font-weight:bold;"}),lc=Object(ke.a)("div",{target:"e10navn01"})("display:flex;align-items:center;padding:",Object(Dt.l)()/2,"px 0;"),uc=Object(ke.a)("div",{target:"e10navn02"})({name:"79elbk",styles:"position:relative;"}),dc=Object(ke.a)("span",{target:"e10navn03"})("background-color:",Lt.colors.G300,";border-radius:",Object(Dt.l)(),"px;height:",Object(Dt.l)(),"px;left:",3*Object(Dt.l)()+Object(Dt.l)()/2,"px;position:absolute;top:",Object(Dt.l)(),"px;width:",Object(Dt.l)(),"px;"),pc=Object(ke.a)("span",{target:"e10navn04"})("background-color:",Lt.colors.Y300,";border-radius:",Object(Dt.l)(),"px;height:",Object(Dt.l)(),"px;left:",3*Object(Dt.l)()+Object(Dt.l)()/2,"px;position:absolute;top:",Object(Dt.l)(),"px;width:",Object(Dt.l)(),"px;"),fc=Object(ke.a)("span",{target:"e10navn05"})("display:flex;margin-right:",Object(Dt.l)(),"px;"),hc=Object(ke.a)("img",{target:"e10navn06"})("margin:",2*Object(Dt.l)(),"px auto ",3*Object(Dt.l)(),"px auto;display:block;height:104px;"),mc=Object(ke.a)("p",{target:"e10navn07"})("padding:0 ",Object(Dt.l)()/2,"px;margin-bottom:",Dt.l,";text-align:left;"),gc=Object(ke.a)("p",{target:"e10navn08"})("margin-top:",2*Object(Dt.l)(),"px;text-align:center;border-top:1px solid ",sc,";padding:",Object(Dt.l)(),"px;"),vc=Object(L.e)({mergeCheckCount:{id:"frontbucket.repository.pullrequest.mergeChecklist.mergeCheckCount",defaultMessage:"{total, plural, =0 {0} other {{resolved} of {total}}}"},checksPassed:{id:"frontbucket.repository.pullrequest.mergeChecklist.checksPassed",defaultMessage:"{total, plural, one {check} other {checks}} passed"},zeroChecks:{id:"frontbucket.repository.pullrequest.mergeChecklist.zeroChecks",defaultMessage:"{formattedCount} checks"},errorHeading:{id:"frontbucket.repository.pullrequest.mergeChecklist.error.heading",defaultMessage:"Couldn't load contents"},errorAction:{id:"frontbucket.repository.pullrequest.mergeChecklist.error.action",defaultMessage:"Try again"},emptyStateMessageLineOne:{id:"frontbucket.repository.pullrequest.mergeChecklist.emptyStateMessageLineOne",defaultMessage:"It looks like you don't have merge checks set up yet."},emptyStateMessageLineTwo:{id:"frontbucket.repository.pullrequest.mergeChecklist.emptyStateMessageLineTwo",defaultMessage:"With merge checks, recommend or require that pull requests meet certain conditions before merging  for example, a specific number of approvals or passing builds."},emptyStateMessageLineThree:{id:"frontbucket.repository.pullrequest.mergeChecklist.emptyStateMessageLineThree",defaultMessage:"{branchPermissionsLink}"},emptyStateMessageLink:{id:"frontbucket.repository.pullrequest.mergeChecklist.emptyStateMessageLink",defaultMessage:"Set up merge checks"},workflowIconAltText:{id:"frontbucket.repository.pullrequest.mergeChecklist.workflowIconAltText",defaultMessage:"Simple workflow illustration"},greyIconAltText:{id:"frontbucket.repository.pullrequest.mergeChecklist.greyIconAltText",defaultMessage:"Grey icon"}}),bc=function(e){function t(){return h()(this,t),b()(this,w()(t).apply(this,arguments))}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props.repositoryFullSlug.split("/"),t=Vn()(e,2),n=t[0],r=t[1];return S.a.createElement(C.Fragment,null,S.a.createElement(hc,{alt:this.props.intl.formatMessage(vc.workflowIconAltText),src:ac.a}),S.a.createElement(mc,null,S.a.createElement(L.a,vc.emptyStateMessageLineOne)),S.a.createElement(mc,null,S.a.createElement(L.a,vc.emptyStateMessageLineTwo)),S.a.createElement(gc,null,S.a.createElement(L.a,V()({},vc.emptyStateMessageLineThree,{values:{branchPermissionsLink:S.a.createElement("a",{href:on.a.ui.branchPermissions(n,r)},S.a.createElement(L.a,vc.emptyStateMessageLink))}}))))}}]),t}(C.PureComponent),yc=Object(L.f)(bc),wc="merge.checklist.collapsed",Oc=function(e){function t(){var e,n;h()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=b()(this,(e=w()(t)).call.apply(e,[this].concat(o))),k()(D()(D()(n)),"onCardStatusChange",function(e){Is.a.set(wc,e.isCollapsed)}),k()(D()(D()(n)),"initialCardIsCollapsed",function(){return Is.a.get(wc,!1)}),n}return E()(t,e),g()(t,[{key:"countPassedMergeChecks",value:function(){return this.props.mergeCheckItems.filter(function(e){return e.pass}).length}},{key:"countFailedMergeChecks",value:function(){return this.props.mergeCheckItems.filter(function(e){return!e.pass}).length}},{key:"renderLabels",value:function(){var e=this.props,t=e.mergeCheckItems,n=e.intl;if(0===t.length){return{rich:S.a.createElement(L.a,V()({},vc.zeroChecks,{values:{formattedCount:S.a.createElement("strong",null,0)}})),plain:n.formatMessage(vc.zeroChecks,{formattedCount:0})}}var r=n.formatMessage(vc.mergeCheckCount,{resolved:this.countPassedMergeChecks(),total:t.length}),o=n.formatMessage(vc.checksPassed,{total:t.length});return{rich:S.a.createElement("div",null,S.a.createElement(cc,null,S.a.createElement(L.a,V()({},vc.mergeCheckCount,{values:{resolved:this.countPassedMergeChecks(),total:t.length}})))," ",S.a.createElement(L.a,V()({},vc.checksPassed,{values:{total:t.length}}))),plain:"".concat(r," ").concat(o)}}},{key:"renderExpanderChildren",value:function(){var e=this,t=this.props,n=t.mergeCheckItems,r=t.userLevel,o=t.repositoryFullSlug,i=t.mergeChecksError,a=t.retryFetchMergeChecks;return i?S.a.createElement(Z.b,{iconType:"warning",title:S.a.createElement(L.a,vc.errorHeading)},S.a.createElement(Ee.a,{appearance:"link",onClick:a},S.a.createElement(L.a,vc.errorAction))):0===n.length&&"admin"===r?S.a.createElement(yc,{repositoryFullSlug:o}):n.map(function(t){return t.pass?S.a.createElement(lc,null,S.a.createElement(fc,null,S.a.createElement(nc.a,{primaryColor:Lt.colors.G300,label:""})),t.label):S.a.createElement(lc,null,S.a.createElement(fc,null,S.a.createElement("img",{alt:e.props.intl.formatMessage(vc.greyIconAltText),src:oc.a})),t.label)})}},{key:"render",value:function(){var e=this.props,t=e.intl,n=e.isCollapsed,r=e.mergeCheckItems,o=e.isMergeChecklistLoading,i=this.renderLabels(),a=i.plain,s=i.rich,c=S.a.createElement(ec.a,{label:"Merge checks"});if(n)return S.a.createElement($e.a,{position:"left",content:a},S.a.createElement(Ee.a,{appearance:"subtle",iconBefore:S.a.createElement(uc,null,c," ",r.length>0&&(this.countFailedMergeChecks()>0?S.a.createElement(pc,{"aria-label":a}):S.a.createElement(dc,{"aria-label":a})))}));var l=this.props.isMergeable?S.a.createElement(nc.a,{primaryColor:Lt.colors.G300,label:""}):S.a.createElement("img",{alt:t.formatMessage(vc.greyIconAltText),src:oc.a});return S.a.createElement(Ls.Expander,{icon:c,label:s,initialIsCollapsed:this.initialCardIsCollapsed(),onChange:this.onCardStatusChange,ariaLabel:a,iconSecondary:l,isLoading:o,children:this.renderExpanderChildren()})}}]),t}(C.PureComponent),Ec=Object(L.f)(Oc),xc=Object(i.c)(function(e){return{mergeCheckItems:Object(p.V)(e),isMergeable:Object(p.U)(e),repositoryFullSlug:Object(c.w)(e),userLevel:Object(c.lb)(e),isMergeChecklistLoading:Object(p.X)(e),mergeChecksError:Object(p.W)(e)}},function(e){return{retryFetchMergeChecks:function(){return e({type:u.v})}}})(Ec),kc=n("HSct"),Cc=n("pMm4"),Sc=n("ZSU+"),jc=n.n(Sc),Tc=n("eK+7"),Mc=function(e){try{for(var t=(new DOMParser).parseFromString(e.html,"text/html").querySelectorAll("a"),n=Array.from(t),r=null,o=0;o<n.length;o++){var i=n[o];if("dvcs-connector-issue-key-linker"===i.getAttribute("data-module-key")){r=i.getAttribute("href");break}}return r}catch(e){return null}},_c=function(e,t){var n=e.split("/"),r=n[0],o=n[2],i="".concat(r,"//").concat(o),a=Object(Tc.i)(t);if(a){var s=a.find(function(e){return e.url===i});if(s)return{canJoin:void 0!==s,siteUrl:i,cloudId:s.cloudId,siteUsers:s.users,relevance:s.relevance}}return{canJoin:!1}},Ic=n("7czr"),Pc=Object(ke.a)("div",{target:"e1rpwwqv0"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),Ac=Object(ke.a)("div",{target:"e1rpwwqv1"})("display:flex;flex-direction:column;background-color:",Lt.colors.N30A,";border-radius:",Object(Dt.f)(),"px;margin:0 ",1.5*Object(Dt.l)(),"px;padding:",1.5*Object(Dt.l)(),"px;"),Nc=Object(ke.a)("div",{target:"e1rpwwqv2"})({name:"17fo2je",styles:"display:flex;flex-direction:row;flex:1;"}),Rc=Object(ke.a)("div",{target:"e1rpwwqv3"})({name:"1sx9waq",styles:"display:flex;overflow-x:hidden;flex-direction:column;flex:1;"}),Dc=Object(ke.a)("h5",{target:"e1rpwwqv4"})("padding:0 ",Object(Dt.l)()/2,"px;display:flex;justify-content:space-between;"),Lc=Object(ke.a)("span",{target:"e1rpwwqv5"})("display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:left;padding:0 ",Object(Dt.l)()/2,"px;font-size:",1.5*Object(Dt.l)(),"px;color:",Lt.colors.N90A,";"),zc=Object(ke.a)("div",{target:"e1rpwwqv6"})("display:flex;background-color:white;border-radius:",Object(Dt.f)(),"px;flex-direction:column;margin-top:",Object(Dt.l)(),"px;padding:",1.5*Object(Dt.l)(),"px;min-height:",13.75*Object(Dt.l)(),"px;justify-content:space-between;"),Bc=Object(ke.a)("span",{target:"e1rpwwqv7"})("padding:0 ",Object(Dt.l)()/2,"px;font-size:14px;margin:0;text-align:left;max-width:",18.75*Object(Dt.l)(),"px;"),Fc=Object(ke.a)("span",{target:"e1rpwwqv8"})("display:flex;margin-right:",Object(Dt.l)(),"px;align-items:flex-start;margin-top:",Object(Dt.l)()/2,"px;"),qc=Object(ke.a)("div",{target:"e1rpwwqv9"})("display:flex;margin-top:",Object(Dt.l)(),"px;justify-content:space-between;flex-wrap:wrap;"),Wc=Object(ke.a)("div",{target:"e1rpwwqv10"})({name:"1nylpq2",styles:"display:flex;align-items:flex-end;"}),Uc=Object(ke.a)("div",{target:"e1rpwwqv11"})({name:"1xhj18k",styles:"display:flex;flex-direction:row;"}),Hc=Object(ke.a)("div",{target:"e1rpwwqv12"})({name:"j7qwjs",styles:"display:flex;flex-direction:column;"}),Vc=Object(ke.a)(Ee.a,{target:"e1rpwwqv13"})("margin-left:auto;margin-top:",Object(Dt.l)(),"px;"),Gc=n("4GLz"),Kc=n.n(Gc),$c="join.jira.card.closed",Jc=function(e){function t(){var e,n;h()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=b()(this,(e=w()(t)).call.apply(e,[this].concat(o))),k()(D()(D()(n)),"state",{canJoin:!1,siteUrl:"",cloudId:""}),k()(D()(D()(n)),"checkIfShouldShow",function(){var e=!!window.MSInputMethodContext&&!!document.documentMode,t=[],r=n.props.isGrowthJoinableSitesCalculationEnabled&&n.props.hasJiraContextualViewFeature,o=!1,i=null;try{if(r){e&&t.push("IE_11"),(Is.a.get($c)||[]).includes(n.props.pullRequest.id)&&t.push("USER_OPTED_OUT"),n.props.currentUser||t.push("NO_USER"),"en"!==Ic.a.locale&&t.push("NOT_ENGLISH");var a=Mc(n.props.pullRequest.rendered.title);if(a||t.push("NO_JIRA_ISSUE"),a&&0===t.length){var s=_c(a,n.props.currentUser.uuid),c=s.siteUrl,l=s.siteUsers,u=s.canJoin,d=s.cloudId,p=s.relevance;u?(n.setState({siteUrl:c,cloudId:d,siteUsers:l,relevance:p,canJoin:u}),o=!0):t.push("NO_JOINABLE_SITE")}}}catch(e){i=e,Gn.captureException(e),t.push("ERROR")}finally{Object(I.e)({source:"pullRequestSidebarComponent",action:"exposed",actionSubject:"experiment",actionSubjectId:"pullRequestJiraContextualView",attributes:{pullRequestId:n.props.pullRequest.id,initialEnrolled:r,enrolled:o,reasons:t,error:i?i.message:null}})}}),k()(D()(D()(n)),"onJoinSiteClick",function(){var e=n.state.siteUrl,t=window.open(e,"_blank");null!=t&&t.focus(),Object(I.f)({action:"clicked",actionSubject:"button",actionSubjectId:"joinButton",source:"pullRequestJiraContextualView",attributes:{cloudId:n.state.cloudId,product:"jira-software",relevance:n.state.relevance}})}),k()(D()(D()(n)),"onCloseClick",function(){Object(I.f)({action:"clicked",actionSubject:"button",actionSubjectId:"closeButton",source:"pullRequestJiraContextualView",attributes:{cloudId:n.state.cloudId,product:"jira-software",relevance:n.state.relevance}});var e=Is.a.get($c)||[];e.push(n.props.pullRequest.id),Is.a.set($c,e),n.setState({canJoin:!1})}),k()(D()(D()(n)),"transformAvatar",function(e,t){return{appearance:"circle",key:t,name:e.displayName,src:e.avatarUrl}}),n}return E()(t,e),g()(t,[{key:"componentDidMount",value:function(){this.checkIfShouldShow()}},{key:"render",value:function(){var e=this.state,t=e.canJoin,n=e.siteUrl;if(!t)return null;var r=n.split("//")[1],o=this.state.siteUsers?this.state.siteUsers.map(this.transformAvatar):[],i=S.a.createElement(jc.a,{label:"Close",size:"small"});return S.a.createElement(Ac,null,S.a.createElement(Nc,null,S.a.createElement(Pc,null,S.a.createElement(kc.a,{size:"small",iconColor:Lt.colors.B300})),S.a.createElement(Rc,null,S.a.createElement(Dc,null,S.a.createElement("span",null,"Jira"),S.a.createElement($e.a,{content:"Dismiss"},S.a.createElement(Ee.a,{id:"close-button",spacing:"none",appearance:"subtle",iconBefore:i,onClick:this.onCloseClick}))),S.a.createElement(Lc,null,r))),S.a.createElement(zc,null,S.a.createElement(Uc,null,S.a.createElement(Fc,null,S.a.createElement("img",{alt:"Task Icon",src:Kc.a})),S.a.createElement(Hc,null,S.a.createElement(Bc,null,"This work is tracked in ",S.a.createElement("strong",null,"Jira.")))),S.a.createElement(qc,null,S.a.createElement(Wc,null,S.a.createElement(Cc.a,{data:o,size:"medium",maxCount:3})),S.a.createElement(Vc,{id:"join-button",appearance:"primary",onClick:this.onJoinSiteClick},"Join site"))))}}]),t}(C.PureComponent),Yc=Object(i.c)(function(e){return{isGrowthJoinableSitesCalculationEnabled:e.global.features["growth-joinable-sites-calculation"]||!1,hasJiraContextualViewFeature:e.global.features["new-code-review-jira-contextual-view"]||!1,pullRequest:Object(c.p)(e),currentUser:Object(c.E)(e)}})(Jc),Qc=n("Bx2R"),Xc=n.n(Qc),Zc=n("/Obn"),el=Object(ke.a)("div",{target:"e10wrc950"})("display:flex;padding:",Object(Dt.l)(),"px 0;"),tl=Object(ke.a)("div",{target:"e10wrc951"})("align-self:flex-start;flex:0 0 25px;margin-right:",Object(Dt.l)(),"px;"),nl=Object(ke.a)("div",{target:"e10wrc952"})({name:"14pgqdn",styles:"flex-flow:column;"}),rl=Object(ke.a)("small",{target:"e10wrc953"})("a{color:",Lt.colors.N200,";}a:hover,a:focus{color:",Lt.colors.B400,";}"),ol=function(e){function t(){return h()(this,t),b()(this,w()(t).apply(this,arguments))}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.actor,n=e.children,r=e.date,o=e.renderActorAvatar,i=e.renderActorName;return S.a.createElement(el,{"data-qa":"pull-request-activity"},S.a.createElement(tl,null,o(t,{size:"small"})),S.a.createElement(nl,{"data-qa":"pull-request-activity-content"},S.a.createElement("div",null,n),S.a.createElement(rl,null,i(t),"  ",S.a.createElement(Ur.a,{date:r}))))}}]),t}(C.Component);k()(ol,"defaultProps",{renderActorAvatar:function(e,t){return e?S.a.createElement(fn.f,V()({},t,{user:e})):S.a.createElement(fn.a,t)},renderActorName:function(e){return e?S.a.createElement(fn.g,{user:e}):S.a.createElement(fn.b,null)}});n("jtNK");var il=n("43H1"),al=n("4Toj"),sl=n.n(al),cl=Object(ke.a)("span",{target:"e1q45eq50"})("font-family:",Object(Dt.g)(),";"),ll=Object(ke.a)("span",{target:"e1q45eq51"})("margin:0 0 0 ",Object(Dt.l)()/2,"px;"),ul=Object(ke.a)("span",{target:"e1q45eq52"})("margin-left:",Object(Dt.l)()/2,"px;"),dl=Object(ke.a)("span",{target:"e1q45eq53"})({name:"4jky3p",styles:"text-decoration:line-through;"}),pl=Object(ke.a)("blockquote",{target:"e1q45eq54"})("color:",Lt.colors.N200,";padding-left:",Object(Dt.l)(),"px;margin:",Object(Dt.l)()/2,"px 0;border-left:",Object(Dt.l)()/4,"px solid ",Lt.colors.N40,";&::before,&::after{content:none;}"),fl=Object(L.e)({approvedEventMessage:{id:"frontbucket.repository.pullRequest.pullRequestActivityEvents.approvedEventMessage",defaultMessage:"the pull request"},commentEventMessage:{id:"frontbucket.repository.pullRequest.pullRequestActivityEvents.commentEventMessage",defaultMessage:"Commented on"},updateEventMessage:{id:"frontbucket.repository.pullRequest.pullRequestActivityEvents.updateEventMessage",defaultMessage:"the pull request. The last commit was"},updateStatusMessage:{id:"frontbucket.repository.pullRequest.pullRequestActivityEvents.mergedEventMessage",defaultMessage:"the pull request"},appovedEventLozenge:{id:"frontbucket.repository.pullRequest.pullRequestActivityEvents.approvedEventLozenge",defaultMessage:"APPROVED"},declinedEventLozenge:{id:"frontbucket.repository.pullRequest.pullRequestActivityEvents.declinedEventLozenge",defaultMessage:"DECLINED"},updatedEventLozenge:{id:"frontbucket.repository.pullRequest.pullRequestActivityEvents.updatedEventLozenge",defaultMessage:"UPDATED"},openedEventLozenge:{id:"frontbucket.repository.pullRequest.pullRequestActivityEvents.openedEventLozenge",defaultMessage:"OPENED"},mergedEventLozenge:{id:"frontbucket.repository.pullRequest.pullRequestActivityEvents.mergedEventLozenge",defaultMessage:"MERGED"},pullRequestContextMessage:{id:"frontbucket.repository.pullRequest.pullRequestActivityEvents.globalCommentContextMessage",defaultMessage:"the pull request"},fileRemoved:{id:"frontbucket.repository.pullRequest.pullRequestActivity.fileRemoved",defaultMessage:"file removed"}}),hl={OPEN:"inprogress",MERGED:"success",DECLINED:"removed"},ml=function(e){function t(){var e,n;h()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=b()(this,(e=w()(t)).call.apply(e,[this].concat(o))),k()(D()(D()(n)),"handleClickOnActivityEventCommitHash",function(){var e=n.props,t=e.repositoryUUID,r=e.pullRequestId;Object(I.f)({action:"clicked",actionSubject:"link",actionSubjectId:"pullRequestActivityFeedEvent",source:"pullRequestScreen",objectType:"pullRequest",objectId:"".concat(t,"/").concat(r),containerType:"repository",containerId:"".concat(t),attributes:{eventType:"update"}})}),n}return E()(t,e),g()(t,[{key:"renderStatusEvent",value:function(e){var t,n=this.props.currentPullRequestStatus;return n&&(t=S.a.createElement(C.Fragment,null,S.a.createElement(Ke.a,{isBold:!0,appearance:hl[n]},e),S.a.createElement(ll,null,S.a.createElement(L.a,fl.updateStatusMessage)))),t}},{key:"renderGenericUpdateEvent",value:function(){var e=this.props,t=e.commitHash,n=e.commitUrl;return S.a.createElement(C.Fragment,null,S.a.createElement(Ke.a,{appearance:"moved"},S.a.createElement(L.a,fl.updatedEventLozenge)),S.a.createElement(ll,null,S.a.createElement(L.a,fl.updateEventMessage))," ",S.a.createElement(cl,null,S.a.createElement("a",{href:n,onClick:this.handleClickOnActivityEventCommitHash},t)))}},{key:"render",value:function(){var e,t=this.props,n=t.date,r=t.intl,o=t.currentPullRequestCreatedOnDate,i=t.currentPullRequestStatus;return o&&sl()(n,o)<1e-4?e=this.renderStatusEvent(r.formatMessage(fl.openedEventLozenge)):"DECLINED"===i?e=this.renderStatusEvent(r.formatMessage(fl.declinedEventLozenge)):"MERGED"===i&&(e=this.renderStatusEvent(r.formatMessage(fl.mergedEventLozenge))),e||this.renderGenericUpdateEvent()}}]),t}(C.PureComponent),gl=Object(L.f)(ml),vl=Object(i.c)(function(e){return{currentPullRequestCreatedOnDate:Object(p.q)(e),pullRequestId:Object(c.s)(e),repositoryUUID:Object(c.D)(e)}})(gl),bl=function(e){function t(){return h()(this,t),b()(this,w()(t).apply(this,arguments))}return E()(t,e),g()(t,[{key:"render",value:function(){return S.a.createElement(C.Fragment,null,S.a.createElement(Ke.a,{appearance:"success"},S.a.createElement(L.a,fl.appovedEventLozenge)),S.a.createElement(ll,null,S.a.createElement(L.a,fl.approvedEventMessage)))}}]),t}(C.PureComponent),yl={onPermalinkHashChange:u.kb},wl=Object(i.c)(function(e,t){var n="comment-".concat(t.comment.commentId);return{permalink:n,pullRequestId:Object(c.s)(e),repositoryUUID:Object(c.D)(e),hasFile:Object(N.n)(e,n)}},yl)(function(e){var t,n=e.repositoryUUID,r=e.pullRequestId,o=e.permalink,i=e.hasFile,a=e.comment,s=e.onPermalinkHashChange,c=S.a.useCallback(function(e){var t=Object(q.g)();Object(I.f)({action:"clicked",actionSubject:"link",actionSubjectId:"pullRequestActivityFeedEvent",source:"pullRequestScreen",objectType:"pullRequest",objectId:"".concat(n,"/").concat(r),containerId:"".concat(n),containerType:"repository",attributes:{eventType:"comment"}}),o===t&&(e.preventDefault(),s&&s(o))},[o,s,n,r]),l=a.inline?a.inline.path:"";a.inline&&a.inline.to?t=":".concat(a.inline.to):a.inline&&a.inline.from&&null===a.inline.to?t=":".concat(a.inline.from):(a.inline&&a.inline.to,t="");var u=i||!l,d=""===l?S.a.createElement(L.a,fl.pullRequestContextMessage):"".concat(l).concat(t);return S.a.createElement(C.Fragment,null,S.a.createElement(L.a,fl.commentEventMessage),S.a.createElement(ul,null,S.a.createElement("a",{href:"#".concat(o),onClick:c},u?d:S.a.createElement("span",null,S.a.createElement(dl,null,d)," [",S.a.createElement(L.a,fl.fileRemoved),"]"))),S.a.createElement(pl,null,a.commentSnippet))}),Ol=Object(ke.a)("div",{target:"e1r348bs0"})("padding-bottom:",Object(Dt.l)()/2,"px;padding-top:",Object(Dt.l)(),"px;text-align:center;"),El=Object(ke.a)("div",{target:"e1r348bs1"})({name:"xi606m",styles:"text-align:center;"}),xl=Object(L.e)({loadMore:{id:"frontbucket.repository.pullRequest.pullRequestActivity.loadMore",defaultMessage:"Load more"},activityErrorHeading:{id:"frontbucket.repository.pullRequest.activity.errorHeading",defaultMessage:"Couldn't load activity"},activityErrorAction:{id:"frontbucket.repository.pullRequest.activity.errorAction",defaultMessage:"Try again"}});var kl=function(e){function t(){var e,n;h()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=b()(this,(e=w()(t)).call.apply(e,[this].concat(o))),k()(D()(D()(n)),"renderActorAvatar",function(e,t){return S.a.createElement(Wr.a,V()({},t,{profileCardPosition:"left-start",user:e}))}),k()(D()(D()(n)),"renderActorName",function(e){return S.a.createElement(il.a,{profileCardPosition:"left-start",user:e})}),n}return E()(t,e),g()(t,[{key:"renderActivityContent",value:function(e){if("approval"===e.eventType)return S.a.createElement(bl,null);if(function(e){return"comment"===e.eventType}(e))return S.a.createElement(wl,{comment:e});if(function(e){return"update"===e.eventType}(e)){var t=e.commitHash,n=e.commitUrl,r=e.currentPullRequestStatus,o=e.date;return S.a.createElement(vl,{commitHash:t,commitUrl:n,currentPullRequestStatus:r,date:o})}return null}},{key:"renderLoadingState",value:function(){return S.a.createElement(El,null,S.a.createElement(j.a,{size:"small",delay:0}))}},{key:"renderFooter",value:function(){var e=this.props,t=e.hasMore,n=e.hasError,r=e.fetchMore,o=e.retryFetchActivity,i=e.isNewActivityFeedEnabled;return n?S.a.createElement(Z.b,{iconType:"warning",title:S.a.createElement(L.a,xl.activityErrorHeading),messageType:"activity"},S.a.createElement(Ee.a,{appearance:"link",onClick:o},S.a.createElement(L.a,xl.activityErrorAction))):!i&&t?S.a.createElement(Ol,null,S.a.createElement(Ee.a,{onClick:r,appearance:"subtle"},S.a.createElement(L.a,xl.loadMore))):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.activityEvents,r=t.isLoading;return S.a.createElement("div",{"data-qa":"pr-activity"},n.map(function(t){var n=t.actor,r=t.date,o=t.eventType;return S.a.createElement(ol,{actor:n||void 0,date:r,key:"".concat(r," ").concat(o),renderActorAvatar:e.renderActorAvatar,renderActorName:e.renderActorName},e.renderActivityContent(t))}),r?this.renderLoadingState():this.renderFooter())}}]),t}(C.Component),Cl=Object(i.c)(function(e){var t=Object(p.j)(e),n=Object(p.k)(e),r=Object(p.m)(e),o=Object(P.f)(e);return{activityEvents:t,hasError:n,hasMore:Object(p.l)(e),isLoading:r,isNewActivityFeedEnabled:o}},function(e){return{retryFetchActivity:function(){return e({type:Zc.a.REQUEST})},fetchMore:function(){return e({type:Zc.b})}}})(kl),Sl=Object(L.e)({activityCardLabel:{id:"frontbucket.repository.pullRequest.activityCardLabel",defaultMessage:"Activity"}}),jl="activity.card.collapsed",Tl=function(e){function t(){var e,n;h()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=b()(this,(e=w()(t)).call.apply(e,[this].concat(o))),k()(D()(D()(n)),"onCardStatusChange",function(e){Is.a.set(jl,e.isCollapsed)}),k()(D()(D()(n)),"initialCardIsCollapsed",function(){return Is.a.get(jl,!1)}),n}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.isCollapsed,n=e.intl,r=n.formatMessage(Sl.activityCardLabel),o=S.a.createElement(Xc.a,{label:r});return t?S.a.createElement($e.a,{position:"left",content:r},S.a.createElement(Ee.a,{appearance:"subtle",iconBefore:o})):S.a.createElement("div",{"data-qa":"pr-activity-card"},S.a.createElement(Ls.Expander,{icon:o,label:r,ariaLabel:n.formatMessage(Sl.activityCardLabel),initialIsCollapsed:this.initialCardIsCollapsed(),onChange:this.onCardStatusChange},S.a.createElement(Cl,null)))}}]),t}(C.Component);k()(Tl,"defaultProps",{isCollapsed:!1});var Ml=Object(L.f)(Tl),_l=function(e){function t(){var e,n;h()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=b()(this,(e=w()(t)).call.apply(e,[this].concat(o))),k()(D()(D()(n)),"onBuildsLoaded",function(e){n.props.updateBuilds(e)}),n}return E()(t,e),g()(t,[{key:"render",value:function(){var e=[],t=[],n=this.props,r=n.pullRequestInStateMatchesRoute,o=n.pullRequest,i=n.repository,a=n.builds;if(r&&i&&o){var s=i.full_name.split("/"),c=Vn()(s,2),u=c[0],d=c[1],p=o.id,f=l.a.api.v20.statusesFetch(u,d,p),h=Re.a.api.internal.repositoryMetadataURL(i.full_name);e.push(S.a.createElement(Yc,null)),this.props.hasMergeChecklistFeature&&(e.push(S.a.createElement(xc,null)),t.push(S.a.createElement(xc,{isCollapsed:!0}))),t.push(S.a.createElement(Ts.a,{builds:a,buildStatusURL:f,repositoryMetadataURL:h,isCollapsed:!0,updatesFavicon:!0})),e.push(S.a.createElement(Ts.a,{buildStatusURL:f,repositoryMetadataURL:h,onBuildsLoaded:this.onBuildsLoaded,updatesFavicon:!0})),e.push(S.a.createElement(Ns,null)),t.push(S.a.createElement(Ns,{isCollapsed:!0})),this.props.hasTasksFeature&&(e.push(S.a.createElement(Us,null)),t.push(S.a.createElement(Us,{isSidebarCollapsed:!0,shouldRepressFetch:!0}))),t.push(S.a.createElement(Cs.a,{isCollapsed:!0})),e.push(S.a.createElement(Cs.a,null))}return e.push(S.a.createElement(Ml,null)),t.push(S.a.createElement(Ml,{isCollapsed:!0})),e.push(S.a.createElement(Xs,{optOutUrl:this.props.oldPullRequestUrl})),S.a.createElement(js.a,{sidebarType:"code-review",toggleSidebar:this.props.toggleSidebar},S.a.createElement(Ss.a,{expandedWidth:this.props.expandedWidth,collapsedContent:t,expandedContent:e,isCollapsed:!!this.props.isCollapsed,onResize:this.props.onResize}))}}]),t}(C.PureComponent),Il=Object(te.d)(ks.g,Object(i.c)(function(e,t){var n=t.match,r=n.params,o=r.repositoryOwner,i=r.repositorySlug,a=r.pullRequestId;return{oldPullRequestUrl:l.a.ui.oldpullrequest(o||"",i||"",parseInt(a,10)),pullRequestInStateMatchesRoute:Object(p.E)(e,n.params),expandedWidth:Object(Rr.b)(e),isCollapsed:!Object(c.R)(e)&&!Object(Rr.e)(e),pullRequest:Object(c.p)(e),repository:Object(c.v)(e),hasTasksFeature:e.global.features["new-code-review-tasks"],hasMergeChecklistFeature:e.global.features["new-code-review-merge-checklist"],builds:Object(c.q)(e)}},function(e){return{onResize:function(t){return e(Object(Rr.j)({isOpen:!t.isCollapsed,width:t.width,sidebarType:"code-review"}))},toggleSidebar:function(){return e(Object(Rr.j)({sidebarType:"code-review"}))},updateBuilds:function(t){return e(Object(u.qb)(t))}}}))(_l),Pl=n("kW52"),Al=Object(L.e)({Msie11WarningBanner:{id:"frontbucket.repository.pullRequest.Msie11WarningBanner",defaultMessage:"You may run into some issues using the new pull request view in Internet Explorer 11. We're aware of these issues and are working to fix them."},Msie11WarningLinkLabel:{id:"frontbucket.repository.pullRequest.Msie11WarningLinkLabel",defaultMessage:"Open in old view"}}),Nl=S.a.createElement(ra.a,{label:"Warning icon",secondaryColor:"inherit"}),Rl=function(e){function t(){return h()(this,t),b()(this,w()(t).apply(this,arguments))}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.url,n=e.isOpen,r=void 0===n||n;return S.a.createElement(Pl.a,{icon:Nl,isOpen:r,appearance:"warning"},S.a.createElement(L.a,Al.Msie11WarningBanner)," ",S.a.createElement("a",{href:t},S.a.createElement(L.a,Al.Msie11WarningLinkLabel)))}}]),t}(C.PureComponent),Dl=function(e){function t(){return h()(this,t),b()(this,w()(t).apply(this,arguments))}return E()(t,e),g()(t,[{key:"componentDidMount",value:function(){this.props.dispatchEnteredCodeReview(),this.init()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.pullRequestStateReady,n=e.dispatchEnteredCodeReview;t||n(),this.init()}},{key:"componentWillUnmount",value:function(){this.props.onExitPage()}},{key:"init",value:function(){this.props.pullRequestStateReady&&this.publishPullRequestOpenedEvent()}},{key:"publishPullRequestOpenedEvent",value:function(){Object(I.d)(t.screenName),Object(I.a)(new ue.a("bitbucket.pullrequests.open",this.props.factProperties))}},{key:"render",value:function(){var e=this.props,t=e.isBrowserMsie11,n=e.oldPullRequestUrl,r=e.pullRequestStateReady;return S.a.createElement(M.a,null,S.a.createElement(xs,null),t&&n&&S.a.createElement(Rl,{url:n,isOpen:!0}),r?S.a.createElement(vs,null):S.a.createElement(_.a,null,S.a.createElement(j.a,{size:"large"})),S.a.createElement(T.d,null,S.a.createElement(Il,null)))}}]),t}(C.PureComponent);k()(Dl,"screenName","pullRequestScreen"),n.d(t,"mapStateToProps",function(){return Ll}),n.d(t,"mergeProps",function(){return zl});function Ll(e,t){var n=Object(d.b)(t.match.params),r=Object(p.E)(e,t.match.params),o=n.owner,i=n.slug,u=n.id,f=u?l.a.ui.oldpullrequest(o,i,u):l.a.ui.pullrequests(o,i),h=Object(c.p)(e),m=Object(a.a)(h,"destination.repository.uuid",""),g=Object(a.a)(h,"destination.repository.owner.uuid",""),v=Object(a.a)(h,"source.repository.uuid","");return{factProperties:{to_repository_uuid:Object(s.uncurlyUuid)(m),to_repository_owner_uuid:g?Object(s.uncurlyUuid)(g):void 0,from_repository_uuid:Object(s.uncurlyUuid)(v),pull_request_id:u},isBrowserMsie11:e.global.isBrowserMsie11,oldPullRequestUrl:f,pullRequestStateReady:r}}function zl(e,t,n){var r=t.dispatch,i=Object(d.b)(n.match.params);return o()({},e,t,n,{dispatchEnteredCodeReview:function(){return r(o()({type:u.k},i))}})}var Bl=Object(i.c)(Ll,function(e){return{dispatch:e,onExitPage:function(){return e({type:u.l})}}},zl,{areOwnPropsEqual:function(e,t){var n=e.match,r=t.match;return Object(d.a)(Object(d.b)(n.params),Object(d.b)(r.params))},areStatePropsEqual:function(e,t){return t.pullRequestStateReady===e.pullRequestStateReady}})(Dl);t.default=Bl},tifx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("x6Rn");Object.defineProperty(t,"CaseSensitiveSanitizer",{enumerable:!0,get:function(){return r.CaseSensitiveSanitizer}});var o=n("qcjj");Object.defineProperty(t,"LowerCaseSanitizer",{enumerable:!0,get:function(){return o.LowerCaseSanitizer}})},ttsx:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s});var r,o=function(e){return new Promise(function(t,n){var r=new Image;r.addEventListener("load",function(){t({width:r.naturalWidth,height:r.naturalHeight})}),r.addEventListener("error",n),r.src=e})},i=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t({src:r.src})},r.onerror=function(){return n()},r.src=e})},a=function(e){return e&&e.size>1048576},s=function(){return(void 0!==r?Promise.resolve(r):new Promise(function(e){var t=new Image,n=function(){r=2===t.height,e(r)};t.addEventListener("load",n),t.addEventListener("error",n),t.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA"})).then(function(e){return e?"image/webp,image/*,*/*;q=0.8":"image/*,*/*;q=0.8"})}},txyx:function(e,t,n){"use strict";var r=n("284h"),o=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.size=t.default=t.IconWrapper=void 0;var i=o(n("lSNA")),a=o(n("lwsE")),s=o(n("W8MJ")),c=o(n("a1gu")),l=o(n("Nsbk")),u=o(n("7W2i")),d=r(n("q1tI")),p=o(n("vOnD")),f=o(n("EcEN")),h=n("b0Qh"),m=n("E7QR"),g=function(e){return e.size?"height: ".concat(m.sizes[e.size],"; width: ").concat(m.sizes[e.size],";"):null},v=p.default.span.withConfig({displayName:"Icon__IconWrapper",componentId:"dyhwwi-0"})(["\n  "," color: ",";\n  display: inline-block;\n  fill: ",";\n  flex-shrink: 0;\n  line-height: 1;\n\n  > svg {\n    "," max-height: 100%;\n    max-width: 100%;\n    overflow: hidden;\n    pointer-events: none;\n    vertical-align: bottom;\n  }\n  /* Stop-color doesn't properly apply in chrome when the inherited/current color changes.\n   * We have to initially set stop-color to inherit (either via DOM attribute or an initial CSS\n   * rule) and then override it with currentColor for the color changes to be picked up.\n   */\n  stop {\n    stop-color: currentColor;\n  }\n"],g,function(e){return e.primaryColor||"currentColor"},function(e){return e.secondaryColor||h.colors.background},g);t.IconWrapper=v;var b=function(e){function t(){return(0,a.default)(this,t),(0,c.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,n=e.glyph,r=e.dangerouslySetGlyph,o=e.primaryColor,i=e.secondaryColor,a=e.size;return r?d.default.createElement(v,{primaryColor:o,secondaryColor:i,size:a,"aria-label":this.props.label,dangerouslySetInnerHTML:{__html:t.insertDynamicGradientID(r)}}):d.default.createElement(v,{primaryColor:o,secondaryColor:i,size:a,"aria-label":this.props.label},n?d.default.createElement(n,{role:"presentation"}):null)}}],[{key:"insertDynamicGradientID",value:function(e){var t=(0,f.default)();return e.replace(/id="([^"]+)-idPlaceholder"/g,"id=$1-".concat(t)).replace(/fill="url\(#([^"]+)-idPlaceholder\)"/g,'fill="url(#$1-'.concat(t,')"'))}}]),t}(d.Component);t.default=b;var y=Object.keys(m.sizes).reduce(function(e,t){return Object.assign(e,(0,i.default)({},t,t))},{});t.size=y},"uB+j":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.PrefixIndexStrategy=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"expandToken",value:function(e){for(var t=[],n="",r=0,o=e.length;r<o;++r)n+=e.charAt(r),t.push(n);return t}}]),e}()},uR0y:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M12 14a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm-4.5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm9 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorMoreIcon";var c=s;t.default=c},uSMm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("byeC"),o=65535,i=Math.pow(2,16);function a(e){return e&o}var s=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=null),this.pos=e,this.deleted=t,this.recover=n},c=function(e,t){void 0===t&&(t=!1),this.ranges=e,this.inverted=t};c.prototype.recover=function(e){var t=0,n=a(e);if(!this.inverted)for(var r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+function(e){return(e-(e&o))/i}(e)},c.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},c.prototype.map=function(e,t){return void 0===t&&(t=1),this._map(e,t,!0)},c.prototype._map=function(e,t,n){for(var r=0,o=this.inverted?2:1,a=this.inverted?1:2,c=0;c<this.ranges.length;c+=3){var l=this.ranges[c]-(this.inverted?r:0);if(l>e)break;var u=this.ranges[c+o],d=this.ranges[c+a],p=l+u;if(e<=p){var f=l+r+((u?e==l?-1:e==p?1:t:t)<0?0:d);if(n)return f;var h=c/3+(e-l)*i;return new s(f,t<0?e!=l:e!=p,h)}r+=d-u}return n?e+r:new s(e+r)},c.prototype.touches=function(e,t){for(var n=0,r=a(t),o=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var c=this.ranges[s]-(this.inverted?n:0);if(c>e)break;var l=this.ranges[s+o];if(e<=c+l&&s==3*r)return!0;n+=this.ranges[s+i]-l}return!1},c.prototype.forEach=function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],a=i-(this.inverted?o:0),s=i+(this.inverted?0:o),c=this.ranges[r+t],l=this.ranges[r+n];e(a,a+c,s,s+l),o+=l-c}},c.prototype.invert=function(){return new c(this.ranges,!this.inverted)},c.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},c.offset=function(e){return 0==e?c.empty:new c(e<0?[0,-e,0]:[0,0,e])},c.empty=new c([]);var l=function(e,t,n,r){this.maps=e||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=t};function u(e){var t=Error.call(this,e);return t.__proto__=u.prototype,t}l.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.maps.length),new l(this.maps,this.mirror,e,t)},l.prototype.copy=function(){return new l(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},l.prototype.appendMap=function(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)},l.prototype.appendMapping=function(e){for(var t=0,n=this.maps.length;t<e.maps.length;t++){var r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:null)}},l.prototype.getMirror=function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]},l.prototype.setMirror=function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)},l.prototype.appendMappingInverted=function(e){for(var t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){var r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:null)}},l.prototype.invert=function(){var e=new l;return e.appendMappingInverted(this),e},l.prototype.map=function(e,t){if(void 0===t&&(t=1),this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e},l.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},l.prototype._map=function(e,t,n){for(var r=!1,o=null,i=this.from;i<this.to;i++){var a=this.maps[i],c=o&&o[i];if(null!=c&&a.touches(e,c))e=a.recover(c);else{var l=a.mapResult(e,t);if(null!=l.recover){var u=this.getMirror(i);if(null!=u&&u>i&&u<this.to){if(l.deleted){i=u,e=this.maps[u].recover(l.recover);continue}(o||(o=Object.create(null)))[u]=l.recover}}l.deleted&&(r=!0),e=l.pos}}return n?e:new s(e,r)},u.prototype=Object.create(Error.prototype),u.prototype.constructor=u,u.prototype.name="TransformError";var d=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new l},p={before:{},docChanged:{}};function f(){throw new Error("Override me")}p.before.get=function(){return this.docs.length?this.docs[0]:this.doc},d.prototype.step=function(e){var t=this.maybeStep(e);if(t.failed)throw new u(t.failed);return this},d.prototype.maybeStep=function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t},p.docChanged.get=function(){return this.steps.length>0},d.prototype.addStep=function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t},Object.defineProperties(d.prototype,p);var h=Object.create(null),m=function(){};m.prototype.apply=function(e){return f()},m.prototype.getMap=function(){return c.empty},m.prototype.invert=function(e){return f()},m.prototype.map=function(e){return f()},m.prototype.merge=function(e){return null},m.prototype.toJSON=function(){return f()},m.fromJSON=function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=h[t.stepType];if(!n)throw new RangeError("No step type "+t.stepType+" defined");return n.fromJSON(e,t)},m.jsonID=function(e,t){if(e in h)throw new RangeError("Duplicate use of step JSON ID "+e);return h[e]=t,t.prototype.jsonID=e,t};var g=function(e,t){this.doc=e,this.failed=t};g.ok=function(e){return new g(e,null)},g.fail=function(e){return new g(null,e)},g.fromReplace=function(e,t,n,o){try{return g.ok(e.replace(t,n,o))}catch(e){if(e instanceof r.ReplaceError)return g.fail(e.message);throw e}};var v=function(e){function t(t,n,r,o){e.call(this),this.from=t,this.to=n,this.slice=r,this.structure=!!o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){return this.structure&&y(e,this.from,this.to)?g.fail("Structure replace would overwrite content"):g.fromReplace(e,this.from,this.to,this.slice)},t.prototype.getMap=function(){return new c([this.from,this.to-this.from,this.slice.size])},t.prototype.invert=function(e){return new t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new t(n.pos,Math.max(n.pos,r.pos),this.slice)},t.prototype.merge=function(e){if(!(e instanceof t)||e.structure!=this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;var n=this.slice.size+e.slice.size==0?r.Slice.empty:new r.Slice(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new t(e.from,this.to,n,this.structure)}var o=this.slice.size+e.slice.size==0?r.Slice.empty:new r.Slice(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new t(this.from,this.to+(e.to-e.from),o,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(n.from,n.to,r.Slice.fromJSON(e,n.slice),!!n.structure)},t}(m);m.jsonID("replace",v);var b=function(e){function t(t,n,r,o,i,a,s){e.call(this),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=a,this.structure=!!s}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){if(this.structure&&(y(e,this.from,this.gapFrom)||y(e,this.gapTo,this.to)))return g.fail("Structure gap-replace would overwrite content");var t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return g.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,t.content);return n?g.fromReplace(e,this.from,this.to,n):g.fail("Content does not fit in gap")},t.prototype.getMap=function(){return new c([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},t.prototype.invert=function(e){var n=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return n.deleted&&r.deleted||o<n.pos||i>r.pos?null:new t(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(n.from,n.to,n.gapFrom,n.gapTo,r.Slice.fromJSON(e,n.slice),n.insert,!!n.structure)},t}(m);function y(e,t,n){for(var r=e.resolve(t),o=n-t,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var a=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}return!1}function w(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function O(e){return{type:e,attrs:null}}function E(e,t){return e&&t&&!e.isLeaf&&e.canAppend(t)}function x(e,t,n){var r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var a=r.depth-1;a>=0;a--){var s=r.indexAfter(a);if(r.node(a).canReplaceWith(s,s,n))return r.after(a+1);if(s<r.node(a).childCount)return null}}function k(e,t,n){for(var o=[],i=0;i<e.childCount;i++){var a=e.child(i);a.content.size&&(a=a.copy(k(a.content,t,a))),a.isInline&&(a=t(a,n,i)),o.push(a)}return r.Fragment.fromArray(o)}m.jsonID("replaceAround",b),d.prototype.lift=function(e,t){for(var n=e.$from,o=e.$to,i=e.depth,a=n.before(i+1),s=o.after(i+1),c=a,l=s,u=r.Fragment.empty,d=0,p=i,f=!1;p>t;p--)f||n.index(p)>0?(f=!0,u=r.Fragment.from(n.node(p).copy(u)),d++):c--;for(var h=r.Fragment.empty,m=0,g=i,v=!1;g>t;g--)v||o.after(g+1)<o.end(g)?(v=!0,h=r.Fragment.from(o.node(g).copy(h)),m++):l++;return this.step(new b(c,l,a,s,new r.Slice(u.append(h),d,m),u.size-d,!0))},d.prototype.wrap=function(e,t){for(var n=r.Fragment.empty,o=t.length-1;o>=0;o--)n=r.Fragment.from(t[o].type.create(t[o].attrs,n));var i=e.start,a=e.end;return this.step(new b(i,a,i,a,new r.Slice(n,0,0),t.length,!0))},d.prototype.setBlockType=function(e,t,n,o){var i=this;if(void 0===t&&(t=e),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var a=this.steps.length;return this.doc.nodesBetween(e,t,function(e,t){if(e.isTextblock&&!e.hasMarkup(n,o)&&function(e,t,n){var r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(i.doc,i.mapping.slice(a).map(t),n)){i.clearIncompatible(i.mapping.slice(a).map(t,1),n);var s=i.mapping.slice(a),c=s.map(t,1),l=s.map(t+e.nodeSize,1);return i.step(new b(c,l,c+1,l-1,new r.Slice(r.Fragment.from(n.create(o,null,e.marks)),0,0),1,!0)),!1}}),this},d.prototype.setNodeMarkup=function(e,t,n,o){var i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");t||(t=i.type);var a=t.create(n,null,o||i.marks);if(i.isLeaf)return this.replaceWith(e,e+i.nodeSize,a);if(!t.validContent(i.content))throw new RangeError("Invalid content for node type "+t.name);return this.step(new b(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new r.Slice(r.Fragment.from(a),0,0),1,!0))},d.prototype.split=function(e,t,n){void 0===t&&(t=1);for(var o=this.doc.resolve(e),i=r.Fragment.empty,a=r.Fragment.empty,s=o.depth,c=o.depth-t,l=t-1;s>c;s--,l--){i=r.Fragment.from(o.node(s).copy(i));var u=n&&n[l];a=r.Fragment.from(u?u.type.create(u.attrs,a):o.node(s).copy(a))}return this.step(new v(e,e,new r.Slice(i.append(a),t,t,!0)))},d.prototype.join=function(e,t){void 0===t&&(t=1);var n=new v(e-t,e+t,r.Slice.empty,!0);return this.step(n)};var C=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),o=e.resolve(this.from),i=o.node(o.sharedDepth(this.to)),a=new r.Slice(k(n.content,function(e,n){return n.type.allowsMarkType(t.mark.type)?e.mark(t.mark.addToSet(e.marks)):e},i),n.openStart,n.openEnd);return g.fromReplace(e,this.from,this.to,a)},t.prototype.invert=function(){return new S(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(m);m.jsonID("addMark",C);var S=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),o=new r.Slice(k(n.content,function(e){return e.mark(t.mark.removeFromSet(e.marks))}),n.openStart,n.openEnd);return g.fromReplace(e,this.from,this.to,o)},t.prototype.invert=function(){return new C(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(m);function j(e,t,n,o){if(void 0===n&&(n=t),void 0===o&&(o=r.Slice.empty),t==n&&!o.size)return null;var i=e.resolve(t),a=e.resolve(n);if(_(i,a,o))return new v(t,n,o);var s=function(e,t){var n=function e(t,n,o,i){var a=r.Fragment.empty,s=0,c=o[n];if(t.depth>n){var l=e(t,n+1,o,i||c);s=l.openEnd+1,a=r.Fragment.from(t.node(n+1).copy(l.content))}c&&(a=a.append(c.content),s=c.openEnd);i&&(a=a.append(t.node(n).contentMatchAt(t.indexAfter(n)).fillBefore(r.Fragment.empty,!0)),s=0);return{content:a,openEnd:s}}(e,0,t,!1),o=n.content,i=n.openEnd;return new r.Slice(o,e.depth,i||0)}(i,function(e,t){for(var n=new I(e),r=1;t.size&&r<=3;r++)t=n.placeSlice(t.content,t.openStart,t.openEnd,r);for(;n.open.length;)n.closeNode();return n.placed}(i,o)),c=M(i,a,s);if(!c)return null;if(s.size!=c.size&&function(e,t,n){if(!t.parent.isTextblock)return!1;var r,o=n.openEnd?function(e,t){for(var n=1;n<t;n++)e=e.lastChild.content;return e.lastChild}(n.content,n.openEnd):e.node(e.depth-(n.openStart-n.openEnd));if(!o.isTextblock)return!1;for(var i=t.index();i<t.parent.childCount;i++)if(!o.type.allowsMarks(t.parent.child(i).marks))return!1;n.openEnd?r=o.contentMatchAt(o.childCount):(r=o.contentMatchAt(o.childCount),n.size&&(r=r.matchFragment(n.content,n.openStart?1:0)));return(r=r.matchFragment(t.parent.content,t.index()))&&r.validEnd}(i,a,s)){for(var l=a.depth,u=a.after(l);l>1&&u==a.end(--l);)++u;var d=M(i,e.resolve(u),s);if(d)return new b(t,u,n,a.end(),d,s.size)}return c.size||t!=n?new v(t,n,c):null}function T(e,t,n,o,i,a,s){var c,l=e.childCount,u=l-(s>0?1:0),d=a<0?t:n.node(i);c=a<0?d.contentMatchAt(u):1==l&&s>0?d.contentMatchAt(a?n.index(i):n.indexAfter(i)):d.contentMatchAt(n.indexAfter(i)).matchFragment(e,l>0&&a?1:0,u);var p=o.node(i);if(s>0&&i<o.depth){var f=p.content.cutByIndex(o.indexAfter(i)).addToStart(e.lastChild),h=c.fillBefore(f,!0);if(h&&h.size&&a>0&&1==l&&(h=null),h){var m=T(e.lastChild.content,e.lastChild,n,o,i+1,1==l?a-1:-1,s-1);if(m){var g=e.lastChild.copy(m);return h.size?e.cutByIndex(0,l-1).append(h).addToEnd(g):e.replaceChild(l-1,g)}}}s>0&&(c=c.matchType((1==l&&a>0?n.node(i+1):e.lastChild).type));var v=o.index(i);if(v==p.childCount&&!p.type.compatibleContent(t.type))return null;for(var b=c.fillBefore(p.content,!0,v),y=v;b&&y<p.content.childCount;y++)d.type.allowsMarks(p.content.child(y).marks)||(b=null);if(!b)return null;if(s>0){var w=function e(t,n,o,i,a){var s,c=t.content,l=c.childCount;s=a>=0?o.node(i).contentMatchAt(o.indexAfter(i)).matchFragment(c,a>0?1:0,l):t.contentMatchAt(l);if(n>0){var u=e(c.lastChild,n-1,o,i+1,1==l?a-1:-1);c=c.replaceChild(l-1,u)}return t.copy(c.append(s.fillBefore(r.Fragment.empty,!0)))}(e.lastChild,s-1,n,i+1,1==l?a-1:-1);e=e.replaceChild(l-1,w)}return e=e.append(b),o.depth>i&&(e=e.addToEnd(function e(t,n){var r=t.node(n);var o=r.contentMatchAt(0).fillBefore(r.content,!0,t.index(n));t.depth>n&&(o=o.addToEnd(e(t,n+1)));return r.copy(o)}(o,i+1))),e}function M(e,t,n){var o=T(n.content,e.node(0),e,t,0,n.openStart,n.openEnd);return o?function(e,t,n){for(;t>0&&n>0&&1==e.childCount;)e=e.firstChild.content,t--,n--;return new r.Slice(e,t,n)}(o,n.openStart,t.depth):null}function _(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}m.jsonID("removeMark",S),d.prototype.addMark=function(e,t,n){var r=this,o=[],i=[],a=null,s=null;return this.doc.nodesBetween(e,t,function(r,c,l){if(r.isInline){var u=r.marks;if(!n.isInSet(u)&&l.type.allowsMarkType(n.type)){for(var d=Math.max(c,e),p=Math.min(c+r.nodeSize,t),f=n.addToSet(u),h=0;h<u.length;h++)u[h].isInSet(f)||(a&&a.to==d&&a.mark.eq(u[h])?a.to=p:o.push(a=new S(d,p,u[h])));s&&s.to==d?s.to=p:i.push(s=new C(d,p,n))}}}),o.forEach(function(e){return r.step(e)}),i.forEach(function(e){return r.step(e)}),this},d.prototype.removeMark=function(e,t,n){var o=this;void 0===n&&(n=null);var i=[],a=0;return this.doc.nodesBetween(e,t,function(o,s){if(o.isInline){a++;var c=null;if(n instanceof r.MarkType){var l=n.isInSet(o.marks);l&&(c=[l])}else n?n.isInSet(o.marks)&&(c=[n]):c=o.marks;if(c&&c.length)for(var u=Math.min(s+o.nodeSize,t),d=0;d<c.length;d++){for(var p=c[d],f=void 0,h=0;h<i.length;h++){var m=i[h];m.step==a-1&&p.eq(i[h].style)&&(f=m)}f?(f.to=u,f.step=a):i.push({style:p,from:Math.max(s,e),to:u,step:a})}}}),i.forEach(function(e){return o.step(new S(e.from,e.to,e.style))}),this},d.prototype.clearIncompatible=function(e,t,n){void 0===n&&(n=t.contentMatch);for(var o=this.doc.nodeAt(e),i=[],a=e+1,s=0;s<o.childCount;s++){var c=o.child(s),l=a+c.nodeSize,u=n.matchType(c.type,c.attrs);if(u){n=u;for(var d=0;d<c.marks.length;d++)t.allowsMarkType(c.marks[d].type)||this.step(new S(a,l,c.marks[d]))}else i.push(new v(a,l,r.Slice.empty));a=l}if(!n.validEnd){var p=n.fillBefore(r.Fragment.empty,!0);this.replace(a,a,new r.Slice(p,0,0))}for(var f=i.length-1;f>=0;f--)this.step(i[f]);return this},d.prototype.replace=function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=r.Slice.empty);var o=j(this.doc,e,t,n);return o&&this.step(o),this},d.prototype.replaceWith=function(e,t,n){return this.replace(e,t,new r.Slice(r.Fragment.from(n),0,0))},d.prototype.delete=function(e,t){return this.replace(e,t,r.Slice.empty)},d.prototype.insert=function(e,t){return this.replaceWith(e,e,t)};var I=function(e){this.open=[];for(var t=0;t<=e.depth;t++){var n=e.node(t),o=n.contentMatchAt(e.indexAfter(t));this.open.push({parent:n,match:o,content:r.Fragment.empty,wrapper:!1,openEnd:0,depth:t})}this.placed=[]};function P(e,t,n){var r=e.content;if(t>1){var o=P(e.firstChild,t-1,1==e.childCount?n-1:0);r=e.content.replaceChild(0,o)}var i=e.type.contentMatch.fillBefore(r,0==n);return e.copy(i.append(r))}function A(e,t,n,r,o){if(t<n){var i=e.firstChild;e=e.replaceChild(0,i.copy(A(i.content,t+1,n,r,i)))}return t>r&&(e=o.contentMatchAt(0).fillBefore(e,!0).append(e)),e}function N(e,t){for(var n=[],r=Math.min(e.depth,t.depth);r>=0;r--){var o=e.start(r);if(o<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;o==t.start(r)&&n.push(r)}return n}I.prototype.placeSlice=function(e,t,n,o,i){if(t>0){var a=e.firstChild,s=this.placeSlice(a.content,Math.max(0,t-1),n&&1==e.childCount?n-1:0,o,a);s.content!=a.content&&(s.content.size?(e=e.replaceChild(0,a.copy(s.content)),t=s.openStart+1):(1==e.childCount&&(n=0),e=e.cutByIndex(1),t=0))}var c=this.placeContent(e,t,n,o,i);if(o>2&&c.size&&0==t){for(var l=0;l<c.content.childCount;l++){var u=c.content.child(l);this.placeContent(u.content,0,n&&l==c.content.childCount.length-1?n-1:0,o,u)}c=r.Fragment.empty}return c},I.prototype.placeContent=function(e,t,n,o,i){for(var a=0;a<e.childCount;a++){for(var s=e.child(a),c=!1,l=a==e.childCount-1,u=this.open.length-1;u>=0;u--){var d=this.open[u],p=void 0;if(o>1&&(p=d.match.findWrapping(s.type))&&(!i||!p.length||p[p.length-1]!=i.type)){for(;this.open.length-1>u;)this.closeNode();for(var f=0;f<p.length;f++)d.match=d.match.matchType(p[f]),u++,d={parent:p[f].create(),match:p[f].contentMatch,content:r.Fragment.empty,wrapper:!0,openEnd:0,depth:u+f},this.open.push(d)}var h=d.match.matchType(s.type);if(!h){var m=d.match.fillBefore(r.Fragment.from(s));if(!m){if(i&&d.match.matchType(i.type))break;continue}for(var g=0;g<m.childCount;g++){var v=m.child(g);this.addNode(d,v,0),h=d.match.matchFragment(v)}}for(;this.open.length-1>u;)this.closeNode();s=s.mark(d.parent.type.allowedMarks(s.marks)),t&&(s=P(s,t,l?n:0),t=0),this.addNode(d,s,l?n:0),d.match=h,l&&(n=0),c=!0;break}if(!c)break}return this.open.length>1&&(a>0&&a==e.childCount||i&&this.open[this.open.length-1].parent.type==i.type)&&this.closeNode(),new r.Slice(e.cutByIndex(a),t,n)},I.prototype.addNode=function(e,t,n){var o,i;e.content=(o=e.content,i=e.openEnd,i?o.replaceChild(o.childCount-1,function e(t,n){var o=t.content;if(n>1){var i=e(t.lastChild,n-1);o=t.content.replaceChild(t.childCount-1,i)}var a=t.contentMatchAt(t.childCount).fillBefore(r.Fragment.empty,!0);return t.copy(o.append(a))}(o.lastChild,i)):o).addToEnd(t),e.openEnd=n},I.prototype.closeNode=function(){var e=this.open.pop();0==e.content.size||(e.wrapper?this.addNode(this.open[this.open.length-1],e.parent.copy(e.content),e.openEnd+1):this.placed[e.depth]={depth:e.depth,content:e.content,openEnd:e.openEnd})},d.prototype.replaceRange=function(e,t,n){if(!n.size)return this.deleteRange(e,t);var o=this.doc.resolve(e),i=this.doc.resolve(t);if(_(o,i,n))return this.step(new v(e,t,n));var a=N(o,this.doc.resolve(t));0==a[a.length-1]&&a.pop();var s=-(o.depth+1);a.unshift(s);for(var c=o.depth,l=o.pos-1;c>0;c--,l--){var u=o.node(c).type.spec;if(u.defining||u.isolating)break;a.indexOf(c)>-1?s=c:o.before(c)==l&&a.splice(1,0,-c)}for(var d=a.indexOf(s),p=[],f=n.openStart,h=n.content,m=0;;m++){var g=h.firstChild;if(p.push(g),m==n.openStart)break;h=g.content}f>0&&p[f-1].type.spec.defining&&o.node(d).type!=p[f-1].type?f-=1:f>=2&&p[f-1].isTextblock&&p[f-2].type.spec.defining&&o.node(d).type!=p[f-2].type&&(f-=2);for(var b=n.openStart;b>=0;b--){var y=(b+f+1)%(n.openStart+1),w=p[y];if(w)for(var O=0;O<a.length;O++){var E=a[(O+d)%a.length],x=!0;E<0&&(x=!1,E=-E);var k=o.node(E-1),C=o.index(E-1);if(k.canReplaceWith(C,C,w.type,w.marks))return this.replace(o.before(E),x?i.after(E):t,new r.Slice(A(n.content,0,n.openStart,y),y,n.openEnd))}}return this.replace(e,t,n)},d.prototype.replaceRangeWith=function(e,t,n){if(!n.isInline&&e==t&&this.doc.resolve(e).parent.content.size){var o=x(this.doc,e,n.type);null!=o&&(e=t=o)}return this.replaceRange(e,t,new r.Slice(r.Fragment.from(n),0,0))},d.prototype.deleteRange=function(e,t){for(var n=this.doc.resolve(e),r=this.doc.resolve(t),o=N(n,r),i=0;i<o.length;i++){var a=o[i],s=i==o.length-1;if(s&&0==a||n.node(a).type.contentMatch.validEnd)return this.delete(n.start(a),r.end(a));if(a>0&&(s||n.node(a-1).canReplace(n.index(a-1),r.indexAfter(a-1))))return this.delete(n.before(a),r.after(a))}for(var c=1;c<=n.depth;c++)if(e-n.start(c)==n.depth-c&&t>n.end(c))return this.delete(n.before(c),t);return this.delete(e,t)},t.Transform=d,t.TransformError=u,t.Step=m,t.StepResult=g,t.joinPoint=function(e,t,n){void 0===n&&(n=-1);for(var r=e.resolve(t),o=r.depth;;o--){var i=void 0,a=void 0;if(o==r.depth?(i=r.nodeBefore,a=r.nodeAfter):n>0?(i=r.node(o+1),a=r.node(o).maybeChild(r.index(o)+1)):(i=r.node(o).maybeChild(r.index(o)-1),a=r.node(o+1)),i&&!i.isTextblock&&E(i,a))return t;if(0==o)break;t=n<0?r.before(o):r.after(o)}},t.canJoin=function(e,t){var n=e.resolve(t),r=n.index();return E(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)},t.canSplit=function(e,t,n,r){void 0===n&&(n=1);var o=e.resolve(t),i=o.depth-n,a=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var s=o.depth-1,c=n-2;s>i;s--,c--){var l=o.node(s),u=o.index(s);if(l.type.spec.isolating)return!1;var d=l.content.cutByIndex(u,l.childCount),p=r&&r[c]||l;if(p!=l&&(d=d.replaceChild(0,p.type.create(p.attrs))),!l.canReplace(u+1,l.childCount)||!p.type.validContent(d))return!1}var f=o.indexAfter(i),h=r&&r[0];return o.node(i).canReplaceWith(f,f,h?h.type:o.node(i+1).type)},t.insertPoint=x,t.dropPoint=function(e,t,n){var r=e.resolve(t);if(!n.content.size)return t;for(var o=n.content,i=0;i<n.openStart;i++)o=o.firstChild.content;for(var a=1;a<=(0==n.openStart&&n.size?2:1);a++)for(var s=r.depth;s>=0;s--){var c=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(c>0?1:0);if(1==a?r.node(s).canReplace(l,l,o):r.node(s).contentMatchAt(l).findWrapping(o.firstChild.type))return 0==c?r.pos:c<0?r.before(s+1):r.after(s+1)}return null},t.liftTarget=function(e){for(var t=e.parent.content.cutByIndex(e.startIndex,e.endIndex),n=e.depth;;--n){var r=e.$from.node(n),o=e.$from.index(n),i=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(o,i,t))return n;if(0==n||r.type.spec.isolating||!w(r,o,i))break}},t.findWrapping=function(e,t,n,r){void 0===r&&(r=e);var o=function(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;var a=i.length?i[0]:t;return n.canReplaceWith(r,o,a)?i:null}(e,t),i=o&&function(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.child(r),a=t.contentMatch.findWrapping(i.type);if(!a)return null;for(var s=(a.length?a[a.length-1]:t).contentMatch,c=r;s&&c<o;c++)s=s.matchType(n.child(c).type);return s&&s.validEnd?a:null}(r,t);return i?o.map(O).concat({type:t,attrs:n}).concat(i.map(O)):null},t.StepMap=c,t.MapResult=s,t.Mapping=l,t.AddMarkStep=C,t.RemoveMarkStep=S,t.ReplaceStep=v,t.ReplaceAroundStep=b,t.replaceStep=j},uSgc:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r,o=n("mrSG"),i=n("vOnD"),a=Object(i.css)(r||(r=o.__makeTemplateObject(["\n  li .media-single {\n    margin: 0;\n  }\n\n  /* Hack for chrome to fix media single position\n     inside a list when media is the first child */\n  &.ua-chrome li > .mediaSingleView-content-wrap::before {\n    content: '';\n    display: block;\n    height: 0;\n  }\n\n  table .media-single {\n    margin: 0;\n  }\n\n  .media-single.image-wrap-left + .media-single.image-wrap-right,\n  .media-single.image-wrap-right + .media-single.image-wrap-left,\n  .media-single.image-wrap-left + .media-single.image-wrap-left,\n  .media-single.image-wrap-right + .media-single.image-wrap-right {\n    margin-right: 0;\n    margin-left: 0;\n  }\n"],["\n  li .media-single {\n    margin: 0;\n  }\n\n  /* Hack for chrome to fix media single position\n     inside a list when media is the first child */\n  &.ua-chrome li > .mediaSingleView-content-wrap::before {\n    content: '';\n    display: block;\n    height: 0;\n  }\n\n  table .media-single {\n    margin: 0;\n  }\n\n  .media-single.image-wrap-left + .media-single.image-wrap-right,\n  .media-single.image-wrap-right + .media-single.image-wrap-left,\n  .media-single.image-wrap-left + .media-single.image-wrap-left,\n  .media-single.image-wrap-right + .media-single.image-wrap-right {\n    margin-right: 0;\n    margin-left: 0;\n  }\n"])))},uXh8:function(e,t,n){"use strict";var r=n("pVnL"),o=n.n(r),i=n("lwsE"),a=n.n(i),s=n("W8MJ"),c=n.n(s),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),p=n.n(d),f=n("7W2i"),h=n.n(f),m=n("lSNA"),g=n.n(m),v=n("q1tI"),b=n.n(v),y=n("JRPe"),w=n("grSP"),O=n("z1n6"),E=n.n(O),x=n("DWq1"),k=n.n(x),C=n("eq3s"),S=n("b0Qh"),j=n("y+en"),T=n("Gzh5"),M=(n("d9oQ"),n("PJYZ")),_=n.n(M),I=n("MVZn"),P=n.n(I);function A(e){if((t=e)&&"directory"!==t.type)return e;var t,n=P()({},e),r=e.contents[0];1===e.contents.length&&function(e){return!!e&&"directory"===e.type}(r)&&(n.name+="/".concat(r.name),n.contents=r.contents,n=A(n));return n.contents=n.contents.map(A),n}var N=n("Rz6r"),R=Object(y.e)({comment:{id:"bitkit.fileTree.comment",defaultMessage:"Comment"},addedFileType:{id:"bitkit.fileTree.addedFileType",defaultMessage:"Added"},deletedFileType:{id:"bitkit.fileTree.deletedFileType",defaultMessage:"Deleted"},modifiedFileType:{id:"bitkit.fileTree.modifiedFileType",defaultMessage:"Modified"},typeChangedFileType:{id:"bitkit.fileTree.typeChangedFileType",defaultMessage:"Type changed"},renamedFileType:{id:"bitkit.fileTree.renamedFileType",defaultMessage:"Renamed"},directory:{id:"bitkit.fileTree.directory",defaultMessage:"Directory"},toggleDirectory:{id:"bitkit.fileTree.toggleDirectory",defaultMessage:"Toggle directory"},conflicted:{id:"bitkit.fileTree.conflictedLabel",defaultMessage:"Conflicted"}}),D=n("wTIg"),L=n("qKvR"),z=n("gxo2"),B=S.colors.B50,F=S.colors.N20,q=Object(z.l)(),W=Object(z.l)()/2,U=2*Object(z.l)(),H=Object(D.a)("span",{target:"e1yof8uq0"})({name:"2n8d9w",styles:"overflow:hidden;text-overflow:ellipsis;white-space:nowrap;> div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}"}),V=Object(D.a)("div",{target:"e1yof8uq1"})({name:"9y6172",styles:"user-select:none;"}),G=Object(D.a)("div",{target:"e1yof8uq2"})("margin-left:",U,"px;"),K=Object(D.a)("button",{target:"e1yof8uq3"})("border:0;background:none;display:flex;align-items:center;margin-left:",W,"px;padding:",.75*q,"px 0;font-size:",Object(z.j)(),"px;cursor:pointer;color:inherit;&:hover,&:focus{text-decoration:none;color:inherit;}> div:last-of-type{display:flex;flex-shrink:0;overflow:hidden;}"),$=Object(D.a)("div",{target:"e1yof8uq4"})("width:",2*q,"px;"),J=Object(D.a)("a",{target:"e1yof8uq5"})("display:flex;flex-wrap:nowrap;align-items:center;padding:6px ",W,"px 6px;background-color:",function(e){return e.isActive?B:"transparent"},";border-radius:",Object(z.f)(),"px;color:inherit;font-size:",Object(z.j)(),"px;cursor:pointer;transition:all 0.2s ease-out;text-decoration:none;height:20px;&:hover,&:focus{background-color:",F,";color:inherit;transition:all 0.2s ease-in;text-decoration:none;}@media screen and (prefers-reduced-motion:reduce){transition-duration:0.001ms;&:hover,&:focus{transition-duration:0.001ms;}}> div:last-of-type{display:flex;flex-shrink:0;overflow:hidden;}"),Y=Object(D.a)("div",{target:"e1yof8uq6"})({name:"6ycanp",styles:"margin-left:auto;height:100%;align-items:center;"}),Q=Object(D.a)("span",{target:"e1yof8uq7"})("margin-left:",q,"px;"),X=Object(D.a)("span",{target:"e1yof8uq8"})("display:flex;align-items:center;margin-left:",q,'px;height:100%;& svg,& [aria-label="',function(e){return e.label},'"]{vertical-align:unset;height:12px;width:12px;}'),Z=Object(L.e)(S.typography.h200(),";margin-top:0;color:initial;"),ee=Object(D.a)("span",{target:"e1yof8uq9"})(Z," margin-left:",q/2,"px;font-weight:normal;"),te=Object(D.a)("span",{target:"e1yof8uq10"})(Z," color:",S.colors.G500,";",X," ~ &{margin-left:",q,"px;}"),ne=Object(D.a)("span",{target:"e1yof8uq11"})(Z," color:",S.colors.R500,";",te," ~ &,",X," ~ &{margin-left:",q,"px;}"),re=function(e){return{isCollapsed:!e.isCollapsed}},oe=function(e){function t(e){var n;a()(this,t),n=u()(this,p()(t).call(this,e)),g()(_()(_()(n)),"toggleDirectory",function(){n.setState(re)}),g()(_()(_()(n)),"handleHeaderKey",function(e){"Enter"!==e.key&&" "!==e.key||n.toggleDirectory()});var r=n.props.defaultCollapsed;return n.state={isCollapsed:r},n}return h()(t,e),c()(t,[{key:"renderFolderIcon",value:function(){var e=this.props.intl,t=this.state.isCollapsed;return b.a.createElement($,null,t?b.a.createElement(N.i,{label:e.formatMessage(R.directory),size:N.k.Small}):b.a.createElement(N.j,{label:e.formatMessage(R.directory),size:N.k.Small}))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.name,r=this.state.isCollapsed;return b.a.createElement(V,null,b.a.createElement(K,{tabIndex:0,onClick:this.toggleDirectory,onMouseDown:function(e){return e.preventDefault()},onKeyDown:this.handleHeaderKey},this.renderFolderIcon(),b.a.createElement(H,null,b.a.createElement(C.a,{position:"left",content:n},b.a.createElement(Q,null,n)))),!r&&b.a.createElement(G,null,t))}}]),t}(v.Component);g()(oe,"defaultProps",{defaultCollapsed:!0});var ie=Object(y.f)(oe),ae=n("v3lD"),se=n("fw8x"),ce=S.colors.N800,le=b.a.memo(function(e){var t=e.isActive,n=void 0!==t&&t,r=e.name,o=e.href,i=e.comments,a=void 0===i?0:i,s=e.linesAdded,c=void 0===s?0:s,l=e.linesRemoved,u=void 0===l?0:l,d=e.fileDiffStatus,p=e.isConflicted,f=e.onClick,h=void 0===f?function(){}:f,m=Object(se.b)();return b.a.createElement(J,{isActive:n,href:o,onClick:function(e){e.preventDefault(),h(e,{name:r,href:o,fileDiffStatus:d,isConflicted:p,comments:a})},onMouseDown:function(e){return e.preventDefault()}},b.a.createElement(ae.a,{fileDiffStatus:d}),b.a.createElement(C.a,{position:"left",content:r,tag:H},b.a.createElement(Q,null,r)),b.a.createElement(Y,null,a>0&&b.a.createElement(X,{label:m.formatMessage(R.comment),"data-testid":"file-tree-file__comments"},b.a.createElement(N.b,{primaryColor:ce,label:m.formatMessage(R.comment),size:N.k.Small}),b.a.createElement(ee,null,a)),p?b.a.createElement(k.a,{primaryColor:S.colors.Y300,label:m.formatMessage(R.conflicted)}):b.a.createElement(b.a.Fragment,null,c>0&&b.a.createElement(te,null,"+",c),u>0&&b.a.createElement(ne,null,"-",u))))}),ue=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(o))),g()(_()(_()(n)),"state",{flattenedFileTree:n.props.fileTree.map(A)}),g()(_()(_()(n)),"renderTreeEntry",function(e){return"directory"===e.type?n.renderDirectory(e):n.renderFile(e)}),g()(_()(_()(n)),"renderDirectory",function(e){var t=n.props.expandAll,r=e.name,o=e.contents;return b.a.createElement(ie,{key:r,name:r,defaultCollapsed:!t},o.map(n.renderTreeEntry))}),g()(_()(_()(n)),"renderFile",function(e){var t=n.props,r=t.onClick,o=t.activeDiff,i=e.name,a=e.comments,s=e.fileDiffStatus,c=e.href,l=e.isConflicted,u=e.linesAdded,d=e.linesRemoved;return b.a.createElement(le,{key:i,name:i,comments:a,onClick:r,href:c,fileDiffStatus:s,isConflicted:l,isActive:!!o&&"#".concat(o)===c,linesAdded:u,linesRemoved:d})}),n}return h()(t,e),c()(t,[{key:"render",value:function(){var e=this.state.flattenedFileTree;return b.a.createElement(v.Fragment,null,e.map(this.renderTreeEntry))}}],[{key:"getDerivedStateFromProps",value:function(e){return{flattenedFileTree:e.fileTree.map(A)}}}]),t}(v.Component),de=n("qnTW"),pe=Object(y.e)({label:{id:"frontbucket.repository.pullrequest.fileTree.fileTreeLabel",defaultMessage:"File tree"},fileCount:{id:"frontbucket.repository.pullrequest.fileTree.fileCount",defaultMessage:"{formattedCount} {total, plural, one {file} other {files}}"},mergeConflicts:{id:"frontbucket.repository.pullrequest.fileTree.mergeConflicts",defaultMessage:"Merge conflicts"},errorHeading:{id:"frontbucket.repository.pullrequest.fileTree.errorHeading",defaultMessage:"Couldn't load files"}}),fe=Object(z.l)()/2,he=Object(D.a)("span",{target:"e1u3rele0"})({name:"in3yi3",styles:"font-weight:bold;"}),me=Object(D.a)("div",{target:"e1u3rele1"})({name:"79elbk",styles:"position:relative;"}),ge=Object(D.a)("span",{target:"e1u3rele2"})("background-color:",S.colors.Y300,";border-radius:",Object(z.l)(),"px;height:",Object(z.l)(),"px;left:",3*Object(z.l)()+fe,"px;position:absolute;top:",Object(z.l)(),"px;width:",Object(z.l)(),"px;"),ve=(Object(D.a)("div",{target:"e1u3rele3"})({name:"fv3lde",styles:"align-items:center;display:flex;"}),function(e){function t(){return a()(this,t),u()(this,p()(t).apply(this,arguments))}return h()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.activeDiff,n=e.intl,r=e.isCollapsed,i=e.hasConflicts,a=e.fileTree,s=e.onFileClick,c=e.hasError,l=e.onChange,u=e.initialCardIsCollapsed,d=e.onErrorClick,p=b.a.createElement(E.a,{label:n.formatMessage(pe.label)}),f=function e(t){return t.reduce(function(t,n){return t+("file"===n.type?1:e(n.contents))},0)}(a||[]),h=n.formatMessage(pe.mergeConflicts),m=i?b.a.createElement(C.a,{position:"bottom",content:h},b.a.createElement(k.a,{label:h,primaryColor:S.colors.Y300})):void 0;if(r){var g=n.formatMessage(pe.fileCount,{total:f,formattedCount:f});return b.a.createElement(C.a,{position:"left",content:g},b.a.createElement(w.a,{appearance:"subtle",iconBefore:b.a.createElement(me,null,p," ",i&&b.a.createElement(ge,{"aria-label":h}))}))}return b.a.createElement(j.Expander,{icon:p,isLoading:!a&&!c,onChange:l,initialIsCollapsed:u,label:b.a.createElement(y.a,o()({},pe.fileCount,{values:{total:f,formattedCount:b.a.createElement(he,null,f)}})),iconSecondary:m,ariaLabel:n.formatMessage(pe.label)},!!a&&!!a.length&&!c&&b.a.createElement(ue,{activeDiff:t,fileTree:a,expandAll:!0,onClick:s}),c&&b.a.createElement(T.b,{iconType:"warning",title:b.a.createElement(y.a,pe.errorHeading)},b.a.createElement(w.a,{appearance:"link",onClick:d},b.a.createElement(y.a,de.a.tryAgain))))}}]),t}(v.PureComponent));g()(ve,"defaultProps",{activeDiff:"",isCollapsed:!1,hasConflicts:!1});var be=Object(y.f)(ve);n.d(t,"a",function(){return be})},ujrx:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r,o=n("mrSG"),i=n("vOnD"),a=Object(i.css)(r||(r=o.__makeTemplateObject(["\n  /**\n   * We need to remove margin-top from first item\n   * inside doc, tableCell, tableHeader, blockquote, etc.\n   */\n  *:not(.fabric-editor-block-mark) >,\n  /* For nested block marks */\n  *:not(.fabric-editor-block-mark) > div.fabric-editor-block-mark:first-child {\n    p,\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      &:first-child {\n        margin-top: 0;\n      }\n    }\n  }\n"],["\n  /**\n   * We need to remove margin-top from first item\n   * inside doc, tableCell, tableHeader, blockquote, etc.\n   */\n  *:not(.fabric-editor-block-mark) >,\n  /* For nested block marks */\n  *:not(.fabric-editor-block-mark) > div.fabric-editor-block-mark:first-child {\n    p,\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      &:first-child {\n        margin-top: 0;\n      }\n    }\n  }\n"])))},urQ4:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("mIQt"),o=function(e){return e.find(void 0,void 0,function(e){return e.key===r.b.CONTROLS_HOVER})}},uvLB:function(e,t,n){"use strict";n.d(t,"p",function(){return o}),n.d(t,"k",function(){return i}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"g",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"i",function(){return u}),n.d(t,"j",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"b",function(){return f}),n.d(t,"m",function(){return h}),n.d(t,"l",function(){return m}),n.d(t,"n",function(){return g}),n.d(t,"o",function(){return v}),n.d(t,"c",function(){return b}),n.d(t,"d",function(){return y});var r=n("JRPe"),o=Object(r.e)({normal:{id:"fabric.editor.normal",defaultMessage:"Normal text",description:"This is the default text style"},heading1:{id:"fabric.editor.heading1",defaultMessage:"Heading 1",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading2:{id:"fabric.editor.heading2",defaultMessage:"Heading 2",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading3:{id:"fabric.editor.heading3",defaultMessage:"Heading 3",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading4:{id:"fabric.editor.heading4",defaultMessage:"Heading 4",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading5:{id:"fabric.editor.heading5",defaultMessage:"Heading 5",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading6:{id:"fabric.editor.heading6",defaultMessage:"Heading 6",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},blockquote:{id:"fabric.editor.blockquote",defaultMessage:"Quote",description:"Quote some text"},blockquoteDescription:{id:"fabric.editor.blockquote.description",defaultMessage:"Insert quote or citation",description:"Quote some text"},codeblock:{id:"fabric.editor.codeblock",defaultMessage:"Code snippet",description:"Insert a snippet/segment of code (code block)"},codeblockDescription:{id:"fabric.editor.codeblock.description",defaultMessage:"Display code with syntax highlighting",description:"Insert a snippet/segment of code (code block)"},infoPanel:{id:"fabric.editor.infoPanel",defaultMessage:"Info Panel",description:"Visually distinguishes your text by adding a background colour (blue, purple, yellow, green, red)"},infoPanelDescription:{id:"fabric.editor.infoPanel.description",defaultMessage:"Highlight information in a colored panel",description:"Visually distinguishes your text by adding a background colour (blue, purple, yellow, green, red)"},notePanel:{id:"fabric.editor.notePanel",defaultMessage:"Note panel",description:"Visually distinguishes your text by adding a note panel"},notePanelDescription:{id:"fabric.editor.notePanel.description",defaultMessage:"Add a note in a colored panel",description:"Visually distinguishes your text by adding a note panel"},successPanel:{id:"fabric.editor.successPanel",defaultMessage:"Success panel",description:"Visually distinguishes your text by adding a success panel"},successPanelDescription:{id:"fabric.editor.successPanel.description",defaultMessage:"Add tips in a colored panel",description:"Visually distinguishes your text by adding a success panel"},warningPanel:{id:"fabric.editor.warningPanel",defaultMessage:"Warning panel",description:"Visually distinguishes your text by adding a warning panel"},warningPanelDescription:{id:"fabric.editor.warningPanel.description",defaultMessage:"Add a note of caution in a colored panel",description:"Visually distinguishes your text by adding a warning panel"},errorPanel:{id:"fabric.editor.errorPanel",defaultMessage:"Error panel",description:"Visually distinguishes your text by adding a error panel"},errorPanelDescription:{id:"fabric.editor.errorPanel.description",defaultMessage:"Call out errors in a colored panel",description:"Visually distinguishes your text by adding a error panel"},other:{id:"fabric.editor.other",defaultMessage:"Others...",description:"Other text formatting"}}),i={name:"normal",title:o.normal,nodeName:"paragraph",tagName:"p"},a={name:"heading1",title:o.heading1,nodeName:"heading",tagName:"h1",level:1},s={name:"heading2",title:o.heading2,nodeName:"heading",tagName:"h2",level:2},c={name:"heading3",title:o.heading3,nodeName:"heading",tagName:"h3",level:3},l={name:"heading4",title:o.heading4,nodeName:"heading",tagName:"h4",level:4},u={name:"heading5",title:o.heading5,nodeName:"heading",tagName:"h5",level:5},d={name:"heading6",title:o.heading6,nodeName:"heading",tagName:"h6",level:6},p={name:"blockquote",title:o.blockquote,nodeName:"blockquote"},f={name:"codeblock",title:o.codeblock,nodeName:"codeBlock"},h={name:"panel",title:o.infoPanel,nodeName:"panel"},m={name:"other",title:o.other,nodeName:""},g=[i,a,s,c,l,u,d],v=[p,f,h],b=(g.concat(v),g.reduce(function(e,t){return t.level&&"heading"===t.nodeName&&(e[t.level]=t),e},{})),y=g.reduce(function(e,t){return t.level&&"heading"===t.nodeName&&(e[t.name]=t),e},{})},"v+ym":function(e,t,n){"use strict";var r=n("284h"),o=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.size=t.default=t.IconWrapper=void 0;var i=o(n("lSNA")),a=o(n("lwsE")),s=o(n("W8MJ")),c=o(n("a1gu")),l=o(n("Nsbk")),u=o(n("7W2i")),d=r(n("q1tI")),p=o(n("vOnD")),f=o(n("EcEN")),h=n("b0Qh"),m=n("jqOG"),g=function(e){return e.size?"height: ".concat(m.sizes[e.size],"; width: ").concat(m.sizes[e.size],";"):null},v=p.default.span.withConfig({displayName:"Icon__IconWrapper",componentId:"dyhwwi-0"})(["\n  "," color: ",";\n  display: inline-block;\n  fill: ",";\n  flex-shrink: 0;\n  line-height: 1;\n\n  > svg {\n    "," max-height: 100%;\n    max-width: 100%;\n    overflow: hidden;\n    pointer-events: none;\n    vertical-align: bottom;\n  }\n  /* Stop-color doesn't properly apply in chrome when the inherited/current color changes.\n   * We have to initially set stop-color to inherit (either via DOM attribute or an initial CSS\n   * rule) and then override it with currentColor for the color changes to be picked up.\n   */\n  stop {\n    stop-color: currentColor;\n  }\n"],g,function(e){return e.primaryColor||"currentColor"},function(e){return e.secondaryColor||h.colors.background},g);t.IconWrapper=v;var b=function(e){function t(){return(0,a.default)(this,t),(0,c.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,n=e.glyph,r=e.dangerouslySetGlyph,o=e.primaryColor,i=e.secondaryColor,a=e.size;return r?d.default.createElement(v,{primaryColor:o,secondaryColor:i,size:a,"aria-label":this.props.label,dangerouslySetInnerHTML:{__html:t.insertDynamicGradientID(r)}}):d.default.createElement(v,{primaryColor:o,secondaryColor:i,size:a,"aria-label":this.props.label},n?d.default.createElement(n,{role:"presentation"}):null)}}],[{key:"insertDynamicGradientID",value:function(e){var t=(0,f.default)();return e.replace(/id="([^"]+)-idPlaceholder"/g,"id=$1-".concat(t)).replace(/fill="url\(#([^"]+)-idPlaceholder\)"/g,'fill="url(#$1-'.concat(t,')"'))}}]),t}(d.Component);t.default=b;var y=Object.keys(m.sizes).reduce(function(e,t){return Object.assign(e,(0,i.default)({},t,t))},{});t.size=y},v3lD:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("b0Qh"),a=n("Rz6r"),s=n("fw8x"),c=n("JRPe"),l=Object(c.e)({addedFileType:{id:"bitkit.fileTree.addedFileType",defaultMessage:"Added"},removedFileType:{id:"bitkit.fileTree.removedFileType",defaultMessage:"Removed"},modifiedFileType:{id:"bitkit.fileTree.modifiedFileType",defaultMessage:"Modified"},typeChangedFileType:{id:"bitkit.fileTree.typeChangedFileType",defaultMessage:"Type changed"},renamedFileType:{id:"bitkit.fileTree.renamedFileType",defaultMessage:"Renamed"}});n.d(t,"a",function(){return p});var u=i.colors.R300,d={added:{icon:a.e,message:l.addedFileType,secondaryColor:void 0},removed:{icon:a.g,message:l.removedFileType,secondaryColor:u},modified:{icon:a.f,message:l.modifiedFileType},"type changed":{icon:a.f,message:l.typeChangedFileType},renamed:{icon:a.h,message:l.renamedFileType},"binary conflict":{icon:a.f,message:l.modifiedFileType}},p=function(e){var t=e.fileDiffStatus,n=void 0===t?"modified":t,r=e.size,i=void 0===r?a.k.Small:r,c=Object(s.b)(),l=d[n]||d.modified,u=l.icon,p=l.message,f=l.secondaryColor;return o.a.createElement(u,{label:c.formatMessage(p),size:i,secondaryColor:f})}},vAMc:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"g",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"i",function(){return f}),n.d(t,"k",function(){return h}),n.d(t,"j",function(){return m}),n.d(t,"l",function(){return g}),n.d(t,"n",function(){return v}),n.d(t,"o",function(){return b}),n.d(t,"p",function(){return y}),n.d(t,"q",function(){return w}),n.d(t,"m",function(){return O}),n.d(t,"r",function(){return E}),n.d(t,"s",function(){return x}),n.d(t,"t",function(){return k});var r=n("CnBM"),o=n.n(r),i=o()({loader:function(){return n.e(274).then(n.bind(null,"lw0A")).then(function(e){return e.default})},loading:function(){return null}}),a=o()({loader:function(){return n.e(275).then(n.bind(null,"vqs/")).then(function(e){return e.default})},loading:function(){return null}}),s=o()({loader:function(){return n.e(276).then(n.bind(null,"669f")).then(function(e){return e.default})},loading:function(){return null}}),c=o()({loader:function(){return n.e(277).then(n.bind(null,"80wn")).then(function(e){return e.default})},loading:function(){return null}}),l=o()({loader:function(){return n.e(278).then(n.bind(null,"UX+S")).then(function(e){return e.default})},loading:function(){return null}}),u=o()({loader:function(){return n.e(279).then(n.bind(null,"YpSZ")).then(function(e){return e.default})},loading:function(){return null}}),d=o()({loader:function(){return n.e(280).then(n.bind(null,"C49K")).then(function(e){return e.default})},loading:function(){return null}}),p=o()({loader:function(){return n.e(281).then(n.bind(null,"amjU")).then(function(e){return e.default})},loading:function(){return null}}),f=o()({loader:function(){return n.e(282).then(n.bind(null,"wWUm")).then(function(e){return e.default})},loading:function(){return null}}),h=o()({loader:function(){return n.e(283).then(n.bind(null,"EAV4")).then(function(e){return e.default})},loading:function(){return null}}),m=o()({loader:function(){return n.e(284).then(n.bind(null,"qPGK")).then(function(e){return e.default})},loading:function(){return null}}),g=o()({loader:function(){return n.e(285).then(n.bind(null,"xtz9")).then(function(e){return e.default})},loading:function(){return null}}),v=o()({loader:function(){return n.e(286).then(n.bind(null,"KuZL")).then(function(e){return e.default})},loading:function(){return null}}),b=o()({loader:function(){return n.e(287).then(n.bind(null,"w07W")).then(function(e){return e.default})},loading:function(){return null}}),y=o()({loader:function(){return n.e(288).then(n.bind(null,"E+Y2")).then(function(e){return e.default})},loading:function(){return null}}),w=o()({loader:function(){return n.e(289).then(n.bind(null,"QjT+")).then(function(e){return e.default})},loading:function(){return null}}),O=o()({loader:function(){return n.e(290).then(n.bind(null,"j/b8")).then(function(e){return e.default})},loading:function(){return null}}),E=o()({loader:function(){return n.e(291).then(n.bind(null,"5TBK")).then(function(e){return e.default})},loading:function(){return null}}),x=o()({loader:function(){return n.e(292).then(n.bind(null,"8wLi")).then(function(e){return e.default})},loading:function(){return null}}),k=o()({loader:function(){return n.e(293).then(n.bind(null,"6qSJ")).then(function(e){return e.default})},loading:function(){return null}});o()({loader:function(){return Promise.resolve().then(n.bind(null,"++4t")).then(function(e){return e.default})},loading:function(){return null}})},vFnS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t=t||[];for(var n=e=e||{},r=0;r<t.length;r++)if(null==(n=n[t[r]]))return null;return n}},vJmp:function(e,t,n){"use strict";var r=n("mrSG"),o=n("q1tI"),i=n.n(o),a=n("i1yl"),s=n("1wD3"),c=n("uqSJ"),l=n("JaWS"),u=n("VUQj"),d=n("xnvq"),p=n("G0d0"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return i.a.createElement(d.a,null,i.a.createElement(u.a,{appearance:"subtle-link",spacing:"none",onClick:this.props.onClick},""),this.props.hasSeparator?i.a.createElement(p.a,null,"/"):null)},t.defaultProps={hasSeparator:!1,onClick:function(){}},t}(i.a.Component),h=n("vOnD"),m=n("JaVE"),g=n("73wN"),v=Object(m.a)({light:g.N300,dark:g.N300}),b=h.default.div(y||(y=Object(r.__makeTemplateObject)(["\n  color: ",";\n  display: flex;\n  flex-wrap: wrap;\n"],["\n  color: ",";\n  display: flex;\n  flex-wrap: wrap;\n"])),v);b.displayName="BreadcrumbsContainer";var y,w=b,O=i.a.Children.toArray,E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.renderAllItems=function(){var e=O(this.props.children);return e.map(function(t,n){return i.a.cloneElement(t,{hasSeparator:n<e.length-1})})},t.prototype.renderItemsBeforeAndAfter=function(){var e=this.props,t=e.itemsBeforeCollapse,n=e.itemsAfterCollapse;if(void 0!==t&&void 0!==n){var o=this.renderAllItems();if(t+n>=o.length)return o;var a=o.slice(0,t),s=o.slice(o.length-n,o.length);return Object(r.__spread)(a,[i.a.createElement(f,{hasSeparator:n>0,key:"ellipsis",onClick:this.props.onExpand})],s)}},t.prototype.render=function(){var e=this.props,t=e.children,n=e.isExpanded,r=e.maxItems;return t?i.a.createElement(w,null,n||r&&O(t).length<=r?this.renderAllItems():this.renderItemsBeforeAndAfter()):i.a.createElement(w,null)},t.defaultProps={isExpanded:!1,maxItems:8,itemsBeforeCollapse:1,itemsAfterCollapse:1},t}(i.a.Component),x=Object(a.a)("atlaskit"),k=Object(s.a)({componentName:"breadcrumbs",packageName:l.a,packageVersion:l.b})(Object(c.a)({onExpand:x({action:"expanded",actionSubject:"breadcrumbs",attributes:{componentName:"breadcrumbs",packageName:l.a,packageVersion:l.b}})})(E)),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isExpanded:!1},t.expand=function(){return t.setState({isExpanded:!0})},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return i.a.createElement(k,Object(r.__assign)({},this.props,{isExpanded:this.state.isExpanded,onExpand:this.expand}))},t}(i.a.Component);t.a=C},vWDt:function(e,t,n){"use strict";var r=n("mrSG"),o=n("VVu/"),i=n.n(o),a=null;n.d(t,"a",function(){return d});var s=function(e){return Object(r.__awaiter)(void 0,void 0,void 0,function(){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return[4,Object(r.__awaiter)(void 0,void 0,void 0,function(){var e,t,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:if(e=3,a)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,5]),[4,Promise.all([n.e(2),n.e(297)]).then(n.bind(null,"Vxhw"))];case 2:return t=r.sent().WorkerHasher,a=new t(e),[3,5];case 3:return r.sent(),[4,Promise.all([n.e(2),n.e(296)]).then(n.bind(null,"4bv4"))];case 4:return o=r.sent().SimpleHasher,a=new o,[3,5];case 5:return[2,a]}})})];case 1:return[2,t.sent().hash(e)]}})})},c=function(e,t){return function(n){return Object(r.__awaiter)(void 0,void 0,void 0,function(){var o,i;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,e.probeChunks(p(n),t)];case 1:return o=r.sent(),i=o.data.results,[2,Object.values(i).map(function(e){return e.exists})]}})})}},l=function(e,t){return function(n){return e.uploadChunk(n.hash,n.blob,t)}},u=function(e,t,n){var o=0;return function(i){return Object(r.__awaiter)(void 0,void 0,void 0,function(){var a,s;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return s=(a=e).appendChunksToUpload,[4,t];case 1:return[4,s.apply(a,[r.sent(),{chunks:p(i),offset:o},n])];case 2:return r.sent(),o+=i.length,[2]}})})}},d=function(e,t,n,o){var a=e.content,d=e.collection,p=e.name,f=e.mimeType,h=n.id,m=n.occurrenceKey,g=n.deferredUploadId,v=i()(a,{hashingFunction:s,hashingConcurrency:5,probingBatchSize:100,chunkSize:4194304,uploadingConcurrency:3,uploadingFunction:l(t,d),probingFunction:c(t,d),processingBatchSize:1e3,processingFunction:u(t,g,d)},{onProgress:function(e){o&&o.onProgress(e)}}),b=v.response,y=v.cancel,w=o&&o.onUploadFinish||function(){};return Promise.all([g,b]).then(function(e){var n=Object(r.__read)(e,1)[0];return Object(r.__awaiter)(void 0,void 0,void 0,function(){return Object(r.__generator)(this,function(e){switch(e.label){case 0:return[4,t.createFileFromUpload({uploadId:n,name:p,mimeType:f},{occurrenceKey:m,collection:d,replaceFileId:h})];case 1:return e.sent(),w(),[2]}})})}).catch(w),{cancel:y}},p=function(e){return e.map(function(e){return e.hash})}},viKH:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={allowCodeBlocks:{enableKeybindingsForIDE:!0},allowLists:!0,allowMentions:!0,allowTables:{isHeaderRowRequired:!0},textFormatting:{disableSuperscriptAndSubscript:!0,disableUnderline:!0},analyticsHandler:n("dluv").b}},vn11:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return c});var r=n("5oxn"),o=n("L6CB"),i=n("Wogn"),a=function(e,t){var n=t-r.b;switch(e){case"full-width":return Math.min(n,r.m)+"px";case"wide":return s(t);default:return"100%"}},s=function(e,t,n){void 0===e&&(e=r.c),void 0===t&&(t=1/0),void 0===n&&(n="100%");var a=e-r.b,s=Object(o.b)(Object(i.d)(e)),c=Math.min(Math.ceil(s*r.E),a);return s>c?n:Math.min(t,c)+"px"},c=function(e,t){var n=a(e,t);if(n.endsWith("%"))switch(e){case"full-width":return r.m;case"wide":return r.C;default:return Object(o.b)(Object(i.d)(t))}return parseInt(n,10)}},vuj9:function(e,t,n){"use strict";var r=n("mrSG"),o=(n("b/sn"),n("a9ac")),i=n("UtC1"),a=n("qa+B"),s=n("byeC"),c=n("N7ur"),l=n("Mhoe"),u=n("w9Yk"),d=n("hkcA"),p=n("mG1W");function f(e,t,n){var r=n.nodes.inlineCard,o=[t];return t.type===r&&o.push(n.text(" ")),Object(p.safeInsert)(s.Fragment.fromArray(o))(e)}n.d(t,"a",function(){return f}),n.d(t,"c",function(){return h}),n.d(t,"b",function(){return m});var h=function(e,t){return function(n,s){var p=o.b.getState(n);if(!p)return!1;var f=p.requests.filter(function(t){return t.url===e}),h=n.schema,m=h.nodes.inlineCard,g=Object(a.i)(h,t),v=n.tr;if(g){var b=f.map(function(e){return function(e,t,n,r){var o=n.nodes.inlineCard,i=r.url,a=e.mapping.map(r.pos),s=e.doc.resolve(a),l=e.doc.nodeAt(a);if(l&&l.type.isText&&l.marks.find(function(e){return"link"===e.type.name})){var u=l.text,d=u&&c.b.normalizeLinkText(i);if(!r.compareLinkText||d===u||i===u){var p=[t];return t.type===o&&p.push(n.text(" ")),e.replaceWith(a,a+(u||i).length,p),s.node(s.depth-1).type.name}}}(v,g,h,e)}).filter(function(e){return!!e});if(b.length){var y=b.every(function(e){return e===b[0]})?b[0]:"mixed",w=g.type===m?"inlineCard":"blockCard",O=r.__read(e.split("/"),3)[2];Object(u.a)(v,{action:d.a.INSERTED,actionSubject:d.b.DOCUMENT,actionSubjectId:d.c.SMART_LINK,eventType:d.d.TRACK,attributes:{inputMethod:f[0].source,nodeType:w,nodeContext:y,domainName:O}})}}return s&&s(Object(i.b)(e)(Object(l.closeHistory)(v))),!0}},m=function(e,t,n,r){void 0===r&&(r=!0);var o=e.schema.marks.link,s=[];return Object(a.h)(t,function(e,t){if(!e.isText)return!0;var i=e.marks.find(function(e){return e.type===o});if(i){if(r){var a=c.b.normalizeLinkText(i.attrs.href);if(e.text!==a&&e.text!==i.attrs.href)return!1}s.push({url:i.attrs.href,pos:t,appearance:"inline",compareLinkText:r,source:n})}return!1}),Object(i.a)(s)(t)}},w3vy:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"e",function(){return p});var r=n("b/sn"),o=n("/IjO"),i=n("UzTl"),a=n("9N/3"),s=function(e,t){return function(n,r,o){return Array.isArray(e)||(e=[e]),!e.some(function(e){return!e(n,o)})&&(t(n,r,o)||!1)}},c=function(e){var t=e.selection,n=t.empty,r=t.$from;return n&&(0===r.parentOffset||e.selection instanceof a.a)},l=function(e){var t=e.selection.$from;return!(t.depth>1)||(e.selection instanceof a.a&&0===t.parentOffset||0===t.index(t.depth-1))};function u(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}var d=function(e,t,n,r,o){var a=o.doc.type.schema.marks.code;r.type===a&&Object(i.a)(e,t,o),o.doc.nodesBetween(o.mapping.map(e),o.mapping.map(t),function(i,a){if(!i.isText)return!0;var s=Math.max(a,o.mapping.map(e)),c=Math.min(a+i.nodeSize,o.mapping.map(t));return n?o.removeMark(s,c,r):o.addMark(s,c,r),!0})},p=function(e,t){return function(n,i){var a=e.create(t);if(n.selection instanceof r.TextSelection&&n.selection.$cursor){var s=n.tr;return a.isInSet(n.storedMarks||n.selection.$cursor.marks())?s.removeStoredMark(a):s.addStoredMark(a),!!i&&(i(s),!0)}return function(e){return function(t,n){var r=t.tr;if(t.selection instanceof o.CellSelection){var i=!1,a=[];t.selection.forEachCell(function(n,r){a.push({node:n,pos:r});var o=r,s=r+n.nodeSize;i||(i=t.doc.rangeHasMark(o,s,e))});for(var s=a.length-1;s>=0;s--){var c=a[s],l=c.pos,u=l+c.node.nodeSize;d(l,u,i,e,r)}}else{var p=t.selection,f=p.$from,h=p.$to,m=t.doc.rangeHasMark(f.pos,h.pos,e);d(f.pos,h.pos,m,e,r)}return!!r.docChanged&&(n&&n(r),!0)}}(a)(n,i)}}},w9Yk:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return c});var r=n("96nE"),o=n("flnf");function i(e,t,n){var r=e.getMeta(o.a)||[];return r.push({payload:t,channel:n}),e.setMeta(o.a,r)}function a(e,t){return function(n){return function(r,o,a){return n(r,function(n){if(o)if(e instanceof Function){var a=e(r);a&&o(i(n,a,t))}else o(i(n,e,t))},a)}}}function s(e){return function(t){var n=t.handler;return t.handler=function(t,r,o,a){var s=n(t,r,o,a);s&&(s=i(s,e(t,r,o,a)));return s},t}}var c=function(e){return function(t){var n=t.payload,o=t.channel,i=void 0===o?r.d:o;return e&&e(n).fire(i)}}},wO5I:function(e,t,n){"use strict";var r,o=n("lSNA"),i=n.n(o),a=n("q1tI"),s=n.n(a),c=n("JRPe"),l=n("HTLT"),u=Object(c.e)({mergeCommit:{id:"frontbucket.mergeStrategies.mergeCommit",defaultMessage:"Merge commit"},squash:{id:"frontbucket.mergeStrategies.squash",defaultMessage:"Squash"},fastForward:{id:"frontbucket.mergeStrategies.fastForward",defaultMessage:"Fast forward"}});n.d(t,"a",function(){return d});var d=(r={},i()(r,l.a.MergeCommit,{label:s.a.createElement(c.a,u.mergeCommit),value:l.a.MergeCommit,description:"git merge --no-ff"}),i()(r,l.a.Squash,{label:s.a.createElement(c.a,u.squash),value:l.a.Squash,description:"git merge --squash"}),i()(r,l.a.FastForward,{label:s.a.createElement(c.a,u.fastForward),value:l.a.FastForward,description:"git merge --ff-only"}),r)},wWCi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sizes=void 0;t.sizes={small:"16px",medium:"24px",large:"32px",xlarge:"48px"}},wacQ:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("mrSG"),o=n("vOnD"),i=n("5oxn"),a=n("vn11");function s(e,t,n,r,o){switch(void 0===n&&(n=0),e){case"align-start":case"align-end":case"wrap-right":case"wrap-left":return t>i.l/2?"calc(50% - 12px)":t+"px";case"wide":return Object(a.c)(n);case"full-width":return Object(a.b)(e,n);default:return o?t+"px":r?function(e){return e>i.m?"100%":e+"px"}(t):function(e){return e>i.l?"100%":e+"px"}(t)}}var c,l,u=function(e){var t=e.width,n=e.layout,i=e.containerWidth,l=void 0===i?0:i,u=e.pctWidth,d=e.fullWidthMode,p=e.isResized;return Object(o.css)(c||(c=r.__makeTemplateObject(["\n  tr & {\n    max-width: 100%;\n  }\n  width: ",";\n  max-width: ",";\n  float: ",";\n  margin: ",";\n  ",";\n\n  &:not(.is-resizing) {\n    transition: width 100ms ease-in;\n  }\n"],["\n  tr & {\n    max-width: 100%;\n  }\n  width: ",";\n  max-width: ",";\n  float: ",";\n  margin: ",";\n  ",";\n\n  &:not(.is-resizing) {\n    transition: width 100ms ease-in;\n  }\n"])),u?function(e,t,n){switch(void 0===n&&(n=0),e){case"wide":return Object(a.c)(n);case"full-width":return Object(a.b)(e,n);default:return t+"px"}}(n,t,l):s(n,t,l,d,p),function(e,t){switch(e){case"wide":return Object(a.c)(t);case"full-width":return Object(a.b)(e,t);default:return"100%"}}(n,l),function(e){switch(e){case"wrap-right":return"right";case"wrap-left":return"left";default:return"none"}}(n),function(e){switch(e){case"wrap-right":return"12px auto 12px 24px";case"wrap-left":return"12px 24px 12px auto";default:return"24px auto"}}(n),function(e){switch(e){case"align-end":return"margin-right: 0";case"align-start":return"margin-left: 0";default:return""}}(n))},d=o.default.div(l||(l=r.__makeTemplateObject(["\n  ",";\n  position: relative;\n\n  &::after {\n    content: '';\n    display: block;\n    padding-bottom: ","%;\n\n    /* Fixes extra padding problem in Firefox */\n    font-size: 0;\n    line-height: 0;\n  }\n\n  & > div {\n    position: absolute;\n    height: 100%;\n  }\n"],["\n  ",";\n  position: relative;\n\n  &::after {\n    content: '';\n    display: block;\n    padding-bottom: ","%;\n\n    /* Fixes extra padding problem in Firefox */\n    font-size: 0;\n    line-height: 0;\n  }\n\n  & > div {\n    position: absolute;\n    height: 100%;\n  }\n"])),u,function(e){return e.height/e.width*100});d.displayName="WrapperMediaSingle",t.b=d},wjtU:function(e,t,n){"use strict";var r=n("mrSG"),o=n("q1tI"),i=n("GsWa"),a={width:"100%",position:"relative"},s={display:"block",position:"absolute",top:0,left:0,height:0,width:"100%",opacity:0,overflow:"hidden",pointerEvents:"none",zIndex:-1},c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.handleResize=Object(i.a)(function(){var e=t.container;if(e){var n=e.offsetWidth;t.setState({width:n}),t.props.onResize&&t.props.onResize(n)}}),t.handleContainerRef=function(e){e&&(t.container=e)},t.handleObjectRef=function(e){e&&(t.resizeObject=e)},t.handleObjectLoad=function(){t.resizeObject&&(t.resizeObjectDocument=t.resizeObject.contentDocument.defaultView,t.resizeObjectDocument.addEventListener("resize",t.handleResize),t.handleResize())},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.resizeObject&&(this.resizeObject.data="about:blank"),this.handleResize()},t.prototype.componentWillUnmount=function(){this.handleResize.cancel(),this.resizeObjectDocument&&this.resizeObjectDocument.removeEventListener("resize",this.handleResize)},t.prototype.render=function(){var e=o.createElement("object",{type:"text/html",style:s,ref:this.handleObjectRef,onLoad:this.handleObjectLoad,"aria-hidden":!0,tabIndex:-1}),t=this.props,n=t.containerStyle,i=(t.onResize,t.children),c=r.__rest(t,["containerStyle","onResize","children"]);return o.createElement("div",r.__assign({},c,{style:r.__assign({},a,n),ref:this.handleContainerRef}),i(this.state.width),e)},t.defaultProps={containerStyle:{}},t}(o.Component);t.a=c},wmfG:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});var r=n("gytx"),o=function(e,t){var n=e.tr;return e.selection.empty||n.deleteSelection(),n.setMeta(r.b,{showInsertPanelAt:n.selection.anchor}),n.scrollIntoView(),t(n),!0},i=function(e){return function(t,n){return n(t.tr.replaceSelectionWith(t.schema.nodes.placeholder.createChecked({text:e})).setMeta(r.b,{showInsertPanelAt:null}).scrollIntoView()),!0}},a=function(e,t){return t(e.tr.setMeta(r.b,{showInsertPanelAt:null})),!0}},wwut:function(e,t,n){"use strict";n.d(t,"a",function(){return A});var r=n("QILm"),o=n.n(r),i=n("lwsE"),a=n.n(i),s=n("W8MJ"),c=n.n(s),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),p=n.n(d),f=n("7W2i"),h=n.n(f),m=n("pVnL"),g=n.n(m),v=n("q1tI"),b=n.n(v),y=n("/MKj"),w=n("s8dP"),O=n("fVoa"),E=n("hwUQ"),x=n("43H1"),k=n("eRoQ"),C=n("k3RL"),S=n("QiGG"),j=n("knpt"),T=function(e,t){return e.user?b.a.createElement(E.a,g()({},t,{profileCardPosition:"bottom-start",user:e.user})):b.a.createElement(O.d,t)},M=function(e){return e.user?b.a.createElement(x.a,{key:e.user.account_id,profileCardPosition:"bottom-start",user:e.user}):b.a.createElement(O.e,{key:e.raw,rawCommitAuthor:e.raw})},_=function(e){return b.a.createElement(j.a,{fadeLinesAfterFirst:!0,renderedContent:e})},I=function(e){return b.a.createElement(S.a,g()({},e,{task:C.a.Changeset}))},P=function(e){return{isNewCommitViewEnabled:Object(k.V)(e),isMarkdownAndLinkifyCommitsEnabled:Object(k.Q)(e)}},A=Object(y.c)(P)(function(e){function t(){return a()(this,t),u()(this,p()(t).apply(this,arguments))}return h()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.isNewCommitViewEnabled,n=e.isMarkdownAndLinkifyCommitsEnabled,r=o()(e,["isNewCommitViewEnabled","isMarkdownAndLinkifyCommitsEnabled"]);return b.a.createElement(w.b,g()({linkComponent:t?I:void 0,renderAuthorAvatar:T,renderAuthorName:M,renderCommitMessage:n?_:void 0},r))}}]),t}(v.PureComponent));Object(y.c)(P)(function(e){function t(){return a()(this,t),u()(this,p()(t).apply(this,arguments))}return h()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.isNewCommitViewEnabled,n=e.isMarkdownAndLinkifyCommitsEnabled,r=o()(e,["isNewCommitViewEnabled","isMarkdownAndLinkifyCommitsEnabled"]);return b.a.createElement(w.c,g()({linkComponent:t?I:void 0,renderAuthorAvatar:T,renderAuthorName:M,renderCommitMessage:n?_:void 0},r))}}]),t}(v.PureComponent))},x4bh:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r,o=n("mrSG"),i=n("vOnD"),a=Object(i.css)(r||(r=o.__makeTemplateObject(["\n  word-wrap: break-word;\n  white-space: pre-wrap;\n"],["\n  word-wrap: break-word;\n  white-space: pre-wrap;\n"])))},x6Rn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.CaseSensitiveSanitizer=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"sanitize",value:function(e){return e?e.trim():""}}]),e}()},x9Zv:function(e,t,n){"use strict";n.d(t,"b",function(){return v}),n.d(t,"f",function(){return b}),n.d(t,"i",function(){return y}),n.d(t,"d",function(){return w}),n.d(t,"h",function(){return O}),n.d(t,"e",function(){return E}),n.d(t,"a",function(){return x}),n.d(t,"j",function(){return k}),n.d(t,"k",function(){return C}),n.d(t,"g",function(){return S}),n.d(t,"c",function(){return j});var r,o,i,a,s,c,l,u,d,p=n("mrSG"),f=n("vOnD"),h=n("gxo2"),m=n("b0Qh"),g=Object(h.l)()+"px",v=f.default.span(r||(r=p.__makeTemplateObject(["\n  display: inline-flex;\n  align-items: center;\n\n  & > div {\n    display: flex;\n  }\n"],["\n  display: inline-flex;\n  align-items: center;\n\n  & > div {\n    display: flex;\n  }\n"]))),b=f.default.span(o||(o=p.__makeTemplateObject(["\n  background: ",";\n  width: 1px;\n  height: 24px;\n  display: inline-block;\n  margin: 0 8px;\n"],["\n  background: ",";\n  width: 1px;\n  height: 24px;\n  display: inline-block;\n  margin: 0 8px;\n"])),m.colors.N30),y=f.default.span(i||(i=p.__makeTemplateObject(["\n  display: flex;\n  align-items: center;\n\n  > div,\n  > span {\n    display: flex;\n  }\n\n  > div > div {\n    display: flex;\n  }\n  margin-left: ","px;\n  min-width: ",";\n"],["\n  display: flex;\n  align-items: center;\n\n  > div,\n  > span {\n    display: flex;\n  }\n\n  > div > div {\n    display: flex;\n  }\n  margin-left: ","px;\n  min-width: ",";\n"])),function(e){return e.isSmall?4:0},function(e){return e.isSmall?"40px":"auto"}),w=f.default.span(a||(a=p.__makeTemplateObject(["\n  margin-left: -8px;\n"],["\n  margin-left: -8px;\n"]))),O=f.default.div(s||(s=p.__makeTemplateObject(["\n  display: flex;\n"],["\n  display: flex;\n"]))),E=y,x=f.default.span(c||(c=p.__makeTemplateObject(["\n  display: flex;\n  min-width: 80px;\n  height: 24px;\n  line-height: 24px;\n  align-items: center;\n  padding: ",";\n  flex-direction: column;\n"],["\n  display: flex;\n  min-width: 80px;\n  height: 24px;\n  line-height: 24px;\n  align-items: center;\n  padding: ",";\n  flex-direction: column;\n"])),function(e){return e.width?0:"0 8px"}),k=Object(f.css)(l||(l=p.__makeTemplateObject(["\n  box-shadow: 0 0 1px rgba(9, 30, 66, 0.31),\n    0 4px 8px -2px rgba(9, 30, 66, 0.25);\n"],["\n  box-shadow: 0 0 1px rgba(9, 30, 66, 0.31),\n    0 4px 8px -2px rgba(9, 30, 66, 0.25);\n"]))),C="\n  -ms-overflow-style: -ms-autohiding-scrollbar;\n\n  &::-webkit-scrollbar {\n    height: "+g+";\n    width: "+g+";\n  }\n\n  &::-webkit-scrollbar-corner {\n    display: none;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: rgba(0, 0, 0, 0);\n  }\n\n  &:hover::-webkit-scrollbar-thumb {\n    background-color: rgba(0, 0, 0, 0.2);\n    border-radius: "+g+";\n  }\n\n  &::-webkit-scrollbar-thumb:hover {\n    background-color: rgba(0, 0, 0, 0.4);\n  }\n",S=f.default.small(u||(u=p.__makeTemplateObject(["\n  color: ",";\n  margin-top: 0;\n"],["\n  color: ",";\n  margin-top: 0;\n"])),m.colors.N50),j=f.default.span(d||(d=p.__makeTemplateObject(["\n  user-select: all;\n"],["\n  user-select: all;\n"])))},xAiV:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("q1tI"),o=function(e){var t=Object(r.useRef)(null);function n(){return null===t.current&&(t.current=document.createElement("div")),t.current}return Object(r.useEffect)(function(){return(e&&document.getElementById(e)||document.body).appendChild(n()),function(){n().remove()}},[]),n()}},xPRF:function(e,t,n){"use strict";var r,o,i,a,s,c,l,u=n("mrSG"),d=n("q1tI"),p=n.n(d),f=n("grSP"),h=n("73wN"),m=n("DWq1"),g=n.n(m),v=n("425I"),b=n.n(v),y=n("Ld6T"),w=n.n(y),O=n("mER7"),E=n.n(O),x=n("epF8"),k=n.n(x),C={info:{backgroundColor:h.B50,Icon:E.a,primaryIconColor:h.B500},warning:{backgroundColor:h.Y50,Icon:g.a,primaryIconColor:h.Y500},error:{backgroundColor:h.R50,Icon:b.a,primaryIconColor:h.R500},confirmation:{backgroundColor:h.G50,Icon:w.a,primaryIconColor:h.G500},change:{backgroundColor:h.P50,Icon:k.a,primaryIconColor:h.P500}},S=n("vOnD"),j=n("gxo2"),T=n("qaq/"),M=n("Q+Jh"),_=S.default.section(r||(r=Object(u.__makeTemplateObject)(["\n  display: flex;\n  border-radius: ","px;\n  background-color: ",";\n  padding: ","px;\n"],["\n  display: flex;\n  border-radius: ","px;\n  background-color: ",";\n  padding: ","px;\n"])),j.f,function(e){return e.backgroundColor},Object(T.multiply)(j.l,2)),I=S.default.div(o||(o=Object(u.__makeTemplateObject)(["\n  flex-grow: 1;\n"],["\n  flex-grow: 1;\n"]))),P=S.default.h1(i||(i=Object(u.__makeTemplateObject)(["\n  margin: 0;\n  ",";\n"],["\n  margin: 0;\n  ",";\n"])),M.h500),A=S.default.div(a||(a=Object(u.__makeTemplateObject)(["\n  * + & {\n    margin-top: 8px;\n  }\n"],["\n  * + & {\n    margin-top: 8px;\n  }\n"]))),N=S.default.ul(s||(s=Object(u.__makeTemplateObject)(["\n  display: flex;\n  list-style: none;\n  padding-left: 0;\n  * + & {\n    margin-top: 8px;\n  }\n"],["\n  display: flex;\n  list-style: none;\n  padding-left: 0;\n  * + & {\n    margin-top: 8px;\n  }\n"]))),R=S.default.li(c||(c=Object(u.__makeTemplateObject)(["\n  align-items: center;\n  display: flex;\n  margin: 0;\n  & + &::before {\n    color: ",";\n    content: '';\n    display: inline-block;\n    text-align: center;\n    vertical-align: middle;\n    width: ","px;\n  }\n"],["\n  align-items: center;\n  display: flex;\n  margin: 0;\n  & + &::before {\n    color: ",";\n    content: '';\n    display: inline-block;\n    text-align: center;\n    vertical-align: middle;\n    width: ","px;\n  }\n"])),h.N500,Object(T.multiply)(j.l,2)),D=S.default.div(l||(l=Object(u.__makeTemplateObject)(["\n  flex: 0 0 auto;\n  width: ","px;\n  > span {\n    margin: -2px 0;\n    vertical-align: top;\n  }\n"],["\n  flex: 0 0 auto;\n  width: ","px;\n  > span {\n    margin: -2px 0;\n    vertical-align: top;\n  }\n"])),Object(T.multiply)(j.l,5)),L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderAction=function(e,t){var n=e.href,r=e.key,o=e.onClick,i=e.text;return p.a.createElement(R,{key:r},o||n?p.a.createElement(f.a,{appearance:"link",spacing:"none",onClick:o,href:n,component:t},i):i)},t}return Object(u.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.children,r=t.title,o=t.actions,i=t.appearance,a=t.icon,s=t.linkComponent,c=C[i]||C.info,l=a||c.Icon;return p.a.createElement(_,{backgroundColor:c.backgroundColor},p.a.createElement(D,null,p.a.createElement(l,{primaryColor:c.primaryIconColor,secondaryColor:c.backgroundColor})),p.a.createElement(I,null,r?p.a.createElement(P,null,r):null,n?p.a.createElement(A,null,n):null,o&&o.length?p.a.createElement(N,null,o.map(function(t){return e.renderAction(t,s)})):null))},t.defaultProps={appearance:"info"},t}(p.a.Component);t.a=L},xRS3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M14 16h-4s0-.5-1-2-2.5-3-2.5-5S7 4 12 4s5.5 3 5.5 5-1.5 3.5-2.5 5-1 2-1 2zm-4 1h4v1l-1.5 2h-1L10 18v-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorHintIcon";var c=s;t.default=c},xTiA:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var r={width:156,height:125},o={width:435,height:125},i={width:300,height:300},a=function(e){return"image"===e?r:"square"===e?i:"horizontal"===e?o:r}},xc5p:function(e,t,n){"use strict";var r,o=n("mrSG"),i=n("q1tI"),a=n("QatU"),s=n("KbTZ"),c=n("vOnD"),l=n("b0Qh"),u=n("gxo2"),d=c.default.div(r||(r=o.__makeTemplateObject(["\n  align-items: center;\n  background: ",";\n  border: 1px dashed ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  cursor: default;\n  display: block;\n  font-size: 13px;\n  margin: 10px 0;\n  min-height: 24px;\n  padding: 10px;\n  text-align: center;\n  user-select: all;\n  vertical-align: text-bottom;\n  white-space: nowrap;\n\n  '&.ProseMirror-selectednode' {\n    background: ",";\n    outline: none;\n  }\n"],["\n  align-items: center;\n  background: ",";\n  border: 1px dashed ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  cursor: default;\n  display: block;\n  font-size: 13px;\n  margin: 10px 0;\n  min-height: 24px;\n  padding: 10px;\n  text-align: center;\n  user-select: all;\n  vertical-align: text-bottom;\n  white-space: nowrap;\n\n  '&.ProseMirror-selectednode' {\n    background: ",";\n    outline: none;\n  }\n"])),l.colors.N30,l.colors.N50,Object(u.f)(),l.colors.N50),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){return i.createElement(d,null,"Unsupported content")},t}(i.Component),f=n("Wogn"),h=n("L6CB"),m=n("byeC"),g=n("YH6B"),v={DOCUMENT:"ak-renderer-document",EXTENSION:"ak-renderer-extension",EXTENSION_OVERFLOW_CONTAINER:"ak-renderer-extension-overflow-container",NUMBER_COLUMN:"ak-renderer-table-number-column"};function b(e){return i.createElement("div",{className:v.DOCUMENT},e.children)}var y=n("Aood"),w=n("HPDH"),O=n("vn11"),E=function(e,t,n){return i.createElement(f.b,null,function(r){var o=r.width;return i.createElement("div",{ref:n&&n.handleRef,className:v.EXTENSION+" "+(n&&n.shadowClassNames),style:{width:Object(O.b)(t,o)},"data-layout":t},i.createElement("div",{className:v.EXTENSION_OVERFLOW_CONTAINER},e))})},x=Object(w.a)(function(e){var t=e.serializer,n=e.extensionHandlers,r=e.rendererContext,o=e.extensionType,a=e.extensionKey,s=e.text,c=e.parameters,l=e.layout,u=void 0===l?"default":l,d=e.handleRef,p=e.shadowClassNames;try{if(n&&n[o]){var f=n[o]({type:"extension",extensionKey:a,extensionType:o,parameters:c,content:s},r.adDoc);switch(!0){case f&&i.isValidElement(f):return E(f,u,{handleRef:d,shadowClassNames:p});case!!f:var h=Array.isArray(f)?f:[f];return Object(y.b)(h,t,r.schema,"div")}}}catch(e){}return E(s||"extension",u,{handleRef:d,shadowClassNames:p})},{overflowSelector:"."+v.EXTENSION_OVERFLOW_CONTAINER}),k=function(e){var t=e.serializer,n=e.extensionHandlers,r=e.rendererContext,o=e.extensionType,a=e.extensionKey,s=e.content,c=e.parameters,l=e.children,u=e.layout,d=void 0===u?"default":u;try{if(n&&n[o]){var p=n[o]({type:"bodiedExtension",extensionKey:a,extensionType:o,parameters:c,content:s},r.adDoc);switch(!0){case p&&i.isValidElement(p):return E(p,d);case!!p:var f=Array.isArray(p)?p:[p];return Object(y.b)(f,t,r.schema,"div")}}}catch(e){}return E(l,d)},C=n("RRdR");var S=n("ZerX");function j(e){return e}var T,M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.language,r=e.handleRef,a=e.shadowClassNames,s={language:n,text:i.Children.map(t,j).join("")};return i.createElement("div",{className:"code-block "+a,ref:r},i.createElement(S.a,o.__assign({},s)))},t}(i.PureComponent),_=Object(w.a)(M,{overflowSelector:"span",scrollableSelector:"code"}),I=c.default.ol(T||(T=o.__makeTemplateObject(["\n  /*\n    Increasing specificity with double ampersand to ensure these rules take\n    priority over the global styles applied to 'ol' elements.\n  */\n  && {\n    list-style-type: none;\n    padding-left: 0;\n  }\n"],["\n  /*\n    Increasing specificity with double ampersand to ensure these rules take\n    priority over the global styles applied to 'ol' elements.\n  */\n  && {\n    list-style-type: none;\n    padding-left: 0;\n  }\n"]))),P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props.children;return e?i.createElement(I,{"data-decision-list-local-id":""},i.Children.map(e,function(e,t){return i.createElement("li",{key:t,"data-decision-local-id":"","data-decision-state":"DECIDED"},e)})):null},t}(i.PureComponent),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props.children;return 0===i.Children.count(e)?null:i.createElement(P,null,e)},t}(i.PureComponent);function N(e){var t=e.children;return i.Children.toArray(t).length?t:i.createElement(i.Fragment,null,"")}var R=function(e){var t=e.serializer,n=e.extensionHandlers,r=e.rendererContext,o=e.extensionType,a=e.extensionKey,s=e.parameters,c=e.text;try{if(n&&n[o]){var l=n[o]({type:"inlineExtension",extensionKey:a,extensionType:o,parameters:s,content:c},r.adDoc);switch(!0){case l&&i.isValidElement(l):return i.createElement("span",null,l);case!!l:var u=Array.isArray(l)?l:[l];return Object(y.b)(u,t,r.schema,"span")}}}catch(e){}return i.createElement("span",null,c||"inlineExtension")};var D,L,z=n("l0Hi"),B=n("5oxn"),F=n("JaVE"),q=n("x4bh"),W=n("YBVB"),U=n("qS+/"),H=n("MGaF"),V=n("MqYR"),G=n("Pgp1"),K=n("iExR"),$=n("fqLF"),J=n("ujrx"),Y=n("O7OB"),Q=n("TYyE"),X=n("uSgc"),Z=n("82gI"),ee=n("PyW4"),te=c.default.div(D||(D=o.__makeTemplateObject(["\n  font-size: ","px;\n  line-height: 24px;\n  color: ",";\n\n  ","\n  ","\n\n  & span.akActionMark {\n    color: ",";\n    text-decoration: none;\n\n    &:hover {\n      color: ",";\n      text-decoration: underline;\n    }\n  }\n\n  & span.akActionMark {\n    cursor: pointer;\n  }\n\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n\n  & .UnknownBlock {\n    font-family: ",";\n    font-size: ",";\n    font-weight: 400;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n  }\n\n  & span.date-node {\n    background: ",";\n    border-radius: ","px;\n    color: ",";\n    padding: 2px 4px;\n    margin: 0 1px;\n    transition: background 0.3s;\n    white-space: nowrap;\n  }\n\n  & span.date-node-highlighted {\n    background: ",";\n    color: ",";\n  }\n\n  & .renderer-image {\n    max-width: 100%;\n    display: block;\n    margin: ","px 0;\n  }\n\n  .media-single.media-wrapped + .media-single:not(.media-wrapped) {\n    clear: both;\n  }\n\n  & .code-block,\n  & blockquote,\n  & hr,\n  & > div > div:not(.media-wrapped),\n  .media-single.media-wrapped + .media-wrapped + *:not(.media-wrapped),\n  .media-single.media-wrapped + div:not(.media-wrapped) {\n    clear: both;\n  }\n\n  & .media-wrapped {\n    & + h1,\n    & + h2,\n    & + h3,\n    & + h4,\n    & + h5,\n    & + h6 {\n      margin-top: 8px;\n    }\n  }\n\n  "," &\n  div[class^='image-wrap-'] + div[class^='image-wrap-'] {\n    margin-left: 0;\n    margin-right: 0;\n  }\n\n  /* Breakout for tables and extensions */\n  ."," > {\n    .","[data-layout='full-width'],\n    .","[data-layout='wide'],\n    .","[data-layout='wide'],\n    .","[data-layout='full-width']   {\n      margin-left: 50%;\n      transform: translateX(-50%);\n    }\n    * .",",\n    * ."," {\n      width: 100% !important;\n    }\n\n    * ."," {\n      overflow-x: auto;\n    }\n  }\n\n    ."," {\n      overflow-x: auto;\n    }\n\n  ","\n\n  ."," {\n    z-index: 0;\n    transition: all 0.1s linear;\n\n    /** Shadow overrides */\n    &.","::after, &.","::before {\n      top: ","px;\n      height: calc(100% - ","px);\n    }\n\n    table {\n      ",";\n      margin-left: 0;\n      margin-right: 0;\n    }\n\n    table[data-number-column='true'] {\n      ."," {\n        background-color: ",";\n        border-right: 1px solid ",";\n        width: ","px;\n        text-align: center;\n        color: ",";\n        font-size: ","px;\n      }\n    }\n  }\n\n  /*\n   * We wrap CodeBlock in a grid to prevent it from overflowing the container of the renderer.\n   * See ED-4159.\n   */\n  & .code-block {\n    max-width: 100%;\n    /* -ms- properties are necessary until MS supports the latest version of the grid spec */\n    /* stylelint-disable value-no-vendor-prefix, declaration-block-no-duplicate-properties */\n    display: -ms-grid;\n    display: grid;\n    -ms-grid-columns: auto 1fr;\n    /* stylelint-enable */\n\n    grid-template-columns: minmax(0, 1fr);\n    position: relative;\n\n    /*\n     * The overall renderer has word-wrap: break; which causes issues with\n     * code block line numbers in Safari / iOS.\n     */\n    word-wrap: normal;\n\n    & > span {\n      /* stylelint-disable value-no-vendor-prefix */\n      -ms-grid-row: 1;\n      -ms-grid-column: 2;\n      /* stylelint-enable */\n      grid-column: 1;\n    }\n  }\n\n  & .MediaGroup,\n  & .code-block {\n    margin-top: ",";\n\n    &:first-child {\n      margin-top: 0;\n    }\n  }\n\n  ",";\n  & [data-layout-section] {\n    margin-top: ","px;\n    & > div + div {\n      margin-left: ","px;\n    }\n\n    @media screen and (max-width: ","px) {\n      & > div + div {\n        margin-left: 0;\n      }\n    }\n  }\n"],["\n  font-size: ","px;\n  line-height: 24px;\n  color: ",";\n\n  ","\n  ","\n\n  & span.akActionMark {\n    color: ",";\n    text-decoration: none;\n\n    &:hover {\n      color: ",";\n      text-decoration: underline;\n    }\n  }\n\n  & span.akActionMark {\n    cursor: pointer;\n  }\n\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n\n  & .UnknownBlock {\n    font-family: ",";\n    font-size: ",";\n    font-weight: 400;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n  }\n\n  & span.date-node {\n    background: ",";\n    border-radius: ","px;\n    color: ",";\n    padding: 2px 4px;\n    margin: 0 1px;\n    transition: background 0.3s;\n    white-space: nowrap;\n  }\n\n  & span.date-node-highlighted {\n    background: ",";\n    color: ",";\n  }\n\n  & .renderer-image {\n    max-width: 100%;\n    display: block;\n    margin: ","px 0;\n  }\n\n  .media-single.media-wrapped + .media-single:not(.media-wrapped) {\n    clear: both;\n  }\n\n  & .code-block,\n  & blockquote,\n  & hr,\n  & > div > div:not(.media-wrapped),\n  .media-single.media-wrapped + .media-wrapped + *:not(.media-wrapped),\n  .media-single.media-wrapped + div:not(.media-wrapped) {\n    clear: both;\n  }\n\n  & .media-wrapped {\n    & + h1,\n    & + h2,\n    & + h3,\n    & + h4,\n    & + h5,\n    & + h6 {\n      margin-top: 8px;\n    }\n  }\n\n  "," &\n  div[class^='image-wrap-'] + div[class^='image-wrap-'] {\n    margin-left: 0;\n    margin-right: 0;\n  }\n\n  /* Breakout for tables and extensions */\n  ."," > {\n    .","[data-layout='full-width'],\n    .","[data-layout='wide'],\n    .","[data-layout='wide'],\n    .","[data-layout='full-width']   {\n      margin-left: 50%;\n      transform: translateX(-50%);\n    }\n    * .",",\n    * ."," {\n      width: 100% !important;\n    }\n\n    * ."," {\n      overflow-x: auto;\n    }\n  }\n\n    ."," {\n      overflow-x: auto;\n    }\n\n  ","\n\n  ."," {\n    z-index: 0;\n    transition: all 0.1s linear;\n\n    /** Shadow overrides */\n    &.","::after, &.","::before {\n      top: ","px;\n      height: calc(100% - ","px);\n    }\n\n    table {\n      ",";\n      margin-left: 0;\n      margin-right: 0;\n    }\n\n    table[data-number-column='true'] {\n      ."," {\n        background-color: ",";\n        border-right: 1px solid ",";\n        width: ","px;\n        text-align: center;\n        color: ",";\n        font-size: ","px;\n      }\n    }\n  }\n\n  /*\n   * We wrap CodeBlock in a grid to prevent it from overflowing the container of the renderer.\n   * See ED-4159.\n   */\n  & .code-block {\n    max-width: 100%;\n    /* -ms- properties are necessary until MS supports the latest version of the grid spec */\n    /* stylelint-disable value-no-vendor-prefix, declaration-block-no-duplicate-properties */\n    display: -ms-grid;\n    display: grid;\n    -ms-grid-columns: auto 1fr;\n    /* stylelint-enable */\n\n    grid-template-columns: minmax(0, 1fr);\n    position: relative;\n\n    /*\n     * The overall renderer has word-wrap: break; which causes issues with\n     * code block line numbers in Safari / iOS.\n     */\n    word-wrap: normal;\n\n    & > span {\n      /* stylelint-disable value-no-vendor-prefix */\n      -ms-grid-row: 1;\n      -ms-grid-column: 2;\n      /* stylelint-enable */\n      grid-column: 1;\n    }\n  }\n\n  & .MediaGroup,\n  & .code-block {\n    margin-top: ",";\n\n    &:first-child {\n      margin-top: 0;\n    }\n  }\n\n  ",";\n  & [data-layout-section] {\n    margin-top: ","px;\n    & > div + div {\n      margin-left: ","px;\n    }\n\n    @media screen and (max-width: ","px) {\n      & > div + div {\n        margin-left: 0;\n      }\n    }\n  }\n"])),B.F,Object(F.a)({light:l.colors.N800,dark:"#B8C7E0"}),function(e){var t=e.theme,n=e.appearance;return"full-page"!==n&&"mobile"!==n?"":"\n    max-width: "+(t&&t.layoutMaxWidth?t.layoutMaxWidth+"px":"none")+";\n    margin: 0 auto;\n    padding: 0 "+("full-page"===n?32:0)+"px;\n  "},function(e){return"full-width"!==e.appearance?"":"\n  max-width: 1800px;\n\n  .fabric-editor-breakout-mark,\n  .pm-table-container,\n  .ak-renderer-extension {\n    width: 100% !important;\n  }\n  "},l.colors.B400,l.colors.B300,q.a,W.a,U.a,H.b,V.a,G.a,K.a,$.a,J.a,Y.a,Q.a,Object(u.i)(),Object(u.j)(),l.colors.N30A,Object(u.f)(),l.colors.N800,l.colors.R50,l.colors.R500,3*Object(u.l)(),X.a,v.DOCUMENT,Z.a.TABLE_CONTAINER,Z.a.TABLE_CONTAINER,v.EXTENSION,v.EXTENSION,Z.a.TABLE_CONTAINER,v.EXTENSION,v.EXTENSION_OVERFLOW_CONTAINER,Z.a.TABLE_NODE_WRAPPER,Z.i,Z.a.TABLE_CONTAINER,w.b.RIGHT_SHADOW,w.b.LEFT_SHADOW,Z.f-1,Z.f,function(e){return"mobile"===e.appearance?"table-layout: auto":""},v.NUMBER_COLUMN,B.y,B.s,B.x,l.colors.N200,Object(u.j)(),B.D,ee.a,2.5*Object(u.l)(),4*Object(u.l)(),B.G),ne=Object(c.default)(z.c)(L||(L=o.__makeTemplateObject(["\n  "," transition: all 0.1s linear;\n"],["\n  "," transition: all 0.1s linear;\n"])),function(e){var t=e.layout;return"full-width"===t||"wide"===t?"\n  margin-left: 50%;\n  transform: translateX(-50%);\n  ":""}),re=function(e){function t(t){var n=e.call(this,t)||this;return n.onExternalImageLoaded=function(e){var t=e.width,r=e.height;n.setState({width:t,height:r})},n.state={},n}return o.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=i.Children.only(i.Children.toArray(t.children)[0]),r=n.props,o=r.width,a=r.height;if("external"===r.type){var s=this.state,c=s.width,l=s.height;null===o&&(o=c||250),null===a&&(a=l||200)}null===o&&(o=250,a=200);var u="full-page"===this.props.rendererAppearance?64:0;return i.createElement(f.b,null,function(r){var s=r.width,c=r.breakpoint,l={width:s+"px",height:a/o*s+"px"},d="full-width"===e.props.rendererAppearance,p=s-u>=B.l?e.props.allowDynamicTextSizing?Object(h.b)(c):B.l:s-u,f=d?s-u:p;return i.createElement(ne,{layout:t.layout,width:o,height:a,containerWidth:s,lineLength:f,pctWidth:t.width},i.cloneElement(n,{resizeMode:"stretchy-fit",cardDimensions:l,onExternalImageLoaded:e.onExternalImageLoaded,disableOverlay:!0}))})},t}(i.Component),oe=n("R30j");var ie=n("3TM1"),ae=n.n(ie),se=n("GOZ2"),ce=n.n(se),le=n("U6sC"),ue=n.n(le),de=n("W3cR"),pe=n.n(de),fe=n("EyNd"),he=n.n(fe),me=n("+Nu7"),ge=n.n(me),ve=l.colors.G50,be=l.colors.G400,ye=l.colors.P50,we=l.colors.P400,Oe=l.colors.B400,Ee=l.colors.Y50,xe=l.colors.B50,ke=l.colors.Y400,Ce=l.colors.R50,Se=l.colors.R400,je={info:{icon:ae.a,background:xe,iconColor:Oe},note:{icon:he.a,background:ye,iconColor:we},tip:{icon:ce.a,background:ve,iconColor:be},success:{icon:ue.a,background:ve,iconColor:be},warning:{icon:ge.a,background:Ee,iconColor:ke},error:{icon:pe.a,background:Ce,iconColor:Se}},Te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.panelType,n=e.children;return i.createElement("div",{style:{background:je[t].background},className:"ak-editor-panel","data-panel-type":t},i.createElement("span",{style:{color:je[t].iconColor},className:"ak-editor-panel__icon"},this.getIcon()),i.createElement("div",{className:"ak-editor-panel__content"},n))},t.prototype.getIcon=function(){var e=this.props.panelType,t=je[e].icon;return i.createElement(t,{label:"Panel "+e})},t}(i.PureComponent);var Me=n("6m61"),_e=n("oKGv"),Ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={resolvedContextProvider:void 0},t}return o.__extends(t,e),t.prototype.componentWillMount=function(){this.updateContextIdentifierProvider(this.props)},t.prototype.componentWillReceiveProps=function(e){e.contextIdentifierProvider!==this.props.contextIdentifierProvider&&this.updateContextIdentifierProvider(e)},t.prototype.updateContextIdentifierProvider=function(e){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(n){switch(n.label){case 0:if(!e.contextIdentifierProvider)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.contextIdentifierProvider];case 2:return t=n.sent(),this.setState({resolvedContextProvider:t}),[3,4];case 3:return n.sent(),this.setState({resolvedContextProvider:void 0}),[3,4];case 4:return[3,6];case 5:this.setState({resolvedContextProvider:void 0}),n.label=6;case 6:return[2]}})})},t.prototype.render=function(){var e=this.props,t=(e.contextIdentifierProvider,e.objectAri),n=e.containerAri,r=o.__rest(e,["contextIdentifierProvider","objectAri","containerAri"]),a=this.state.resolvedContextProvider||{objectId:t,containerId:n},s=a.objectId,c=a.containerId;return i.createElement(_e.a,o.__assign({},r,{objectAri:s,containerAri:c}))},t}(i.Component),Pe=n("HQ3m"),Ae=function(e){function t(t){var n=e.call(this,t)||this;return n.renderWithProvider=function(e){var t=e.taskDecisionProvider,r=e.contextIdentifierProvider,o=n.props,a=o.children,s=o.localId,c=o.state,l=o.rendererContext,u="",d="";return l&&(u=l.objectAri||"",d=l.containerAri||""),i.createElement(Pe.e,{data:{userContext:"document"}},i.createElement(Ie,{objectAri:u,containerAri:d,taskId:s,isDone:"DONE"===c,taskDecisionProvider:t,contextIdentifierProvider:r},a))},n.providerFactory=t.providers||new s.a,n}return o.__extends(t,e),t.prototype.componentWillUnmount=function(){this.props.providers||this.providerFactory.destroy()},t.prototype.render=function(){return i.createElement(Me.a,{providers:["taskDecisionProvider","contextIdentifierProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})},t}(i.PureComponent),Ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.listId,n=e.children,r=i.Children.count(n);return n?i.createElement(I,{"data-task-list-local-id":""},i.Children.map(n,function(e,n){return i.createElement(Pe.e,{data:{listLocalId:t,listSize:r,position:n}},i.createElement("li",{key:n,"data-task-local-id":""},e))})):null},t}(i.PureComponent),Re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.localId;return 0===i.Children.count(t)?null:i.createElement(Ne,{listId:n},t)},t}(i.PureComponent),De=function(e){var t={};e.background&&(t.backgroundColor=e.background);var n={};return e.colwidth&&Array.isArray(e.colwidth)&&(n["data-colwidth"]=e.colwidth.join(",")),i.createElement("th",o.__assign({style:t,rowSpan:e.rowspan,colSpan:e.colspan},n),e.children)},Le=.15,ze=function(e){var t=e.renderWidth,n=e.tableWidth,r=e.maxScale,o=1-t/n;return o<r?o:r},Be=function(e){var t=function(e){if(!e.length)return!1;var t=e[0].props.children;return!!t.length&&t[0].type===De}(e);return i.Children.map(e,function(e,n){return i.cloneElement(i.Children.only(e),{isNumberColumnEnabled:!0,index:t?0===n?"":n:n+1})})},Fe=function(e,t){switch(e){case"full-width":return B.m;case"wide":return B.C;default:return t&&t.isDynamicTextSizingEnabled&&t.containerWidth?Object(h.b)(Object(f.d)(t.containerWidth)):B.c}},qe=function(e){return!!e.filter(function(e){return 0!==e}).length},We=function(e,t,n,r,o){return 0===e?e:0===r&&o?Math.floor((1-o)*e):Math.max(e-Z.c,r?B.w:Z.d)},Ue=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderColgroup=function(){var e=t.props,n=e.columnWidths,r=e.layout,o=e.isNumberColumnEnabled,a=e.renderWidth,s=e.allowDynamicTextSizing;if(!n||!qe(n))return null;var c=Fe(r,{isDynamicTextSizingEnabled:s,containerWidth:a}),l=a<c?a:c;"default"===r&&(a=Math.min(a,c));var u=o?B.x:0,d=u,p=0;n.forEach(function(e){e?u+=Math.ceil(e):p+=1,d+=Math.ceil(e)||B.w});var f=0,h=0;if(p>0){if(d>l){var m=Math.ceil((l-u)/p);f=m<B.w?B.w:m}}else a<u&&(h=ze({renderWidth:a,tableWidth:u,maxScale:Le}));return i.createElement("colgroup",null,o&&i.createElement("col",{style:{width:B.x}}),n.map(function(e,t){var n=We(e,d,l,p,h)||f,r=n?{width:n+"px"}:{};return i.createElement("col",{key:t,style:r})}))},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.isNumberColumnEnabled,n=e.layout,r=e.children,o=e.renderWidth;return i.createElement("div",{className:Z.a.TABLE_CONTAINER+" "+this.props.shadowClassNames,"data-layout":n,ref:this.props.handleRef,style:{width:Object(Z.b)(n,o,!1)}},i.createElement("div",{className:Z.a.TABLE_NODE_WRAPPER},i.createElement("table",{"data-number-column":t},this.renderColgroup(),i.createElement("tbody",null,t?Be(i.Children.toArray(r)):r))))},t}(i.Component),He=Object(w.a)(Ue,{overflowSelector:"."+Z.a.TABLE_NODE_WRAPPER}),Ve=function(e){return i.createElement(f.b,null,function(t){var n=t.width,r="full-page"===e.rendererAppearance?n-64:n;return i.createElement(He,o.__assign({renderWidth:r},e))})},Ge=n("FPHD"),Ke=function(e){var t={};if(e.background){var n=Object(Ge.a)(e.background,B.u);t["background-color"]=n}var r={};return e.colwidth&&(r["data-colwidth"]=e.colwidth.join(",")),i.createElement("td",o.__assign({style:t,rowSpan:e.rowspan,colSpan:e.colspan},r),e.children)},$e=function(e){return i.createElement("tr",null,e.isNumberColumnEnabled&&i.createElement("td",{className:v.NUMBER_COLUMN},e.index),e.children)};var Je=n("CnBM"),Ye=n.n(Je),Qe=Ye()({loader:function(){return n.e(40).then(n.bind(null,"+ONB")).then(function(e){return e.default})},loading:function(){return null}}),Xe=Ye()({loader:function(){return n.e(39).then(n.bind(null,"ufw8")).then(function(e){return e.default})},loading:function(){return null}}),Ze=Ye()({loader:function(){return n.e(46).then(n.bind(null,"yWpT")).then(function(e){return e.default})},loading:function(){return null}}),et=Ye()({loader:function(){return n.e(41).then(n.bind(null,"i3VA")).then(function(e){return e.default})},loading:function(){return null}}),tt=Ye()({loader:function(){return n.e(42).then(n.bind(null,"VMb+")).then(function(e){return e.default})},loading:function(){return null}}),nt={blockquote:function(e){return i.createElement("blockquote",null,e.children)},bulletList:function(e){return i.createElement("ul",{className:C.b.substr(1)},e.children)},blockCard:Ye()({loader:function(){return n.e(38).then(n.bind(null,"t+ow")).then(function(e){return e.default})},loading:function(){return null}}),codeBlock:_,date:Xe,decisionItem:Qe,decisionList:A,doc:b,emoji:et,extension:x,bodiedExtension:k,hardBreak:function(){return i.createElement("br",null)},heading:function(e){var t=e.level,n=e.children,r=e.headingId,o="h"+t;return i.createElement(o,{id:r},i.createElement(N,null,n))},image:function(e){return i.createElement("img",{className:"renderer-image",src:e.src,alt:e.alt,title:e.title})},inlineCard:tt,inlineExtension:R,layoutSection:function(e){return i.createElement("div",{"data-layout-section":!0},e.children)},layoutColumn:function(e){return i.createElement("div",{"data-layout-column":!0,"data-column-width":e.width,style:{flexBasis:e.width+"%"}},e.children)},listItem:function(e){return i.createElement("li",null,e.children)},media:Ye()({loader:function(){return n.e(43).then(n.bind(null,"Fb7L")).then(function(e){return e.default})},loading:function(){return null}}),mediaGroup:Ye()({loader:function(){return n.e(44).then(n.bind(null,"D53F")).then(function(e){return e.default})},loading:function(){return null}}),mediaSingle:re,mention:Ye()({loader:function(){return n.e(45).then(n.bind(null,"rMQs")).then(function(e){return e.default})},loading:function(){return null}}),orderedList:function(e){return i.createElement("ol",{className:oe.b.substr(1),start:e.start},e.children)},panel:Te,paragraph:function(e){var t=e.children;return i.createElement("p",null,i.createElement(N,null,t))},placeholder:function(){return i.createElement("span",null)},rule:function(){return i.createElement("hr",null)},status:Ze,taskItem:Ae,taskList:Re,table:Ve,tableCell:Ke,tableHeader:De,tableRow:$e,unknownBlock:function(e){return i.createElement("div",{className:"UnknownBlock"},e.children)}},rt=function(e){return"text"===e},ot=function(e){return"textWrapper"===e.type.name};var it,at=c.default.a(it||(it=o.__makeTemplateObject(["\n  color: ",";\n\n  &:hover {\n    color: ",";\n    text-decoration: underline;\n  }\n"],["\n  color: ",";\n\n  &:hover {\n    color: ",";\n    text-decoration: underline;\n  }\n"])),l.colors.B400,l.colors.B300);var st=function(e){return"sub"===e};var ct,lt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(){t.props.eventHandlers&&t.props.eventHandlers.action&&t.props.eventHandlers.action.onClick&&t.props.eventHandlers.action.onClick({key:t.props.markKey,target:t.props.target,parameters:t.props.parameters})},t}return o.__extends(t,e),t.prototype.render=function(){return i.createElement("span",{className:"akActionMark",onClick:this.onClick},this.props.children)},t}(i.PureComponent),ut=c.default.div(ct||(ct=o.__makeTemplateObject(["\n  margin: "," 0;\n  margin-left: 50%;\n  transform: translateX(-50%);\n"],["\n  margin: "," 0;\n  margin-left: 50%;\n  transform: translateX(-50%);\n"])),B.D);var dt,pt,ft=n("6ioE"),ht=c.default.div(pt||(pt=o.__makeTemplateObject(["\n  ",";\n"],["\n  ",";\n"])),function(e){return e["data-align"]&&Object(c.css)(dt||(dt=o.__makeTemplateObject(["\n      text-align: ",";\n    "],["\n      text-align: ",";\n    "])),ft.b[e["data-align"]])});var mt={code:function(e){return i.createElement("span",{className:"code"},e.children)},em:function(e){return i.createElement("em",null,e.children)},link:function(e){var t=e.href,n=e.target,r=e.eventHandlers,a={href:t,target:n,title:t};"_blank"===n&&(a.rel="noreferrer noopener");var s=Object(g.a)(r,"link");return i.createElement(at,o.__assign({onClick:function(e){s&&s(e,t)}},a),e.children)},strike:function(e){return i.createElement("span",{style:{textDecoration:"line-through"}},e.children)},strong:function(e){return i.createElement("strong",null,e.children)},subsup:function(e){return st(e.type)?i.createElement("sub",null,e.children):i.createElement("sup",null,e.children)},textColor:function(e){return i.createElement("span",{style:{color:e.color}},e.children)},underline:function(e){return i.createElement("u",null,e.children)},action:lt,annotation:function(e){var t=e.id,n=e.annotationType,r=e.children;return i.createElement("span",{"data-mark-type":"annotation","data-mark-annotation-type":n,"data-id":t},r)},confluenceInlineComment:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.reference,n=e.children;return i.createElement("span",{"data-mark-type":"confluenceInlineComment","data-reference":t},n)},t}(i.Component),breakout:function(e){return i.createElement(f.b,null,function(t){var n=t.width;return i.createElement(ut,{"data-mode":e.mode,style:{width:Object(O.b)(e.mode,n)},className:"fabric-editor-breakout-mark"},e.children)})},alignment:function(e){return i.createElement(ht,{className:"fabric-editor-block-mark","data-align":e.align},e.children)},indentation:function(e){return i.createElement("div",{className:"fabric-editor-block-mark fabric-editor-indentation-mark","data-level":e.level},e.children)}},gt=function(e){return mt[e.type.name]},vt=n("5Ix2"),bt=n("iS3C");var yt,wt=function(){function e(e){var t=e.providers,n=e.eventHandlers,r=e.extensionHandlers,o=e.portal,i=e.objectContext,a=e.appearance,s=e.disableHeadingIDs,c=e.allowDynamicTextSizing;this.headingIds=[],this.providers=t,this.eventHandlers=n,this.extensionHandlers=r,this.portal=o,this.rendererContext=i,this.appearance=a,this.disableHeadingIDs=s,this.allowDynamicTextSizing=c}return e.prototype.resetState=function(){this.headingIds=[]},e.prototype.serializeFragment=function(t,n,r,o,i){var a=this;void 0===n&&(n={}),void 0===r&&(r=b),void 0===o&&(o="root-0"),"root-0"===o&&this.resetState();var s=e.getChildNodes(t).map(function(e,t){if(ot(e))return a.serializeTextWrapper(e.content);var n;n="table"===e.type.name?a.getTableProps(e):"date"===e.type.name?a.getDateProps(e,i):"heading"===e.type.name?a.getHeadingProps(e):a.getProps(e);var r=i;"taskItem"===e.type.name&&"DONE"!==e.attrs.state&&(r={parentIsIncompleteTask:!0});var o=a.serializeFragment(e.content,n,function(e){return nt[e.type.name]}(e),e.type.name+"-"+t,r);return e.marks&&e.marks.length?[].concat(e.marks).reverse().reduce(function(e,n){return a.renderMark(gt(n),a.getMarkProps(n),n.type.name+"-"+t,e)},o):o});return this.renderNode(r,n,o,s)},e.prototype.serializeTextWrapper=function(t){var n=this;return e.buildMarkStructure(t).map(function(e,t){return n.serializeMark(e,t)})},e.prototype.serializeMark=function(e,t){var n=this;if(void 0===t&&(t=0),"text"===e.type.name)return e.text;var r=(e.content||[]).map(function(e,t){return n.serializeMark(e,t)});return this.renderMark(gt(e),this.getMarkProps(e),e.type.name+"-"+t,r)},e.prototype.renderNode=function(e,t,n,r){return i.createElement(e,o.__assign({key:n},t),r)},e.prototype.renderMark=function(e,t,n,r){return i.createElement(e,o.__assign({key:n},t),r)},e.prototype.getTableProps=function(e){return o.__assign({},this.getProps(e),{columnWidths:Object(vt.a)(e)})},e.prototype.getDateProps=function(e,t){return{timestamp:e.attrs&&e.attrs.timestamp,parentIsIncompleteTask:t&&t.parentIsIncompleteTask}},e.prototype.getProps=function(e){return o.__assign({text:e.text,providers:this.providers,eventHandlers:this.eventHandlers,extensionHandlers:this.extensionHandlers,portal:this.portal,rendererContext:this.rendererContext,serializer:this,content:e.content?e.content.toJSON():void 0,allowDynamicTextSizing:this.allowDynamicTextSizing,rendererAppearance:this.appearance},e.attrs)},e.prototype.getHeadingProps=function(e){return o.__assign({},e.attrs,{content:e.content?e.content.toJSON():void 0,headingId:this.getHeadingId(e)})},e.prototype.getHeadingId=function(e){if(!this.disableHeadingIDs&&e.content.size){var t=e.content.toJSON().reduce(function(e,t){return e.concat(Object(g.b)(t)||"")},"").replace(/ /g,"-");return this.getUniqueHeadingId(t)}},e.prototype.getUniqueHeadingId=function(e,t){if(void 0===t&&(t=0),0===t&&-1===this.headingIds.indexOf(e))return this.headingIds.push(e),e;if(0!==t){var n=e+"."+t;if(-1===this.headingIds.indexOf(n))return this.headingIds.push(n),n}return this.getUniqueHeadingId(e,++t)},e.prototype.getMarkProps=function(e){var t=e.attrs,n=t.key,r=o.__rest(t,["key"]);return o.__assign({eventHandlers:this.eventHandlers,markKey:n},r)},e.getChildNodes=function(e){var t=[];return e.forEach(function(e){t.push(e)}),t.reduce(function(e,t){return rt(t.type.name)?(e.length>0&&ot(e[e.length-1])?e[e.length-1].content.push(t):e.push({type:{name:"textWrapper"},content:[t]}),e):(e.push(t),e)},[])},e.getMarks=function(e){return e.marks&&0!==e.marks.length?Object(bt.a)(e.marks):[]},e.buildMarkStructure=function(e){var t=this;return function e(t){return t.reduce(function(t,n){var r=t.length&&t[t.length-1]||null;return n.type instanceof m.MarkType&&r&&r.type instanceof m.MarkType&&Array.isArray(r.content)&&Object(bt.d)(r,n)?r.content=e(r.content.concat(n.content)):t.push(n),t},[])}(e.map(function(e){var n=t.getMarks(e);return 0===n.length?e:n.reverse().reduce(function(e,t){var n=t.eq;return o.__assign({},t,{eq:n,content:[e]})},e)}))},e.fromSchema=function(t,n){return new e({providers:n.providers,eventHandlers:n.eventHandlers,extensionHandlers:n.extensionHandlers,appearance:n.appearance,disableHeadingIDs:n.disableHeadingIDs,allowDynamicTextSizing:n.allowDynamicTextSizing})},e}(),Ot=c.default.div(yt||(yt=o.__makeTemplateObject(["\n  position: relative;\n  overflow-y: hidden;\n  max-height: ","px;\n  &::after {\n    content: '';\n    position: absolute;\n    top: ","px;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    /* Using 'rgba(255, 255, 255, 0)' because 'transparent' breaks the gradient in Safari 11 */\n    background-image: ",";\n  }\n"],["\n  position: relative;\n  overflow-y: hidden;\n  max-height: ","px;\n  &::after {\n    content: '';\n    position: absolute;\n    top: ","px;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    /* Using 'rgba(255, 255, 255, 0)' because 'transparent' breaks the gradient in Safari 11 */\n    background-image: ",";\n  }\n"])),function(e){return e.height},function(e){return e.height-e.fadeHeight},function(e){return"linear-gradient(rgba(255, 255, 255, 0),  "+e.backgroundColor+")"}),Et=function(e){function t(t){return e.call(this,t)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.height,n=void 0===t?95:t,r=e.backgroundColor,o=void 0===r?"white":r,a=e.children;return i.createElement(Ot,{height:n,fadeHeight:24,backgroundColor:o},a)},t}(i.Component),xt=function(e){function t(t){var n=e.call(this,t)||this;return n.providerFactory=t.dataProviders||new s.a,n.updateSerializer(t),n}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){e.portal===this.props.portal&&e.appearance===this.props.appearance||this.updateSerializer(e)},t.prototype.updateSerializer=function(e){var t=e.eventHandlers,n=e.portal,r=e.rendererContext,i=e.document,a=e.extensionHandlers,s=e.schema,c=e.appearance,l=e.disableHeadingIDs,u=e.allowDynamicTextSizing;this.serializer=new wt({providers:this.providerFactory,eventHandlers:t,extensionHandlers:a,portal:n,objectContext:o.__assign({adDoc:i,schema:s},r),appearance:c,disableHeadingIDs:l,allowDynamicTextSizing:u})},t.prototype.render=function(){var e=this.props,t=e.document,n=e.onComplete,r=e.schema,o=e.appearance,s=e.adfStage,c=e.allowDynamicTextSizing,l=e.maxHeight,u=e.truncated;try{var d=Object(y.a)(t,this.serializer,r||a.a,s),f=d.result,h=d.stat;n&&n(h);var m=i.createElement(kt,{appearance:o,dynamicTextSizing:!!c},f);return u?i.createElement(Et,{height:l},m):m}catch(e){return i.createElement(kt,{appearance:o,dynamicTextSizing:!!c},i.createElement(p,null))}},t.prototype.componentWillUnmount=function(){this.props.dataProviders||this.providerFactory.destroy()},t}(i.PureComponent);t.a=xt;function kt(e){var t=e.appearance,n=e.children,r=e.dynamicTextSizing;return i.createElement(f.c,null,i.createElement(h.a,{dynamicTextSizing:r},i.createElement(te,{appearance:t},n)))}},xj9K:function(e,t,n){"use strict";var r=n("lwsE"),o=n.n(r),i=n("W8MJ"),a=n.n(i),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),u=n.n(l),d=n("7W2i"),p=n.n(d),f=n("PJYZ"),h=n.n(f),m=n("lSNA"),g=n.n(m),v=n("grSP"),b=n("q1tI"),y=n.n(b),w=n("JRPe"),O=n("+WM3"),E=n("MVZn"),x=n.n(E),k=n("i5k1"),C=n("B7v3"),S=k.a.JIRA_ISSUE_COLLECTORS,j=function(e){var t=document.querySelectorAll(e);t.length>0&&t.forEach(function(e,t){t>0&&e.remove()})},T=function(e,t){var n=S[e];if(n){var r=n.id,o=n.url;if(function(e){Array.from(document.querySelectorAll("script[data-issue-collector]")).filter(function(t){return t.attributes["data-issue-collector"].value!==e}).forEach(function(e){e.remove()})}(r),!document.querySelector('script[data-issue-collector="'.concat(r,'"]'))){window.__jira_issue_collector_trigger_fns__=window.__jira_issue_collector_trigger_fns__||{},window.ATL_JQ_PAGE_PROPS=window.ATL_JQ_PAGE_PROPS||{},window.ATL_JQ_PAGE_PROPS[r]=window.ATL_JQ_PAGE_PROPS[r]||{},window.ATL_JQ_PAGE_PROPS[r].triggerFunction=function(e){window.__jira_issue_collector_trigger_fns__[r]=e},t&&(window.ATL_JQ_PAGE_PROPS[r].fieldValues=function(){return x()({},window.ATL_JQ_PAGE_PROPS[r].fieldValues,t)});var i=document.createElement("script");i.setAttribute("nonce",C.a),i.defer=!0,i.setAttribute("data-issue-collector",r),i.src=o,document.head.appendChild(i)}setTimeout(function(){j("#atlwdg-blanket"),j("#atlwdg-container")},3e3)}},M=n("5k0t"),_=Object(w.e)({giveFeedback:{id:"frontbucket.components.feedbackButton.giveFeedback",defaultMessage:"Give feedback"}}),I=function(e){"complete"===document.readyState?setTimeout(e,0):window.onload=e},P=function(e){function t(){var e,n;o()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(h()(h()(n)),"state",{showCollectorDialog:void 0,isLoading:!1}),g()(h()(h()(n)),"onGiveFeedbackClicked",function(){n.setState({isLoading:!0}),T(n.props.feedbackKey),I(function(){Object(M.a)(function(){var e=window.__jira_issue_collector_trigger_fns__;if(S&&e){var t=S[n.props.feedbackKey];t?(n.setState({showCollectorDialog:e[t.id]}),n.state.showCollectorDialog&&n.state.showCollectorDialog(),n.setState({isLoading:!1})):n.setState({isLoading:!1})}else n.setState({isLoading:!1})},1500)})}),n}return p()(t,e),a()(t,[{key:"render",value:function(){var e=y.a.createElement(O.a,{size:"small",delay:0});return y.a.createElement(v.a,{onClick:this.onGiveFeedbackClicked,iconBefore:this.state.isLoading?e:""},y.a.createElement(w.a,_.giveFeedback))}}]),t}(b.PureComponent);t.a=P},"xn/V":function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"b",function(){return p});var r=n("mrSG"),o=n("5oxn"),i=n("82gI"),a=n("TKSH"),s=n("Kxkh"),c=n("SqtV"),l=n("L8cg"),u=function(e){return void 0===e&&(e={}),Object(l.a)({events:[{name:"atlaskit.fabric.editor.fixtable",product:"atlaskit",properties:e,serverTime:(new Date).getTime(),server:"local",user:"-"}]})},d=function(e){return e.doc.descendants(function(t,n){"table"===t.type.name&&(e=function(e,t,n){var o=!1;return n=h(n,e,t,function(e){var t=e.attrs,n=t.colwidth,i=t.colspan;return n&&n.length>i?(o=!0,e.type.createChecked(r.__assign({},e.attrs,{colwidth:n.slice(0,i)}),e.content,e.marks)):e}),o&&u({message:"removeExtraneousColumnWidths"}),n}(t,e.mapping.map(n),e))}),e},p=function(e,t,n,o,l){var u=e.state.tr,d=function(e,t,n,r){var o=r.querySelector("tr");if(!o)return[];for(var a=[],l=0;l<o.childElementCount;l++)for(var u=o.children[l],d=Number(u.getAttribute("colspan")||1),p=0;p<d;p++){var f=l+p,h=Object(s.c)(f,t,n,e),m=Object(s.b)(h,function(e,t){return Object(c.a)(t,r).width});a[f]=Math.max(m,i.d)}return a}(e.domAtPos.bind(e),t,o+1,n),p=d.reduce(function(e,t){return e+t},0),m=f(p),g=Object(a.d)(m,l.containerWidth,{dynamicTextSizing:l.dynamicTextSizing}),v=1;p!==g&&(v=g/p);var b=d.map(function(e){return Math.floor(e*v)});return(u=h(u,t,o,function(e,t,n){var o=b.slice(n,n+e.attrs.colspan);return e.type.createChecked(r.__assign({},e.attrs,{colwidth:o.length?o:null}),e.content,e.marks)})).setNodeMarkup(o,void 0,r.__assign({},t.attrs,{layout:m,__autoSize:!1})).setMeta("addToHistory",!1)},f=function(e){return e>o.C?"full-width":e>o.c&&e<o.C?"wide":"default"};var h=function(e,t,n,r){for(var o=[],i=0,a=0;a<t.childCount;a++){for(var s=t.child(a),c=[],l=0;l<s.childCount;l++){var u=s.child(l),d=r(u,a,l);!1===d.sameMarkup(u)&&i++,c.push(d)}c.length&&o.push(s.type.createChecked(s.attrs,c,s.marks))}if(o.length&&0!==i){var p=t.type.createChecked(t.attrs,o,t.marks);return e.replaceWith(n,n+t.nodeSize,p)}return e}},xnvq:function(e,t,n){"use strict";var r,o=n("mrSG"),i=n("vOnD"),a=n("gxo2"),s=3*Object(a.l)()/parseInt(Object(a.j)(),10),c=i.default.div(r||(r=Object(o.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: row;\n  height: ","em;\n  line-height: ","em;\n  padding: 0;\n  box-sizing: border-box;\n  max-width: 100%;\n"],["\n  display: flex;\n  flex-direction: row;\n  height: ","em;\n  line-height: ","em;\n  padding: 0;\n  box-sizing: border-box;\n  max-width: 100%;\n"])),s,s);c.displayName="BreadcrumbsItemElement",t.a=c},xy1K:function(e,t,n){"use strict";var r=n("mrSG"),o=n("grSP"),i=n("SEpd"),a=n.n(i),s=n("b0Qh"),c=n("L+yh"),l=n("TSYQ"),u=n.n(l),d=n("q1tI"),p=n("VekA"),f=n("Ntz7"),h=n("anbf"),m=n("VJZd"),g=n("WAI7"),v=function(e,t){if(!(t.target instanceof Element&&t.target.getAttribute("aria-label")===f.h)){var n=e.emoji,r=e.onSelected;t.preventDefault(),r&&Object(m.b)(t)&&r(Object(h.q)(n),n,t)}},b=function(e,t){var n=e.emoji,r=e.onMouseMove;r&&r(Object(h.q)(n),n,t)},y=function(e){var t,n,i,l,m=e.emoji,y=e.fitToHeight,w=e.selected,O=e.selectOnHover,E=e.className,x=e.showTooltip,k=e.showDelete,C=((t={})[g.k]=!0,t[g.p]=!0,t[g.G]=w,t[g.F]=O,t);E&&(C[E]=!0);var S,j=Object(p.d)(m,y)?m.altRepresentation:m.representation;Object(h.i)(j)?(l=j.imagePath,n=j.width,i=j.height):Object(h.l)(j)&&(l=j.mediaPath,n=j.width,i=j.height),k&&(S=d.createElement("span",{className:g.g},d.createElement(o.a,{iconBefore:d.createElement(a.a,{label:f.h,primaryColor:s.colors.N500,size:"small"}),onClick:function(t){return function(e,t){var n=e.emoji,r=e.onDelete;r&&r(Object(h.q)(n),n,t)}(e,t)},appearance:"subtle-link",spacing:"none"})));var T={};y&&n&&i&&(T={width:y/i*n,height:y});var M=d.createElement("img",Object(r.__assign)({src:l,key:l,alt:m.shortName,"data-emoji-short-name":m.shortName,"data-emoji-id":m.id,"data-emoji-text":m.fallback||m.shortName,className:"emoji",style:{visibility:"visible"},onError:function(t){!function(e,t){var n=e.emoji,r=e.onLoadError;t.target&&(t.target.style.visibility="hidden"),r&&r(Object(h.q)(n),n,t)}(e,t)}},T));return d.createElement("span",{className:u()(C),onMouseDown:function(t){v(e,t)},onMouseMove:function(t){b(e,t)},"aria-label":m.shortName},S,x?d.createElement(c.a,{tag:"span",content:m.shortName},M):M)};t.a=function(e){var t=e.emoji;return Object(h.o)(t.representation)?function(e){var t,n=e.emoji,o=e.fitToHeight,i=e.selected,a=e.selectOnHover,s=e.className,l=e.showTooltip,p=n.representation,f=p.sprite,h=((t={})[g.n]=!0,t[g.p]=!0,t[g.G]=i,t[g.F]=a,t);s&&(h[s]=!0);var m={};o&&(m={width:o+"px",height:o+"px"});var y=100/(f.column-1)*(p.xIndex-0),w=100/(f.row-1)*(p.yIndex-0),O=Object(r.__assign)({backgroundImage:"url("+f.url+")",backgroundPosition:y+"% "+w+"%",backgroundSize:100*f.column+"% "+100*f.row+"%"},m),E=d.createElement("span",{className:g.u,style:O},"");return d.createElement("span",{className:u()(h),onMouseDown:function(t){v(e,t)},onMouseMove:function(t){b(e,t)},"aria-label":n.shortName},l?d.createElement(c.a,{tag:"span",content:n.shortName},E):E)}(e):y(e)}},"y+en":function(e,t,n){"use strict";var r=n("ydJ5");n.d(t,"Expander",function(){return r.a});var o=n("MFod");n.d(t,"default",function(){return o.a});n("Eac2"),n("jzz1")},yHON:function(e,t,n){var r=n("yNUO");e.exports=function(e,t){var n=r(e).getTime(),o=r(t).getTime();return n>o?-1:n<o?1:0}},yPw8:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={listHeight:208,listWidth:n("Ntz7").j,searchHeight:52,categoryHeadingHeight:30,emojiRowHeight:40,addEmojiHeight:32,loadingRowHeight:150,uploadActionHeight:40,emojiPerRow:8}},yUoh:function(e,t,n){"use strict";var r=n("MVZn"),o=n.n(r),i=n("lwsE"),a=n.n(i),s=n("W8MJ"),c=n.n(s),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),p=n.n(d),f=n("7W2i"),h=n.n(f),m=n("q1tI"),g=n.n(m),v=n("JRPe"),b=n("grSP"),y=n("Ld6T"),w=n.n(y),O=n("+WM3"),E=n("DWq1"),x=n.n(E),k=n("b0Qh"),C=function(e){function t(){return a()(this,t),u()(this,p()(t).apply(this,arguments))}return h()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.approve,n=e.hasApproved,r=e.intl,i=e.isDisabled,a=e.isError,s=e.isLoading,c=e.unapprove,l=e.messages,u=e.tabIndex,d=n?c:t,p=n?r.formatMessage(l.unapproveLabel):r.formatMessage(l.approveLabel),f=n?o()({},l.unapproveAction):o()({},l.approveAction),h=g.a.createElement(w.a,{label:p});return a&&(h=g.a.createElement(x.a,{label:p,size:"medium",primaryColor:k.colors.Y300})),s&&(h=g.a.createElement(O.a,{size:"small",delay:0})),g.a.createElement(b.a,{appearance:"default",iconBefore:h,isDisabled:i,onClick:d,tabIndex:u},g.a.createElement(v.a,f))}}]),t}(m.PureComponent),S=Object(v.f)(C);n.d(t,"a",function(){return S})},yYvj:function(e,t,n){"use strict";var r=n("lwsE"),o=n.n(r),i=n("W8MJ"),a=n.n(i),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),u=n.n(l),d=n("7W2i"),p=n.n(d),f=n("PJYZ"),h=n.n(f),m=n("lSNA"),g=n.n(m),v=n("q1tI"),b=n.n(v),y=n("Lf/l"),w=n("VZTH"),O=n.n(w),E=n("ZuLr"),x=n("eq3s"),k=n("r/0h"),C=n("VAMm"),S=n("JRPe"),j=n("gxo2"),T=n("beM4"),M=Object(S.e)({sourceBranch:{id:"frontbucket.branches.mergeDialogSourceBranch",defaultMessage:"Source"},destinationBranch:{id:"frontbucket.branches.mergeDialogDestinationBranch",defaultMessage:"Destination"},closeButton:{id:"frontbucket.branches.closeDialogButton",defaultMessage:"Close"},commitMessageLabel:{id:"frontbucket.branches.commitMessageLabel",defaultMessage:"Commit message"}}),_=function(e){function t(){var e,n;o()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(h()(h()(n)),"state",{commitMessage:""}),g()(h()(h()(n)),"handleMessageChange",function(e){n.setState({commitMessage:e.target.value})}),g()(h()(h()(n)),"getActions",function(){return[{text:n.props.intl.formatMessage(n.props.actionName),onClick:function(){return n.props.onAction({commitMessage:n.state.commitMessage})},isDisabled:n.props.isLoading,isLoading:n.props.isLoading},{text:n.props.intl.formatMessage(M.closeButton),onClick:n.props.onClose,isDisabled:n.props.isLoading}]}),n}return p()(t,e),a()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.intl,r=e.title,o=e.isOpen,i=e.isLoading,a=e.sourceBranchName,s=e.destinationBranchName,c=e.sourceRepositoryFullName,l=e.destinationRepositoryFullName,u=e.isCommitMessageDisabled,d=e.onClose,p=e.height;if(!o)return null;var f=Object(T.a)(a,s,c,l);return b.a.createElement(C.a,{actions:this.getActions(),onClose:d,heading:n.formatMessage(r),shouldCloseOnEscapePress:!i,shouldCloseOnOverlayClick:!i,width:"small",height:p||50*Object(j.l)()},b.a.createElement("div",null,b.a.createElement(y.a,{label:n.formatMessage(M.sourceBranch)}),b.a.createElement(x.a,{content:f.sourceBranchName},b.a.createElement(E.a,{text:f.sourceBranchName,elemBefore:b.a.createElement(O.a,{size:"small",label:"branch"})}))),b.a.createElement("div",null,b.a.createElement(y.a,{label:n.formatMessage(M.destinationBranch)}),b.a.createElement(x.a,{content:f.destinationBranchName},b.a.createElement(E.a,{text:f.destinationBranchName,elemBefore:b.a.createElement(O.a,{size:"small",label:"branch"})}))),b.a.createElement("div",null,b.a.createElement(k.a,{label:n.formatMessage(M.commitMessageLabel),minimumRows:3,onChange:this.handleMessageChange,value:this.state.commitMessage,shouldFitContainer:!0,disabled:u})),t)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevPropsCommitMessage===e.commitMessage?null:{commitMessage:e.commitMessage,prevPropsCommitMessage:e.commitMessage}}}]),t}(b.a.Component);t.a=Object(S.f)(_)},ydJ5:function(e,t,n){"use strict";var r,o,i=n("lwsE"),a=n.n(i),s=n("W8MJ"),c=n.n(s),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),p=n.n(d),f=n("7W2i"),h=n.n(f),m=n("PJYZ"),g=n.n(m),v=n("lSNA"),b=n.n(v),y=n("1YpF"),w=n.n(y),O=n("thbo"),E=n.n(O),x=n("DWq1"),k=n.n(x),C=n("A/6z"),S=n("+WM3"),j=n("q1tI"),T=n.n(j),M=n("cuY2"),_=n.n(M),I=n("JRPe"),P=Object(I.e)({expandIconLabel:{id:"bitkit.expander.expandIconLabel",defaultMessage:"Expand"},collapseIconLabel:{id:"bitkit.expander.collapseIconLabel",defaultMessage:"Collapse"}}),A=n("wTIg"),N=n("b0Qh"),R=n("gxo2"),D=N.colors.N0,L=N.colors.B200,z=N.colors.N30,B=N.colors.Y300,F=Object(A.a)("section",{target:"e1m6l9kn0"})("background-color:",D,";border-radius:",Object(R.f)(),"px;text-align:left;margin:0 ",1.5*Object(R.l)(),"px;"),q=Object(A.a)("button",{target:"e1m6l9kn1"})("align-items:center;background-color:",D,";border:0 none transparent;border-bottom:1px solid ",z,";border-radius:",function(e){return e.isCollapsed?"".concat(Object(R.f)(),"px"):"".concat(Object(R.f)(),"px ").concat(Object(R.f)(),"px 0 0")},";box-sizing:border-box;cursor:",function(e){return e.isExpandable?"pointer":"inherit"},";display:flex;flex-wrap:wrap;min-height:",5*Object(R.l)(),"px;padding:",Object(R.l)(),"px;position:sticky;top:0;z-index:1;text-align:left;font-size:",Object(R.j)(),"px;width:100%;outline:none;line-height:inherit;&:hover{box-shadow:",function(e){var t=e.isCollapsed;return e.isExpandable&&t?"0 0 0 1px ".concat(L):"none"},";}&:focus,&:active{box-shadow:",function(e){return e.isExpandable?"0 0 0 1px ".concat(L):"none"},";}"),W=Object(A.a)("span",{target:"e1m6l9kn2"})({name:"1q27zj9",styles:"flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"}),U=Object(A.a)("div",{target:"e1m6l9kn3"})("border-radius:0 0 ",Object(R.f)(),"px ",Object(R.f)(),"px;flex-flow:column;overflow:hidden;padding:",Object(R.l)(),"px;"),H=Object(A.a)("span",{target:"e1m6l9kn4"})({name:"1b5prcp",styles:"display:flex;margin-right:4px;"}),V=Object(A.a)("div",{target:"e1m6l9kn5"})({name:"1gh0ykx",styles:"display:flex;> *{display:flex;}"}),G=Object(A.a)("span",{target:"e1m6l9kn6"})({name:"1y4kgfw",styles:"display:flex;margin-left:auto;"}),K=Object(A.a)("div",{target:"e1m6l9kn7"})({name:"1w5bj86",styles:"& > div{display:flex;}"}),$=Object(A.a)("span",{target:"e1m6l9kn8"})("color:",B,";display:flex;button{display:flex;}"),J=Object(I.f)((o=r=function(e){function t(e){var n;a()(this,t),n=u()(this,p()(t).call(this,e)),b()(g()(g()(n)),"isCollapsed",function(e){return!n.isExpandable(e)||n.state.isCollapsed}),b()(g()(g()(n)),"isExpandable",function(e){return T.a.Children.toArray(e.children).length>0&&!e.isLoading&&!n.props.hasError}),b()(g()(g()(n)),"toggleCollapse",function(){var e=n.state.isCollapsed;n.isExpandable(n.props)&&(n.props.onChange&&n.props.onChange({isCollapsed:!e}),n.setState(function(e){return{isCollapsed:!e.isCollapsed}}))});var r=n.props.initialIsCollapsed;return n.state={isCollapsed:!!r},n}return h()(t,e),c()(t,[{key:"renderHeading",value:function(){var e=this.props,t=e.children,n=e.hasError,r=e.icon,o=e.iconSecondary,i=e.intl,a=e.isLoading,s=e.label;if(a)return T.a.createElement(K,null,T.a.createElement(S.a,{size:"small"}));var c=i.formatMessage(P.collapseIconLabel),l=i.formatMessage(P.expandIconLabel),u=this.isCollapsed(this.props);return T.a.createElement(j.Fragment,null,r?T.a.createElement(H,null,r):null,n?T.a.createElement($,null,t?T.a.createElement(C.a,{placement:"bottom-start",type:"warning"},t):T.a.createElement(k.a,{label:""})):null,n?null:T.a.createElement(j.Fragment,null,T.a.createElement(W,null,s),u&&o?T.a.createElement(V,null,o):null),this.isExpandable(this.props)&&T.a.createElement(G,null,u?T.a.createElement(E.a,{label:l}):T.a.createElement(w.a,{label:c})))}},{key:"render",value:function(){var e=this.props.ariaLabel,t=this.isCollapsed(this.props);return T.a.createElement(F,{isCollapsed:t,"aria-label":e},T.a.createElement(q,{isCollapsed:t,isExpandable:this.isExpandable(this.props),onClick:this.toggleCollapse},this.renderHeading()),this.isExpandable(this.props)&&T.a.createElement(_.a,{duration:200,easing:"linear",height:t?0:"auto"},T.a.createElement(U,null,this.props.children)))}}]),t}(j.Component),b()(r,"defaultProps",{hasError:!1,initialIsCollapsed:!1,isLoading:!1}),o));n.d(t,"a",function(){return J})},ykiU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M6 5h12a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2zm0 12h12a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-8h12a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorMediaCenterIcon";var c=s;t.default=c},yxAO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.AllSubstringsIndexStrategy=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"expandToken",value:function(e){for(var t,n=[],r=0,o=e.length;r<o;++r){t="";for(var i=r;i<o;++i)t+=e.charAt(i),n.push(t)}return n}}]),e}()},yxov:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return c});var r=n("mrSG"),o=n("byeC"),i=n("s7yy"),a=function(e){var t=[];return e.content.firstChild.content.forEach(function(e){var n=e.attrs.colspan||1;Array.isArray(e.attrs.colwidth)?e.attrs.colwidth.slice(0,n).forEach(function(e){t.push(["col",{style:"width: "+e+"px;"}])}):t.push.apply(t,r.__spread(Array.from({length:n},function(e){return["col",{}]})))}),t},s=function(e,t){var n=e.querySelector("colgroup");return n&&e.removeChild(n),n=function(e){return o.DOMSerializer.renderSpec(document,["colgroup",{}].concat(a(e))).dom}(t),e.insertBefore(n,e.firstChild),n.children},c=function(e){return!!Object(i.b)(e.content.firstChild.content).find(function(e){return e.attrs.colwidth})}},zFPw:function(e,t,n){"use strict";var r=n("mrSG"),o=n("q1tI"),i=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={Card:t.Card,MediaCardErrorBoundary:t.MediaCardErrorBoundary},n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var e,o,i,a;return Object(r.__generator)(this,function(s){switch(s.label){case 0:if(this.state.Card)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Promise.all([Promise.all([n.e(4),n.e(18),n.e(249)]).then(n.bind(null,"sjvJ")),n.e(242).then(n.bind(null,"mHVl")),n.e(49).then(n.bind(null,"n9RE"))])];case 2:return e=r.__read.apply(void 0,[s.sent(),3]),o=e[0],i=e[1],a=e[2],t.Card=o.withMediaClient(i.Card),t.MediaCardErrorBoundary=a.default,this.setState({Card:t.Card,MediaCardErrorBoundary:t.MediaCardErrorBoundary}),[3,4];case 3:return s.sent(),[3,4];case 4:return[2]}})})},t.prototype.render=function(){var e=this.props.dimensions,t=this.state,n=t.Card,i=t.MediaCardErrorBoundary;return n&&i?o.createElement(i,null,o.createElement(n,Object(r.__assign)({},this.props))):o.createElement(a.a,{dimensions:e})},t.displayName="AsyncCard",t}(o.PureComponent),a=n("QkiX"),s=n("R8A1"),c=n("R8Ob"),l=n("Momi"),u=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(r.__extends)(t,e),t.prototype.render=function(){var e=Object(l.a)(this.props.dimensions);return o.createElement(c.a,{dimensions:e},this.icon)},Object.defineProperty(t.prototype,"icon",{get:function(){var e=this.props.size;return o.createElement(s.a,{size:e})},enumerable:!0,configurable:!0}),t.defaultProps={size:"medium"}}(o.Component),n("xTiA"));n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a.a}),n.d(t,"c",function(){return u.a})},zHNs:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){var n=e[t];if(n&&n.url)return n.url}},zOsC:function(e,t,n){"use strict";var r=n("mrSG"),o=n("q1tI"),i=n("i8i4"),a=n("GsWa"),s=n("5oxn"),c=n("rbIO"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={overflowScrollParent:!1,validPosition:!0},t.placement=["",""],t.handleRef=function(e){e&&t.initPopup(e)},t.scheduledUpdatePosition=Object(a.a)(function(e){return t.updatePosition(e)}),t.onResize=function(){return t.scheduledUpdatePosition()},t}return r.__extends(t,e),t.prototype.updatePosition=function(e,t){void 0===e&&(e=this.props),void 0===t&&(t=this.state);var n=e.target,r=e.fitHeight,o=e.fitWidth,i=e.boundariesElement,a=e.offset,s=e.onPositionCalculated,l=e.onPlacementChanged,u=e.alignX,d=e.alignY,p=e.stick,f=e.forcePlacement,h=t.popup;if(n&&h){var m=Object(c.a)(n,i||document.body,o,r,u,d,f);l&&this.placement.join("")!==m.join("")&&(l(m),this.placement=m);var g=Object(c.b)({placement:m,popup:h,target:n,stick:p,offset:a});g=s?s(g):g,this.setState({position:g,validPosition:Object(c.d)(n)})}},t.prototype.cannotSetPopup=function(e,t,n){return!t||document.body.contains(t)&&e.offsetParent&&!e.offsetParent.contains(t)||n&&!n.contains(e.offsetParent)},t.prototype.initPopup=function(e){var t=this.props.target,n=Object(c.c)(e);this.cannotSetPopup(e,t,n)||this.setState({popup:e,overflowScrollParent:n},this.scheduledUpdatePosition)},t.prototype.componentWillReceiveProps=function(e){this.scheduledUpdatePosition(e)},t.prototype.componentDidMount=function(){window.addEventListener("resize",this.onResize);var e=this.props.stick;this.scrollElement=e?Object(c.c)(this.props.target):this.props.scrollableElement,this.scrollElement&&this.scrollElement.addEventListener("scroll",this.onResize)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize),this.scrollElement&&this.scrollElement.removeEventListener("scroll",this.onResize),this.scheduledUpdatePosition.cancel()},t.prototype.renderPopup=function(){var e=this.state.position;return o.createElement("div",{ref:this.handleRef,style:r.__assign({position:"absolute",zIndex:this.props.zIndex||s.k},e),"aria-label":this.props.ariaLabel||"Popup","data-editor-popup":!0},this.props.children)},t.prototype.render=function(){var e=this.props,t=e.target,n=e.mountTo,r=this.state.validPosition;return t&&r?n?Object(i.createPortal)(this.renderPopup(),n):this.renderPopup():null},t.defaultProps={offset:[0,0]},t}(o.Component);t.a=l},zdCk:function(e,t){var n=function(){};n.prototype.append=function(e){return e.length?(e=n.from(e),!this.length&&e||e.length<200&&this.leafAppend(e)||this.length<200&&e.leafPrepend(this)||this.appendInner(e)):this},n.prototype.prepend=function(e){return e.length?n.from(e).append(this):this},n.prototype.appendInner=function(e){return new o(this,e)},n.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?n.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},n.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},n.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},n.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach(function(t,n){return r.push(e(t,n))},t,n),r},n.from=function(e){return e instanceof n?e:e&&e.length?new r(e):n.empty};var r=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{},depth:{}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],r+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=200)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=200)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(n);n.empty=new r([]);var o=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;return!(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(n);e.exports=n},zrrK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("q1tI")),o=i(n("8VOq"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M11.031 7A1.03 1.03 0 0 0 10 8.036a1.05 1.05 0 0 0 1.044 1.045l3.121.014.014 3.121a1.05 1.05 0 0 0 1.045 1.044 1.03 1.03 0 0 0 1.036-1.035l-.019-4.161a1.053 1.053 0 0 0-1.045-1.045L11.035 7h-.004z"/><path d="M13.364 8.292l-7.072 7.071a1.002 1.002 0 0 0 0 1.415c.39.39 1.024.39 1.415 0l7.071-7.071A1.002 1.002 0 0 0 14.071 8a1 1 0 0 0-.707.292z"/></g></svg>'},e))};s.displayName="OpenIcon";var c=s;t.default=c}}]);
//# sourceMappingURL=code-review-prefetch.e291926de127196fea0c.js.map