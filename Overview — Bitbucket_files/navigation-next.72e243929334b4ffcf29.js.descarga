(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{"Lj6+":function(e,t,n){"use strict";n.r(t);var r=n("MVZn"),a=n.n(r),o=n("pVnL"),i=n.n(o),l=n("lwsE"),s=n.n(l),c=n("W8MJ"),p=n.n(c),u=n("a1gu"),d=n.n(u),h=n("Nsbk"),g=n.n(h),b=n("7W2i"),m=n.n(b),f=n("PJYZ"),v=n.n(f),w=n("lSNA"),C=n.n(w),S=n("3zPy"),k=n.n(S),E=n("q1tI"),D=n.n(E),y=n("JRPe"),A=n("1FuN"),N=n("N9UR"),O=n("Va2R"),U=n("rX/W"),T=n("0kNd"),M=n("vzx6"),L=n("VsJI"),x=n("Vnj8"),B=n("Ur/z"),P=n("YoYm"),I=n("3U7G"),j=Object(y.e)({resizerButtonLabel:{id:"bitkit.navigation.resizerButton.label",defaultMessage:"Expand or collapse the navigation (left bracket)"},spotlightDoneLabel:{id:"bitkit.navigation.spotlight.done.label",defaultMessage:"Done"},spotlightHeadingLabel:{id:"bitkit.navigation.spotlight.heading.label",defaultMessage:"Access your menu faster"},spotlightTextLabel:{id:"bitkit.navigation.spotlight.text.label",defaultMessage:"Hover your mouse over the sidebar to show or hide the menu. Tap {shortcut} to keep it expanded."}}),R=n("A2Qb"),z=n("rL+6"),H=n("Rz6r"),W=Object(y.e)({homeButtonTooltip:{id:"bitkit.navigation.homeButtonTooltip",defaultMessage:"{Product_Name} home"},searchButtonTooltip:{id:"bitkit.navigation.searchButtonTooltip",defaultMessage:"Search"},createButtonTooltip:{id:"bitkit.navigation.createButtonTooltip",defaultMessage:"Create"},anonymousUserTooltip:{id:"bitkit.navigation.accountMenu.anonymousUserTooltip",defaultMessage:"Anonymous! Click to log in or sign up."},loggedInUserTooltip:{id:"bitkit.navigation.accountMenu.loggedInUserTooltip",defaultMessage:"Your profile and settings"},helpButtonTooltip:{id:"bitkit.navigation.helpMenuTooltip",defaultMessage:"Help"},appSwitcherTooltip:{id:"bitkit.navigation.appSwitcherTooltip",defaultMessage:"Switch to …"}}),G=n("pc73"),q=n("gzMw"),V=n("0wUx"),J=n("/mq7"),K=n("cq2k"),Q=n("STPn"),_=n("GlhM"),F=n("vUDj"),X=n("MjSJ"),Y=n("AAtZ"),Z=n.n(Y),$=n("2tiB"),ee=n("b8w6"),te=Object(y.e)({trigger:{id:"bitkit.navigation.atlassianSwitcher.trigger",defaultMessage:"Switch to"},tooltip:{id:"bitkit.navigation.atlassianSwitcher.tooltip",defaultMessage:"Switch to…"}}),ne=n("wTIg"),re=n("b0Qh"),ae=Object(ne.a)("div",{target:"e1fw77sy0"})("&&&{h1{",re.typography.h100(),";margin-top:0;}}"),oe=Object(_.a)($.a.api.internal.availableProducts()),ie=function(e){var t=ee.a[e];if(t){var n=window.open(t,"_blank");n&&n.focus()}},le=Object(y.f)(function(e){return e.isLoggedIn?D.a.createElement(D.a.Fragment,null,D.a.createElement(X.a,{icon:Z.a,onClick:function(){return e.onToggleAtlassianSwitcher(!0)},size:"small",label:e.intl.formatMessage(te.trigger),tooltip:e.intl.formatMessage(te.tooltip)}),D.a.createElement(F.a,{isOpen:e.isAtlassianSwitcherOpen,onClose:function(){return e.onToggleAtlassianSwitcher(!1)}},D.a.createElement(ae,null,D.a.createElement(Q.a,{appearance:"drawer",product:"bitbucket",availableProductsDataProvider:oe,disableCustomLinks:!0,disableRecentContainers:!0,triggerXFlow:ie,isDiscoverSectionEnabled:!0})))):null}),se=n("M7AS"),ce=Object(ne.a)("span",{target:"e1ke2l40"})("display:block;width:8px;height:8px;background-color:",re.colors.P100,";position:absolute;top:-0;left:-2px;border-radius:8px;border:3px solid ",function(e){return e.parentColor},";"),pe=function(e){function t(){var e,n;s()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=g()(t)).call.apply(e,[this].concat(a))),C()(v()(v()(n)),"renderCreateDrawerContents",function(){var e=v()(v()(n)).props;return D.a.createElement(q.a,{containerBitbucketActions:e.containerBitbucketActions,containerConnectActions:e.containerConnectActions,drawerHeader:e.drawerHeader,globalBitbucketActions:e.globalBitbucketActions,importBitbucketActions:e.importBitbucketActions,onCloneClick:e.onCloneClick,onCreateDrawerClose:e.onCreateDrawerClose,linkComponent:e.linkComponent})}),C()(v()(v()(n)),"renderSearchDrawerContents",function(){var e=v()(v()(n)).props;return D.a.createElement(G.a,{currentProject:e.currentProject,currentRepository:e.currentRepository,isLoading:e.isLoading,isLoggedIn:n.isLoggedIn(),linkComponent:e.linkComponent,onSearch:e.onSearch,onSearchDrawerInit:e.onSearchDrawerInit,onSearchSubmit:e.onSearchSubmit,recentlyViewed:e.recentlyViewed,searchQuery:e.searchQuery,searchResults:e.searchResults,targetUser:e.targetUser,repositoryLinkComponent:e.repositoryLinkComponent,pullRequestLinkComponent:e.pullRequestLinkComponent,isSearchDrawerOpen:e.isSearchDrawerOpen,onSearchDrawerClose:e.onSearchDrawerClose})}),C()(v()(v()(n)),"renderHelpMenu",function(e,t,r){var a=v()(v()(n)).props;return D.a.createElement(V.a,{onKeyboardShortcutsActivated:a.onKeyboardShortcutsActivated,isWhatsNewEnabled:a.isWhatsNewEnabled,parentColor:n.getParentColor(),key:"help-menu",isNavNextEnabled:a.isNavNextEnabled,blogs:e,newBlogCount:t,storeLastSeenBlog:r})}),C()(v()(v()(n)),"renderHelpBadge",function(e,t){return e&&t?D.a.createElement(ce,{parentColor:n.getParentColor()}):null}),C()(v()(v()(n)),"renderAccountMenu",function(){var e=v()(v()(n)).props;return D.a.createElement(J.b,{aaLogoutUrl:e.aaLogoutUrl,canonUrl:e.canonUrl,currentUser:e.currentUser,CustomTrigger:e.GlobalAccountMenuTrigger,teams:e.teams,hasWorkspaceUi:e.hasWorkspaceUi,isNavNextEnabled:e.isNavNextEnabled,key:"acct-menu"})}),C()(v()(v()(n)),"renderAppSwitcher",function(){var e=v()(v()(n)).props;return e.isAtlassianSwitcherEnabled?D.a.createElement(le,{isAtlassianSwitcherOpen:e.isAtlassianSwitcherOpen,isLoggedIn:n.isLoggedIn(),key:"atlassian-switcher",onToggleAtlassianSwitcher:e.onToggleAtlassianSwitcher}):D.a.createElement(K.a,{bbEnv:e.bbEnv,isLoggedIn:n.isLoggedIn(),isNavNextEnabled:e.isNavNextEnabled,key:"app-switcher",publishScreenEvent:e.publishScreenEvent,publishUiEvent:e.publishUiEvent})}),C()(v()(v()(n)),"getParentColor",function(){return n.props.themeMode.globalNav().backgroundColor}),C()(v()(v()(n)),"getProfileIconUrl",function(e){if(e)return e.links.avatar.href}),C()(v()(v()(n)),"isLoggedIn",function(){return Boolean(n.props.currentUser)}),C()(v()(v()(n)),"handleProductClick",function(e){var t=n.props.onProductClick;e.metaKey||e.ctrlKey||1!==e.button&&n.isLoggedIn()&&t&&(e.preventDefault(),t())}),C()(v()(v()(n)),"getBitbucketIcon",function(){return n.props.hasPride?D.a.createElement(H.a,{label:"Bitbucket",size:H.k.Large}):D.a.createElement(R.a,{label:"Bitbucket",size:H.k.Large})}),n}return m()(t,e),p()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.currentUser?t.currentUser.uuid:"anonymous",r=this.isLoggedIn()?{createDrawerWidth:"narrow",createDrawerContents:this.renderCreateDrawerContents,isCreateDrawerOpen:t.isCreateDrawerOpen,onCreateClick:t.onCreateDrawerOpen,onCreateDrawerClose:t.onCreateDrawerClose,createTooltip:t.intl.formatMessage(W.createButtonTooltip)}:{},a={isSearchDrawerOpen:t.isSearchDrawerOpen,onSearchClick:t.onSearchDrawerOpen,onSearchDrawerClose:t.onSearchDrawerClose,searchTooltip:t.intl.formatMessage(W.searchButtonTooltip),searchDrawerContents:this.renderSearchDrawerContents};return D.a.createElement(se.a,{url:t.isWhatsNewEnabled?t.whatsNewUrl:void 0,currentUserUuid:n},function(n){var o=n.blogs,l=n.newBlogCount,s=n.storeLastSeenBlog;return D.a.createElement(z.a,i()({appSwitcherComponent:e.renderAppSwitcher,productIcon:e.getBitbucketIcon,productHref:"/",productTooltip:t.intl.formatMessage(W.homeButtonTooltip,{Product_Name:"Bitbucket"}),onProductClick:e.handleProductClick},r,a,{helpItems:function(){return e.renderHelpMenu(o,l,s)},helpTooltip:t.intl.formatMessage(W.helpButtonTooltip),helpBadge:function(){return e.renderHelpBadge(t.isWhatsNewEnabled,l)},profileItems:e.renderAccountMenu,profileIconUrl:e.getProfileIconUrl(t.currentUser),profileTooltip:t.currentUser?t.intl.formatMessage(W.loggedInUserTooltip):t.intl.formatMessage(W.anonymousUserTooltip)}))})}}]),t}(E.PureComponent);C()(pe,"defaultProps",{hasWorkspaceUi:!1});var ue=pe,de=n("QETz"),he=n("PbrL"),ge=n("oNmO"),be=n("gxo2"),me=Object(ne.a)("div",{target:"e1pq0l0x0"})("margin-right:",Object(be.l)(),"px;margin-bottom:",Object(be.l)(),"px;"),fe=Object(ne.a)("div",{target:"e1pq0l0x1"})("padding-left:",Object(be.l)(),"px;padding-top:",Object(be.l)()/2,"px;"),ve=Object(ne.a)("div",{target:"e1pq0l0x2"})({name:"35ezg3",styles:"font-weight:600;"}),we=function(e){function t(){return s()(this,t),d()(this,g()(t).apply(this,arguments))}return m()(t,e),p()(t,[{key:"render",value:function(){var e=this.props,t=e.isGlobalContext,n=e.isPrivate,r=e.href,a=e.name,o=e.logo,i=e.linkComponent;if(t)return D.a.createElement(fe,null,D.a.createElement(he.a,null));var l=o?D.a.createElement(de.a,{size:"large",appearance:"square",src:o,enableTooltip:!1,name:a,status:n?"locked":void 0}):void 0;return D.a.createElement(me,null,D.a.createElement(ge.a,{href:r,linkComponent:i,elemBefore:l},D.a.createElement(ve,null,a)))}}]),t}(E.PureComponent),Ce=n("mm4S"),Se=Object(ne.a)("code",{target:"e7j4ue20"})("padding:",Object(be.l)()/4,"px ",.75*Object(be.l)(),"px;background:",re.colors.P200,";border-radius:",Object(be.l)()/4,"px;"),ke=Object(ne.a)("span",{target:"e7j4ue21"})("color:",re.colors.N0,";font-size:20px;font-style:inherit;line-height:",2*Object(be.l)()/Object(be.j)(),";font-weight:500;");n.d(t,"NavigationNext",function(){return De});var Ee={EXPANDED:"expanded",COLLAPSED:"collapsed"},De=function(e){function t(e){var n;return s()(this,t),n=d()(this,g()(t).call(this,e)),C()(v()(v()(n)),"renderGlobalNavigation",function(){var e=v()(v()(n)).props,t=D.a.createElement(we,{isGlobalContext:e.isGlobalContext,isPrivate:e.isPrivate,href:e.containerHref,name:e.containerName,logo:e.containerLogo,linkComponent:e.containerLinkComponent});return D.a.createElement(A.a,null,function(r){return D.a.createElement(ue,{aaLogoutUrl:e.aaLogoutUrl,bbEnv:e.bbEnv,canonUrl:e.canonUrl,containerBitbucketActions:e.containerBitbucketActions,containerConnectActions:e.containerConnectActions,currentUser:e.currentUser,currentProject:e.currentProject,currentRepository:e.currentRepository,drawerHeader:t,GlobalAccountMenuTrigger:e.GlobalAccountMenuTrigger,globalBitbucketActions:e.globalBitbucketActions,hasPride:e.hasPride,hasWorkspaceUi:e.hasWorkspaceUi,importBitbucketActions:e.importBitbucketActions,intl:e.intl,isAtlassianSwitcherEnabled:e.isAtlassianSwitcherEnabled,isAtlassianSwitcherOpen:e.isAtlassianSwitcherOpen,isCreateDrawerOpen:e.isCreateDrawerOpen,isLoading:e.isLoading,isNavigationOpen:!r.state.isCollapsed,isNavNextEnabled:e.isNavNextEnabled,isSearchDrawerOpen:e.isSearchDrawerOpen,isWhatsNewEnabled:e.isWhatsNewEnabled,linkComponent:e.linkComponent,onCloneClick:e.onCloneClick,onCreateDrawerClose:e.onCreateDrawerClose,onProductClick:e.onProductClick,onSearchDrawerInit:e.onSearchDrawerInit,onCreateDrawerOpen:e.onCreateDrawerOpen,onKeyboardShortcutsActivated:e.onKeyboardShortcutsActivated,onSearch:e.onSearch,onSearchDrawerClose:e.onSearchDrawerClose,onSearchDrawerOpen:e.onSearchDrawerOpen,onSearchSubmit:e.onSearchSubmit,onToggleAtlassianSwitcher:e.onToggleAtlassianSwitcher,publishScreenEvent:e.publishScreenEvent,publishUiEvent:e.publishUiEvent,pullRequestLinkComponent:e.pullRequestLinkComponent,recentlyViewed:e.recentlyViewed,repositoryLinkComponent:e.repositoryLinkComponent,searchQuery:e.searchQuery,searchResults:e.searchResults,targetUser:e.targetUser,teams:e.teams,themeMode:n.getThemeMode(),whatsNewUrl:e.whatsNewUrl})})}),C()(v()(v()(n)),"renderSpotlight",function(){return n.props.currentUser&&n.props.isNavNextNotifyChangeEnabled&&D.a.createElement(T.c,null,D.a.createElement(M.b,null,n.state.spotlightIsVisible?D.a.createElement(L.a,{actions:[{onClick:n.hideSpotlight,text:n.props.intl.formatMessage(j.spotlightDoneLabel)}],dialogPlacement:"right top",heading:D.a.createElement(ke,null,n.props.intl.formatMessage(j.spotlightHeadingLabel)),targetNode:n.getCollapseButtonRef(),targetRadius:50},D.a.createElement(y.a,i()({},j.spotlightTextLabel,{values:{shortcut:D.a.createElement(Se,null,"[")}}))):null))}),C()(v()(v()(n)),"handleGlobalKeyDown",function(e){var t=n.props,r=t.isAtlassianSwitcherOpen,a=t.isCreateDrawerOpen,o=t.isSearchDrawerOpen,i=t.onSearchDrawerClose,l=t.onCreateDrawerClose,s=t.onToggleAtlassianSwitcher;"esc"===k()(e)&&(a?l():o?i():r&&s(!1))}),C()(v()(v()(n)),"handleResize",function(e){n.props.onResize({isOpen:e})}),C()(v()(v()(n)),"getInitialIsCollapsedState",function(){return!n.props.isMobileHeaderActive&&!n.props.defaultNavigationOpen}),C()(v()(v()(n)),"getThemeMode",function(){var e=Ce.c;return n.props.hasSettingsNavTheme?e=Ce.d:n.props.hasSiteSettingsNavTheme?e=Ce.e:n.props.hasDarkNavTheme&&(e=Ce.a),e}),C()(v()(v()(n)),"handleRefs",function(e,t){var r=e.expandCollapseAffordance;if(r.current){var a=r.current;a.setAttribute("data-qa-id","expand-collapse-button"),a.setAttribute("data-qa-open-state",t?Ee.COLLAPSED:Ee.EXPANDED),n.setState({collapseButtonRef:a})}}),C()(v()(v()(n)),"hideSpotlight",function(){n.props.currentUser&&B.f(n.props.currentUser.uuid),n.setState({spotlightIsVisible:!1})}),C()(v()(v()(n)),"shouldDisplaySpotlight",function(e){var t=n.getCollapseButtonRef()&&n.props.currentUser&&!B.c(n.props.currentUser.uuid)&&e;t&&n.props.publishScreenEvent("navNextSpotlight"),n.setState({spotlightIsVisible:t})}),C()(v()(v()(n)),"setIsCollapsed",function(e){n.setState({isCollapsed:e})}),n.state={isCollapsed:!e.defaultNavigationOpen},n}return m()(t,e),p()(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("keydown",this.handleGlobalKeyDown),Object(I.a)(function(){var t=!!window.MSInputMethodContext&&!!document.documentMode;e.props.isGrowthJoinableSitesCalculationEnabled&&e.props.currentUser&&!e.props.isMobileHeaderActive&&!t&&Object(P.a)(e.props.bbEnv,[x.c.JiraSoftware],e.props.currentUser.uuid,e.props.publishOperationalEvent,e.props.captureException)})}},{key:"componentDidUpdate",value:function(){this.shouldDisplaySpotlight(this.state.isCollapsed)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleGlobalKeyDown)}},{key:"getCollapseButtonRef",value:function(){return this.state.collapseButtonRef}},{key:"render",value:function(){var e=this,t=this.props,n="product"===t.navigationType?t.renderNavigation:function(){return D.a.createElement("div",null)},r="container"===t.navigationType?t.renderNavigation:null;return D.a.createElement(N.a,{theme:function(t){return a()({},t,{mode:e.getThemeMode()})}},D.a.createElement(O.a,{initialUIController:{isCollapsed:this.getInitialIsCollapsedState(),isResizeDisabled:t.isMobileHeaderActive}},D.a.createElement(A.a,null,function(a){return D.a.createElement(U.a,{topOffset:t.topOffset,productNavigation:n,containerNavigation:r,collapseToggleTooltipContent:function(){return{text:t.intl.formatMessage(j.resizerButtonLabel),char:"["}},onExpandStart:function(){e.hideSpotlight(),e.setIsCollapsed(!1),e.handleResize(!0)},onCollapseStart:function(){e.handleResize(!1)},onCollapseEnd:function(){e.shouldDisplaySpotlight(!0),e.setIsCollapsed(!0)},experimental_flyoutOnHover:!0,experimental_alternateFlyoutBehaviour:!0,experimental_fullWidthFlyout:!0,globalNavigation:e.renderGlobalNavigation,getRefs:function(t){return e.handleRefs(t,a.state.isCollapsed)}},e.props.children,e.renderSpotlight())})))}}]),t}(E.PureComponent);C()(De,"defaultProps",{hasPride:!1,hasSettingsNavTheme:!1,hasSiteSettingsNavTheme:!1,renderNavigation:function(){return D.a.createElement("div",null)},teams:[]});t.default=Object(y.f)(De)}}]);
//# sourceMappingURL=navigation-next.72e243929334b4ffcf29.js.map